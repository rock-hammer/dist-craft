import{l as Uo,m as H,n as Ht,i as O,p as ze,q as zt,s as $t,e as Te,d as De,v as Ur,o as Ce,c as Re,x as it,y as Ct,z as vn,F as gt,A as rt,B as et,b as we,C as Be,D as Yi,E as ln,a as k,w as Ae,t as Nt,f as wo,G as ix,H as K8,I as _y,J as Bc,T as Rg,K as dC,L as Vd,M as Y8,N as qT,O as sn,P as Ic,Q as Bn,R as Z8,S as Wt,U as _a,V as Q8,W as Pc,X as WT,Y as yn,Z as so,_ as sm,j as Lf,$ as jT,a0 as Ot,a1 as za,a2 as lm,a3 as GT,a4 as J8,a5 as e6,a6 as t6,a7 as n6,a8 as r6,r as bu,a9 as i6,aa as Ts,ab as o6,ac as a6,ad as s6,ae as l6,af as u6,u as c6,ag as f6}from"./index-OWMVJs2S.js";import{i as d6,b as h6,a as p6,c as m6,s as XT,S as g6,d as v6,m as KT,e as Nn,f as y6,u as ad,g as Hf,h as La,j as b6,k as x6,o as Dh,l as ku,n as nr,p as Ke,q as ox,r as w6,t as ax,v as S6,w as Ta,_ as C6,x as A6,y as D6,z as E6,A as M6,B as N6,C as d0,D as ls,E as $6,F as O6}from"./CraftRender.vue_vue_type_script_setup_true_lang-SHysObrY.js";import{b as um,d as YT,e as ZT,f as T6,r as B6,h as I6,S as h0,j as sx,k as lx,v as QT,l as Vf,m as Jn,n as _l,o as JT,p as P6,q as k6,s as eB,g as Ud,c as zl,u as F6,C as R6,w as _6,x as tB,y as z6,z as L6,A as H6,B as V6,t as U6,D as q6}from"./file-57_SDOdD.js";import{_ as W6}from"./_plugin-vue_export-helper-x3n3nnut.js";var j6=/\s/;function G6(t){for(var e=t.length;e--&&j6.test(t.charAt(e)););return e}var X6=/^\s+/;function K6(t){return t&&t.slice(0,G6(t)+1).replace(X6,"")}var hC=NaN,Y6=/^[-+]0x[0-9a-f]+$/i,Z6=/^0b[01]+$/i,Q6=/^0o[0-7]+$/i,J6=parseInt;function pC(t){if(typeof t=="number")return t;if(d6(t))return hC;if(um(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=um(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=K6(t);var n=Z6.test(t);return n||Q6.test(t)?J6(t.slice(2),n?2:8):Y6.test(t)?hC:+t}function ez(){}function tz(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function nz(t){return t!==t}function rz(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function iz(t,e,n){return e===e?rz(t,e,n):tz(t,nz,n)}function oz(t,e){var n=t==null?0:t.length;return!!n&&iz(t,e,0)>-1}var az="[object Object]",sz=Function.prototype,lz=Object.prototype,nB=sz.toString,uz=lz.hasOwnProperty,cz=nB.call(Object);function rB(t){if(!YT(t)||ZT(t)!=az)return!1;var e=T6(t);if(e===null)return!0;var n=uz.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&nB.call(n)==cz}var fz=function(){return B6.Date.now()};const p0=fz;var dz="Expected a function",hz=Math.max,pz=Math.min;function mz(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(dz);e=pC(e)||0,um(n)&&(c=!!n.leading,f="maxWait"in n,o=f?hz(pC(n.maxWait)||0,e):o,d="trailing"in n?!!n.trailing:d);function h(b){var C=r,A=i;return r=i=void 0,u=b,a=t.apply(A,C),a}function p(b){return u=b,s=setTimeout(g,e),c?h(b):a}function m(b){var C=b-l,A=b-u,D=e-C;return f?pz(D,o-A):D}function v(b){var C=b-l,A=b-u;return l===void 0||C>=e||C<0||f&&A>=o}function g(){var b=p0();if(v(b))return w(b);s=setTimeout(g,m(b))}function w(b){return s=void 0,d&&r?h(b):(r=i=void 0,a)}function y(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function S(){return s===void 0?a:w(p0())}function x(){var b=p0(),C=v(b);if(r=arguments,i=this,l=b,C){if(s===void 0)return p(l);if(f)return clearTimeout(s),s=setTimeout(g,e),h(l)}return s===void 0&&(s=setTimeout(g,e)),a}return x.cancel=y,x.flush=S,x}function gz(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function vz(t,e){return h6(t,e)}var yz="[object Number]";function iB(t){return typeof t=="number"||YT(t)&&ZT(t)==yz}function bz(t){return iB(t)&&t!=+t}function xz(t,e){var n={};return e=p6(e),m6(t,function(r,i,o){I6(n,e(r,i,o),r)}),n}var wz="Expected a function";function Sz(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(wz);return um(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),mz(t,e,{leading:r,maxWait:e,trailing:i})}var Cz=1/0,Az=h0&&1/XT(new h0([,-0]))[1]==Cz?function(t){return new h0(t)}:ez;const Dz=Az;var Ez=200;function Mz(t,e,n){var r=-1,i=oz,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=gz;else if(o>=Ez){var u=e?null:Dz(t);if(u)return XT(u);a=!1,i=v6,l=new g6}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}function m0(t){return t&&t.length?Mz(t):[]}function oB({source:t,handler:e,defaultValue:n,childrenKey:r}){return sx(t).reduce((i,o)=>(i=e(i,o),lx(o[r])&&(i=oB({childrenKey:r,defaultValue:i,handler:e,source:o[r]})),i),n)}function aB({source:t,handler:e,childrenKey:n}){let r;return sx(t).find(i=>e(i)?(r=i,!0):lx(i[n])?(r=aB({childrenKey:n,handler:e,source:i[n]}),r):!1),r}function zy({source:t,handler:e}){return KT(t,(n,r)=>rB(n)?zy({handler:e,source:n}):lx(n)?n.map(i=>zy({handler:e,source:i})):e(n,r))}function Nz(t,e){return Math.round(t*10**e)/10**e}function Jo(t){return Nz(t,2)}function $z(t){return/[\+\-\*\/\(\)]/.test(t)}function mC(t,e=!1){const n=[];t&&n.push(t);const r=l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1)};return{callbacks:n,register:l=>(n.push(l),{unregister:()=>r(l)}),run:e?async l=>await n.reduce(async(u,c)=>await c(await u),l):l=>n.reduce((u,c)=>c(u),l),unregister:r}}function gC({scale:t,top:e,left:n}){const r=[];return Nn(t)||r.push(`scale(${t})`),Nn(e)||r.push(`translateY(${e}px)`),Nn(n)||r.push(`translateX(${n}px)`),r.join(" ")}function Oz(t){document.body.style.cursor=t}function Tz(){document.body.style.cursor=""}function vC(t){document.body.style.userSelect=t?"":"none"}const sB=["\\","/",":","*","?",'"',"<",">","|"];function Bz(t){const e=t.lastIndexOf("."),n=t.slice(e+1),r=t.slice(0,e);return{extension:n,name:r}}function Iz(t){return!sB.some(e=>t.includes(e))}function Pz(t){const e=t.match(/@(\d+)x\./);return e?Number(e[1]):1}function kz({text:t,filename:e}){const n=new Blob([t],{type:"text/plain"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,i.click(),URL.revokeObjectURL(r)}function Fz(t){return new Promise(e=>{const n=new FileReader;n.onload=function(){e(n.result)},n.readAsDataURL(t)})}function Rz(t){return new Promise(e=>{const n=new FileReader;n.onload=function(){const r=new Image;r.onload=function(){const{name:i,extension:o}=Bz(t.name);e({extension:o,file:t,height:r.height,nameWithExtension:t.name,nameWithOutExtension:i,width:r.width})},r.src=n.result},n.readAsDataURL(t)})}function _z(t){return Promise.all(Array.from(t).map(Rz))}function zz(t){return y6({source:t,targetVersion:QT})}function Jr({mode:t,scale:e=1,bindX:n,bindXType:r,bindY:i,bindYType:o,linkageX:a=!1,linkageY:s=!1,minX:l,minY:u,maxX:c,maxY:f,targetRef:d,dragReady:h,arrowKeyControl:p=!1,spaceKeyHoldRequired:m=!1,spaceKeyHolding:v=!1,disabled:g=!1,integer:w=!1,adsorb:y=!1,pointsX:S,pointsY:x,boxHeight:b=0,boxWidth:C=0,boxTop:A=0,boxLeft:D=0,adsorbDistance:E=4,adsorbDisabledOnHoldControl:M=!1,adsorbTypes:B=[],mouseWheelX:P,mouseWheelXStep:F=1,mouseWheelY:$,mouseWheelYStep:N=1}){if(!t)throw new Error("mode is required, eg: move | resize");const{isOutside:T}=ad(d),{space:z}=Hf({onEventFired:ce=>{ce.code==="Space"&&ce.preventDefault()},passive:!1,target:d});Uo(v)&&La(z,v);const{control:I}=Hf({onEventFired:ce=>{ce.code==="ControlLeft"&&ce.preventDefault()},passive:!1}),{meta:q}=Hf({onEventFired:ce=>{ce.code==="meta"&&ce.preventDefault()},passive:!1}),{pressed:X}=b6({target:d}),{x:V,y:L}=x6(),ne=H(()=>({x:V.value,y:L.value})),se=Ht({x:0,y:0});function Y(){se.x=V.value,se.y=L.value}const ee=Ht({boxHeight:0,boxLeft:0,boxTop:0,boxWidth:0,x:0,y:0});function ie(){ee.x=n?O(n):0,ee.y=i?O(i):0,ee.boxHeight=b?O(b):0,ee.boxWidth=C?O(C):0,ee.boxTop=A?O(A):0,ee.boxLeft=D?O(D):0}function j(ce,pe){let me=O(E);return O(e)<1&&(me=me/O(e)),ce.find(Ne=>Math.abs(Ne-pe)<=me)}const W={bottom:ce=>{if(!x)return 0;const pe=ce+O(b),me=j(O(x),pe);return Nn(me)?0:me-pe},"center-x":ce=>{if(!S)return 0;const pe=ce+O(C)/2,me=j(O(S),pe);return Nn(me)?0:me-pe},"center-y":ce=>{if(!x)return 0;const pe=ce+O(b)/2,me=j(O(x),pe);return Nn(me)?0:me-pe},left:ce=>{if(!S)return 0;const pe=ce,me=j(O(S),pe);return Nn(me)?0:me-pe},right:ce=>{if(!S)return 0;const pe=ce+O(C),me=j(O(S),pe);return Nn(me)?0:me-pe},top:ce=>{if(!x)return 0;const pe=ce,me=j(O(x),pe);return Nn(me)?0:me-pe}},J={bottom:ce=>{if(!x)return 0;const pe=ce+O(A),me=j(O(x),pe);return Nn(me)?0:me-pe},"center-x":ce=>{if(!S)return 0;let pe;if(r==="position"){const $e=ee.boxWidth+ee.x-ce;pe=ce+$e/2}else if(r==="size")pe=ce/2+O(D);else return 0;const me=j(O(S),pe);return Nn(me)?0:(me-pe)*2},"center-y":ce=>{if(!x)return 0;let pe;if(o==="position"){const $e=ee.boxHeight+ee.y-ce;pe=ce+$e/2}else if(o==="size")pe=ce/2+O(A);else return 0;const me=j(O(x),pe);return Nn(me)?0:(me-pe)*2},left:ce=>{if(!S)return 0;const pe=ce,me=j(O(S),pe);return Nn(me)?0:me-pe},right:ce=>{if(!S)return 0;const pe=ce+O(D),me=j(O(S),pe);return Nn(me)?0:me-pe},top:ce=>{if(!x)return 0;const pe=ce,me=j(O(x),pe);return Nn(me)?0:me-pe}};function oe({type:ce,current:pe}){let me=[];if(ce==="X"&&(me=["left","right","center-x"]),ce==="Y"&&(me=["top","bottom","center-y"]),!O(y))return 0;for(const $e of O(B))if(me.includes($e)){if(t==="move"){const Ne=W[$e];if(Ne){const Me=Ne(pe);if(Me)return Me}}if(t==="resize"){const Ne=J[$e];if(Ne){const Me=Ne(pe);if(Me)return Me}}}return 0}const de=({ignoreScaleX:ce=!1,ignoreScaleY:pe=!1,ignoreAbsorb:me=!1,delta:$e={x:0,y:0}})=>{if(i){let Ne=0,Me=pe?ee.y+$e.y:Jo((ee.y*O(e)+$e.y)/O(e));O(w)&&(Me=Math.round(Me)),me||(O(M)&&I.value?Ne=0:Ne=oe({current:Me,type:"Y"})),Me=Me+Ne,!Nn(u)&&Me<=O(u)?Me=O(u):!Nn(f)&&Me>=O(f)&&(Me=O(f)),O(s)&&(Uo(A)?A.value=ee.boxTop+(Me-ee.y):Uo(b)&&(b.value=ee.boxHeight-(Me-ee.y))),i.value=Me}if(n){let Ne=0,Me=ce?ee.x+$e.x:Jo((ee.x*O(e)+$e.x)/O(e));O(w)&&(Me=Math.round(Me)),me||(O(M)&&I.value?Ne=0:Ne=oe({current:Me,type:"X"})),Me=Me+Ne,!Nn(l)&&Me<=O(l)?Me=O(l):!Nn(c)&&Me>=O(c)&&(Me=O(c)),O(a)&&(Uo(D)?D.value=ee.boxLeft+(Me-ee.x):Uo(C)&&(C.value=ee.boxWidth-(Me-ee.x))),n.value=Me}},ge=H(()=>O(m)&&!z.value?!1:X.value);Uo(h)&&La(ge,h);let U=null,Z=null,fe=null,Q=null;function re(ce){return pe=>{pe.preventDefault(),ie(),de(ce)}}ze(()=>O(p)&&!O(g),ce=>{ce?(U=Dh("ArrowDown",re({delta:{x:0,y:1},ignoreAbsorb:!0,ignoreScaleY:!0}),{target:d}),Z=Dh("ArrowUp",re({delta:{x:0,y:-1},ignoreAbsorb:!0,ignoreScaleY:!0}),{target:d}),fe=Dh("ArrowLeft",re({delta:{x:-1,y:0},ignoreAbsorb:!0,ignoreScaleX:!0}),{target:d}),Q=Dh("ArrowRight",re({delta:{x:1,y:0},ignoreAbsorb:!0,ignoreScaleX:!0}),{target:d})):(U&&U(),Z&&Z(),fe&&fe(),Q&&Q())},{immediate:!0});let ue,ye;const{register:xe,run:G}=mC(),{register:te,run:he}=mC();return ze(()=>O(g),ce=>{ce?(ue&&ue(),ye&&ye()):ue=ze(ge,()=>{ge.value?(vC(!1),G(),Y(),ie(),ye=ze(ne,pe=>{if(ge.value){const me={x:pe.x-se.x,y:pe.y-se.y};de({delta:me})}})):(vC(!0),he(),ye&&ye())})},{immediate:!0}),O(P)&&ku(d,"wheel",ce=>{if(!T.value&&!(q.value||I.value)&&ce.deltaX!==0){const pe=-(ce.deltaX*O(F));ie(),de({delta:{x:pe,y:0}}),ce.preventDefault()}},{passive:!1}),O($)&&ku(d,"wheel",ce=>{if(!T.value&&!(q.value||I.value)&&ce.deltaY!==0){const pe=-(ce.deltaY*O(N));ie(),de({delta:{x:0,y:pe}}),ce.preventDefault()}},{passive:!1}),{dragReady:ge,dragSpaceKeyHolding:z,registerCallbackOnDragEnd:te,registerCallbackOnDragStart:xe}}var Ha=(t=>(t.RegisterInstanceBoard="registerInstanceBoard",t.RegisterInstanceRuler="registerInstanceRuler",t.RegisterInstanceBox="registerInstanceBox",t.UnRegisterInstanceBox="unRegisterInstanceBox",t.SceneState="sceneState",t))(Ha||{});function Lz(t){zt("sceneState",t)}function rr(){const t=$t("sceneState");if(!t)throw new Error("useSceneState must be used after useSceneStateProvide");return{sceneState:t}}function Hz(t){const{sceneState:e}=rr();let n=null;const r={adsorb:!0,adsorbDisabledOnHoldControl:!0,dragReady:t.dragReady,integer:!0,mode:"resize",pointsX:t.pointsX,pointsY:t.pointsY,scale:e.sceneScale,targetRef:t.targetRef};t.placement.value==="top-right"&&(n=Jr({...r,adsorbTypes:["top","center-y","center-x","right"],bindX:t.boxWidth,bindXType:"size",bindY:t.boxTop,bindYType:"position",boxHeight:t.boxHeight,boxLeft:t.boxLeft,linkageY:!0,maxY:H(()=>t.boxTop.value+t.boxHeight.value),minX:0})),t.placement.value==="top-left"&&(n=Jr({...r,adsorbTypes:["top","center-y","left","center-x"],bindX:t.boxLeft,bindXType:"position",bindY:t.boxTop,bindYType:"position",boxHeight:t.boxHeight,boxWidth:t.boxWidth,linkageX:!0,linkageY:!0,maxX:H(()=>t.boxLeft.value+t.boxWidth.value),maxY:H(()=>t.boxTop.value+t.boxHeight.value)})),t.placement.value==="bottom-left"&&(n=Jr({...r,adsorbTypes:["center-y","bottom","left","center-x"],bindX:t.boxLeft,bindXType:"position",bindY:t.boxHeight,bindYType:"size",boxTop:t.boxTop,boxWidth:t.boxWidth,linkageX:!0,maxX:H(()=>t.boxLeft.value+t.boxWidth.value),minY:0})),t.placement.value==="bottom-right"&&(n=Jr({...r,adsorbTypes:["center-y","bottom","center-x","right"],bindX:t.boxWidth,bindXType:"size",bindY:t.boxHeight,bindYType:"size",boxLeft:t.boxLeft,boxTop:t.boxTop,minX:0,minY:0})),n&&(n.registerCallbackOnDragStart(()=>{e.BodyCursorSet(t.cursor.value),e.SceneWorkingTypeSet("resizing"),e.SceneWorkingTargetTypeSet(t.type.value),e.SceneWorkingTargetIdSet(t.id.value)}),n.registerCallbackOnDragEnd(()=>{e.BodyCursorReset(),e.sceneDoingReset()}))}function Vz(t,e,{hovered:n,targetRef:r}){const{boxHeight:i,boxLeft:o,boxTop:a,boxWidth:s,hovered:l,ready:u}=nr(t,e),c=Te(!1);La(n,l),La(c,u);const f=H(()=>{switch(t.placement){case"top-left":return"nwse-resize";case"top-right":return"nesw-resize";case"bottom-left":return"nesw-resize";case"bottom-right":return"nwse-resize";default:return"default"}});return{boxHeight:i,boxLeft:o,boxTop:a,boxWidth:s,cursor:f,dragReady:c,hovered:n,id:H(()=>t.id),placement:H(()=>t.placement),pointsX:H(()=>t.pointsX),pointsY:H(()=>t.pointsY),targetRef:r,type:H(()=>t.type)}}const tt={regional:{size:10},trigger:{color:{hover:Vf(Jn.indigo[600],1),normal:Vf(Jn.indigo[600],.6),ready:Vf(Jn.indigo[600],1)},distance:10,length:40,size:{dot:6,line:4}}},ux=Ke({":before":{content:'""',position:"absolute",transition:"all 0.2s ease-in-out"},position:"absolute",zIndex:1}),cx=Ke({backgroundColor:tt.trigger.color.ready}),fx=Ke({":hover":{backgroundColor:tt.trigger.color.hover},backgroundColor:tt.trigger.color.normal});function Uz(t){const e=Ke({":before":{borderRadius:"50%",bottom:`-${tt.regional.size}px`,left:`-${tt.regional.size}px`,right:`-${tt.regional.size}px`,top:`-${tt.regional.size}px`},borderRadius:"50%",height:`${tt.trigger.size.dot}px`,transform:"scale(1.2)",width:`${tt.trigger.size.dot}px`}),n=H(()=>({cursor:t.cursor.value})),r=Ke({left:`-${tt.trigger.size.dot/2+tt.trigger.distance}px`,top:`-${tt.trigger.size.dot/2+tt.trigger.distance}px`}),i=Ke({right:`-${tt.trigger.size.dot/2+tt.trigger.distance}px`,top:`-${tt.trigger.size.dot/2+tt.trigger.distance}px`}),o=Ke({bottom:`-${tt.trigger.size.dot/2+tt.trigger.distance}px`,left:`-${tt.trigger.size.dot/2+tt.trigger.distance}px`}),a=Ke({bottom:`-${tt.trigger.size.dot/2+tt.trigger.distance}px`,right:`-${tt.trigger.size.dot/2+tt.trigger.distance}px`});return Ht({triggerClass:H(()=>[ux,e,...t.placement.value==="top-left"?[r]:[],...t.placement.value==="top-right"?[i]:[],...t.placement.value==="bottom-left"?[o]:[],...t.placement.value==="bottom-right"?[a]:[],t.dragReady.value?cx:fx]),triggerStyle:n})}const qz={placement:"bottom-right",pointsX:()=>[],pointsY:()=>[]};function Wz(t,e){const n=Te(),r=ox(n),i=Vz(t,e,{hovered:r,targetRef:n});return Hz(i),{style:Uz(i),targetRef:n}}const Eh=De({name:"DraggableResizableTriggerDot",__name:"ResizableTriggerDot",props:Ur({id:{},hovered:{type:Boolean},ready:{type:Boolean},boxHeight:{},boxWidth:{},boxTop:{},boxLeft:{},placement:{},pointsX:{},pointsY:{},type:{}},qz),emits:["update:boxHeight","update:boxWidth","update:boxTop","update:boxLeft","update:hovered","update:ready"],setup(t,{emit:e}){const n=t,r=e,{style:i,targetRef:o}=Wz(n,r);return(a,s)=>(Ce(),Re("div",{ref_key:"targetRef",ref:o,"data-draggable-element":"ResizableTriggerDot:trigger",class:it(O(i).triggerClass),style:Ct(O(i).triggerStyle)},null,6))}});function jz(t){const{sceneState:e}=rr();let n=null;const r={adsorb:!0,adsorbDisabledOnHoldControl:!0,dragReady:t.dragReady,integer:!0,mode:"resize",pointsX:t.pointsX,pointsY:t.pointsY,scale:e.sceneScale,targetRef:t.targetRef};t.placement.value==="top"&&(n=Jr({...r,adsorbTypes:["top","center-y"],bindY:t.boxTop,bindYType:"position",boxHeight:t.boxHeight,linkageY:!0,maxY:H(()=>t.boxTop.value+t.boxHeight.value)})),t.placement.value==="bottom"&&(n=Jr({...r,adsorbTypes:["center-y","bottom"],bindY:t.boxHeight,bindYType:"size",boxTop:t.boxTop})),n&&(n.registerCallbackOnDragStart(()=>{e.BodyCursorSet("ns-resize"),e.SceneWorkingTypeSet("resizing"),e.SceneWorkingTargetTypeSet(t.type.value),e.SceneWorkingTargetIdSet(t.id.value)}),n.registerCallbackOnDragEnd(()=>{e.BodyCursorReset(),e.sceneDoingReset()}))}function Gz(t,e,{hovered:n,targetRef:r}){const{boxHeight:i,boxTop:o,hovered:a,ready:s}=nr(t,e),l=Te(!1);return La(n,a),La(l,s),{boxHeight:i,boxTop:o,dragReady:l,hovered:n,id:H(()=>t.id),placement:H(()=>t.placement),pointsX:H(()=>t.pointsX),pointsY:H(()=>t.pointsY),targetRef:r,type:H(()=>t.type)}}function Xz(t){const e=Ke({":before":{bottom:`-${tt.regional.size}px`,left:`-${tt.regional.size}px`,right:`-${tt.regional.size}px`,top:`-${tt.regional.size}px`},borderRadius:`${tt.trigger.size.line/2}px`,cursor:"ns-resize",height:`${tt.trigger.size.line}px`,left:"50%",marginLeft:`-${tt.trigger.length/2}px`,width:`${tt.trigger.length}px`}),n=Ke({top:`-${tt.trigger.size.line+tt.trigger.distance}px`}),r=Ke({bottom:`-${tt.trigger.size.line+tt.trigger.distance}px`});return Ht({triggerClass:H(()=>[ux,e,...t.placement.value==="top"?[n]:[],...t.placement.value==="bottom"?[r]:[],t.dragReady.value?cx:fx])})}const Kz={placement:"bottom",pointsX:()=>[],pointsY:()=>[]};function Yz(t,e){const n=Te(),r=ox(n),i=Gz(t,e,{hovered:r,targetRef:n});return jz(i),{style:Xz(i),targetRef:n}}const yC=De({name:"DraggableResizableTriggerHorizontal",__name:"ResizableTriggerHorizontal",props:Ur({id:{},hovered:{type:Boolean},ready:{type:Boolean},boxHeight:{},boxTop:{},placement:{},pointsX:{},pointsY:{},type:{}},Kz),emits:["update:boxHeight","update:boxTop","update:hovered","update:ready"],setup(t,{emit:e}){const n=t,r=e,{style:i,targetRef:o}=Yz(n,r);return(a,s)=>(Ce(),Re("div",{ref_key:"targetRef",ref:o,"data-draggable-element":"ResizableTriggerHorizontal:trigger",class:it(O(i).triggerClass)},null,2))}});function Zz(t){const{sceneState:e}=rr();let n=null;const r={adsorb:!0,adsorbDisabledOnHoldControl:!0,dragReady:t.dragReady,integer:!0,mode:"resize",pointsX:t.pointsX,pointsY:t.pointsY,scale:e.sceneScale,targetRef:t.targetRef};t.placement.value==="left"&&(n=Jr({...r,adsorbTypes:["left","center-x"],bindX:t.boxLeft,bindXType:"position",boxWidth:t.boxWidth,linkageX:!0,maxX:H(()=>t.boxLeft.value+t.boxWidth.value)})),t.placement.value==="right"&&(n=Jr({...r,adsorbTypes:["center-x","right"],bindX:t.boxWidth,bindXType:"size",boxLeft:t.boxLeft})),n&&(n.registerCallbackOnDragStart(()=>{e.BodyCursorSet("ew-resize"),e.SceneWorkingTypeSet("resizing"),e.SceneWorkingTargetTypeSet(t.type.value),e.SceneWorkingTargetIdSet(t.id.value)}),n.registerCallbackOnDragEnd(()=>{e.BodyCursorReset(),e.sceneDoingReset()}))}function Qz(t,e,{hovered:n,targetRef:r}){const{boxWidth:i,boxLeft:o,hovered:a,ready:s}=nr(t,e),l=Te(!1);return La(n,a),La(l,s),{boxLeft:o,boxWidth:i,dragReady:l,hovered:n,id:H(()=>t.id),placement:H(()=>t.placement),pointsX:H(()=>t.pointsX),pointsY:H(()=>t.pointsY),targetRef:r,type:H(()=>t.type)}}function Jz(t){const e=Ke({":before":{bottom:`-${tt.regional.size}px`,left:`-${tt.regional.size}px`,right:`-${tt.regional.size}px`,top:`-${tt.regional.size}px`},borderRadius:`${tt.trigger.size.line/2}px`,cursor:"ew-resize",height:`${tt.trigger.length}px`,marginTop:`-${tt.trigger.length/2}px`,top:"50%",width:`${tt.trigger.size.line}px`}),n=Ke({right:`-${tt.trigger.size.line+tt.trigger.distance}px`}),r=Ke({left:`-${tt.trigger.size.line+tt.trigger.distance}px`});return Ht({triggerClass:H(()=>[ux,e,...t.placement.value==="right"?[n]:[],...t.placement.value==="left"?[r]:[],t.dragReady.value?cx:fx])})}const eL={placement:"right",pointsX:()=>[],pointsY:()=>[]};function tL(t,e){const n=Te(),r=ox(n),i=Qz(t,e,{hovered:r,targetRef:n});return Zz(i),{style:Jz(i),targetRef:n}}const bC=De({name:"DraggableResizableTriggerVertical",__name:"ResizableTriggerVertical",props:Ur({id:{},hovered:{type:Boolean},ready:{type:Boolean},boxWidth:{},boxLeft:{},placement:{},pointsX:{},pointsY:{},type:{}},eL),emits:["update:boxWidth","update:boxLeft","update:hovered","update:ready"],setup(t,{emit:e}){const n=t,r=e,{style:i,targetRef:o}=tL(n,r);return(a,s)=>(Ce(),Re("div",{ref_key:"targetRef",ref:o,"data-draggable-element":"ResizableTriggerVertical:trigger",class:it(O(i).triggerClass)},null,2))}});function nL(t,e){const{boxHeight:n,boxWidth:r,boxTop:i,boxLeft:o}=nr(t,e),a=Te(!1),s=Te(!1),l=Te(!1),u=H(()=>a.value||s.value||l.value),c=Te(!1),f=Te(!1),d=Te(!1),h=H(()=>c.value||f.value||d.value),p=H(()=>n.value<tt.trigger.length),m=H(()=>r.value<tt.trigger.length);return{active:H(()=>t.active),boxHeight:n,boxLeft:o,boxTop:i,boxWidth:r,hovered:u,hoveredDot:a,hoveredHorizontal:l,hoveredVertical:s,id:H(()=>t.id),noSpaceX:m,noSpaceY:p,pointsX:H(()=>t.pointsX),pointsY:H(()=>t.pointsY),ready:h,readyDot:c,readyHorizontal:d,readyVertical:f,triggerPlacements:H(()=>t.triggerPlacements),type:H(()=>t.type)}}const rL={boxLeft:0,boxTop:0,pointsX:()=>[],pointsY:()=>[],triggerPlacements:()=>[]};function iL(t,e){return{state:nL(t,e)}}const lB=De({name:"DraggableResizable",__name:"Resizable",props:Ur({id:{},boxHeight:{},boxWidth:{},boxTop:{},boxLeft:{},active:{type:Boolean},pointsX:{},pointsY:{},triggerPlacements:{},type:{}},rL),emits:["update:boxTop","update:boxLeft","update:boxHeight","update:boxWidth"],setup(t,{emit:e}){const n=t,r=e,{state:i}=iL(n,r);return(o,a)=>(Ce(),Re(gt,null,[vn(o.$slots,"default"),O(i).active.value?(Ce(),Re(gt,{key:0},[O(i).triggerPlacements.value.includes("left")&&!O(i).noSpaceY.value?(Ce(),rt(O(bC),{key:0,id:O(i).id.value,"box-width":O(i).boxWidth.value,"onUpdate:boxWidth":a[0]||(a[0]=s=>O(i).boxWidth.value=s),"box-left":O(i).boxLeft.value,"onUpdate:boxLeft":a[1]||(a[1]=s=>O(i).boxLeft.value=s),hovered:O(i).hoveredVertical.value,"onUpdate:hovered":a[2]||(a[2]=s=>O(i).hoveredVertical.value=s),ready:O(i).readyVertical.value,"onUpdate:ready":a[3]||(a[3]=s=>O(i).readyVertical.value=s),type:O(i).type.value,"points-x":O(i).pointsX.value,"points-y":O(i).pointsY.value,placement:"left"},null,8,["id","box-width","box-left","hovered","ready","type","points-x","points-y"])):et("",!0),O(i).triggerPlacements.value.includes("right")&&!O(i).noSpaceY.value?(Ce(),rt(O(bC),{key:1,id:O(i).id.value,"box-width":O(i).boxWidth.value,"onUpdate:boxWidth":a[4]||(a[4]=s=>O(i).boxWidth.value=s),"box-left":O(i).boxLeft.value,"onUpdate:boxLeft":a[5]||(a[5]=s=>O(i).boxLeft.value=s),hovered:O(i).hoveredVertical.value,"onUpdate:hovered":a[6]||(a[6]=s=>O(i).hoveredVertical.value=s),ready:O(i).readyVertical.value,"onUpdate:ready":a[7]||(a[7]=s=>O(i).readyVertical.value=s),type:O(i).type.value,"points-x":O(i).pointsX.value,"points-y":O(i).pointsY.value,placement:"right"},null,8,["id","box-width","box-left","hovered","ready","type","points-x","points-y"])):et("",!0),O(i).triggerPlacements.value.includes("top")&&!O(i).noSpaceX.value?(Ce(),rt(O(yC),{key:2,id:O(i).id.value,"box-height":O(i).boxHeight.value,"onUpdate:boxHeight":a[8]||(a[8]=s=>O(i).boxHeight.value=s),"box-top":O(i).boxTop.value,"onUpdate:boxTop":a[9]||(a[9]=s=>O(i).boxTop.value=s),hovered:O(i).hoveredHorizontal.value,"onUpdate:hovered":a[10]||(a[10]=s=>O(i).hoveredHorizontal.value=s),ready:O(i).readyHorizontal.value,"onUpdate:ready":a[11]||(a[11]=s=>O(i).readyHorizontal.value=s),type:O(i).type.value,"points-x":O(i).pointsX.value,"points-y":O(i).pointsY.value,placement:"top"},null,8,["id","box-height","box-top","hovered","ready","type","points-x","points-y"])):et("",!0),O(i).triggerPlacements.value.includes("bottom")&&!O(i).noSpaceX.value?(Ce(),rt(O(yC),{key:3,id:O(i).id.value,"box-height":O(i).boxHeight.value,"onUpdate:boxHeight":a[12]||(a[12]=s=>O(i).boxHeight.value=s),"box-top":O(i).boxTop.value,"onUpdate:boxTop":a[13]||(a[13]=s=>O(i).boxTop.value=s),hovered:O(i).hoveredHorizontal.value,"onUpdate:hovered":a[14]||(a[14]=s=>O(i).hoveredHorizontal.value=s),ready:O(i).readyHorizontal.value,"onUpdate:ready":a[15]||(a[15]=s=>O(i).readyHorizontal.value=s),type:O(i).type.value,"points-x":O(i).pointsX.value,"points-y":O(i).pointsY.value,placement:"bottom"},null,8,["id","box-height","box-top","hovered","ready","type","points-x","points-y"])):et("",!0),O(i).triggerPlacements.value.includes("top-right")?(Ce(),rt(O(Eh),{key:4,id:O(i).id.value,"box-height":O(i).boxHeight.value,"onUpdate:boxHeight":a[16]||(a[16]=s=>O(i).boxHeight.value=s),"box-width":O(i).boxWidth.value,"onUpdate:boxWidth":a[17]||(a[17]=s=>O(i).boxWidth.value=s),"box-top":O(i).boxTop.value,"onUpdate:boxTop":a[18]||(a[18]=s=>O(i).boxTop.value=s),"box-left":O(i).boxLeft.value,"onUpdate:boxLeft":a[19]||(a[19]=s=>O(i).boxLeft.value=s),hovered:O(i).hoveredDot.value,"onUpdate:hovered":a[20]||(a[20]=s=>O(i).hoveredDot.value=s),ready:O(i).readyDot.value,"onUpdate:ready":a[21]||(a[21]=s=>O(i).readyDot.value=s),type:O(i).type.value,"points-x":O(i).pointsX.value,"points-y":O(i).pointsY.value,placement:"top-right"},null,8,["id","box-height","box-width","box-top","box-left","hovered","ready","type","points-x","points-y"])):et("",!0),O(i).triggerPlacements.value.includes("top-left")?(Ce(),rt(O(Eh),{key:5,id:O(i).id.value,"box-height":O(i).boxHeight.value,"onUpdate:boxHeight":a[22]||(a[22]=s=>O(i).boxHeight.value=s),"box-width":O(i).boxWidth.value,"onUpdate:boxWidth":a[23]||(a[23]=s=>O(i).boxWidth.value=s),"box-top":O(i).boxTop.value,"onUpdate:boxTop":a[24]||(a[24]=s=>O(i).boxTop.value=s),"box-left":O(i).boxLeft.value,"onUpdate:boxLeft":a[25]||(a[25]=s=>O(i).boxLeft.value=s),hovered:O(i).hoveredDot.value,"onUpdate:hovered":a[26]||(a[26]=s=>O(i).hoveredDot.value=s),ready:O(i).readyDot.value,"onUpdate:ready":a[27]||(a[27]=s=>O(i).readyDot.value=s),type:O(i).type.value,"points-x":O(i).pointsX.value,"points-y":O(i).pointsY.value,placement:"top-left"},null,8,["id","box-height","box-width","box-top","box-left","hovered","ready","type","points-x","points-y"])):et("",!0),O(i).triggerPlacements.value.includes("bottom-right")?(Ce(),rt(O(Eh),{key:6,id:O(i).id.value,"box-height":O(i).boxHeight.value,"onUpdate:boxHeight":a[28]||(a[28]=s=>O(i).boxHeight.value=s),"box-width":O(i).boxWidth.value,"onUpdate:boxWidth":a[29]||(a[29]=s=>O(i).boxWidth.value=s),"box-top":O(i).boxTop.value,"onUpdate:boxTop":a[30]||(a[30]=s=>O(i).boxTop.value=s),"box-left":O(i).boxLeft.value,"onUpdate:boxLeft":a[31]||(a[31]=s=>O(i).boxLeft.value=s),hovered:O(i).hoveredDot.value,"onUpdate:hovered":a[32]||(a[32]=s=>O(i).hoveredDot.value=s),ready:O(i).readyDot.value,"onUpdate:ready":a[33]||(a[33]=s=>O(i).readyDot.value=s),type:O(i).type.value,"points-x":O(i).pointsX.value,"points-y":O(i).pointsY.value,placement:"bottom-right"},null,8,["id","box-height","box-width","box-top","box-left","hovered","ready","type","points-x","points-y"])):et("",!0),O(i).triggerPlacements.value.includes("bottom-left")?(Ce(),rt(O(Eh),{key:7,id:O(i).id.value,"box-height":O(i).boxHeight.value,"onUpdate:boxHeight":a[34]||(a[34]=s=>O(i).boxHeight.value=s),"box-width":O(i).boxWidth.value,"onUpdate:boxWidth":a[35]||(a[35]=s=>O(i).boxWidth.value=s),"box-top":O(i).boxTop.value,"onUpdate:boxTop":a[36]||(a[36]=s=>O(i).boxTop.value=s),"box-left":O(i).boxLeft.value,"onUpdate:boxLeft":a[37]||(a[37]=s=>O(i).boxLeft.value=s),hovered:O(i).hoveredDot.value,"onUpdate:hovered":a[38]||(a[38]=s=>O(i).hoveredDot.value=s),ready:O(i).readyDot.value,"onUpdate:ready":a[39]||(a[39]=s=>O(i).readyDot.value=s),type:O(i).type.value,"points-x":O(i).pointsX.value,"points-y":O(i).pointsY.value,placement:"bottom-left"},null,8,["id","box-height","box-width","box-top","box-left","hovered","ready","type","points-x","points-y"])):et("",!0)],64)):et("",!0)],64))}});function oL(t){const{sceneState:e}=rr();function n(o){t.disabled.value||o.__used__||(o.__used__=!0,e.sceneSelectedType.value!==t.type.value&&e.sceneSelectedId.value!==t.id.value&&e.sceneSelectItem({id:t.id.value,type:t.type.value}))}ze(e.sceneSelectedId,o=>{o&&t.id.value===o?t.selected.value=!0:t.selected.value=!1});function r(o){t.disabled.value||o.__used__||(o.__used__=!0,e.sceneHoveredType.value!==t.type.value&&e.sceneHoveredId.value!==t.id.value&&e.sceneHoverItem({id:t.id.value,type:t.type.value}))}function i(o){o.__used__||(o.__used__=!0,e.sceneHoverItemClear())}return ze(e.sceneHoveredId,o=>{t.id.value===o?t.hovered.value=!0:t.hovered.value=!1}),{onClick:n,onMouseLeave:i,onMouseMove:r}}function aL(t,e){const{sceneState:n}=rr(),{selected:r}=nr(t,e);return{disabled:H(()=>n.SceneWorkingType.value!=="idle"&&n.SceneWorkingTargetId.value!==t.id?!0:t.disabled),height:H(()=>t.height),hovered:Te(!1),id:H(()=>t.id),left:H(()=>t.left),rulerIndicator:H(()=>t.rulerIndicator),selected:r,shadowPosition:H(()=>t.shadowPosition),top:H(()=>t.top),type:H(()=>t.type),width:H(()=>t.width)}}function sL(t){const e=Ke({bottom:"0px",left:"0px",position:"absolute",right:"0px",top:"0px"}),n=H(()=>({pointerEvents:t.disabled.value?"none":"auto"})),r=Ke({bottom:"0px",left:"0px",pointerEvents:"none",position:"absolute",right:"0px",top:"0px",zIndex:1}),i={color:{hovered:Vf(Jn.indigo[600],.3),selected:Vf(Jn.indigo[600],1)},width:{hovered:2,selected:2}},o={center:{hovered:Ke({boxShadow:`
          inset 0 0 0 ${i.width.hovered/2}px ${i.color.hovered},
          0 0 0 ${i.width.hovered/2}px ${i.color.hovered}
        `}),selected:Ke({boxShadow:`
          inset 0 0 0 ${i.width.selected/2}px ${i.color.selected},
          0 0 0 ${i.width.selected/2}px ${i.color.selected}
        `})},inside:{hovered:Ke({boxShadow:`inset 0 0 0 ${i.width.hovered}px ${i.color.hovered}`}),selected:Ke({boxShadow:`inset 0 0 0 ${i.width.selected}px ${i.color.selected}`})},outside:{hovered:Ke({boxShadow:`0 0 0 ${i.width.hovered}px ${i.color.hovered}`}),selected:Ke({boxShadow:`0 0 0 ${i.width.selected}px ${i.color.selected}`})}};return Ht({indicatorClass:H(()=>{const a=[r];if(t.hovered.value)switch(t.shadowPosition.value){case"center":{a.push(o.center.hovered);break}case"inside":{a.push(o.inside.hovered);break}case"outside":{a.push(o.outside.hovered);break}}if(t.selected.value)switch(t.shadowPosition.value){case"center":{a.push(o.center.selected);break}case"inside":{a.push(o.inside.selected);break}case"outside":{a.push(o.outside.selected);break}}return a}),wrapperClass:H(()=>[e]),wrapperStyle:n})}const lL={disabled:!1,height:null,left:null,rulerIndicator:!1,shadowPosition:"center",top:null,width:null};function uL(t,e){const n=aL(t,e),r=sL(n),{onClick:i,onMouseLeave:o,onMouseMove:a}=oL(n);return{onClick:i,onMouseLeave:o,onMouseMove:a,style:r}}const dx=De({name:"DraggableSelectable",__name:"Selectable",props:Ur({id:{},selected:{type:Boolean},shadowPosition:{},left:{},top:{},width:{},height:{},rulerIndicator:{type:Boolean},type:{},disabled:{type:Boolean}},lL),emits:["update:selected"],setup(t,{emit:e}){const n=t,r=e,{style:i,onClick:o,onMouseLeave:a,onMouseMove:s}=uL(n,r);return(l,u)=>(Ce(),Re("div",{"data-draggable-element":"Selectable:wrapper",class:it(O(i).wrapperClass),style:Ct(O(i).wrapperStyle),onMouseleave:u[0]||(u[0]=c=>O(a)(c)),onMousemove:u[1]||(u[1]=c=>O(s)(c)),onClick:u[2]||(u[2]=c=>O(o)(c))},[we("div",{"data-draggable-element":"Selectable:indicator",class:it(O(i).indicatorClass)},null,2),vn(l.$slots,"default")],38))}});function cL(){const t=Be(null),e=n=>{t.value=n};return zt(Ha.RegisterInstanceBoard,e),{sceneSubInstanceBoard:t}}function fL(){const t=$t(Ha.RegisterInstanceBoard);if(!t)throw new Error("registerInstanceBoard must be used after useInstanceCollectBoard");t(Yi()),ln(()=>{t(null)})}function _g({ignoreBoxPointId:t,includeLine:e,includeBoxEdge:n,includeBoxCenter:r,includeBoardEdge:i,includeBoardCenter:o,includeScene:a}={}){const{sceneState:s}=rr(),l=H(()=>O(e)?s.sceneGuideLines.value.map(b=>b.position):[]),u=H(()=>O(e)?s.sceneGuideLines.value.map(b=>b.position):[]),c=H(()=>{const x=[];return O(i)&&(x.push(0),x.push(s.sceneSubInstanceBoardStateWidth.value)),O(o)&&x.push(s.sceneSubInstanceBoardStateWidth.value/2),x}),f=H(()=>{const x=[];return O(i)&&(x.push(0),x.push(s.sceneSubInstanceBoardStateHeight.value)),O(o)&&x.push(s.sceneSubInstanceBoardStateHeight.value/2),x}),d=H(()=>s.sceneSubInstanceBoxList.value.map(x=>{let b=null;return x.instance.exposed&&(b=x.instance.exposed.state),{id:x.id,state:b}})),h=H(()=>{const x=[];return d.value.forEach(b=>{b.state&&(O(n)&&(x.push({id:b.id,position:b.state.boxLeft.value}),x.push({id:b.id,position:b.state.boxLeft.value+b.state.boxWidth.value})),O(r)&&x.push({id:b.id,position:b.state.boxLeft.value+b.state.boxWidth.value/2}))}),x}),p=H(()=>{const x=[];return d.value.forEach(b=>{b.state&&(O(n)&&(x.push({id:b.id,position:b.state.boxTop.value}),x.push({id:b.id,position:b.state.boxTop.value+b.state.boxHeight.value})),O(r)&&x.push({id:b.id,position:b.state.boxTop.value+b.state.boxHeight.value/2}))}),x}),m=H(()=>(Nn(O(t))?h.value:h.value.filter(b=>b.id!==O(t))).map(b=>b.position)),v=H(()=>(Nn(O(t))?p.value:p.value.filter(b=>b.id!==O(t))).map(b=>b.position)),g=H(()=>[...c.value,...m.value,...l.value]),w=H(()=>[...f.value,...v.value,...u.value]),y=H(()=>{if(O(a)){const x=s.sceneSubInstanceBoardStateLeft.value,b=s.sceneScale.value;return g.value.map(C=>x+C*b)}return g.value}),S=H(()=>{if(O(a)){const x=s.sceneSubInstanceBoardStateTop.value,b=s.sceneScale.value;return w.value.map(C=>x+C*b)}return w.value});return{pointsX:y,pointsY:S}}function dL(t,e){const{sceneState:n}=rr(),{height:r,width:i,top:o,left:a}=nr(t,e),{pointsX:s,pointsY:l}=_g({includeBoxCenter:n.sceneSettingPointsIncludeBoxCenter,includeBoxEdge:n.sceneSettingPointsIncludeBoxEdge,includeLine:!0}),u=_l();return{boardBackgroundColor:H(()=>t.backgroundColor),boardHeight:r,boardId:H(()=>t.id||u),boardLeft:a,boardSelected:Te(!1),boardTop:o,boardWidth:i,pointsX:s,pointsY:l}}function hL(t){const{sceneState:e}=rr(),n=Ke({left:"0px",position:"absolute",top:"0px",transformOrigin:"top left",willChange:"transform"}),r=H(()=>({backgroundColor:t.boardBackgroundColor.value,height:`${t.boardHeight.value}px`,transform:`translate3d(${t.boardLeft.value}px, ${t.boardTop.value}px, 0px) scale(${e.sceneScale.value})`,width:`${t.boardWidth.value}px`}));return Ht({wrapperClass:n,wrapperStyle:r})}const pL={backgroundColor:Jn.white,id:""};function mL(t,e){const n=Te();fL();const r=dL(t,e),i=hL(r);return{boardRef:n,state:r,style:i}}const gL=De({name:"DraggableBoard",__name:"Board",props:Ur({height:{},width:{},top:{},left:{},id:{},backgroundColor:{}},pL),emits:["update:height","update:width","update:top","update:left"],setup(t,{expose:e,emit:n}){const r=t,i=n,{boardRef:o,state:a,style:s}=mL(r,i);return e({state:a}),(l,u)=>(Ce(),Re("div",{ref_key:"boardRef",ref:o,"data-draggable-element":"Board:wrapper",style:Ct(O(s).wrapperStyle),class:it(O(s).wrapperClass)},[k(O(dx),{id:O(a).boardId.value,selected:O(a).boardSelected.value,"onUpdate:selected":u[2]||(u[2]=c=>O(a).boardSelected.value=c),"shadow-position":"outside",type:"board"},{default:Ae(()=>[k(O(lB),{id:O(a).boardId.value,"box-height":O(a).boardHeight.value,"onUpdate:boxHeight":u[0]||(u[0]=c=>O(a).boardHeight.value=c),"box-width":O(a).boardWidth.value,"onUpdate:boxWidth":u[1]||(u[1]=c=>O(a).boardWidth.value=c),type:"board","box-top":0,"box-left":0,active:O(a).boardSelected.value,"points-x":O(a).pointsX.value,"points-y":O(a).pointsY.value,"trigger-placements":["right","bottom","bottom-right"]},{default:Ae(()=>[vn(l.$slots,"default")]),_:3},8,["id","box-height","box-width","active","points-x","points-y"])]),_:3},8,["id","selected"])],6))}});function vL(t){const{sceneState:e}=rr(),{registerCallbackOnDragStart:n,registerCallbackOnDragEnd:r}=Jr({adsorb:!0,adsorbDisabledOnHoldControl:!0,adsorbTypes:["left","right","top","bottom","center-x","center-y"],arrowKeyControl:!0,bindX:t.left,bindXType:"position",bindY:t.top,bindYType:"position",boxHeight:t.height,boxWidth:t.width,disabled:H(()=>!t.active.value),integer:!0,mode:"move",pointsX:t.pointsX,pointsY:t.pointsY,scale:e.sceneScale,targetRef:t.targetRef});return n(()=>{e.BodyCursorSet("move"),e.SceneWorkingTypeSet("moving"),e.SceneWorkingTargetTypeSet(t.type.value),e.SceneWorkingTargetIdSet(t.id.value)}),r(()=>{e.BodyCursorReset(),e.sceneDoingReset()}),{}}function yL(t,e,{targetRef:n}){const{top:r,left:i}=nr(t,e);return{active:H(()=>t.active),height:H(()=>t.height),id:H(()=>t.id),left:i,pointsX:H(()=>t.pointsX),pointsY:H(()=>t.pointsY),targetRef:n,top:r,type:H(()=>t.type),width:H(()=>t.width)}}function bL(t){const e=Ke({"& img":{pointerEvents:"none"},bottom:"0px",left:"0px",position:"absolute",right:"0px",top:"0px"}),n=Ke({cursor:"move"});return Ht({wrapperClass:H(()=>[e,...t.active.value?[n]:[]])})}const xL={height:0,pointsX:()=>[],pointsY:()=>[],width:0};function wL(t,e){const n=Te(),r=yL(t,e,{targetRef:n});return vL(r),{style:bL(r),targetRef:n}}const SL=De({name:"DraggableMovable",__name:"Movable",props:Ur({id:{},type:{},top:{},left:{},height:{},width:{},active:{type:Boolean},pointsX:{},pointsY:{}},xL),emits:["update:top","update:left"],setup(t,{emit:e}){const n=t,r=e,{style:i,targetRef:o}=wL(n,r);return(a,s)=>(Ce(),Re("div",{ref_key:"targetRef",ref:o,tabindex:"1","data-draggable-element":"Movable:wrapper",class:it(O(i).wrapperClass)},[vn(a.$slots,"default")],2))}});function CL(){const t=Be([]),e=({instance:r,id:i})=>{r&&(t.value=[...t.value,{id:i,instance:r}])},n=r=>{const i=t.value.findIndex(o=>o.id===r);i!==-1&&t.value.splice(i,1)};return zt(Ha.RegisterInstanceBox,e),zt(Ha.UnRegisterInstanceBox,n),{sceneSubInstanceBoxList:t}}function AL(t){const e=$t(Ha.RegisterInstanceBox),n=$t(Ha.UnRegisterInstanceBox);if(!e||!n)throw new Error("registerInstanceBox must be used after useInstanceCollectBox");e({id:t,instance:Yi()}),ln(()=>{n(t)})}function DL(t,e){const{sceneState:n}=rr(),{height:r,left:i,top:o,width:a}=nr(t,e),{pointsX:s,pointsY:l}=_g({ignoreBoxPointId:t.id,includeBoardCenter:n.sceneSettingPointsIncludeBoardCenter,includeBoardEdge:n.sceneSettingPointsIncludeBoardEdge,includeBoxCenter:n.sceneSettingPointsIncludeBoxCenter,includeBoxEdge:n.sceneSettingPointsIncludeBoxEdge,includeLine:!0});return{boxDisabled:H(()=>t.disabled),boxHeight:r,boxId:H(()=>t.id),boxLeft:i,boxSelected:Te(!1),boxTop:o,boxWidth:a,pointsX:s,pointsY:l}}function EL(t){const e=Ke({left:"0px",position:"absolute",top:"0px",willChange:"transform"}),n=H(()=>({height:`${t.boxHeight.value}px`,pointerEvents:t.boxDisabled.value?"none":"auto",transform:`translate3d(${t.boxLeft.value}px, ${t.boxTop.value}px, 0px)`,width:`${t.boxWidth.value}px`}));return Ht({wrapperClass:e,wrapperStyle:n})}const ML={disabled:!1};function NL(t,e){AL(t.id);const n=DL(t,e),r=EL(n);return{state:n,style:r}}const $L=De({name:"DraggableBox",__name:"Box",props:Ur({id:{},height:{},width:{},left:{},top:{},disabled:{type:Boolean}},ML),emits:["update:height","update:left","update:top","update:width"],setup(t,{expose:e,emit:n}){const r=t,i=n,{style:o,state:a}=NL(r,i);return e({state:a}),(s,l)=>(Ce(),Re("div",{"data-draggable-element":"Box:wrapper",class:it(O(o).wrapperClass),style:Ct(O(o).wrapperStyle)},[k(O(dx),{id:O(a).boxId.value,selected:O(a).boxSelected.value,"onUpdate:selected":l[6]||(l[6]=u=>O(a).boxSelected.value=u),"shadow-position":"outside",type:"box","ruler-indicator":!0,left:O(a).boxLeft.value,top:O(a).boxTop.value,height:O(a).boxHeight.value,width:O(a).boxWidth.value,disabled:O(a).boxDisabled.value},{default:Ae(()=>[k(O(lB),{id:O(a).boxId.value,"box-top":O(a).boxTop.value,"onUpdate:boxTop":l[2]||(l[2]=u=>O(a).boxTop.value=u),"box-left":O(a).boxLeft.value,"onUpdate:boxLeft":l[3]||(l[3]=u=>O(a).boxLeft.value=u),"box-height":O(a).boxHeight.value,"onUpdate:boxHeight":l[4]||(l[4]=u=>O(a).boxHeight.value=u),"box-width":O(a).boxWidth.value,"onUpdate:boxWidth":l[5]||(l[5]=u=>O(a).boxWidth.value=u),type:"box",active:O(a).boxSelected.value,"points-x":O(a).pointsX.value,"points-y":O(a).pointsY.value,"trigger-placements":["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right"]},{default:Ae(()=>[k(O(SL),{id:O(a).boxId.value,top:O(a).boxTop.value,"onUpdate:top":l[0]||(l[0]=u=>O(a).boxTop.value=u),left:O(a).boxLeft.value,"onUpdate:left":l[1]||(l[1]=u=>O(a).boxLeft.value=u),type:"box",active:O(a).boxSelected.value,height:O(a).boxHeight.value,width:O(a).boxWidth.value,"points-x":O(a).pointsX.value,"points-y":O(a).pointsY.value},{default:Ae(()=>[vn(s.$slots,"default")]),_:3},8,["id","top","left","active","height","width","points-x","points-y"])]),_:3},8,["id","box-top","box-left","box-height","box-width","active","points-x","points-y"])]),_:3},8,["id","selected","left","top","height","width","disabled"])],6))}});function OL(t){const{sceneState:e}=rr(),{pointsX:n,pointsY:r}=_g({includeBoardCenter:e.sceneSettingPointsIncludeBoardCenter,includeBoardEdge:e.sceneSettingPointsIncludeBoardEdge,includeBoxCenter:e.sceneSettingPointsIncludeBoxCenter,includeBoxEdge:e.sceneSettingPointsIncludeBoxEdge,includeScene:!0}),{dragReady:i,registerCallbackOnDragStart:o,registerCallbackOnDragEnd:a}=Jr({...t.direction.value==="horizontal"?{adsorbTypes:["top"],bindY:t.displayPositionY,bindYType:"position",pointsY:r}:{},...t.direction.value==="vertical"?{adsorbTypes:["left"],bindX:t.displayPositionX,bindXType:"position",pointsX:n}:{},adsorb:!0,adsorbDisabledOnHoldControl:!0,integer:!0,mode:"move",scale:1,targetRef:t.targetRef});La(i,t.dragReady),o(()=>{t.direction.value==="horizontal"&&e.BodyCursorSet("ns-resize"),t.direction.value==="vertical"&&e.BodyCursorSet("ew-resize"),e.SceneWorkingTypeSet("moving"),e.SceneWorkingTargetTypeSet("line"),e.SceneWorkingTargetIdSet(t.id.value)}),a(()=>{e.BodyCursorReset(),e.sceneDoingReset(),e.sceneGuideLineCheckDeletable({direction:t.direction.value,id:t.id.value})})}function TL(t,e,{targetRef:n}){const{sceneState:r}=rr(),{position:i}=nr(t,e),o=H({get(){return r.sceneSubInstanceBoardStateLeft.value+i.value*r.sceneScale.value},set(l){i.value=Math.round((l-r.sceneSubInstanceBoardStateLeft.value)/r.sceneScale.value)}}),a=H({get(){return r.sceneSubInstanceBoardStateTop.value+i.value*r.sceneScale.value},set(l){i.value=Math.round((l-r.sceneSubInstanceBoardStateTop.value)/r.sceneScale.value)}});return{direction:H(()=>t.direction),displayPositionX:o,displayPositionY:a,dragReady:Te(!1),id:H(()=>t.id),position:i,targetRef:n}}const au={mark:{offsetX:2,offsetY:2,paddingX:2,paddingY:2}};function BL(t){const{sceneState:e}=rr(),n=Ke({":before":{content:'""',position:"absolute"},borderColor:Jn.red[600],position:"absolute"}),r=Ke({":before":{bottom:"-4px",cursor:"ns-resize",top:"-4px",width:"100%"},borderTopWidth:"1px",height:0,left:0,right:0}),i=Ke({":before":{cursor:"ew-resize",height:"100%",left:"-4px",right:"-4px"},borderLeftWidth:"1px",bottom:0,top:0,width:0}),o=H(()=>{let f="auto";return e.SceneWorkingType.value!=="idle"&&(f="none"),{pointerEvents:f}}),a=H(()=>({top:`${t.displayPositionY.value-.5}px`})),s=H(()=>({left:`${t.displayPositionX.value-.5}px`})),l=Ke({backgroundColor:Jn.red[600],borderRadius:"2px",color:Jn.white,fontSize:"12px",lineHeight:"12px",padding:`${au.mark.paddingY}px ${au.mark.paddingX}px`,position:"absolute"}),u=Ke({left:`${au.mark.offsetX}px`,top:`${au.mark.offsetY}px`}),c=Ke({left:`${au.mark.offsetX}px`,top:`${au.mark.offsetY}px`});return Ht({lineClass:[n,...t.direction.value==="horizontal"?[r]:[],...t.direction.value==="vertical"?[i]:[]],lineStyle:H(()=>[...t.direction.value==="horizontal"?[o.value,a.value]:[],...t.direction.value==="vertical"?[o.value,s.value]:[]]),markClass:[l,...t.direction.value==="horizontal"?[u]:[],...t.direction.value==="vertical"?[c]:[]]})}const IL={};function PL(t){return{direction:t.lineDirection,id:_l(),position:t.linePosition}}function kL(t,e){const n=Te(),r=TL(t,e,{targetRef:n});OL(r);const i=BL(r);return{state:r,style:i,targetRef:n}}const FL=De({name:"DraggableGuideLine",__name:"GuideLine",props:Ur({id:{},position:{},direction:{}},IL),emits:["update:position"],setup(t,{emit:e}){const n=t,r=e,{style:i,state:o,targetRef:a}=kL(n,r);return(s,l)=>(Ce(),Re("div",{ref_key:"targetRef",ref:a,"data-draggable-element":"GuideLine:line",class:it(O(i).lineClass),style:Ct(O(i).lineStyle)},[O(o).dragReady.value?(Ce(),Re("div",{key:0,"data-draggable-element":"GuideLine:mark",class:it(O(i).markClass)},Nt(O(o).position),3)):et("",!0)],6))}});function RL(t){const{sceneState:e}=rr(),n=H(()=>e.sceneSubInstanceBoardStateTop.value>0?Math.max(e.sceneSubInstanceBoardStateHeight.value*e.sceneScale.value+e.sceneSubInstanceBoardStateTop.value,e.sceneHeight.value,e.sceneSubInstanceBoardStateHeight.value*e.sceneScale.value):Math.max(e.sceneHeight.value+Math.abs(e.sceneSubInstanceBoardStateTop.value),e.sceneHeight.value,e.sceneSubInstanceBoardStateHeight.value*e.sceneScale.value)),r=H(()=>e.sceneSubInstanceBoardStateLeft.value>0?Math.max(e.sceneSubInstanceBoardStateWidth.value*e.sceneScale.value+e.sceneSubInstanceBoardStateLeft.value,e.sceneWidth.value,e.sceneSubInstanceBoardStateWidth.value*e.sceneScale.value):Math.max(e.sceneWidth.value+Math.abs(e.sceneSubInstanceBoardStateLeft.value),e.sceneWidth.value,e.sceneSubInstanceBoardStateWidth.value*e.sceneScale.value)),i=H(()=>e.sceneSubInstanceBoardStateTop.value>0?e.sceneSubInstanceBoardStateTop.value:0),o=H(()=>e.sceneSubInstanceBoardStateLeft.value>0?e.sceneSubInstanceBoardStateLeft.value:0),a=H(()=>e.sceneSubInstanceBoardStateTop.value<0?Math.abs(e.sceneSubInstanceBoardStateTop.value):0),s=H(()=>e.sceneSubInstanceBoardStateLeft.value<0?Math.abs(e.sceneSubInstanceBoardStateLeft.value):0),l=H(()=>{const c=t.size/n.value,f=t.size/r.value;return Math.min(c,f)});return{boardLeftInWorld:o,boardTopInWorld:i,mapScale:l,sceneLeftInWorld:s,sceneTopInWorld:a,worldHeight:n,worldWidth:r}}function _L(t){const{sceneState:e}=rr(),n=Ke({position:"relative"}),r=H(()=>({height:`${t.worldHeight.value*t.mapScale.value}px`,width:`${t.worldWidth.value*t.mapScale.value}px`})),i=Ke({backgroundColor:Jn.white,left:"0px",position:"absolute",top:"0px"}),o=H(()=>({height:`${e.sceneSubInstanceBoardStateHeight.value*e.sceneScale.value*t.mapScale.value}px`,transform:gC({left:t.boardLeftInWorld.value*t.mapScale.value,top:t.boardTopInWorld.value*t.mapScale.value}),width:`${e.sceneSubInstanceBoardStateWidth.value*e.sceneScale.value*t.mapScale.value}px`})),a=Ke({boxShadow:"0 0 0 1px #666666 inset",left:"0px",position:"absolute",top:"0px"}),s=H(()=>({height:`${e.sceneHeight.value*t.mapScale.value}px`,transform:gC({left:t.sceneLeftInWorld.value*t.mapScale.value,top:t.sceneTopInWorld.value*t.mapScale.value}),width:`${e.sceneWidth.value*t.mapScale.value}px`})),l=Ke({backgroundColor:"rgba(0, 0, 0, 0.1)",bottom:"10px",padding:"2px",position:"absolute",right:"10px"});return Ht({mapClass:n,mapStyle:r,virtualBoardClass:i,virtualBoardStyle:o,virtualSceneClass:a,virtualSceneStyle:s,wrapperClass:l})}const zL={size:80};function LL(t){const e=RL(t);return{style:_L(e)}}const HL=De({name:"DraggableMap",__name:"Map",props:Ur({size:{}},zL),setup(t){const e=t,{style:n}=LL(e);return(r,i)=>(Ce(),Re("div",{"data-draggable-element":"Map:wrapper",class:it(O(n).wrapperClass)},[we("div",{"data-draggable-element":"Map:map",class:it(O(n).mapClass),style:Ct(O(n).mapStyle)},[we("div",{"data-draggable-element":"Map:virtual:board",class:it(O(n).virtualBoardClass),style:Ct(O(n).virtualBoardStyle)},null,6),we("div",{"data-draggable-element":"Map:virtual:scene",class:it(O(n).virtualSceneClass),style:Ct(O(n).virtualSceneStyle)},null,6)],6)],2))}});function VL(t){return{mark:H(()=>t.mark),rotate:H(()=>t.rotate),width:H(()=>t.width)}}const Pr={backgroundColor:Jn.gray[200],size:20,textColor:Jn.gray[400]};function UL(t){const e=Ke({":after":{backgroundColor:Pr.textColor,bottom:"0px",content:'""',height:"4px",position:"absolute",width:"1px"},alignItems:"center",display:"flex",flexDirection:"column",height:`${Pr.size}px`,justifyContent:"center",pointerEvents:"none",position:"relative"}),n=H(()=>({left:`-${t.width.value/2}px`,rotate:`${t.rotate.value}deg`,width:`${t.width.value}px`})),r=Ke({color:Pr.textColor,fontSize:"12px",lineHeight:"12px",transform:"scale(0.8)"});return Ht({markClass:r,wrapperClass:e,wrapperStyle:n})}const qL={rotate:0};function WL(t){const e=VL(t),n=UL(e);return{state:e,style:n}}const xC=De({mark:"DraggableRulerCell",__name:"RulerCell",props:Ur({mark:{},width:{},rotate:{}},qL),setup(t){const e=t,{style:n,state:r}=WL(e);return(i,o)=>(Ce(),Re("div",{"data-draggable-element":"RulerCell:wrapper",class:it(O(n).wrapperClass),style:Ct(O(n).wrapperStyle)},[we("span",{"data-draggable-element":"RulerCell:mark",class:it(O(n).markClass)},Nt(O(r).mark.value),3)],6))}});function jL(){const t=Be(null),e=Be(null),n=(r,i)=>{i==="horizontal"&&(t.value=r),i==="vertical"&&(e.value=r)};return zt(Ha.RegisterInstanceRuler,n),{sceneSubInstanceRulerHorizontal:t,sceneSubInstanceRulerVertical:e}}function GL(t){const e=$t(Ha.RegisterInstanceRuler);if(!e)throw new Error("registerInstanceRuler must be used after useInstanceCollectRuler");e(Yi(),t),ln(()=>{e(null,t)})}function XL(t){const{sceneState:e}=rr(),{pointsX:n,pointsY:r}=_g({includeBoardCenter:e.sceneSettingPointsIncludeBoardCenter,includeBoardEdge:e.sceneSettingPointsIncludeBoardEdge,includeBoxCenter:e.sceneSettingPointsIncludeBoxCenter,includeBoxEdge:e.sceneSettingPointsIncludeBoxEdge,includeScene:!0}),{elementX:i,elementY:o}=ad(t.rulerRef);function a({direction:s,mouseOnRulerPosition:l}){let u,c=null;const f=Te(0),d=H(()=>s==="horizontal"?e.sceneSubInstanceBoardStateTop.value:s==="vertical"?e.sceneSubInstanceBoardStateLeft.value:0),h=H({get(){return d.value+f.value*e.sceneScale.value},set(v){f.value=Math.round((v-d.value)/e.sceneScale.value)}}),{registerCallbackOnDragEnd:p,registerCallbackOnDragStart:m}=Jr({adsorb:!0,adsorbDisabledOnHoldControl:!0,...s==="horizontal"?{adsorbTypes:["top"],bindY:h,bindYType:"position",pointsY:r}:{},...s==="vertical"?{adsorbTypes:["left"],bindX:h,bindXType:"position",pointsX:n}:{},integer:!0,mode:"move",scale:1,targetRef:t.rulerRef});m(()=>{h.value=l.value-Pr.size,u=e.sceneGuideLineCreate({direction:s,position:f.value}),s==="horizontal"&&e.BodyCursorSet("ns-resize"),s==="vertical"&&e.BodyCursorSet("ew-resize"),e.SceneWorkingTypeSet("moving"),e.SceneWorkingTargetTypeSet("line"),e.SceneWorkingTargetIdSet(u),c=ze(h,()=>{e.sceneGuideLineUpdate({direction:s,id:u,position:f.value})})}),p(()=>{c&&c(),e.sceneGuideLineCheckDeletable({direction:s,id:u}),e.BodyCursorReset(),e.sceneDoingReset(),e.sceneGuideLineCheckDeletable({direction:s,id:u})})}t.direction.value==="horizontal"&&a({direction:"horizontal",mouseOnRulerPosition:o}),t.direction.value==="vertical"&&a({direction:"vertical",mouseOnRulerPosition:i})}function KL(t,{rulerRef:e}){const{sceneState:n}=rr(),r=H(()=>t.direction==="horizontal"?n.sceneSubInstanceBoardStateLeft.value:t.direction==="vertical"?n.sceneSubInstanceBoardStateTop.value:0),i=50,o=H(()=>{let d=10,h=1;for(;d*n.sceneScale.value<i;)h+=1,d=10*h;return d}),a=H(()=>o.value*n.sceneScale.value),s=H(()=>{let d=0;return t.direction==="horizontal"&&(d=n.sceneWidth.value),t.direction==="vertical"&&(d=n.sceneHeight.value),r.value<=0?Math.ceil((-r.value+d)/a.value):r.value>0&&r.value>d?0:Math.ceil((d-r.value)/a.value)}),l=H(()=>{let d=0;return t.direction==="horizontal"&&(d=n.sceneWidth.value),t.direction==="vertical"&&(d=n.sceneHeight.value),r.value<=0?0:r.value>0&&r.value<d?Math.ceil(r.value/a.value):Math.ceil(d+r.value/a.value)}),u=H(()=>t.highLightLength*n.sceneScale.value),c=H(()=>t.highLightPosition*n.sceneScale.value);return{cellCountZeroLeft:l,cellCountZeroRight:s,cellDistance:a,cellStep:o,direction:H(()=>t.direction),highLightDisplayLength:u,highLightDisplayPosition:c,hightLight:H(()=>t.highLight),rulerRef:e,sceneWidth:n.sceneWidth,zeroPosition:r}}function YL(t){const{sceneState:e}=rr(),n=Ke({backgroundColor:Pr.backgroundColor,height:`${Pr.size}px`,left:`${Pr.size}px`,overflow:"hidden",position:"absolute"}),r=Ke({cursor:"ns-resize"}),i=Ke({cursor:"ew-resize",top:`${Pr.size}px`,transform:"rotate(90deg)",transformOrigin:"left top"}),o=H(()=>({...t.direction.value==="vertical"?{width:`${e.sceneHeight.value}px`}:{},...t.direction.value==="horizontal"?{width:`${e.sceneWidth.value}px`}:{}})),a=Ke({display:"flex",justifyContent:"flex-start",left:"0px",position:"absolute",top:"0px"}),s=H(()=>({transform:`translateX(${t.zeroPosition.value}px)`})),l=Ke({display:"flex",flexDirection:"row-reverse",justifyContent:"flex-end",left:"0px",position:"absolute",top:"0px"}),u=H(()=>({transform:`translateX(-${t.cellCountZeroLeft.value*t.cellDistance.value-t.zeroPosition.value}px)`})),c=Ke({backgroundColor:"rgba(0, 0, 0, 0.1)",height:"100%",left:"0px",position:"absolute",top:"0px"}),f=H(()=>({transform:`translateX(${t.highLightDisplayPosition.value}px)`,width:`${t.highLightDisplayLength.value}px`}));return Ht({rangeClass:c,rangeStyle:f,wrapperClass:H(()=>[n,...t.direction.value==="horizontal"?[r]:[],...t.direction.value==="vertical"?[i]:[]]),wrapperStyle:o,zeroLeftClass:l,zeroLeftStyle:u,zeroRightClass:a,zeroRightStyle:s})}const ZL={highLight:!1,highLightLength:0,highLightPosition:0};function QL(t){const e=Te();GL(t.direction);const n=KL(t,{rulerRef:e});XL(n);const r=YL(n);return{rulerRef:e,state:n,style:r}}const wC=De({name:"DraggableRuler",__name:"Ruler",props:Ur({highLight:{type:Boolean},highLightPosition:{},highLightLength:{},direction:{}},ZL),setup(t,{expose:e}){const n=t,{style:r,state:i,rulerRef:o}=QL(n);return e({state:i}),(a,s)=>(Ce(),Re("div",{ref_key:"rulerRef",ref:o,"data-draggable-element":"Ruler:wrapper",class:it(O(r).wrapperClass),style:Ct(O(r).wrapperStyle)},[O(i).hightLight.value?(Ce(),Re("div",{key:0,"data-draggable-element":"Ruler:range",class:it(O(r).rangeClass),style:Ct(O(r).rangeStyle)},null,6)):et("",!0),we("div",{"data-draggable-element":"Ruler:zeroLeft",class:it(O(r).zeroLeftClass),style:Ct(O(r).zeroLeftStyle)},[(Ce(!0),Re(gt,null,wo(O(i).cellCountZeroLeft.value,l=>(Ce(),rt(O(xC),{key:l,mark:-O(i).cellStep.value*l,width:O(i).cellDistance.value,rotate:O(i).direction.value==="vertical"?180:0},null,8,["mark","width","rotate"]))),128))],6),we("div",{"data-draggable-element":"Ruler:zeroRight",class:it(O(r).zeroRightClass),style:Ct(O(r).zeroRightStyle)},[(Ce(!0),Re(gt,null,wo(O(i).cellCountZeroRight.value,(l,u)=>(Ce(),rt(O(xC),{key:l,mark:O(i).cellStep.value*u,width:O(i).cellDistance.value,rotate:O(i).direction.value==="vertical"?180:0},null,8,["mark","width","rotate"]))),128))],6)],6))}});function JL(){const t=Ke({backgroundColor:Pr.backgroundColor,height:`${Pr.size}px`,position:"absolute",width:`${Pr.size}px`});return Ht({wrapperClass:t})}function e9(){return{style:JL()}}const t9=De({name:"DraggableRulerCorner",__name:"RulerCorner",setup(t){const{style:e}=e9();return(n,r)=>(Ce(),Re("div",{"data-draggable-element":"RulerCorner:wrapper",class:it(O(e).wrapperClass)},null,2))}});function n9(t){const{registerCallbackOnDragStart:e,registerCallbackOnDragEnd:n}=Jr({bindX:t.sceneSubInstanceBoardStateLeft,bindXType:"position",bindY:t.sceneSubInstanceBoardStateTop,bindYType:"position",disabled:H(()=>t.SceneWorkingType.value!=="idle"&&t.SceneWorkingTargetType.value!=="scene"),dragReady:t.sceneDragReady,mode:"move",mouseWheelX:!0,mouseWheelY:!0,scale:1,spaceKeyHoldRequired:H(()=>t.sceneMouseMode.value!=="drag"),spaceKeyHolding:t.sceneSpaceKeyHolding,targetRef:t.sceneRef});return e(()=>{t.BodyCursorSet("move"),t.SceneWorkingTypeSet("moving"),t.SceneWorkingTargetTypeSet("scene"),t.SceneWorkingTargetIdSet(t.sceneId.value)}),n(()=>{t.BodyCursorReset(),t.sceneDoingReset()}),{}}function r9(t,e,{sceneSubInstanceBoard:n}){function r(o,a){return H({get(){return n.value&&n.value.exposed?n.value.exposed.state[o].value:a},set(s){if(n.value&&n.value.exposed)n.value.exposed.state[o].value=s;else throw new Error(`sceneSubInstanceBoard.value.exposed.state.${o} is not defined`)}})}return{sceneSubInstanceBoard:n,sceneSubInstanceBoardGetStateWritableValue:r,sceneSubInstanceBoardStateHeight:r("boardHeight",0),sceneSubInstanceBoardStateLeft:r("boardLeft",0),sceneSubInstanceBoardStateTop:r("boardTop",0),sceneSubInstanceBoardStateWidth:r("boardWidth",0)}}function i9(t,e,{stateBoard:n}){const{lines:r}=nr(t,e);async function i({id:l,direction:u}){const c=r.value.findIndex(f=>f.id===l&&f.direction===u);if(c!==-1){const f=r.value[c];u==="horizontal"&&f.position*t.scale<-n.sceneSubInstanceBoardStateTop.value&&r.value.splice(c,1),u==="vertical"&&f.position*t.scale<-n.sceneSubInstanceBoardStateLeft.value&&r.value.splice(c,1)}}function o({direction:l,position:u=0}){const c=PL({lineDirection:l,linePosition:u});return r.value.push(c),c.id}function a({id:l,direction:u,position:c}){const f=r.value.find(d=>d.id===l&&d.direction===u);f&&(f.position=c)}return{sceneGuideLineCheckDeletable:i,sceneGuideLineCreate:o,sceneGuideLineUpdate:a,sceneGuideLines:r}}function o9(t){const e=H(()=>t.mouseMode),n=Te(!1),r=Te(!1);return{BodyCursorReset:Tz,BodyCursorSet:Oz,sceneDragReady:n,sceneMouseMode:e,sceneSpaceKeyHolding:r}}function a9(){const t=Te(null),e=Te(null),n=Te(null),r=Te(null);function i({id:c,type:f}){t.value=c,e.value=f}function o(){t.value=null,e.value=null}function a(c){t.value===c&&o()}function s({id:c,type:f}){n.value=c,r.value=f}function l(){n.value=null,r.value=null}return{sceneHoverItem:s,sceneHoverItemClear:l,sceneHoveredId:n,sceneHoveredType:r,sceneSelectItem:i,sceneSelectItemClear:o,sceneSelectItemUnselect:a,sceneSelectedId:t,sceneSelectedType:e}}function s9(){const t=Te("idle");function e(f){t.value=f}function n(){t.value="idle"}const r=Te(null);function i(f){r.value=f}function o(){r.value=null}const a=Te(null);function s(f){a.value=f}function l(){a.value=null}function u(){n(),o(),l()}return{SceneWorkingTargetId:a,SceneWorkingTargetIdReset:l,SceneWorkingTargetIdSet:s,SceneWorkingTargetType:r,SceneWorkingTargetTypeReset:o,SceneWorkingTargetTypeSet:i,SceneWorkingType:t,SceneWorkingTypeReset:n,SceneWorkingTypeSet:e,sceneDoingReset:u}}function l9(t,e,{sceneSubInstanceBoard:n,sceneSubInstanceBoxList:r,sceneSubInstanceRulerHorizontal:i,sceneSubInstanceRulerVertical:o,sceneHeight:a,sceneRef:s,sceneWidth:l}){const u=s9(),c=r9(t,e,{sceneSubInstanceBoard:n}),f=i9(t,e,{stateBoard:c}),d=a9(),h=o9(t),{scale:p}=nr(t,e),m=_l();return{...u,...c,...f,...d,...h,sceneBackgroundColor:H(()=>t.backgroundColor),sceneHeight:a,sceneHeightExist:H(()=>t.height!==cm),sceneId:H(()=>t.id||m),sceneRef:s,sceneScale:p,sceneSelected:Te(!1),sceneSettingPointsIncludeBoardCenter:H(()=>t.settingPointsIncludeBoardCenter),sceneSettingPointsIncludeBoardEdge:H(()=>t.settingPointsIncludeBoardEdge),sceneSettingPointsIncludeBoxCenter:H(()=>t.settingPointsIncludeBoxCenter),sceneSettingPointsIncludeBoxEdge:H(()=>t.settingPointsIncludeBoxEdge),sceneSubInstanceBoxList:r,sceneSubInstanceRulerHorizontal:i,sceneSubInstanceRulerVertical:o,sceneWidth:l,sceneWidthExist:H(()=>t.width!==cm)}}function u9(t){const e=Ke({overflow:"hidden",position:"relative",userSelect:"none"}),n=H(()=>({height:t.sceneHeightExist.value?`${t.sceneHeight.value}px`:"100%",width:t.sceneWidthExist.value?`${t.sceneWidth.value}px`:"100%"})),r=Ke({bottom:"0px",left:`${Pr.size}px`,position:"absolute",right:"0px",top:`${Pr.size}px`}),i=H(()=>({backgroundColor:t.sceneBackgroundColor.value})),o=Ke({bottom:"0px",left:"0px",position:"absolute",right:"0px",top:"0px"});return Ht({screenClass:r,screenMaskClass:o,screenStyle:i,wrapperClass:e,wrapperStyle:n})}function c9({sceneWidth:t,sceneHeight:e,boardWidth:n,boardHeight:r,padding:i=10}){const o=(e-i*2)/r,a=(t-i*2)/n,s=Jo(Math.min(o,a,1)),l=Jo((t-n*s)/2),u=Jo((e-r*s)/2);return{left:l,scale:s,top:u}}function f9({sceneLeft:t,sceneTop:e,scaleNow:n,zoomCenterX:r=0,zoomCenterY:i=0,scaleTo:o,min:a=.1}){if(o===n)return{left:t,scale:n,top:e};const s=Jo(o);if(s<=a)return{left:t,scale:a,top:e};const l=(r-t)/n,u=(i-e)/n,c=Jo(r-l*o),f=Jo(i-u*o);return{left:c,scale:s,top:f}}function d9({sceneWidth:t,sceneHeight:e,boardWidth:n,boardHeight:r,scale:i}){const o=Jo((t-n*i)/2),a=Jo((e-r*i)/2);return{left:o,top:a}}function h9(t,{sceneRef:e}){const{isOutside:n}=ad(e);function r(){const{left:d,top:h}=d9({boardHeight:t.sceneSubInstanceBoardStateHeight.value,boardWidth:t.sceneSubInstanceBoardStateWidth.value,scale:t.sceneScale.value,sceneHeight:t.sceneHeight.value,sceneWidth:t.sceneWidth.value});t.sceneSubInstanceBoardStateLeft.value=d,t.sceneSubInstanceBoardStateTop.value=h}function i({scaleTo:d,zoomCenterX:h,zoomCenterY:p}){const{left:m,top:v,scale:g}=f9({scaleNow:t.sceneScale.value,scaleTo:d,sceneLeft:t.sceneSubInstanceBoardStateLeft.value,sceneTop:t.sceneSubInstanceBoardStateTop.value,zoomCenterX:h??t.sceneWidth.value/2,zoomCenterY:p??t.sceneHeight.value/2});t.sceneSubInstanceBoardStateLeft.value=m,t.sceneSubInstanceBoardStateTop.value=v,t.sceneScale.value=g}function o({step:d,zoomCenterX:h,zoomCenterY:p}){i({scaleTo:t.sceneScale.value+d,zoomCenterX:h,zoomCenterY:p})}function a({step:d,zoomCenterX:h,zoomCenterY:p}){i({scaleTo:t.sceneScale.value-d,zoomCenterX:h,zoomCenterY:p})}function s(){const{scale:d,left:h,top:p}=c9({boardHeight:t.sceneSubInstanceBoardStateHeight.value,boardWidth:t.sceneSubInstanceBoardStateWidth.value,sceneHeight:t.sceneHeight.value,sceneWidth:t.sceneWidth.value});t.sceneSubInstanceBoardStateLeft.value=h,t.sceneSubInstanceBoardStateTop.value=p,t.sceneScale.value=d}const{meta:l}=Hf({onEventFired:d=>{d.code==="meta"&&d.preventDefault()},passive:!1}),{control:u}=Hf({onEventFired:d=>{d.code==="control"&&d.preventDefault()},passive:!1}),{elementX:c,elementY:f}=ad(t.sceneRef);return ku(t.sceneRef,"wheel",d=>{n.value||!l.value&&!u.value||d.deltaY!==0&&(d.deltaY>0?a({step:.02,zoomCenterX:c.value,zoomCenterY:f.value}):o({step:.02,zoomCenterX:c.value,zoomCenterY:f.value}),d.preventDefault())},{passive:!1}),{methodMoveToCenter:r,methodZoomFit:s,methodZoomIn:o,methodZoomOut:a,methodZoomTo:i}}const cm=-1,p9={backgroundColor:Jn.gray[100],height:cm,lines:()=>[],settingPointsIncludeBoardCenter:!1,settingPointsIncludeBoardEdge:!1,settingPointsIncludeBoxCenter:!1,settingPointsIncludeBoxEdge:!1,width:cm};function m9(t,e){const n=Te(),{width:r,height:i}=w6(n),{sceneSubInstanceBoard:o}=cL(),{sceneSubInstanceBoxList:a}=CL(),{sceneSubInstanceRulerHorizontal:s,sceneSubInstanceRulerVertical:l}=jL(),u=l9(t,e,{sceneHeight:i,sceneRef:n,sceneSubInstanceBoard:o,sceneSubInstanceBoxList:a,sceneSubInstanceRulerHorizontal:s,sceneSubInstanceRulerVertical:l,sceneWidth:r}),{methodMoveToCenter:c,methodZoomFit:f,methodZoomIn:d,methodZoomOut:h,methodZoomTo:p}=h9(u,{sceneRef:n});Lz(u),n9(u);const m=u9(u),v={...u,methodMoveToCenter:c,methodZoomFit:f,methodZoomIn:d,methodZoomOut:h,methodZoomTo:p};return{sceneRef:n,state:v,style:m}}const g9=De({name:"DraggableScene",__name:"Scene",props:Ur({scale:{},height:{},width:{},mouseMode:{},lines:{},id:{},backgroundColor:{},settingPointsIncludeBoardCenter:{type:Boolean},settingPointsIncludeBoardEdge:{type:Boolean},settingPointsIncludeBoxCenter:{type:Boolean},settingPointsIncludeBoxEdge:{type:Boolean}},p9),emits:["update:scale","update:lines"],setup(t,{expose:e,emit:n}){const r=t,i=n,{state:o,style:a,sceneRef:s}=m9(r,i);return e({state:o}),(l,u)=>(Ce(),Re("div",{"data-draggable-element":"Scene:wrapper",class:it(O(a).wrapperClass),style:Ct(O(a).wrapperStyle)},[we("div",{ref_key:"sceneRef",ref:s,tabindex:"0","data-draggable-element":"Scene:screen",class:it(O(a).screenClass),style:Ct(O(a).screenStyle)},[k(O(dx),{id:O(o).sceneId.value,selected:O(o).sceneSelected.value,"onUpdate:selected":u[0]||(u[0]=c=>O(o).sceneSelected.value=c),"shadow-position":"inside",type:"scene"},{default:Ae(()=>[vn(l.$slots,"default"),k(O(HL))]),_:3},8,["id","selected"]),(Ce(!0),Re(gt,null,wo(O(o).sceneGuideLines.value,c=>(Ce(),rt(O(FL),{id:c.id,key:c.id,position:c.position,"onUpdate:position":f=>c.position=f,direction:c.direction},null,8,["id","position","onUpdate:position","direction"]))),128)),O(o).sceneMouseMode.value==="drag"||O(o).sceneSpaceKeyHolding.value===!0?(Ce(),Re("div",{key:0,"data-draggable-element":"Scene:screen:mask",class:it(O(a).screenMaskClass)},null,2)):et("",!0)],6),k(O(t9)),k(O(wC),{direction:"horizontal"}),k(O(wC),{direction:"vertical"})],6))}});/*!
 * OverlayScrollbars
 * Version: 2.4.6
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */const co=(t,e)=>{const{o:n,u:r,_:i}=t;let o=n,a;const s=(c,f)=>{const d=o,h=c,p=f||(r?!r(d,h):d!==h);return(p||i)&&(o=h,a=d),[o,p,a]};return[e?c=>s(e(o,a),c):s,c=>[o,!!c,a]]},hx=typeof window<"u",uB=hx&&Node.ELEMENT_NODE,{toString:v9,hasOwnProperty:g0}=Object.prototype,y9=/^\[object (.+)\]$/,Ll=t=>t===void 0,zg=t=>t===null,b9=t=>Ll(t)||zg(t)?`${t}`:v9.call(t).replace(y9,"$1").toLowerCase(),ea=t=>typeof t=="number",qd=t=>typeof t=="string",cB=t=>typeof t=="boolean",na=t=>typeof t=="function",ra=t=>Array.isArray(t),sd=t=>typeof t=="object"&&!ra(t)&&!zg(t),Lg=t=>{const e=!!t&&t.length,n=ea(e)&&e>-1&&e%1==0;return ra(t)||!na(t)&&n?e>0&&sd(t)?e-1 in t:!0:!1},fm=t=>{if(!t||!sd(t)||b9(t)!=="object")return!1;let e;const n="constructor",r=t[n],i=r&&r.prototype,o=g0.call(t,n),a=i&&g0.call(i,"isPrototypeOf");if(r&&!o&&!a)return!1;for(e in t);return Ll(e)||g0.call(t,e)},Uf=t=>{const e=HTMLElement;return t?e?t instanceof e:t.nodeType===uB:!1},Hg=t=>{const e=Element;return t?e?t instanceof e:t.nodeType===uB:!1};function Vt(t,e){if(Lg(t))for(let n=0;n<t.length&&e(t[n],n,t)!==!1;n++);else t&&Vt(Object.keys(t),n=>e(t[n],n,t));return t}const Vg=(t,e)=>t.indexOf(e)>=0,Aa=(t,e)=>t.concat(e),Qt=(t,e,n)=>(!n&&!qd(e)&&Lg(e)?Array.prototype.push.apply(t,e):t.push(e),t),kc=t=>{const e=Array.from,n=[];return e&&t?e(t):(t instanceof Set?t.forEach(r=>{Qt(n,r)}):Vt(t,r=>{Qt(n,r)}),n)},fB=t=>ra(t)?t:[t],dm=t=>!!t&&!t.length,SC=t=>kc(new Set(t)),ji=(t,e,n)=>{Vt(t,i=>i&&i.apply(void 0,e||[])),!n&&(t.length=0)},Ug=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),Va=t=>t?Object.keys(t):[],Gt=(t,e,n,r,i,o,a)=>{const s=[e,n,r,i,o,a];return(typeof t!="object"||zg(t))&&!na(t)&&(t={}),Vt(s,l=>{Vt(l,(u,c)=>{const f=l[c];if(t===f)return!0;const d=ra(f);if(f&&fm(f)){const h=t[c];let p=h;d&&!ra(h)?p=[]:!d&&!fm(h)&&(p={}),t[c]=Gt(p,f)}else t[c]=d?f.slice():f})}),t},dB=(t,e)=>Vt(Gt({},t),(n,r,i)=>{n===void 0?delete i[r]:e&&n&&fm(n)&&(i[r]=dB(n,e))}),px=t=>{for(const e in t)return!1;return!0},Nr=(t,e,n)=>{if(Ll(n))return t?t.getAttribute(e):null;t&&t.setAttribute(e,n)},hB=(t,e)=>new Set((Nr(t,e)||"").split(" ")),Kr=(t,e)=>{t&&t.removeAttribute(e)},wl=(t,e,n,r)=>{if(n){const i=hB(t,e);i[r?"add":"delete"](n);const o=kc(i).join(" ").trim();Nr(t,e,o)}},x9=(t,e,n)=>hB(t,e).has(n),Ly=hx&&Element.prototype,pB=(t,e)=>{const n=[],r=e?Hg(e)&&e:document;return r?Qt(n,r.querySelectorAll(t)):n},w9=(t,e)=>{const n=e?Hg(e)&&e:document;return n?n.querySelector(t):null},hm=(t,e)=>Hg(t)?(Ly.matches||Ly.msMatchesSelector).call(t,e):!1,Hy=t=>t?kc(t.childNodes):[],Ba=t=>t&&t.parentElement,Eu=(t,e)=>{if(Hg(t)){const n=Ly.closest;if(n)return n.call(t,e);do{if(hm(t,e))return t;t=Ba(t)}while(t)}},S9=(t,e,n)=>{const r=Eu(t,e),i=t&&w9(n,r),o=Eu(i,e)===r;return r&&i?r===t||i===t||o&&Eu(Eu(t,n),e)!==r:!1},Li=()=>{},Ia=t=>{if(Lg(t))Vt(kc(t),e=>Ia(e));else if(t){const e=Ba(t);e&&e.removeChild(t)}},mx=(t,e,n)=>{if(n&&t){let r=e,i;return Lg(n)?(i=document.createDocumentFragment(),Vt(n,o=>{o===r&&(r=o.previousSibling),i.appendChild(o)})):i=n,e&&(r?r!==e&&(r=r.nextSibling):r=t.firstChild),t.insertBefore(i,r||null),()=>Ia(n)}return Li},Ri=(t,e)=>mx(t,null,e),C9=(t,e)=>mx(Ba(t),t,e),CC=(t,e)=>mx(Ba(t),t&&t.nextSibling,e),Sl=t=>{const e=document.createElement("div");return Nr(e,"class",t),e},mB=t=>{const e=Sl();return e.innerHTML=t.trim(),Vt(Hy(e),n=>Ia(n))},Ci=hx?window:{},Pp=Math.max,A9=Math.min,ld=Math.round,gB=Ci.cancelAnimationFrame,vB=Ci.requestAnimationFrame,pm=Ci.setTimeout,Vy=Ci.clearTimeout,Uy=t=>t.charAt(0).toUpperCase()+t.slice(1),D9=()=>Sl().style,E9=["-webkit-","-moz-","-o-","-ms-"],M9=["WebKit","Moz","O","MS","webkit","moz","o","ms"],v0={},y0={},N9=t=>{let e=y0[t];if(Ug(y0,t))return e;const n=Uy(t),r=D9();return Vt(E9,i=>{const o=i.replace(/-/g,"");return!(e=[t,i+t,o+n,Uy(o)+n].find(s=>r[s]!==void 0))}),y0[t]=e||""},qg=t=>{let e=v0[t]||Ci[t];return Ug(v0,t)||(Vt(M9,n=>(e=e||Ci[n+Uy(t)],!e)),v0[t]=e),e},$9=qg("MutationObserver"),AC=qg("IntersectionObserver"),mm=qg("ResizeObserver"),qy=qg("ScrollTimeline"),ut=(t,...e)=>t.bind(0,...e),cs=t=>{let e;const n=t?pm:vB,r=t?Vy:gB;return[i=>{r(e),e=n(i,na(t)?t():t)},()=>r(e)]},yB=(t,e)=>{let n,r,i,o=Li;const{v:a,p:s,S:l}=e||{},u=function(p){o(),Vy(n),n=r=void 0,o=Li,t.apply(this,p)},c=h=>l&&r?l(r,h):h,f=()=>{o!==Li&&u(c(i)||i)},d=function(){const p=kc(arguments),m=na(a)?a():a;if(ea(m)&&m>=0){const g=na(s)?s():s,w=ea(g)&&g>=0,y=m>0?pm:vB,S=m>0?Vy:gB,b=c(p)||p,C=u.bind(0,b);o();const A=y(C,m);o=()=>S(A),w&&!n&&(n=pm(f,g)),r=i=b}else u(p)};return d.m=f,d},O9=/[^\x20\t\r\n\f]+/g,bB=(t,e,n)=>{const r=t&&t.classList;let i,o=0,a=!1;if(r&&e&&qd(e)){const s=e.match(O9)||[];for(a=s.length>0;i=s[o++];)a=!!n(r,i)&&a}return a},gx=(t,e)=>{bB(t,e,(n,r)=>n.remove(r))},Bs=(t,e)=>(bB(t,e,(n,r)=>n.add(r)),ut(gx,t,e)),T9=/^--/,DC=(t,e)=>t.getPropertyValue(e)||t[e]||"",vx=t=>{const e=t||0;return isFinite(e)?e:0},Mh=t=>vx(parseFloat(t||"")),Nh=t=>`${(vx(t)*100).toFixed(3)}%`,Mf=t=>`${vx(t)}px`;function Ms(t,e){t&&Vt(e,(n,r)=>{try{const i=t.style,o=ea(n)?Mf(n):n+"";T9.test(r)?i.setProperty(r,o):i[r]=o}catch{}})}function Ua(t,e,n){const r=qd(e);let i=r?"":{};if(t){const o=Ci.getComputedStyle(t,n)||t.style;i=r?DC(o,e):e.reduce((a,s)=>(a[s]=DC(o,s),a),i)}return i}const Fu=t=>Ua(t,"direction")==="rtl",EC=(t,e,n)=>{const r=e?`${e}-`:"",i=n?`-${n}`:"",o=`${r}top${i}`,a=`${r}right${i}`,s=`${r}bottom${i}`,l=`${r}left${i}`,u=Ua(t,[o,a,s,l]);return{t:Mh(u[o]),r:Mh(u[a]),b:Mh(u[s]),l:Mh(u[l])}},su=(t,e)=>`translate${sd(t)?`(${t.x},${t.y})`:`${e?"X":"Y"}(${t})`}`,xB="paddingTop",yx="paddingRight",bx="paddingLeft",gm="paddingBottom",vm="marginLeft",ym="marginRight",qf="marginBottom",Nf="overflowX",$f="overflowY",qa="width",Wa="height",nc="hidden",B9={w:0,h:0},Wg=(t,e)=>e?{w:e[`${t}Width`],h:e[`${t}Height`]}:B9,I9=t=>Wg("inner",t||Ci),Wf=ut(Wg,"offset"),kp=ut(Wg,"client"),bm=ut(Wg,"scroll"),xm=t=>{const e=parseFloat(Ua(t,qa))||0,n=parseFloat(Ua(t,Wa))||0;return{w:e-ld(e),h:n-ld(n)}},Go=t=>t.getBoundingClientRect(),Wy=t=>!!(t&&(t[Wa]||t[qa])),wB=(t,e)=>{const n=Wy(t);return!Wy(e)&&n},jg=(t,e,n,r)=>{if(t&&e){let i=!0;return Vt(n,o=>{const a=r?r(t[o]):t[o],s=r?r(e[o]):e[o];a!==s&&(i=!1)}),i}return!1},SB=(t,e)=>jg(t,e,["w","h"]),CB=(t,e)=>jg(t,e,["x","y"]),P9=(t,e)=>jg(t,e,["t","r","b","l"]),MC=(t,e,n)=>jg(t,e,[qa,Wa],n&&(r=>ld(r)));let $h;const NC="passive",k9=()=>{if(Ll($h)){$h=!1;try{Ci.addEventListener(NC,Li,Object.defineProperty({},NC,{get(){$h=!0}}))}catch{}}return $h},AB=t=>t.split(" "),$C=(t,e,n,r)=>{Vt(AB(e),i=>{t.removeEventListener(i,n,r)})},Cn=(t,e,n,r)=>{var i;const o=k9(),a=(i=o&&r&&r.$)!=null?i:o,s=r&&r.O||!1,l=r&&r.C||!1,u=o?{passive:a,capture:s}:s;return ut(ji,AB(e).map(c=>{const f=l?d=>{$C(t,c,f,s),n(d)}:n;return t.addEventListener(c,f,u),ut($C,t,c,f,s)}))},DB=t=>t.stopPropagation(),OC=t=>t.preventDefault(),F9={x:0,y:0},b0=t=>{const e=t&&Go(t);return e?{x:e.left+Ci.pageYOffset,y:e.top+Ci.pageXOffset}:F9},EB=(t,e,n)=>n?n.n?-t:n.i?e-t:t:t,R9=(t,e)=>[e&&e.i?t:0,EB(t,t,e)],Is=(t,e)=>{const{x:n,y:r}=ea(e)?{x:e,y:e}:e||{};ea(n)&&(t.scrollLeft=n),ea(r)&&(t.scrollTop=r)},rc=t=>({x:t.scrollLeft,y:t.scrollTop}),TC=(t,e)=>{Vt(fB(e),t)},jy=t=>{const e=new Map,n=(o,a)=>{if(o){const s=e.get(o);TC(l=>{s&&s[l?"delete":"clear"](l)},a)}else e.forEach(s=>{s.clear()}),e.clear()},r=(o,a)=>{if(qd(o)){const u=e.get(o)||new Set;return e.set(o,u),TC(c=>{na(c)&&u.add(c)},a),ut(n,o,a)}cB(a)&&a&&n();const s=Va(o),l=[];return Vt(s,u=>{const c=o[u];c&&Qt(l,r(u,c))}),ut(ji,l)},i=(o,a)=>{Vt(kc(e.get(o)),s=>{a&&!dm(a)?s.apply(0,a):s()})};return r(t||{}),[r,n,i]},BC=t=>JSON.stringify(t,(e,n)=>{if(na(n))throw 0;return n}),IC=(t,e)=>t?`${e}`.split(".").reduce((n,r)=>n&&Ug(n,r)?n[r]:void 0,t):void 0,_9={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},MB=(t,e)=>{const n={},r=Aa(Va(e),Va(t));return Vt(r,i=>{const o=t[i],a=e[i];if(sd(o)&&sd(a))Gt(n[i]={},MB(o,a)),px(n[i])&&delete n[i];else if(Ug(e,i)&&a!==o){let s=!0;if(ra(o)||ra(a))try{BC(o)===BC(a)&&(s=!1)}catch{}s&&(n[i]=a)}}),n},z9=(t,e,n)=>r=>[IC(t,r),n||IC(e,r)!==void 0],Wd="data-overlayscrollbars",NB="os-environment",$B=`${NB}-flexbox-glue`,L9=`${$B}-max`,OB="os-scrollbar-hidden",x0=`${Wd}-initialize`,fo=Wd,TB=`${fo}-overflow-x`,BB=`${fo}-overflow-y`,Ru="overflowVisible",H9="scrollbarHidden",PC="scrollbarPressed",wm="updating",fs=`${Wd}-viewport`,w0="arrange",IB="scrollbarHidden",_u=Ru,Gy=`${Wd}-padding`,V9=_u,kC=`${Wd}-content`,xx="os-size-observer",U9=`${xx}-appear`,q9=`${xx}-listener`,W9="os-trinsic-observer",j9="os-no-css-vars",G9="os-theme-none",oi="os-scrollbar",X9=`${oi}-rtl`,K9=`${oi}-horizontal`,Y9=`${oi}-vertical`,PB=`${oi}-track`,wx=`${oi}-handle`,Z9=`${oi}-visible`,Q9=`${oi}-cornerless`,FC=`${oi}-transitionless`,RC=`${oi}-interaction`,_C=`${oi}-unusable`,Xy=`${oi}-auto-hide`,zC=`${Xy}-hidden`,LC=`${oi}-wheel`,J9=`${PB}-interactive`,e7=`${wx}-interactive`,kB={},FB={},t7=t=>{Vt(t,e=>Vt(e,(n,r)=>{kB[r]=e[r]}))},RB=(t,e,n)=>Va(t).map(r=>{const{static:i,instance:o}=t[r],[a,s,l]=n||[],u=n?o:i;if(u){const c=n?u(a,s,e):u(e);return(l||FB)[r]=c}}),Fc=t=>FB[t],n7="__osOptionsValidationPlugin",r7="__osSizeObserverPlugin",Sx="__osScrollbarsHidingPlugin",i7="__osClickScrollPlugin";let S0;const HC=(t,e,n,r)=>{Ri(t,e);const i=kp(e),o=Wf(e),a=xm(n);return r&&Ia(e),{x:o.h-i.h+a.h,y:o.w-i.w+a.w}},o7=t=>{let e=!1;const n=Bs(t,OB);try{e=Ua(t,N9("scrollbar-width"))==="none"||Ua(t,"display","::-webkit-scrollbar")==="none"}catch{}return n(),e},a7=(t,e)=>{Ms(t,{[Nf]:nc,[$f]:nc,direction:"rtl"}),Is(t,{x:0});const n=b0(t),r=b0(e);Is(t,{x:-999});const i=b0(e);return{i:n.x===r.x,n:r.x!==i.x}},s7=(t,e)=>{const n=Bs(t,$B),r=Go(t),i=Go(e),o=MC(i,r,!0),a=Bs(t,L9),s=Go(t),l=Go(e),u=MC(l,s,!0);return n(),a(),o&&u},l7=()=>{const{body:t}=document,n=mB(`<div class="${NB}"><div></div></div>`)[0],r=n.firstChild,[i,,o]=jy(),[a,s]=co({o:HC(t,n,r),u:CB},ut(HC,t,n,r,!0)),[l]=s(),u=o7(n),c={x:l.x===0,y:l.y===0},f={elements:{host:null,padding:!u,viewport:v=>u&&v===v.ownerDocument.body&&v,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},d=Gt({},_9),h=ut(Gt,{},d),p=ut(Gt,{},f),m={L:l,A:c,I:u,T:Ua(n,"zIndex")==="-1",V:!!qy,U:a7(n,r),B:s7(n,r),j:ut(i,"r"),N:p,G:v=>Gt(f,v)&&p(),q:h,F:v=>Gt(d,v)&&h(),W:Gt({},f),X:Gt({},d)};return Kr(n,"style"),Ia(n),Ci.addEventListener("resize",()=>{let v;if(!u&&(!c.x||!c.y)){const g=Fc(Sx);v=!!(g?g.P():Li)(m,a)}o("r",[v])}),m},ni=()=>(S0||(S0=l7()),S0),Cx=(t,e)=>na(e)?e.apply(0,t):e,u7=(t,e,n,r)=>{const i=Ll(r)?n:r;return Cx(t,i)||e.apply(0,t)},_B=(t,e,n,r)=>{const i=Ll(r)?n:r,o=Cx(t,i);return!!o&&(Uf(o)?o:e.apply(0,t))},c7=(t,e)=>{const{nativeScrollbarsOverlaid:n,body:r}=e||{},{A:i,I:o,N:a}=ni(),{nativeScrollbarsOverlaid:s,body:l}=a().cancel,u=n??s,c=Ll(r)?l:r,f=(i.x||i.y)&&u,d=t&&(zg(c)?!o:c);return!!f||!!d},Ax=new WeakMap,f7=(t,e)=>{Ax.set(t,e)},d7=t=>{Ax.delete(t)},zB=t=>Ax.get(t),h7=(t,e,n)=>{let r=!1;const i=n?new WeakMap:!1,o=()=>{r=!0},a=s=>{if(i&&n){const l=n.map(u=>{const[c,f]=u||[];return[f&&c?(s||pB)(c,t):[],f]});Vt(l,u=>Vt(u[0],c=>{const f=u[1],d=i.get(c)||[];if(t.contains(c)&&f){const p=Cn(c,f.trim(),m=>{r?(p(),i.delete(c)):e(m)});i.set(c,Qt(d,p))}else ji(d),i.delete(c)}))}};return a(),[o,a]},VC=(t,e,n,r)=>{let i=!1;const{Y:o,K:a,J:s,Z:l,tt:u,nt:c}=r||{},f=yB(()=>i&&n(!0),{v:33,p:99}),[d,h]=h7(t,f,s),p=o||[],m=a||[],v=Aa(p,m),g=(y,S)=>{if(!dm(S)){const x=u||Li,b=c||Li,C=[],A=[];let D=!1,E=!1;if(Vt(S,M=>{const{attributeName:B,target:P,type:F,oldValue:$,addedNodes:N,removedNodes:T}=M,z=F==="attributes",I=F==="childList",q=t===P,X=z&&B,V=X?Nr(P,B||""):null,L=X&&$!==V,ne=Vg(m,B)&&L;if(e&&(I||!q)){const se=z&&L,Y=se&&l&&hm(P,l),ie=(Y?!x(P,B,$,V):!z||se)&&!b(M,!!Y,t,r);Vt(N,j=>Qt(C,j)),Vt(T,j=>Qt(C,j)),E=E||ie}!e&&q&&L&&!x(P,B,$,V)&&(Qt(A,B),D=D||ne)}),h(M=>SC(C).reduce((B,P)=>(Qt(B,pB(M,P)),hm(P,M)?Qt(B,P):B),[])),e)return!y&&E&&n(!1),[!1];if(!dm(A)||D){const M=[SC(A),D];return!y&&n.apply(0,M),M}}},w=new $9(ut(g,!1));return[()=>(w.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:v,subtree:e,childList:e,characterData:e}),i=!0,()=>{i&&(d(),w.disconnect(),i=!1)}),()=>{if(i)return f.m(),g(!0,w.takeRecords())}]},LB=(t,e,n)=>{const{ot:i,st:o}=n||{},a=Fc(r7),{U:s}=ni(),l=ut(Fu,t),[u]=co({o:!1,_:!0});return()=>{const c=[],d=mB(`<div class="${xx}"><div class="${q9}"></div></div>`)[0],h=d.firstChild,p=m=>{const v=m instanceof ResizeObserverEntry,g=!v&&ra(m);let w=!1,y=!1,S=!0;if(v){const[x,,b]=u(m.contentRect),C=Wy(x),A=wB(x,b);y=!b||A,w=!y&&!C,S=!w}else g?[,S]=m:y=m===!0;if(i&&S){const x=g?m[0]:Fu(d);Is(d,{x:EB(3333333,3333333,x&&s),y:3333333})}w||e({et:g?m:void 0,ct:!g,st:y})};if(mm){const m=new mm(v=>p(v.pop()));m.observe(h),Qt(c,()=>{m.disconnect()})}else if(a){const[m,v]=a(h,p,o);Qt(c,Aa([Bs(d,U9),Cn(d,"animationstart",m)],v))}else return Li;if(i){const[m]=co({o:void 0},l);Qt(c,Cn(d,"scroll",v=>{const g=m(),[w,y,S]=g;y&&(gx(h,"ltr rtl"),Bs(h,w?"rtl":"ltr"),p([!!w,y,S])),DB(v)}))}return ut(ji,Qt(c,Ri(t,d)))}},p7=(t,e)=>{let n;const r=l=>l.h===0||l.isIntersecting||l.intersectionRatio>0,i=Sl(W9),[o]=co({o:!1}),a=(l,u)=>{if(l){const c=o(r(l)),[,f]=c;return f&&!u&&e(c)&&[c]}},s=(l,u)=>a(u.pop(),l);return[()=>{const l=[];if(AC)n=new AC(ut(s,!1),{root:t}),n.observe(i),Qt(l,()=>{n.disconnect()});else{const u=()=>{const c=Wf(i);a(c)};Qt(l,LB(i,u)()),u()}return ut(ji,Qt(l,Ri(t,i)))},()=>n&&s(!0,n.takeRecords())]},m7=(t,e)=>{let n,r,i,o,a;const{I:s}=ni(),l=`[${fo}]`,u=`[${fs}]`,c=["tabindex"],f=["wrap","cols","rows"],d=["id","class","style","open"],h={rt:!1,lt:Fu(t.it)},{it:p,ut:m,ft:v,_t:g,dt:w,vt:y,ht:S}=t,{B:x,j:b}=ni(),[C]=co({u:SB,o:{w:0,h:0}},()=>{const X=y(_u,Ru),V=y(w0,""),L=V&&rc(m);S(_u,Ru),S(w0,""),S("",wm,!0);const ne=bm(v),se=bm(m),Y=xm(m);return S(_u,Ru,X),S(w0,"",V),S("",wm),Is(m,L),{w:se.w+ne.w+Y.w,h:se.h+ne.h+Y.h}}),A=g?f:Aa(d,f),D=yB(e,{v:()=>n,p:()=>r,S(X,V){const[L]=X,[ne]=V;return[Aa(Va(L),Va(ne)).reduce((se,Y)=>(se[Y]=L[Y]||ne[Y],se),{})]}}),E=X=>{Vt(X||c,V=>{if(Vg(c,V)){const L=Nr(p,V);qd(L)?Nr(m,V,L):Kr(m,V)}})},M=(X,V)=>{const[L,ne]=X,se={gt:ne};return Gt(h,{rt:L}),!V&&e(se),se},B=({ct:X,et:V,st:L})=>{const se=!(X&&!L&&!V)&&s?D:e,[Y,ee]=V||[];V&&Gt(h,{lt:Y}),se({ct:X||L,st:L,bt:ee})},P=(X,V)=>{const[,L]=C(),ne={wt:L};return L&&!V&&(X?e:D)(ne),ne},F=(X,V,L)=>{const ne={yt:V};return V&&!L?D(ne):w||E(X),ne},[$,N]=v||!x?p7(p,M):[],T=!w&&LB(p,B,{st:!0,ot:!0}),[z,I]=VC(p,!1,F,{K:d,Y:Aa(d,c)}),q=w&&mm&&new mm(X=>{const V=X[X.length-1].contentRect;B({ct:!0,st:wB(V,a)}),a=V});return[()=>{E(),q&&q.observe(p);const X=T&&T(),V=$&&$(),L=z(),ne=b(se=>{const[,Y]=C();D({St:se,wt:Y})});return()=>{q&&q.disconnect(),X&&X(),V&&V(),o&&o(),L(),ne()}},({$t:X,xt:V,Ot:L})=>{const ne={},[se]=X("update.ignoreMutation"),[Y,ee]=X("update.attributes"),[ie,j]=X("update.elementEvents"),[W,J]=X("update.debounce"),oe=j||ee,de=V||L,ge=U=>na(se)&&se(U);if(oe){i&&i(),o&&o();const[U,Z]=VC(v||m,!0,P,{Y:Aa(A,Y||[]),J:ie,Z:l,nt:(fe,Q)=>{const{target:re,attributeName:ue}=fe;return(!Q&&ue&&!w?S9(re,l,u):!1)||!!Eu(re,`.${oi}`)||!!ge(fe)}});o=U(),i=Z}if(J)if(D.m(),ra(W)){const U=W[0],Z=W[1];n=ea(U)&&U,r=ea(Z)&&Z}else ea(W)?(n=W,r=!1):(n=!1,r=!1);if(de){const U=I(),Z=N&&N(),fe=i&&i();U&&Gt(ne,F(U[0],U[1],de)),Z&&Gt(ne,M(Z[0],de)),fe&&Gt(ne,P(fe[0],de))}return ne},h]},Ky=(t,e,n)=>Pp(t,A9(e,n)),g7=(t,e,n)=>{const r=ld(e),[i,o]=R9(r,n),a=(o-t)/o,s=t/i,l=t/o,u=n?n.n?a:n.i?s:l:l;return Ky(0,1,u)},HB=(t,e,n)=>{if(n){const l=e?qa:Wa,{Ct:u,Ht:c}=n,f=Go(c)[l],d=Go(u)[l];return Ky(0,1,f/d)}const r=e?"x":"y",{zt:i,It:o}=t,a=o[r],s=i[r];return Ky(0,1,a/(a+s))},UC=(t,e,n,r)=>{const i=HB(t,r,e);return 1/i*(1-i)*n},v7=(t,e,n,r)=>{const{N:i,T:o}=ni(),{scrollbars:a}=i(),{slot:s}=a,{At:l,it:u,ut:c,Et:f,Tt:d,Dt:h,dt:p}=e,{scrollbars:m}=f?{}:t,{slot:v}=m||{},g=new Map,w=ee=>qy&&new qy({source:d,axis:ee}),y=w("x"),S=w("y"),x=_B([l,u,c],()=>p&&h?l:u,s,v),b=ee=>p&&!h&&Ba(ee)===c,C=(ee,ie,j)=>{const W=.5*(j?1:-1),J=ie&&j?-1:1;return{transform:[su(Mf(0+W),ie),su(Mf(ee*J+W),ie)]}},A=(ee,ie)=>Gt(ee,ie?{clear:["left"]}:{}),D=ee=>{g.forEach((ie,j)=>{(ee?Vg(fB(ee),j):!0)&&(Vt(ie||[],J=>{J&&J.cancel()}),g.delete(j))})},E=(ee,ie,j,W)=>{const J=g.get(ee)||[],oe=J.find(de=>de&&de.timeline===ie);oe?oe.effect=new KeyframeEffect(ee,j,{composite:W}):g.set(ee,Aa(J,[ee.animate(j,{timeline:ie,composite:W})]))},M=(ee,ie,j)=>{const W=j?Bs:gx;Vt(ee,J=>{W(J.kt,ie)})},B=(ee,ie)=>{Vt(ee,j=>{const[W,J]=ie(j);Ms(W,J)})},P=(ee,ie)=>{B(ee,j=>{const{Ht:W}=j;return[W,{[ie?qa:Wa]:Nh(HB(n,ie))}]})},F=(ee,ie)=>{y&&S?Vt(ee,j=>{const{kt:W,Ht:J}=j,oe=ut(UC,n,j),de=ie&&Fu(W),ge=oe(de?1:0,ie),U=oe(de?0:1,ie);E(J,ie?y:S,A({transform:[su(Nh(ge),ie),su(Nh(U),ie)]},de))}):B(ee,j=>{const{Ht:W,kt:J}=j,{U:oe}=ni(),de=ie?"x":"y",{zt:ge}=n,U=Fu(J),Z=UC(n,j,g7(rc(d)[de],ge[de],ie&&U&&oe),ie);return[W,{transform:su(Nh(Z),ie)}]})},$=ee=>{const{kt:ie}=ee,j=b(ie)&&ie,{x:W,y:J}=rc(d);return[j,{transform:j?su({x:Mf(W),y:Mf(J)}):""}]},N=[],T=[],z=[],I=(ee,ie,j)=>{const W=cB(j),J=W?j:!0,oe=W?!j:!0;J&&M(T,ee,ie),oe&&M(z,ee,ie)},q=()=>{P(T,!0),P(z)},X=()=>{F(T,!0),F(z)},V=()=>{if(p)if(y&&S){const{zt:ee}=n,ie=!!T.find(({kt:W})=>Fu(W)),j=(W,J,oe,de,ge)=>E(W,J,A(C(oe,de,ge),ie),"add");Vt(Aa(z,T),({kt:W})=>{b(W)?(j(W,y,ee.x,!0,ie),j(W,S,ee.y)):D(W)})}else B(T,$),B(z,$)},L=ee=>{const ie=ee?K9:Y9,j=ee?T:z,W=dm(j)?FC:"",J=Sl(`${oi} ${ie} ${W}`),oe=Sl(PB),de=Sl(wx),ge={kt:J,Ct:oe,Ht:de};return o||Bs(J,j9),Qt(j,ge),Qt(N,[Ri(J,oe),Ri(oe,de),ut(Ia,J),D,r(ge,I,F,ee)]),ge},ne=ut(L,!0),se=ut(L,!1),Y=()=>(Ri(x,T[0].kt),Ri(x,z[0].kt),pm(()=>{I(FC)},300),ut(ji,N));return ne(),se(),[{Mt:q,Rt:X,Pt:V,Lt:I,Vt:{V:y,Ut:T,Bt:ne,jt:ut(B,T)},Nt:{V:S,Ut:z,Bt:se,jt:ut(B,z)}},Y]},y7=(t,e,n)=>{const{it:r,Tt:i,Gt:o}=e;return(a,s,l,u)=>{const{kt:c,Ct:f,Ht:d}=a,[h,p]=cs(333),[m,v]=cs(),g=ut(l,[a],u),w=!!i.scrollBy,y=`client${u?"X":"Y"}`,S=u?qa:Wa,x=u?"left":"top",b=u?"w":"h",C=u?"x":"y",A=M=>M.propertyName.indexOf(S)>-1,D=()=>{const M="pointerup pointerleave pointercancel lostpointercapture",B=(P,F)=>$=>{const{zt:N}=n,T=Wf(f)[b]-Wf(d)[b],I=F*$/T*N[C];Is(i,{[C]:P+I})};return Cn(f,"pointerdown",P=>{const F=Eu(P.target,`.${wx}`)===d,$=F?d:f,N=t.scrollbars,{button:T,isPrimary:z,pointerType:I}=P,{pointers:q}=N;if(T===0&&z&&N[F?"dragScroll":"clickScroll"]&&(q||[]).includes(I)){const V=!F&&P.shiftKey,L=ut(Go,d),ne=ut(Go,f),se=(fe,Q)=>(fe||L())[x]-(Q||ne())[x],Y=ld(Go(i)[S])/Wf(i)[b]||1,ee=B(rc(i)[C]||0,1/Y),ie=P[y],j=L(),W=ne(),J=j[S],oe=se(j,W)+J/2,de=ie-W[x],ge=F?0:de-oe,U=fe=>{ji(Z),$.releasePointerCapture(fe.pointerId)},Z=[ut(wl,r,fo,PC),Cn(o,M,U),Cn(o,"selectstart",fe=>OC(fe),{$:!1}),Cn(f,M,U),Cn(f,"pointermove",fe=>{const Q=fe[y]-ie;(F||V)&&ee(ge+Q)})];if(wl(r,fo,PC,!0),$.setPointerCapture(P.pointerId),V)ee(ge);else if(!F){const fe=Fc(i7);fe&&Qt(Z,fe(ee,se,ge,J,de))}}})};let E=!0;return ut(ji,[Cn(c,"pointerenter",()=>{s(RC,!0)}),Cn(c,"pointerleave pointercancel",()=>{s(RC,!1)}),Cn(c,"wheel",M=>{const{deltaX:B,deltaY:P,deltaMode:F}=M;w&&E&&F===0&&Ba(c)===r&&i.scrollBy({left:B,top:P,behavior:"smooth"}),E=!1,s(LC,!0),h(()=>{E=!0,s(LC)}),OC(M)},{$:!1,O:!0}),Cn(d,"transitionstart",M=>{if(A(M)){const B=()=>{g(),m(B)};B()}}),Cn(d,"transitionend transitioncancel",M=>{A(M)&&(v(),g())}),Cn(c,"mousedown",ut(Cn,o,"click",DB,{C:!0,O:!0}),{O:!0}),D(),p,v])}},b7=(t,e,n,r,i,o)=>{let a,s,l,u,c,f=Li,d=0;const[h,p]=cs(),[m,v]=cs(),[g,w]=cs(100),[y,S]=cs(100),[x,b]=cs(100),[C,A]=cs(()=>d),[D,E]=v7(t,i,r,y7(e,i,r)),{it:M,qt:B,Dt:P}=i,{Lt:F,Mt:$,Rt:N,Pt:T}=D,z=L=>{F(Xy,L,!0),F(Xy,L,!1)},I=(L,ne)=>{if(A(),L)F(zC);else{const se=ut(F,zC,!0);d>0&&!ne?C(se):se()}},q=L=>L.pointerType==="mouse",X=L=>{q(L)&&(u=s,u&&I(!0))},V=[w,A,S,b,v,p,()=>f(),Cn(M,"pointerover",X,{C:!0}),Cn(M,"pointerenter",X),Cn(M,"pointerleave",L=>{q(L)&&(u=!1,s&&I(!1))}),Cn(M,"pointermove",L=>{q(L)&&a&&h(()=>{w(),I(!0),y(()=>{a&&I(!1)})})}),Cn(B,"scroll",L=>{m(()=>{N(),l&&I(!0),g(()=>{l&&!u&&I(!1)})}),o(L),T()})];return[()=>ut(ji,Qt(V,E())),({$t:L,Ot:ne,Ft:se,Wt:Y})=>{const{Xt:ee,Yt:ie,Kt:j}=Y||{},{bt:W,st:J}=se||{},{lt:oe}=n,{A:de}=ni(),{zt:ge,Jt:U,Zt:Z}=r,[fe,Q]=L("showNativeOverlaidScrollbars"),[re,ue]=L("scrollbars.theme"),[ye,xe]=L("scrollbars.visibility"),[G,te]=L("scrollbars.autoHide"),[he,ce]=L("scrollbars.autoHideSuspend"),[pe]=L("scrollbars.autoHideDelay"),[me,$e]=L("scrollbars.dragScroll"),[Ne,Me]=L("scrollbars.clickScroll"),Ie=J&&!ne,ft=Z.x||Z.y,vt=ee||ie||W||ne,We=j||xe,Kt=fe&&de.x&&de.y,R=(le,be)=>{const ke=ye==="visible"||ye==="auto"&&le==="scroll";return F(Z9,ke,be),ke};if(d=pe,Ie&&(he&&ft?(z(!1),f(),x(()=>{f=Cn(B,"scroll",ut(z,!0),{C:!0})})):z(!0)),Q&&F(G9,Kt),ue&&(F(c),F(re,!0),c=re),ce&&!he&&z(!0),te&&(a=G==="move",s=G==="leave",l=G!=="never",I(!l,!0)),$e&&F(e7,me),Me&&F(J9,Ne),We){const le=R(U.x,!0),be=R(U.y,!1);F(Q9,!(le&&be))}vt&&($(),N(),T(),F(_C,!ge.x,!0),F(_C,!ge.y,!1),F(X9,oe&&!P))},{},D]},x7=t=>{const e=ni(),{N:n,I:r}=e,i=Fc(Sx),o=i&&i.H,{elements:a}=n(),{host:s,padding:l,viewport:u,content:c}=a,f=Uf(t),d=f?{}:t,{elements:h}=d,{host:p,padding:m,viewport:v,content:g}=h||{},w=f?t:d.target,y=hm(w,"textarea"),S=w.ownerDocument,x=S.documentElement,b=w===S.body,C=S.defaultView,A=ut(u7,[w]),D=ut(_B,[w]),E=ut(Cx,[w]),M=ut(Sl,""),B=ut(A,M,u),P=ut(D,M,c),F=B(v),$=F===w,N=$&&b,T=!$&&P(g),z=!$&&Uf(F)&&F===T,I=z&&!!E(c),q=I?B():F,X=I?T:P(),L=N?x:z?q:F,ne=y?A(M,s,p):w,se=N?L:ne,Y=z?X:T,ee=S.activeElement,ie=!$&&C.top===C&&ee===w,j={At:w,it:se,ut:L,Qt:!$&&D(M,l,m),ft:Y,tn:!$&&!r&&o&&o(e),Tt:N?x:L,qt:N?S:L,nn:C,Gt:S,_t:y,Dt:b,Et:f,dt:$,sn:z,vt:(te,he)=>x9(L,$?fo:fs,$?he:te),ht:(te,he,ce)=>wl(L,$?fo:fs,$?he:te,ce)},W=Va(j).reduce((te,he)=>{const ce=j[he];return Qt(te,ce&&Uf(ce)&&!Ba(ce)?ce:!1)},[]),J=te=>te?Vg(W,te):null,{At:oe,it:de,Qt:ge,ut:U,ft:Z,tn:fe}=j,Q=[()=>{Kr(de,fo),Kr(de,x0),Kr(oe,x0),b&&(Kr(x,fo),Kr(x,x0))}],re=y&&J(de);let ue=y?oe:Hy([Z,U,ge,de,oe].find(te=>J(te)===!1));const ye=N?oe:Z||U,xe=ut(ji,Q);return[j,()=>{Nr(de,fo,$?"viewport":"host"),Nr(ge,Gy,""),Nr(Z,kC,""),$||Nr(U,fs,"");const te=b&&!$?Bs(Ba(w),OB):Li,he=ce=>{Ri(Ba(ce),Hy(ce)),Ia(ce)};if(re&&(CC(oe,de),Qt(Q,()=>{CC(de,oe),Ia(de)})),Ri(ye,ue),Ri(de,ge),Ri(ge||de,!$&&U),Ri(U,Z),Qt(Q,()=>{te(),Kr(ge,Gy),Kr(Z,kC),Kr(U,TB),Kr(U,BB),Kr(U,fs),J(Z)&&he(Z),J(U)&&he(U),J(ge)&&he(ge)}),r&&!$&&(wl(U,fs,IB,!0),Qt(Q,ut(Kr,U,fs))),fe&&(C9(U,fe),Qt(Q,ut(Ia,fe))),ie){const ce="tabindex",pe=Nr(U,ce);Nr(U,ce,"-1"),U.focus();const me=()=>pe?Nr(U,ce,pe):Kr(U,ce),$e=Cn(S,"pointerdown keydown",()=>{me(),$e()});Qt(Q,[me,$e])}else ee&&ee.focus&&ee.focus();return ue=0,xe},xe]},w7=({ft:t})=>({Ft:e,en:n,Ot:r})=>{const{B:i}=ni(),{gt:o}=e||{},{rt:a}=n;(t||!i)&&(o||r)&&Ms(t,{[Wa]:a?"":"100%"})},S7=({it:t,Qt:e,ut:n,dt:r},i)=>{const[o,a]=co({u:P9,o:EC()},ut(EC,t,"padding",""));return({$t:s,Ft:l,en:u,Ot:c})=>{let[f,d]=a(c);const{I:h,B:p}=ni(),{ct:m,wt:v,bt:g}=l||{},{lt:w}=u,[y,S]=s("paddingAbsolute");(m||d||(c||!p&&v))&&([f,d]=o(c));const b=!r&&(S||g||d);if(b){const C=!y||!e&&!h,A=f.r+f.l,D=f.t+f.b,E={[ym]:C&&!w?-A:0,[qf]:C?-D:0,[vm]:C&&w?-A:0,top:C?-f.t:0,right:C?w?-f.r:"auto":0,left:C?w?"auto":-f.l:0,[qa]:C?`calc(100% + ${A}px)`:""},M={[xB]:C?f.t:0,[yx]:C?f.r:0,[gm]:C?f.b:0,[bx]:C?f.l:0};Ms(e||n,E),Ms(n,M),Gt(i,{Qt:f,cn:!C,k:e?M:Gt({},E,M)})}return{rn:b}}},C7=({it:t,Qt:e,ut:n,tn:r,dt:i,ht:o,Dt:a,nn:s},l)=>{const u=ut(Pp,0),c="visible",f=42,d={u:SB,o:{w:0,h:0}},h={u:CB,o:{x:nc,y:nc}},p=(V,L)=>{const ne=Ci.devicePixelRatio%1!==0?1:0,se={w:u(V.w-L.w),h:u(V.h-L.h)};return{w:se.w>ne?se.w:0,h:se.h>ne?se.h:0}},m=V=>V.indexOf(c)===0,{L:v,B:g,I:w,A:y}=ni(),S=Fc(Sx),x=!i&&!w&&(y.x||y.y),b=a&&i,[C,A]=co(d,ut(xm,n)),[D,E]=co(d,ut(bm,n)),[M,B]=co(d),[P,F]=co(d),[$]=co(h),N=(V,L)=>{if(Ms(n,{[Wa]:""}),L){const{cn:ne,Qt:se}=l,{ln:Y,M:ee}=V,ie=xm(t),j=kp(t),W=Ua(n,"boxSizing")==="content-box",J=ne||W?se.b+se.t:0,oe=!(y.x&&W);Ms(n,{[Wa]:j.h+ie.h+(Y.x&&oe?ee.x:0)-J})}},T=(V,L)=>{const ne=!w&&!V?f:0,se=(ge,U,Z)=>{const fe=Ua(n,ge),re=(L?L[ge]:fe)==="scroll";return[fe,re,re&&!w?U?ne:Z:0,U&&!!ne]},[Y,ee,ie,j]=se(Nf,y.x,v.x),[W,J,oe,de]=se($f,y.y,v.y);return{Jt:{x:Y,y:W},ln:{x:ee,y:J},M:{x:ie,y:oe},R:{x:j,y:de}}},z=(V,L,ne,se)=>{const Y=(J,oe)=>{const de=m(J),ge=oe&&de&&J.replace(`${c}-`,"")||"";return[oe&&!de?J:"",m(ge)?"hidden":ge]},[ee,ie]=Y(ne.x,L.x),[j,W]=Y(ne.y,L.y);return se[Nf]=ie&&j?ie:ee,se[$f]=W&&ee?W:j,T(V,se)},I=(V,L,ne,se)=>{const{M:Y,R:ee}=V,{x:ie,y:j}=ee,{x:W,y:J}=Y,{k:oe}=l,de=L?vm:ym,ge=L?bx:yx,U=oe[de],Z=oe[qf],fe=oe[ge],Q=oe[gm];se[qa]=`calc(100% + ${J+U*-1}px)`,se[de]=-J+U,se[qf]=-W+Z,ne&&(se[ge]=fe+(j?J:0),se[gm]=Q+(ie?W:0))},[q,X]=S?S.D(x,g,n,r,l,T,I):[()=>x,()=>[Li]];return({$t:V,Ft:L,en:ne,Ot:se},{rn:Y})=>{const{ct:ee,yt:ie,wt:j,gt:W,bt:J,St:oe}=L||{},{rt:de,lt:ge}=ne,[U,Z]=V("showNativeOverlaidScrollbars"),[fe,Q]=V("overflow"),re=U&&y.x&&y.y,ue=!i&&!g&&(ee||j||ie||Z||W),ye=ee||Y||j||J||oe||Z,xe=m(fe.x),G=m(fe.y),te=xe||G;let he=A(se),ce=E(se),pe=B(se),me=F(se),$e;if(Z&&w&&o(IB,H9,!re),ue&&($e=T(re),N($e,de)),ye){te&&o(_u,Ru,!1);const[Sn,no]=X(re,ge,$e),[Bo,vh]=he=C(se),[$i,nl]=ce=D(se),as=kp(n);let Io=$i,rl=as;Sn(),(nl||vh||Z)&&no&&!re&&q(no,$i,Bo,ge)&&(rl=kp(n),Io=bm(n));const iu=I9(s),uf={w:u(Pp($i.w,Io.w)+Bo.w),h:u(Pp($i.h,Io.h)+Bo.h)},ou={w:u((b?iu.w:rl.w+u(as.w-$i.w))+Bo.w),h:u((b?iu.h:rl.h+u(as.h-$i.h))+Bo.h)};me=P(ou),pe=M(p(uf,ou),se)}const[Ne,Me]=me,[Ie,ft]=pe,[vt,We]=ce,[Kt,R]=he,le={x:Ie.w>0,y:Ie.h>0},be=xe&&G&&(le.x||le.y)||xe&&le.x&&!le.y||G&&le.y&&!le.x;if(Y||J||oe||R||We||Me||ft||Q||Z||ue||ye){const Sn={[ym]:0,[qf]:0,[vm]:0,[qa]:"",[Nf]:"",[$f]:""},no=z(re,le,fe,Sn),Bo=q(no,vt,Kt,ge);i||I(no,ge,Bo,Sn),ue&&N(no,de),i?(Nr(t,TB,Sn[Nf]),Nr(t,BB,Sn[$f])):Ms(n,Sn)}wl(t,fo,Ru,be),wl(e,Gy,V9,be),i||wl(n,fs,_u,te);const[Qe,dt]=$(T(re).Jt);return Gt(l,{Jt:Qe,It:{x:Ne.w,y:Ne.h},zt:{x:Ie.w,y:Ie.h},Zt:le}),{Kt:dt,Xt:Me,Yt:ft}}},A7=t=>{const[e,n,r]=x7(t),i={Qt:{t:0,r:0,b:0,l:0},cn:!1,k:{[ym]:0,[qf]:0,[vm]:0,[xB]:0,[yx]:0,[gm]:0,[bx]:0},It:{x:0,y:0},zt:{x:0,y:0},Jt:{x:nc,y:nc},Zt:{x:!1,y:!1}},{At:o,ut:a,ht:s,dt:l}=e,{I:u,A:c,B:f}=ni(),d=!u&&(c.x||c.y),h=[w7(e),S7(e,i),C7(e,i)];return[n,p=>{const m={},g=(d||!f)&&rc(a);return s("",wm,!0),Vt(h,w=>{Gt(m,w(p,m)||{})}),s("",wm),Is(a,g),!l&&Is(o,0),m},i,e,r]},D7=(t,e,n,r)=>{const[i,o,a,s,l]=A7(t),[u,c,f]=m7(s,g=>{v({},g)}),[d,h,,p]=b7(t,e,f,a,s,r),m=g=>Va(g).some(w=>!!g[w]),v=(g,w)=>{const{an:y,Ot:S,xt:x,un:b}=g,C=y||{},A=!!S,D={$t:z9(e,C,A),an:C,Ot:A};if(b)return h(D),!1;const E=w||c(Gt({},D,{xt:x})),M=o(Gt({},D,{en:f,Ft:E}));h(Gt({},D,{Ft:E,Wt:M}));const B=m(E),P=m(M),F=B||P||!px(C)||A;return F&&n(g,{Ft:E,Wt:M}),F};return[()=>{const{At:g,ut:w,Gt:y,Dt:S}=s,x=S?y.documentElement:g,b=rc(x),C=[u(),i(),d()];return Is(w,b),ut(ji,C)},v,()=>({fn:f,_n:a}),{dn:s,vn:p},l]},Da=(t,e,n)=>{const{q:r}=ni(),i=Uf(t),o=i?t:t.target,a=zB(o);if(e&&!a){let s=!1;const l=[],u={},c=E=>{const M=dB(E,!0),B=Fc(n7);return B?B(M,!0):M},f=Gt({},r(),c(e)),[d,h,p]=jy(),[m,v,g]=jy(n),w=(E,M)=>{g(E,M),p(E,M)},[y,S,x,b,C]=D7(t,f,({an:E,Ot:M},{Ft:B,Wt:P})=>{const{ct:F,bt:$,gt:N,wt:T,yt:z,st:I}=B,{Xt:q,Yt:X,Kt:V}=P;w("updated",[D,{updateHints:{sizeChanged:!!F,directionChanged:!!$,heightIntrinsicChanged:!!N,overflowEdgeChanged:!!q,overflowAmountChanged:!!X,overflowStyleChanged:!!V,contentMutation:!!T,hostMutation:!!z,appear:!!I},changedOptions:E||{},force:!!M}])},E=>w("scroll",[D,E])),A=E=>{d7(o),ji(l),s=!0,w("destroyed",[D,E]),h(),v()},D={options(E,M){if(E){const B=M?r():{},P=MB(f,Gt(B,c(E)));px(P)||(Gt(f,P),S({an:P}))}return Gt({},f)},on:m,off:(E,M)=>{E&&M&&v(E,M)},state(){const{fn:E,_n:M}=x(),{lt:B}=E,{It:P,zt:F,Jt:$,Zt:N,Qt:T,cn:z}=M;return Gt({},{overflowEdge:P,overflowAmount:F,overflowStyle:$,hasOverflow:N,padding:T,paddingAbsolute:z,directionRTL:B,destroyed:s})},elements(){const{At:E,it:M,Qt:B,ut:P,ft:F,Tt:$,qt:N}=b.dn,{Vt:T,Nt:z}=b.vn,I=X=>{const{Ht:V,Ct:L,kt:ne}=X;return{scrollbar:ne,track:L,handle:V}},q=X=>{const{Ut:V,Bt:L}=X,ne=I(V[0]);return Gt({},ne,{clone:()=>{const se=I(L());return S({un:!0}),se}})};return Gt({},{target:E,host:M,padding:B||P,viewport:P,content:F||P,scrollOffsetElement:$,scrollEventElement:N,scrollbarHorizontal:q(T),scrollbarVertical:q(z)})},update:E=>S({Ot:E,xt:!0}),destroy:ut(A,!1),plugin:E=>u[Va(E)[0]]};return Qt(l,[C]),f7(o,D),RB(kB,Da,[D,d,u]),c7(b.dn.Dt,!i&&t.cancel)?(A(!0),D):(Qt(l,y()),w("initialized",[D]),D.update(!0),D)}return a};Da.plugin=t=>{const e=ra(t),n=e?t:[t],r=n.map(i=>RB(i,Da)[0]);return t7(n),e?r:r[0]};Da.valid=t=>{const e=t&&t.elements,n=na(e)&&e();return fm(n)&&!!zB(n.target)};Da.env=()=>{const{L:t,A:e,I:n,U:r,B:i,T:o,V:a,W:s,X:l,N:u,G:c,q:f,F:d}=ni();return Gt({},{scrollbarsSize:t,scrollbarsOverlaid:e,scrollbarsHiding:n,rtlScrollBehavior:r,flexboxGlue:i,cssCustomProperties:o,scrollTimeline:a,staticDefaultInitialization:s,staticDefaultOptions:l,getDefaultInitialization:u,setDefaultInitialization:c,getDefaultOptions:f,setDefaultOptions:d})};const E7=()=>{if(typeof window>"u"){const u=()=>{};return[u,u]}let t,e;const n=window,r=typeof n.requestIdleCallback=="function",i=n.requestAnimationFrame,o=n.cancelAnimationFrame,a=r?n.requestIdleCallback:i,s=r?n.cancelIdleCallback:o,l=()=>{s(t),o(e)};return[(u,c)=>{l(),t=a(r?()=>{l(),e=i(u)}:u,typeof c=="object"?c:{timeout:2233})},l]},M7=t=>{let e=null,n,r,i;const o=Be(t||{}),[a,s]=E7();return ze(()=>{var l;return O((l=o.value)==null?void 0:l.defer)},l=>{i=l},{deep:!0,immediate:!0}),ze(()=>{var l;return O((l=o.value)==null?void 0:l.options)},l=>{n=l,Da.valid(e)&&e.options(n||{},!0)},{deep:!0,immediate:!0}),ze(()=>{var l;return O((l=o.value)==null?void 0:l.events)},l=>{r=l,Da.valid(e)&&e.on(r||{},!0)},{deep:!0,immediate:!0}),Bc(()=>{s(),e==null||e.destroy()}),[l=>{if(Da.valid(e))return e;const u=()=>e=Da(l,n||{},r||{});i?a(u,i):u()},()=>e]},N7=De({__name:"OverlayScrollbarsComponent",props:{element:{type:String,default:"div"},options:{type:Object},events:{type:Object},defer:{type:[Boolean,Object]}},emits:["osInitialized","osUpdated","osDestroyed","osScroll"],setup(t,{expose:e,emit:n}){const r=t,i={initialized:"osInitialized",updated:"osUpdated",destroyed:"osDestroyed",scroll:"osScroll"},{element:o,options:a,events:s,defer:l}=ix(r),u=Be(null),c=Be(null),f=Te(),[d,h]=M7({options:a,events:f,defer:l});return e({osInstance:h,getElement:()=>u.value}),K8(p=>{const{value:m}=u,{value:v}=c;m&&v&&(d({target:m,elements:{viewport:v,content:v}}),p(()=>{var g;return(g=h())==null?void 0:g.destroy()}))}),ze(()=>O(s),p=>{const m=p||{};f.value=Object.keys(i).reduce((v,g)=>{const w=m[g];return v[g]=[(...y)=>n(i[g],...y),...(Array.isArray(w)?w:[w]).filter(Boolean)],v},{})},{deep:!0,immediate:!0}),(p,m)=>(Ce(),rt(_y(O(o)),{"data-overlayscrollbars-initialize":"",ref_key:"elementRef",ref:u},{default:Ae(()=>[we("div",{"data-overlayscrollbars-contents":"",ref_key:"slotRef",ref:c},[vn(p.$slots,"default")],512)]),_:3},512))}}),Ps=De({name:"ScrollbarBasic",__name:"ScrollbarBasic",setup(t){return(e,n)=>(Ce(),rt(O(N7),{options:{scrollbars:{autoHide:"leave",autoHideDelay:0}},class:"w-full h-full",defer:""},{default:Ae(()=>[vn(e.$slots,"default")]),_:3}))}});function $7(t){const{registerCallbackOnDragStart:e}=Jr({bindX:t.left,bindXType:"position",bindY:t.top,bindYType:"position",boxHeight:t.height,boxWidth:t.width,dragReady:t.dragReady,mode:"move",targetRef:t.headerRef});e(()=>{t.setMaxZ()}),Jr({bindX:t.width,bindXType:"size",bindY:t.height,bindYType:"size",disabled:H(()=>!t.resizable.value),dragReady:t.dragReady,minX:t.minWidth,minY:t.minHeight,mode:"resize",targetRef:t.resizeRef})}const O7={default:1e3,fast:800,faster:500,fastest:200,slow:2e3,slower:3e3};function qC({speed:t="default",immediate:e=!1,autoDestroy:n=!1,name:r=""}){const i="animate__animated",o=H(()=>t==="default"?"":`animate__${t}`),a=Te(!1),s=H(()=>a.value?[i,o.value,r].filter(Boolean).join(" "):"");function l(){a.value=!0,n&&setTimeout(()=>{a.value=!1},O7[t])}return e&&l(),{classNames:s,start:l}}const VB="modal";function T7(t){zt(VB,{destroy:t.destroy,setMaxZ:t.setMaxZ,zIndex:H(()=>t.zIndex)})}function Rc(){return $t(VB)}const B7=De({name:"ModalRender",__name:"ModalRender",props:{modal:{}},setup(t){return T7(t.modal),(n,r)=>(Ce(),rt(Rg,{to:"body"},[(Ce(),rt(_y(n.modal.wrapperVNode),null,{default:Ae(()=>[(Ce(),rt(_y(n.modal.contentVNode)))]),_:1}))]))}});function I7(t,{windowRef:e,headerRef:n,resizeRef:r}){const i=Rc(),o=Te(0),a=Te(0),s=Te(t.height),l=Te(t.width);t.center&&(o.value=(window.innerHeight-t.height)/2,a.value=(window.innerWidth-t.width)/2);const u=H(()=>i!=null&&i.zIndex?i.zIndex.value:0),{start:c,classNames:f}=qC({autoDestroy:!0,name:"animate__shakeX",speed:"faster"}),{classNames:d}=qC({autoDestroy:!0,immediate:!0,name:"animate__fadeInDownSmall",speed:"fastest"});function h(){t.modal&&c()}return{center:H(()=>t.center),customBody:H(()=>t.customBody),destroy:()=>i==null?void 0:i.destroy(),dragReady:Te(!1),headerRef:n,height:s,left:a,minHeight:H(()=>t.minHeight??t.height),minWidth:H(()=>t.minWidth??t.width),modal:H(()=>t.modal),onMaskClick:h,padding:H(()=>t.padding),resizable:H(()=>t.resizable),resizeRef:r,runClassAnimateShakeX:c,setMaxZ:()=>i==null?void 0:i.setMaxZ(),title:H(()=>t.title),top:o,width:l,windowRef:e,wrapperClassAnimateFadeInDown:d,wrapperClassAnimateShakeX:f,zIndex:u}}const Oi={header:{height:40,padding:16},radius:6};function P7(t){const e=Ke({backgroundColor:Jn.white,borderRadius:`${Oi.radius}px`,boxShadow:"0 0 0px 1px rgb(0 0 0 / 0.05), 0 10px 20px 0 rgb(0 0 0 / 0.1), 0 2px 4px -1px rgb(0 0 0 / 0.02)",position:"fixed"}),n=H(()=>({height:`${t.height.value}px`,left:`${t.left.value}px`,top:`${t.top.value}px`,width:`${t.width.value}px`,zIndex:t.zIndex.value})),r=Ke({borderTopLeftRadius:`${Oi.radius}px`,borderTopRightRadius:`${Oi.radius}px`,cursor:"move",display:"flex",justifyContent:"space-between",overflow:"hidden",position:"absolute",top:0,userSelect:"none",width:"100%"}),i=Ke({alignItems:"center",color:Jn.gray[800],display:"flex",fontWeight:500,height:`${Oi.header.height}px`,padding:`0 ${Oi.header.padding}px`}),o=Ke({":active":{borderRadius:`${Oi.radius}px`,transform:"scale(0.9)"},":hover":{backgroundColor:Jn.gray[100]},alignItems:"center",backgroundColor:Jn.white,color:Jn.gray[500],cursor:"pointer",display:"flex",height:`${Oi.header.height}px`,justifyContent:"center",width:`${Oi.header.height}px`}),a=Ke({display:"block"}),s=Ke({borderBottomLeftRadius:`${Oi.radius}px`,borderBottomRightRadius:`${Oi.radius}px`,bottom:0,overflow:"auto",position:"absolute",top:`${Oi.header.height}px`,width:"100%"}),l=H(()=>({...t.padding.value?{padding:t.padding.value?`${Oi.header.padding}px`:0,paddingTop:0}:{}})),u={size:20},c=Ke({borderRadius:"50%",bottom:`-${u.size/2}px`,cursor:"nwse-resize",height:`${u.size}px`,position:"absolute",right:`-${u.size/2}px`,width:`${u.size}px`}),f=Ke({height:"100%",left:0,position:"fixed",top:0,width:"100%"}),d=H(()=>{let h=!1;return t.dragReady.value&&(h=!0),t.modal.value&&(h=!0),{display:h?"block":"none",zIndex:t.zIndex.value}});return Ht({bodyClass:s,bodyStyle:l,headerButton:o,headerButtonIconClass:a,headerClass:r,headerTitle:i,maskClass:f,maskStyle:d,resizableClass:c,wrapperClass:H(()=>[e,t.wrapperClassAnimateShakeX.value,t.wrapperClassAnimateFadeInDown.value]),wrapperStyle:n})}const k7={center:!1,customBody:!1,height:400,left:0,minHeight:null,minWidth:null,modal:!1,padding:!1,resizable:!1,top:0,width:400};function F7(t){const e=Te(),n=Te(),r=Te(),i=I7(t,{headerRef:n,resizeRef:r,windowRef:e});$7(i);const o=P7(i);return{headerRef:n,resizeRef:r,state:i,style:o,windowRef:e}}const ro=De({name:"ModalWrapperWindow",__name:"ModalWrapperWindow",props:Ur({top:{},left:{},height:{},width:{},minHeight:{},minWidth:{},title:{},center:{type:Boolean},padding:{type:Boolean},resizable:{type:Boolean},modal:{type:Boolean},customBody:{type:Boolean}},k7),setup(t){const e=t,{state:n,style:r,windowRef:i,headerRef:o,resizeRef:a}=F7(e);return(s,l)=>(Ce(),Re(gt,null,[we("div",{class:it(O(r).maskClass),style:Ct(O(r).maskStyle),onClick:l[0]||(l[0]=()=>O(n).onMaskClick())},null,6),we("div",{ref_key:"windowRef",ref:i,class:it(O(r).wrapperClass),style:Ct(O(r).wrapperStyle),onClick:l[3]||(l[3]=u=>O(n).setMaxZ())},[we("div",{ref_key:"headerRef",ref:o,class:it(O(r).headerClass),onContextmenu:l[2]||(l[2]=u=>{u.preventDefault(),u.stopPropagation()})},[we("div",{class:it(O(r).headerTitle)},Nt(O(n).title.value),3),we("button",{class:it(O(r).headerButton),onClick:l[1]||(l[1]=()=>O(n).destroy())},[we("span",{class:it(["i-lucide-x",O(r).headerButtonIconClass])},null,2)],2)],34),we("div",{class:it(O(r).bodyClass)},[O(n).customBody.value?vn(s.$slots,"default",{key:0}):(Ce(),rt(O(Ps),{key:1},{default:Ae(()=>[we("div",{style:Ct(O(r).bodyStyle)},[vn(s.$slots,"default")],4)]),_:3}))],2),O(n).resizable.value?(Ce(),Re("div",{key:0,ref_key:"resizeRef",ref:a,class:it(O(r).resizableClass)},null,2)):et("",!0)],6)],64))}}),Dx=Te(0),sr=Te([]),Yy=H(()=>sr.value.reduce((t,e)=>e.zIndex>t?e.zIndex:t,Dx.value));function io({contentVNode:t,wrapperVNode:e,name:n,single:r}){const i=_l(),o=n||i,a=()=>_7(i);if(r)if(n){const l=sr.value.findIndex(u=>u.name===o);if(l>-1)return console.warn("single modal already exist"),{destroy:a,id:sr.value[l].id}}else console.warn("single modal must have name");const s={contentVNode:t?dC(t):void 0,destroy:a,id:i,name:o,setMaxZ:()=>z7(i),wrapperVNode:e?dC(e):void 0,zIndex:Yy.value+1};return sr.value=[...sr.value,s],{destroy:a,id:i}}function R7(){sr.value=[]}function _7(t){sr.value.findIndex(n=>n.id===t)>-1&&(sr.value=sr.value.filter(n=>n.id!==t),UB())}function z7(t){const e=sr.value.findIndex(n=>n.id===t);e>-1&&sr.value[e].zIndex<Yy.value&&(sr.value[e].zIndex=Yy.value+1,UB())}function UB(){const t=sr.value.map((e,n)=>n);t.sort((e,n)=>sr.value[e].zIndex-sr.value[n].zIndex),t.forEach((e,n)=>{sr.value[e].zIndex=Dx.value+n})}const L7=De({name:"ModalRoot",__name:"ModalRoot",props:{zIndex:{default:1e3}},setup(t){const e=t;return ze(()=>e.zIndex,n=>{Dx.value=n},{immediate:!0}),ln(()=>{R7()}),(n,r)=>(Ce(!0),Re(gt,null,wo(O(sr),i=>(Ce(),rt(O(B7),{key:i.id,modal:i},null,8,["modal"]))),128))}});function ud(t){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}function H7(t,e){if(ud(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ud(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V7(t){var e=H7(t,"string");return ud(e)==="symbol"?e:String(e)}function U7(t,e,n){return e=V7(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WC(Object(n),!0).forEach(function(r){U7(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _(){return _=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_.apply(this,arguments)}const q7=t=>typeof t=="function",W7=Array.isArray,j7=t=>typeof t=="string",G7=t=>t!==null&&typeof t=="object",X7=/^on[^a-z]/,K7=t=>X7.test(t),qB=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Y7=/-(\w)/g,Ex=qB(t=>t.replace(Y7,(e,n)=>n?n.toUpperCase():"")),Z7=/\B([A-Z])/g,Q7=qB(t=>t.replace(Z7,"-$1").toLowerCase()),J7=Object.prototype.hasOwnProperty,jC=(t,e)=>J7.call(t,e);function eH(t,e,n,r){const i=t[n];if(i!=null){const o=jC(i,"default");if(o&&r===void 0){const a=i.default;r=i.type!==Function&&q7(a)?a():a}i.type===Boolean&&(!jC(e,n)&&!o?r=!1:r===""&&(r=!0))}return r}function Mu(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return typeof t=="function"?t(e):t??n}function tH(t){let e;const n=new Promise(i=>{e=t(()=>{i(!0)})}),r=()=>{e==null||e()};return r.then=(i,o)=>n.then(i,o),r.promise=n,r}function He(){const t=[];for(let e=0;e<arguments.length;e++){const n=e<0||arguments.length<=e?void 0:arguments[e];if(n){if(j7(n))t.push(n);else if(W7(n))for(let r=0;r<n.length;r++){const i=He(n[r]);i&&t.push(i)}else if(G7(n))for(const r in n)n[r]&&t.push(r)}}return t.join(" ")}var WB=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(i,o){return i[0]===n?(r=o,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(n,r){var i=t(this.__entries__,n);~i?this.__entries__[i][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,i=t(r,n);~i&&r.splice(i,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var i=0,o=this.__entries__;i<o.length;i++){var a=o[i];n.call(r,a[1],a[0])}},e}()}(),Zy=typeof window<"u"&&typeof document<"u"&&window.document===document,Sm=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),nH=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Sm):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),rH=2;function iH(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&s()}function a(){nH(o)}function s(){var l=Date.now();if(n){if(l-i<rH)return;r=!0}else n=!0,r=!1,setTimeout(a,e);i=l}return s}var oH=20,aH=["top","right","bottom","left","width","height","size","weight"],sH=typeof MutationObserver<"u",lH=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=iH(this.refresh.bind(this),oH)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Zy||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),sH?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Zy||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,i=aH.some(function(o){return!!~r.indexOf(o)});i&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),jB=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},ic=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||Sm},GB=Gg(0,0,0,0);function Cm(t){return parseFloat(t)||0}function GC(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,i){var o=t["border-"+i+"-width"];return r+Cm(o)},0)}function uH(t){for(var e=["top","right","bottom","left"],n={},r=0,i=e;r<i.length;r++){var o=i[r],a=t["padding-"+o];n[o]=Cm(a)}return n}function cH(t){var e=t.getBBox();return Gg(0,0,e.width,e.height)}function fH(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return GB;var r=ic(t).getComputedStyle(t),i=uH(r),o=i.left+i.right,a=i.top+i.bottom,s=Cm(r.width),l=Cm(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+o)!==e&&(s-=GC(r,"left","right")+o),Math.round(l+a)!==n&&(l-=GC(r,"top","bottom")+a)),!hH(t)){var u=Math.round(s+o)-e,c=Math.round(l+a)-n;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return Gg(i.left,i.top,s,l)}var dH=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof ic(t).SVGGraphicsElement}:function(t){return t instanceof ic(t).SVGElement&&typeof t.getBBox=="function"}}();function hH(t){return t===ic(t).document.documentElement}function pH(t){return Zy?dH(t)?cH(t):fH(t):GB}function mH(t){var e=t.x,n=t.y,r=t.width,i=t.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(o.prototype);return jB(a,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),a}function Gg(t,e,n,r){return{x:t,y:e,width:n,height:r}}var gH=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Gg(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=pH(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),vH=function(){function t(e,n){var r=mH(n);jB(this,{target:e,contentRect:r})}return t}(),yH=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new WB,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ic(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new gH(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof ic(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new vH(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),XB=typeof WeakMap<"u"?new WeakMap:new WB,KB=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=lH.getInstance(),r=new yH(e,n,this);XB.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){KB.prototype[t]=function(){var e;return(e=XB.get(this))[t].apply(e,arguments)}});var YB=function(){return typeof Sm.ResizeObserver<"u"?Sm.ResizeObserver:KB}();const bH=t=>t!=null&&t!=="",Qy=bH,xH=(t,e)=>{const n=_({},t);return Object.keys(e).forEach(r=>{const i=n[r];if(i)i.type||i.default?i.default=e[r]:i.def?i.def(e[r]):n[r]={type:i,default:e[r]};else throw new Error(`not have ${r} prop`)}),n},es=xH,wH=t=>{const e=Object.keys(t),n={},r={},i={};for(let o=0,a=e.length;o<a;o++){const s=e[o];K7(s)?(n[s[2].toLowerCase()+s.slice(3)]=t[s],r[s]=t[s]):i[s]=t[s]}return{onEvents:r,events:n,extraAttrs:i}},SH=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n={},r=/;(?![^(]*\))/g,i=/:(.+)/;return typeof t=="object"?t:(t.split(r).forEach(function(o){if(o){const a=o.split(i);if(a.length>1){const s=e?Ex(a[0].trim()):a[0].trim();n[s]=a[1].trim()}}}),n)},Am=(t,e)=>t[e]!==void 0,ZB=Symbol("skipFlatten"),kr=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=Array.isArray(t)?t:[t],r=[];return n.forEach(i=>{Array.isArray(i)?r.push(...kr(i,e)):i&&i.type===gt?i.key===ZB?r.push(i):r.push(...kr(i.children,e)):i&&Vd(i)?e&&!JB(i)?r.push(i):e||r.push(i):Qy(i)&&r.push(i)}),r},QB=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(Vd(t))return t.type===gt?e==="default"?kr(t.children):[]:t.children&&t.children[e]?kr(t.children[e](n)):[];{const r=t.$slots[e]&&t.$slots[e](n);return kr(r)}},po=t=>{var e;let n=((e=t==null?void 0:t.vnode)===null||e===void 0?void 0:e.el)||t&&(t.$el||t);for(;n&&!n.tagName;)n=n.nextSibling;return n},CH=t=>{const e={};if(t.$&&t.$.vnode){const n=t.$.vnode.props||{};Object.keys(t.$props).forEach(r=>{const i=t.$props[r],o=Q7(r);(i!==void 0||o in n)&&(e[r]=i)})}else if(Vd(t)&&typeof t.type=="object"){const n=t.props||{},r={};Object.keys(n).forEach(o=>{r[Ex(o)]=n[o]});const i=t.type.props||{};Object.keys(i).forEach(o=>{const a=eH(i,r,o,r[o]);(a!==void 0||o in r)&&(e[o]=a)})}return e},AH=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i;if(t.$){const o=t[e];if(o!==void 0)return typeof o=="function"&&r?o(n):o;i=t.$slots[e],i=r&&i?i(n):i}else if(Vd(t)){const o=t.props&&t.props[e];if(o!==void 0&&t.props!==null)return typeof o=="function"&&r?o(n):o;t.type===gt?i=t.children:t.children&&t.children[e]&&(i=t.children[e],i=r&&i?i(n):i)}return Array.isArray(i)&&(i=kr(i),i=i.length===1?i[0]:i,i=i.length===0?void 0:i),i};function XC(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n={};return t.$?n=_(_({},n),t.$attrs):n=_(_({},n),t.props),wH(n)[e?"onEvents":"events"]}function DH(t,e){let r=((Vd(t)?t.props:t.$attrs)||{}).style||{};if(typeof r=="string")r=SH(r,e);else if(e&&r){const i={};return Object.keys(r).forEach(o=>i[Ex(o)]=r[o]),i}return r}function EH(t){return t.length===1&&t[0].type===gt}function JB(t){return t&&(t.type===Y8||t.type===gt&&t.children.length===0||t.type===qT&&t.children.trim()==="")}function Hl(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...n):(n==null?void 0:n.type)===gt?e.push(...Hl(n.children)):e.push(n)}),e.filter(n=>!JB(n))}function ia(t){return Array.isArray(t)&&t.length===1&&(t=t[0]),t&&t.__v_isVNode&&typeof t.type!="symbol"}function cd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";var r,i;return(r=e[n])!==null&&r!==void 0?r:(i=t[n])===null||i===void 0?void 0:i.call(t)}const jd=De({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup(t,e){let{slots:n}=e;const r=Ht({width:0,height:0,offsetHeight:0,offsetWidth:0});let i=null,o=null;const a=()=>{o&&(o.disconnect(),o=null)},s=c=>{const{onResize:f}=t,d=c[0].target,{width:h,height:p}=d.getBoundingClientRect(),{offsetWidth:m,offsetHeight:v}=d,g=Math.floor(h),w=Math.floor(p);if(r.width!==g||r.height!==w||r.offsetWidth!==m||r.offsetHeight!==v){const y={width:g,height:w,offsetWidth:m,offsetHeight:v};_(r,y),f&&Promise.resolve().then(()=>{f(_(_({},y),{offsetWidth:m,offsetHeight:v}),d)})}},l=Yi(),u=()=>{const{disabled:c}=t;if(c){a();return}const f=po(l);f!==i&&(a(),i=f),!o&&f&&(o=new YB(s),o.observe(f))};return sn(()=>{u()}),Ic(()=>{u()}),Bc(()=>{a()}),ze(()=>t.disabled,()=>{u()},{flush:"post"}),()=>{var c;return(c=n.default)===null||c===void 0?void 0:c.call(n)[0]}}});let eI=t=>setTimeout(t,16),tI=t=>clearTimeout(t);typeof window<"u"&&"requestAnimationFrame"in window&&(eI=t=>window.requestAnimationFrame(t),tI=t=>window.cancelAnimationFrame(t));let KC=0;const Mx=new Map;function nI(t){Mx.delete(t)}function Rt(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;KC+=1;const n=KC;function r(i){if(i===0)nI(n),t();else{const o=eI(()=>{r(i-1)});Mx.set(n,o)}}return r(e),n}Rt.cancel=t=>{const e=Mx.get(t);return nI(e),tI(e)};const oc=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e},MH=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e},_c=t=>{const e=t;return e.install=function(n){n.component(e.displayName||e.name,t)},t};function fd(){return{type:[Function,Array]}}function hn(t){return{type:Object,default:t}}function gn(t){return{type:Boolean,default:t}}function ul(t){return{type:Function,default:t}}function Ho(t,e){const n={validator:()=>!0,default:t};return n}function YC(t){return{type:Array,default:t}}function Sa(t){return{type:String,default:t}}function lo(t,e){return t?{type:t,default:e}:Ho(e)}let rI=!1;try{const t=Object.defineProperty({},"passive",{get(){rI=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch{}const gr=rI;function Xo(t,e,n,r){if(t&&t.addEventListener){let i=r;i===void 0&&gr&&(e==="touchstart"||e==="touchmove"||e==="wheel")&&(i={passive:!1}),t.addEventListener(e,n,i)}return{remove:()=>{t&&t.removeEventListener&&t.removeEventListener(e,n)}}}const Nx="anticon",NH=Symbol("GlobalFormContextKey"),$H=t=>{zt(NH,t)},OH=()=>({iconPrefixCls:String,getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:hn(),input:hn(),autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:hn(),pageHeader:hn(),componentSize:{type:String},componentDisabled:{type:Boolean,default:void 0},direction:{type:String,default:"ltr"},space:hn(),virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:hn(),pagination:hn(),theme:hn(),select:hn(),wave:hn()}),$x=Symbol("configProvider"),iI={getPrefixCls:(t,e)=>e||(t?`ant-${t}`:"ant"),iconPrefixCls:H(()=>Nx),getPopupContainer:H(()=>()=>document.body),direction:H(()=>"ltr")},oI=()=>$t($x,iI),TH=t=>zt($x,t),aI=Symbol("DisabledContextKey"),Vl=()=>$t(aI,Te(void 0)),BH=t=>{const e=Vl();return zt(aI,H(()=>{var n;return(n=t.value)!==null&&n!==void 0?n:e.value})),t},IH={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"},PH={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"},kH=PH,FH={placeholder:"Select time",rangePlaceholder:["Start time","End time"]},sI=FH,RH={lang:_({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},kH),timePickerLocale:_({},sI)},ZC=RH,si="${label} is not a valid ${type}",_H={locale:"en",Pagination:IH,DatePicker:ZC,TimePicker:sI,Calendar:ZC,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Tour:{Next:"Next",Previous:"Previous",Finish:"Finish"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:si,method:si,array:si,object:si,number:si,date:si,boolean:si,integer:si,float:si,regexp:si,email:si,url:si,hex:si},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"},QRCode:{expired:"QR code expired",refresh:"Refresh",scanned:"Scanned"}},dd=_H,Ox=De({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup(t,e){let{slots:n}=e;const r=$t("localeData",{}),i=H(()=>{const{componentName:a="global",defaultLocale:s}=t,l=s||dd[a||"global"],{antLocale:u}=r,c=a&&u?u[a]:{};return _(_({},typeof l=="function"?l():l),c||{})}),o=H(()=>{const{antLocale:a}=r,s=a&&a.locale;return a&&a.exist&&!s?dd.locale:s});return()=>{const a=t.children||n.default,{antLocale:s}=r;return a==null?void 0:a(i.value,o.value,s)}}}),QC="%";class zH{constructor(e){this.cache=new Map,this.instanceId=e}get(e){return this.cache.get(Array.isArray(e)?e.join(QC):e)||null}update(e,n){const r=Array.isArray(e)?e.join(QC):e,i=this.cache.get(r),o=n(i);o===null?this.cache.delete(r):this.cache.set(r,o)}}const LH=zH,lI="data-token-hash",Cl="data-css-hash",Nu="__cssinjs_instance__";function hd(){const t=Math.random().toString(12).slice(2);if(typeof document<"u"&&document.head&&document.body){const e=document.body.querySelectorAll(`style[${Cl}]`)||[],{firstChild:n}=document.head;Array.from(e).forEach(i=>{i[Nu]=i[Nu]||t,i[Nu]===t&&document.head.insertBefore(i,n)});const r={};Array.from(document.querySelectorAll(`style[${Cl}]`)).forEach(i=>{var o;const a=i.getAttribute(Cl);r[a]?i[Nu]===t&&((o=i.parentNode)===null||o===void 0||o.removeChild(i)):r[a]=!0})}return new LH(t)}const uI=Symbol("StyleContextKey"),HH=()=>{var t,e,n;const r=Yi();let i;if(r&&r.appContext){const o=(n=(e=(t=r.appContext)===null||t===void 0?void 0:t.config)===null||e===void 0?void 0:e.globalProperties)===null||n===void 0?void 0:n.__ANTDV_CSSINJS_CACHE__;o?i=o:(i=hd(),r.appContext.config.globalProperties&&(r.appContext.config.globalProperties.__ANTDV_CSSINJS_CACHE__=i))}else i=hd();return i},cI={cache:hd(),defaultCache:!0,hashPriority:"low"},Xg=()=>{const t=HH();return $t(uI,Be(_(_({},cI),{cache:t})))},VH=t=>{const e=Xg(),n=Be(_(_({},cI),{cache:hd()}));return ze([()=>O(t),e],()=>{const r=_({},e.value),i=O(t);Object.keys(i).forEach(a=>{const s=i[a];i[a]!==void 0&&(r[a]=s)});const{cache:o}=i;r.cache=r.cache||hd(),r.defaultCache=!o&&e.value.defaultCache,n.value=r},{immediate:!0}),zt(uI,n),n},UH=()=>({autoClear:gn(),mock:Sa(),cache:hn(),defaultCache:gn(),hashPriority:Sa(),container:lo(),ssrInline:gn(),transformers:YC(),linters:YC()});_c(De({name:"AStyleProvider",inheritAttrs:!1,props:UH(),setup(t,e){let{slots:n}=e;return VH(t),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}}));function fI(t,e,n,r){const i=Xg(),o=Be(""),a=Be();Bn(()=>{o.value=[t,...e.value].join("%")});const s=l=>{i.value.cache.update(l,u=>{const[c=0,f]=u||[];return c-1===0?(r==null||r(f,!1),null):[c-1,f]})};return ze(o,(l,u)=>{u&&s(u),i.value.cache.update(l,c=>{const[f=0,d]=c||[],p=d||n();return[f+1,p]}),a.value=i.value.cache.get(o.value)[1]},{immediate:!0}),ln(()=>{s(o.value)}),a}function Gi(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function cl(t,e){return t&&t.contains?t.contains(e):!1}const JC="data-vc-order",qH="vc-util-key",Jy=new Map;function dI(){let{mark:t}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return t?t.startsWith("data-")?t:`data-${t}`:qH}function Kg(t){return t.attachTo?t.attachTo:document.querySelector("head")||document.body}function WH(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function hI(t){return Array.from((Jy.get(t)||t).children).filter(e=>e.tagName==="STYLE")}function pI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Gi())return null;const{csp:n,prepend:r}=e,i=document.createElement("style");i.setAttribute(JC,WH(r)),n!=null&&n.nonce&&(i.nonce=n==null?void 0:n.nonce),i.innerHTML=t;const o=Kg(e),{firstChild:a}=o;if(r){if(r==="queue"){const s=hI(o).filter(l=>["prepend","prependQueue"].includes(l.getAttribute(JC)));if(s.length)return o.insertBefore(i,s[s.length-1].nextSibling),i}o.insertBefore(i,a)}else o.appendChild(i);return i}function mI(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Kg(e);return hI(n).find(r=>r.getAttribute(dI(e))===t)}function Dm(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=mI(t,e);n&&Kg(e).removeChild(n)}function jH(t,e){const n=Jy.get(t);if(!n||!cl(document,n)){const r=pI("",e),{parentNode:i}=r;Jy.set(t,i),t.removeChild(r)}}function pd(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var r,i,o;const a=Kg(n);jH(a,n);const s=mI(e,n);if(s)return!((r=n.csp)===null||r===void 0)&&r.nonce&&s.nonce!==((i=n.csp)===null||i===void 0?void 0:i.nonce)&&(s.nonce=(o=n.csp)===null||o===void 0?void 0:o.nonce),s.innerHTML!==t&&(s.innerHTML=t),s;const l=pI(t,n);return l.setAttribute(dI(n),e),l}function GH(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}class ac{constructor(){this.cache=new Map,this.keys=[],this.cacheCallTimes=0}size(){return this.keys.length}internalGet(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r={map:this.cache};return e.forEach(i=>{var o;r?r=(o=r==null?void 0:r.map)===null||o===void 0?void 0:o.get(i):r=void 0}),r!=null&&r.value&&n&&(r.value[1]=this.cacheCallTimes++),r==null?void 0:r.value}get(e){var n;return(n=this.internalGet(e,!0))===null||n===void 0?void 0:n[0]}has(e){return!!this.internalGet(e)}set(e,n){if(!this.has(e)){if(this.size()+1>ac.MAX_CACHE_SIZE+ac.MAX_CACHE_OFFSET){const[i]=this.keys.reduce((o,a)=>{const[,s]=o;return this.internalGet(a)[1]<s?[a,this.internalGet(a)[1]]:o},[this.keys[0],this.cacheCallTimes]);this.delete(i)}this.keys.push(e)}let r=this.cache;e.forEach((i,o)=>{if(o===e.length-1)r.set(i,{value:[n,this.cacheCallTimes++]});else{const a=r.get(i);a?a.map||(a.map=new Map):r.set(i,{map:new Map}),r=r.get(i).map}})}deleteByPath(e,n){var r;const i=e.get(n[0]);if(n.length===1)return i.map?e.set(n[0],{map:i.map}):e.delete(n[0]),(r=i.value)===null||r===void 0?void 0:r[0];const o=this.deleteByPath(i.map,n.slice(1));return(!i.map||i.map.size===0)&&!i.value&&e.delete(n[0]),o}delete(e){if(this.has(e))return this.keys=this.keys.filter(n=>!GH(n,e)),this.deleteByPath(this.cache,e)}}ac.MAX_CACHE_SIZE=20;ac.MAX_CACHE_OFFSET=5;let e2={};function XH(t,e){}function KH(t,e,n){!e&&!e2[n]&&(t(!1,n),e2[n]=!0)}function YH(t,e){KH(XH,t,e)}function ZH(){}let QH=ZH;const Hr=QH;let t2=0;class gI{constructor(e){this.derivatives=Array.isArray(e)?e:[e],this.id=t2,e.length===0&&Hr(e.length>0),t2+=1}getDerivativeToken(e){return this.derivatives.reduce((n,r)=>r(e,n),void 0)}}const C0=new ac;function vI(t){const e=Array.isArray(t)?t:[t];return C0.has(e)||C0.set(e,new gI(e)),C0.get(e)}const n2=new WeakMap;function Em(t){let e=n2.get(t)||"";return e||(Object.keys(t).forEach(n=>{const r=t[n];e+=n,r instanceof gI?e+=r.id:r&&typeof r=="object"?e+=Em(r):e+=r}),n2.set(t,e)),e}function JH(t,e){return ax(`${e}_${Em(t)}`)}const jf=`random-${Date.now()}-${Math.random()}`.replace(/\./g,""),yI="_bAmBoO_";function eV(t,e,n){var r,i;if(Gi()){pd(t,jf);const o=document.createElement("div");o.style.position="fixed",o.style.left="0",o.style.top="0",e==null||e(o),document.body.appendChild(o);const a=n?n(o):(r=getComputedStyle(o).content)===null||r===void 0?void 0:r.includes(yI);return(i=o.parentNode)===null||i===void 0||i.removeChild(o),Dm(jf),a}return!1}let A0;function tV(){return A0===void 0&&(A0=eV(`@layer ${jf} { .${jf} { content: "${yI}"!important; } }`,t=>{t.className=jf})),A0}const r2={},nV=!0,rV=!1,iV=!nV&&!rV?"css-dev-only-do-not-override":"css",fl=new Map;function oV(t){fl.set(t,(fl.get(t)||0)+1)}function aV(t,e){typeof document<"u"&&document.querySelectorAll(`style[${lI}="${t}"]`).forEach(r=>{var i;r[Nu]===e&&((i=r.parentNode)===null||i===void 0||i.removeChild(r))})}const sV=0;function lV(t,e){fl.set(t,(fl.get(t)||0)-1);const n=Array.from(fl.keys()),r=n.filter(i=>(fl.get(i)||0)<=0);n.length-r.length>sV&&r.forEach(i=>{aV(i,e),fl.delete(i)})}const uV=(t,e,n,r)=>{const i=n.getDerivativeToken(t);let o=_(_({},i),e);return r&&(o=r(o)),o};function cV(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Te({});const r=Xg(),i=H(()=>_({},...e.value)),o=H(()=>Em(i.value)),a=H(()=>Em(n.value.override||r2));return fI("token",H(()=>[n.value.salt||"",t.value.id,o.value,a.value]),()=>{const{salt:l="",override:u=r2,formatToken:c,getComputedToken:f}=n.value,d=f?f(i.value,u,t.value):uV(i.value,u,t.value,c),h=JH(d,l);d._tokenKey=h,oV(h);const p=`${iV}-${ax(h)}`;return d._hashId=p,[d,p]},l=>{var u;lV(l[0]._tokenKey,(u=r.value)===null||u===void 0?void 0:u.cache.instanceId)})}var bI="comm",xI="rule",wI="decl",fV="@import",dV="@keyframes",hV="@layer",pV=Math.abs,Tx=String.fromCharCode;function SI(t){return t.trim()}function Fp(t,e,n){return t.replace(e,n)}function mV(t,e){return t.indexOf(e)}function md(t,e){return t.charCodeAt(e)|0}function gd(t,e,n){return t.slice(e,n)}function xa(t){return t.length}function gV(t){return t.length}function Oh(t,e){return e.push(t),t}var Yg=1,sc=1,CI=0,Xi=0,Fn=0,zc="";function Bx(t,e,n,r,i,o,a,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:Yg,column:sc,length:a,return:"",siblings:s}}function vV(){return Fn}function yV(){return Fn=Xi>0?md(zc,--Xi):0,sc--,Fn===10&&(sc=1,Yg--),Fn}function yo(){return Fn=Xi<CI?md(zc,Xi++):0,sc++,Fn===10&&(sc=1,Yg++),Fn}function Al(){return md(zc,Xi)}function Rp(){return Xi}function Zg(t,e){return gd(zc,t,e)}function eb(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bV(t){return Yg=sc=1,CI=xa(zc=t),Xi=0,[]}function xV(t){return zc="",t}function D0(t){return SI(Zg(Xi-1,tb(t===91?t+2:t===40?t+1:t)))}function wV(t){for(;(Fn=Al())&&Fn<33;)yo();return eb(t)>2||eb(Fn)>3?"":" "}function SV(t,e){for(;--e&&yo()&&!(Fn<48||Fn>102||Fn>57&&Fn<65||Fn>70&&Fn<97););return Zg(t,Rp()+(e<6&&Al()==32&&yo()==32))}function tb(t){for(;yo();)switch(Fn){case t:return Xi;case 34:case 39:t!==34&&t!==39&&tb(Fn);break;case 40:t===41&&tb(t);break;case 92:yo();break}return Xi}function CV(t,e){for(;yo()&&t+Fn!==57;)if(t+Fn===84&&Al()===47)break;return"/*"+Zg(e,Xi-1)+"*"+Tx(t===47?t:yo())}function AV(t){for(;!eb(Al());)yo();return Zg(t,Xi)}function DV(t){return xV(_p("",null,null,null,[""],t=bV(t),0,[0],t))}function _p(t,e,n,r,i,o,a,s,l){for(var u=0,c=0,f=a,d=0,h=0,p=0,m=1,v=1,g=1,w=0,y="",S=i,x=o,b=r,C=y;v;)switch(p=w,w=yo()){case 40:if(p!=108&&md(C,f-1)==58){mV(C+=Fp(D0(w),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:C+=D0(w);break;case 9:case 10:case 13:case 32:C+=wV(p);break;case 92:C+=SV(Rp()-1,7);continue;case 47:switch(Al()){case 42:case 47:Oh(EV(CV(yo(),Rp()),e,n,l),l);break;default:C+="/"}break;case 123*m:s[u++]=xa(C)*g;case 125*m:case 59:case 0:switch(w){case 0:case 125:v=0;case 59+c:g==-1&&(C=Fp(C,/\f/g,"")),h>0&&xa(C)-f&&Oh(h>32?o2(C+";",r,n,f-1,l):o2(Fp(C," ","")+";",r,n,f-2,l),l);break;case 59:C+=";";default:if(Oh(b=i2(C,e,n,u,c,i,s,y,S=[],x=[],f,o),o),w===123)if(c===0)_p(C,e,b,b,S,o,f,s,x);else switch(d===99&&md(C,3)===110?100:d){case 100:case 108:case 109:case 115:_p(t,b,b,r&&Oh(i2(t,b,b,0,0,i,s,y,i,S=[],f,x),x),i,x,f,s,r?S:x);break;default:_p(C,b,b,b,[""],x,0,s,x)}}u=c=h=0,m=g=1,y=C="",f=a;break;case 58:f=1+xa(C),h=p;default:if(m<1){if(w==123)--m;else if(w==125&&m++==0&&yV()==125)continue}switch(C+=Tx(w),w*m){case 38:g=c>0?1:(C+="\f",-1);break;case 44:s[u++]=(xa(C)-1)*g,g=1;break;case 64:Al()===45&&(C+=D0(yo())),d=Al(),c=f=xa(y=C+=AV(Rp())),w++;break;case 45:p===45&&xa(C)==2&&(m=0)}}return o}function i2(t,e,n,r,i,o,a,s,l,u,c,f){for(var d=i-1,h=i===0?o:[""],p=gV(h),m=0,v=0,g=0;m<r;++m)for(var w=0,y=gd(t,d+1,d=pV(v=a[m])),S=t;w<p;++w)(S=SI(v>0?h[w]+" "+y:Fp(y,/&\f/g,h[w])))&&(l[g++]=S);return Bx(t,e,n,i===0?xI:s,l,u,c,f)}function EV(t,e,n,r){return Bx(t,e,n,bI,Tx(vV()),gd(t,2,-2),0,r)}function o2(t,e,n,r,i){return Bx(t,e,n,wI,gd(t,0,r),gd(t,r+1,-1),r,i)}function nb(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function MV(t,e,n,r){switch(t.type){case hV:if(t.children.length)break;case fV:case wI:return t.return=t.return||t.value;case bI:return"";case dV:return t.return=t.value+"{"+nb(t.children,r)+"}";case xI:if(!xa(t.value=t.props.join(",")))return""}return xa(n=nb(t.children,r))?t.return=t.value+"{"+n+"}":""}const a2="data-ant-cssinjs-cache-path",NV="_FILE_STYLE__";let Dl,AI=!0;function $V(){var t;if(!Dl&&(Dl={},Gi())){const e=document.createElement("div");e.className=a2,e.style.position="fixed",e.style.visibility="hidden",e.style.top="-9999px",document.body.appendChild(e);let n=getComputedStyle(e).content||"";n=n.replace(/^"/,"").replace(/"$/,""),n.split(";").forEach(i=>{const[o,a]=i.split(":");Dl[o]=a});const r=document.querySelector(`style[${a2}]`);r&&(AI=!1,(t=r.parentNode)===null||t===void 0||t.removeChild(r)),document.body.removeChild(e)}}function OV(t){return $V(),!!Dl[t]}function TV(t){const e=Dl[t];let n=null;if(e&&Gi())if(AI)n=NV;else{const r=document.querySelector(`style[${Cl}="${Dl[t]}"]`);r?n=r.innerHTML:delete Dl[t]}return[n,e]}const s2=Gi(),BV="_skip_check_",DI="_multi_value_";function l2(t){return nb(DV(t),MV).replace(/\{%%%\:[^;];}/g,";")}function IV(t){return typeof t=="object"&&t&&(BV in t||DI in t)}function PV(t,e,n){if(!e)return t;const r=`.${e}`,i=n==="low"?`:where(${r})`:r;return t.split(",").map(a=>{var s;const l=a.trim().split(/\s+/);let u=l[0]||"";const c=((s=u.match(/^\w+/))===null||s===void 0?void 0:s[0])||"";return u=`${c}${i}${u.slice(c.length)}`,[u,...l.slice(1)].join(" ")}).join(",")}const u2=new Set,rb=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},{root:n,injectHash:r,parentSelectors:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{root:!0,parentSelectors:[]};const{hashId:o,layer:a,path:s,hashPriority:l,transformers:u=[],linters:c=[]}=e;let f="",d={};function h(v){const g=v.getName(o);if(!d[g]){const[w]=rb(v.style,e,{root:!1,parentSelectors:i});d[g]=`@keyframes ${v.getName(o)}${w}`}}function p(v){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return v.forEach(w=>{Array.isArray(w)?p(w,g):w&&g.push(w)}),g}if(p(Array.isArray(t)?t:[t]).forEach(v=>{const g=typeof v=="string"&&!n?{}:v;if(typeof g=="string")f+=`${g}
`;else if(g._keyframe)h(g);else{const w=u.reduce((y,S)=>{var x;return((x=S==null?void 0:S.visit)===null||x===void 0?void 0:x.call(S,y))||y},g);Object.keys(w).forEach(y=>{var S;const x=w[y];if(typeof x=="object"&&x&&(y!=="animationName"||!x._keyframe)&&!IV(x)){let b=!1,C=y.trim(),A=!1;(n||r)&&o?C.startsWith("@")?b=!0:C=PV(y,o,l):n&&!o&&(C==="&"||C==="")&&(C="",A=!0);const[D,E]=rb(x,e,{root:A,injectHash:b,parentSelectors:[...i,C]});d=_(_({},d),E),f+=`${C}${D}`}else{let b=function(A,D){const E=A.replace(/[A-Z]/g,B=>`-${B.toLowerCase()}`);let M=D;!S6[A]&&typeof M=="number"&&M!==0&&(M=`${M}px`),A==="animationName"&&(D!=null&&D._keyframe)&&(h(D),M=D.getName(o)),f+=`${E}:${M};`};const C=(S=x==null?void 0:x.value)!==null&&S!==void 0?S:x;typeof x=="object"&&(x!=null&&x[DI])&&Array.isArray(C)?C.forEach(A=>{b(y,A)}):b(y,C)}})}}),!n)f=`{${f}}`;else if(a&&tV()){const v=a.split(",");f=`@layer ${v[v.length-1].trim()} {${f}}`,v.length>1&&(f=`@layer ${a}{%%%:%}${f}`)}return[f,d]};function kV(t,e){return ax(`${t.join("%")}${e}`)}function ib(t,e){const n=Xg(),r=H(()=>t.value.token._tokenKey),i=H(()=>[r.value,...t.value.path]);let o=s2;return fI("style",i,()=>{const{path:a,hashId:s,layer:l,nonce:u,clientOnly:c,order:f=0}=t.value,d=i.value.join("|");if(OV(d)){const[C,A]=TV(d);if(C)return[C,r.value,A,{},c,f]}const h=e(),{hashPriority:p,container:m,transformers:v,linters:g,cache:w}=n.value,[y,S]=rb(h,{hashId:s,hashPriority:p,layer:l,path:a.join("-"),transformers:v,linters:g}),x=l2(y),b=kV(i.value,x);if(o){const C={mark:Cl,prepend:"queue",attachTo:m,priority:f},A=typeof u=="function"?u():u;A&&(C.csp={nonce:A});const D=pd(x,b,C);D[Nu]=w.instanceId,D.setAttribute(lI,r.value),Object.keys(S).forEach(E=>{u2.has(E)||(u2.add(E),pd(l2(S[E]),`_effect-${E}`,{mark:Cl,prepend:"queue",attachTo:m}))})}return[x,r.value,b,S,c,f]},(a,s)=>{let[,,l]=a;(s||n.value.autoClear)&&s2&&Dm(l,{mark:Cl})}),a=>a}class FV{constructor(e,n){this._keyframe=!0,this.name=e,this.style=n}getName(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return e?`${e}-${this.name}`:this.name}}const Ft=FV,RV="4.1.1",Mm=["blue","purple","cyan","green","magenta","pink","red","orange","yellow","volcano","geekblue","lime","gold"];function cr(t,e){_V(t)&&(t="100%");var n=zV(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Th(t){return Math.min(1,Math.max(0,t))}function _V(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function zV(t){return typeof t=="string"&&t.indexOf("%")!==-1}function EI(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Bh(t){return t<=1?"".concat(Number(t)*100,"%"):t}function vl(t){return t.length===1?"0"+t:String(t)}function LV(t,e,n){return{r:cr(t,255)*255,g:cr(e,255)*255,b:cr(n,255)*255}}function c2(t,e,n){t=cr(t,255),e=cr(e,255),n=cr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=0,s=(r+i)/2;if(r===i)a=0,o=0;else{var l=r-i;switch(a=s>.5?l/(2-r-i):l/(r+i),r){case t:o=(e-n)/l+(e<n?6:0);break;case e:o=(n-t)/l+2;break;case n:o=(t-e)/l+4;break}o/=6}return{h:o,s:a,l:s}}function E0(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function HV(t,e,n){var r,i,o;if(t=cr(t,360),e=cr(e,100),n=cr(n,100),e===0)i=n,o=n,r=n;else{var a=n<.5?n*(1+e):n+e-n*e,s=2*n-a;r=E0(s,a,t+1/3),i=E0(s,a,t),o=E0(s,a,t-1/3)}return{r:r*255,g:i*255,b:o*255}}function ob(t,e,n){t=cr(t,255),e=cr(e,255),n=cr(n,255);var r=Math.max(t,e,n),i=Math.min(t,e,n),o=0,a=r,s=r-i,l=r===0?0:s/r;if(r===i)o=0;else{switch(r){case t:o=(e-n)/s+(e<n?6:0);break;case e:o=(n-t)/s+2;break;case n:o=(t-e)/s+4;break}o/=6}return{h:o,s:l,v:a}}function VV(t,e,n){t=cr(t,360)*6,e=cr(e,100),n=cr(n,100);var r=Math.floor(t),i=t-r,o=n*(1-e),a=n*(1-i*e),s=n*(1-(1-i)*e),l=r%6,u=[n,a,o,o,s,n][l],c=[s,n,n,a,o,o][l],f=[o,o,s,n,n,a][l];return{r:u*255,g:c*255,b:f*255}}function ab(t,e,n,r){var i=[vl(Math.round(t).toString(16)),vl(Math.round(e).toString(16)),vl(Math.round(n).toString(16))];return r&&i[0].startsWith(i[0].charAt(1))&&i[1].startsWith(i[1].charAt(1))&&i[2].startsWith(i[2].charAt(1))?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function UV(t,e,n,r,i){var o=[vl(Math.round(t).toString(16)),vl(Math.round(e).toString(16)),vl(Math.round(n).toString(16)),vl(qV(r))];return i&&o[0].startsWith(o[0].charAt(1))&&o[1].startsWith(o[1].charAt(1))&&o[2].startsWith(o[2].charAt(1))&&o[3].startsWith(o[3].charAt(1))?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}function qV(t){return Math.round(parseFloat(t)*255).toString(16)}function f2(t){return di(t)/255}function di(t){return parseInt(t,16)}function WV(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var sb={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function xu(t){var e={r:0,g:0,b:0},n=1,r=null,i=null,o=null,a=!1,s=!1;return typeof t=="string"&&(t=XV(t)),typeof t=="object"&&(pa(t.r)&&pa(t.g)&&pa(t.b)?(e=LV(t.r,t.g,t.b),a=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):pa(t.h)&&pa(t.s)&&pa(t.v)?(r=Bh(t.s),i=Bh(t.v),e=VV(t.h,r,i),a=!0,s="hsv"):pa(t.h)&&pa(t.s)&&pa(t.l)&&(r=Bh(t.s),o=Bh(t.l),e=HV(t.h,r,o),a=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=EI(n),{ok:a,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var jV="[-\\+]?\\d+%?",GV="[-\\+]?\\d*\\.\\d+%?",ys="(?:".concat(GV,")|(?:").concat(jV,")"),M0="[\\s|\\(]+(".concat(ys,")[,|\\s]+(").concat(ys,")[,|\\s]+(").concat(ys,")\\s*\\)?"),N0="[\\s|\\(]+(".concat(ys,")[,|\\s]+(").concat(ys,")[,|\\s]+(").concat(ys,")[,|\\s]+(").concat(ys,")\\s*\\)?"),oo={CSS_UNIT:new RegExp(ys),rgb:new RegExp("rgb"+M0),rgba:new RegExp("rgba"+N0),hsl:new RegExp("hsl"+M0),hsla:new RegExp("hsla"+N0),hsv:new RegExp("hsv"+M0),hsva:new RegExp("hsva"+N0),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function XV(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(sb[t])t=sb[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=oo.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=oo.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=oo.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=oo.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=oo.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=oo.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=oo.hex8.exec(t),n?{r:di(n[1]),g:di(n[2]),b:di(n[3]),a:f2(n[4]),format:e?"name":"hex8"}:(n=oo.hex6.exec(t),n?{r:di(n[1]),g:di(n[2]),b:di(n[3]),format:e?"name":"hex"}:(n=oo.hex4.exec(t),n?{r:di(n[1]+n[1]),g:di(n[2]+n[2]),b:di(n[3]+n[3]),a:f2(n[4]+n[4]),format:e?"name":"hex8"}:(n=oo.hex3.exec(t),n?{r:di(n[1]+n[1]),g:di(n[2]+n[2]),b:di(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function pa(t){return!!oo.CSS_UNIT.exec(String(t))}var An=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var r;if(e instanceof t)return e;typeof e=="number"&&(e=WV(e)),this.originalInput=e;var i=xu(e);this.originalInput=e,this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.roundA=Math.round(100*this.a)/100,this.format=(r=n.format)!==null&&r!==void 0?r:i.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=i.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,r,i,o=e.r/255,a=e.g/255,s=e.b/255;return o<=.03928?n=o/12.92:n=Math.pow((o+.055)/1.055,2.4),a<=.03928?r=a/12.92:r=Math.pow((a+.055)/1.055,2.4),s<=.03928?i=s/12.92:i=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*r+.0722*i},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=EI(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=ob(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=ob(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsva(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=c2(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=c2(this.r,this.g,this.b),n=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)"):"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),ab(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),UV(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),r=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(r,")"):"rgba(".concat(e,", ").concat(n,", ").concat(r,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(cr(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(cr(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+ab(this.r,this.g,this.b,!1),n=0,r=Object.entries(sb);n<r.length;n++){var i=r[n],o=i[0],a=i[1];if(e===a)return o}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var r=!1,i=this.a<1&&this.a>=0,o=!n&&i&&(e.startsWith("hex")||e==="name");return o?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Th(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Th(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Th(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Th(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),r=(n.h+e)%360;return n.h=r<0?360+r:r,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var r=this.toRgb(),i=new t(e).toRgb(),o=n/100,a={r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a};return new t(a)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var r=this.toHsl(),i=360/n,o=[this];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,o.push(new t(r));return o},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),r=n.h,i=n.s,o=n.v,a=[],s=1/e;e--;)a.push(new t({h:r,s:i,v:o})),o=(o+s)%1;return a},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),r=new t(e).toRgb(),i=n.a+r.a*(1-n.a);return new t({r:(n.r*n.a+r.r*r.a*(1-n.a))/i,g:(n.g*n.a+r.g*r.a*(1-n.a))/i,b:(n.b*n.a+r.b*r.a*(1-n.a))/i,a:i})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),r=n.h,i=[this],o=360/e,a=1;a<e;a++)i.push(new t({h:(r+a*o)%360,s:n.s,l:n.l}));return i},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}(),Ih=2,d2=.16,KV=.05,YV=.05,ZV=.15,MI=5,NI=4,QV=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function h2(t){var e=t.r,n=t.g,r=t.b,i=ob(e,n,r);return{h:i.h*360,s:i.s,v:i.v}}function Ph(t){var e=t.r,n=t.g,r=t.b;return"#".concat(ab(e,n,r,!1))}function JV(t,e,n){var r=n/100,i={r:(e.r-t.r)*r+t.r,g:(e.g-t.g)*r+t.g,b:(e.b-t.b)*r+t.b};return i}function p2(t,e,n){var r;return Math.round(t.h)>=60&&Math.round(t.h)<=240?r=n?Math.round(t.h)-Ih*e:Math.round(t.h)+Ih*e:r=n?Math.round(t.h)+Ih*e:Math.round(t.h)-Ih*e,r<0?r+=360:r>=360&&(r-=360),r}function m2(t,e,n){if(t.h===0&&t.s===0)return t.s;var r;return n?r=t.s-d2*e:e===NI?r=t.s+d2:r=t.s+KV*e,r>1&&(r=1),n&&e===MI&&r>.1&&(r=.1),r<.06&&(r=.06),Number(r.toFixed(2))}function g2(t,e,n){var r;return n?r=t.v+YV*e:r=t.v-ZV*e,r>1&&(r=1),Number(r.toFixed(2))}function $l(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=[],r=xu(t),i=MI;i>0;i-=1){var o=h2(r),a=Ph(xu({h:p2(o,i,!0),s:m2(o,i,!0),v:g2(o,i,!0)}));n.push(a)}n.push(Ph(r));for(var s=1;s<=NI;s+=1){var l=h2(r),u=Ph(xu({h:p2(l,s),s:m2(l,s),v:g2(l,s)}));n.push(u)}return e.theme==="dark"?QV.map(function(c){var f=c.index,d=c.opacity,h=Ph(JV(xu(e.backgroundColor||"#141414"),xu(n[f]),d*100));return h}):n}var $0={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},Gf={},O0={};Object.keys($0).forEach(function(t){Gf[t]=$l($0[t]),Gf[t].primary=Gf[t][5],O0[t]=$l($0[t],{theme:"dark",backgroundColor:"#141414"}),O0[t].primary=O0[t][5]});var eU=Gf.gold,tU=Gf.blue;const nU=t=>{const{controlHeight:e}=t;return{controlHeightSM:e*.75,controlHeightXS:e*.5,controlHeightLG:e*1.25}},rU=nU;function iU(t){const{sizeUnit:e,sizeStep:n}=t;return{sizeXXL:e*(n+8),sizeXL:e*(n+4),sizeLG:e*(n+2),sizeMD:e*(n+1),sizeMS:e*n,size:e*n,sizeSM:e*(n-1),sizeXS:e*(n-2),sizeXXS:e*(n-3)}}const $I={blue:"#1677ff",purple:"#722ED1",cyan:"#13C2C2",green:"#52C41A",magenta:"#EB2F96",pink:"#eb2f96",red:"#F5222D",orange:"#FA8C16",yellow:"#FADB14",volcano:"#FA541C",geekblue:"#2F54EB",gold:"#FAAD14",lime:"#A0D911"},oU=_(_({},$I),{colorPrimary:"#1677ff",colorSuccess:"#52c41a",colorWarning:"#faad14",colorError:"#ff4d4f",colorInfo:"#1677ff",colorTextBase:"",colorBgBase:"",fontFamily:`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol',
'Noto Color Emoji'`,fontSize:14,lineWidth:1,lineType:"solid",motionUnit:.1,motionBase:0,motionEaseOutCirc:"cubic-bezier(0.08, 0.82, 0.17, 1)",motionEaseInOutCirc:"cubic-bezier(0.78, 0.14, 0.15, 0.86)",motionEaseOut:"cubic-bezier(0.215, 0.61, 0.355, 1)",motionEaseInOut:"cubic-bezier(0.645, 0.045, 0.355, 1)",motionEaseOutBack:"cubic-bezier(0.12, 0.4, 0.29, 1.46)",motionEaseInBack:"cubic-bezier(0.71, -0.46, 0.88, 0.6)",motionEaseInQuint:"cubic-bezier(0.755, 0.05, 0.855, 0.06)",motionEaseOutQuint:"cubic-bezier(0.23, 1, 0.32, 1)",borderRadius:6,sizeUnit:4,sizeStep:4,sizePopupArrow:16,controlHeight:32,zIndexBase:0,zIndexPopupBase:1e3,opacityImage:1,wireframe:!1}),Qg=oU;function aU(t,e){let{generateColorPalettes:n,generateNeutralColorPalettes:r}=e;const{colorSuccess:i,colorWarning:o,colorError:a,colorInfo:s,colorPrimary:l,colorBgBase:u,colorTextBase:c}=t,f=n(l),d=n(i),h=n(o),p=n(a),m=n(s),v=r(u,c);return _(_({},v),{colorPrimaryBg:f[1],colorPrimaryBgHover:f[2],colorPrimaryBorder:f[3],colorPrimaryBorderHover:f[4],colorPrimaryHover:f[5],colorPrimary:f[6],colorPrimaryActive:f[7],colorPrimaryTextHover:f[8],colorPrimaryText:f[9],colorPrimaryTextActive:f[10],colorSuccessBg:d[1],colorSuccessBgHover:d[2],colorSuccessBorder:d[3],colorSuccessBorderHover:d[4],colorSuccessHover:d[4],colorSuccess:d[6],colorSuccessActive:d[7],colorSuccessTextHover:d[8],colorSuccessText:d[9],colorSuccessTextActive:d[10],colorErrorBg:p[1],colorErrorBgHover:p[2],colorErrorBorder:p[3],colorErrorBorderHover:p[4],colorErrorHover:p[5],colorError:p[6],colorErrorActive:p[7],colorErrorTextHover:p[8],colorErrorText:p[9],colorErrorTextActive:p[10],colorWarningBg:h[1],colorWarningBgHover:h[2],colorWarningBorder:h[3],colorWarningBorderHover:h[4],colorWarningHover:h[4],colorWarning:h[6],colorWarningActive:h[7],colorWarningTextHover:h[8],colorWarningText:h[9],colorWarningTextActive:h[10],colorInfoBg:m[1],colorInfoBgHover:m[2],colorInfoBorder:m[3],colorInfoBorderHover:m[4],colorInfoHover:m[4],colorInfo:m[6],colorInfoActive:m[7],colorInfoTextHover:m[8],colorInfoText:m[9],colorInfoTextActive:m[10],colorBgMask:new An("#000").setAlpha(.45).toRgbString(),colorWhite:"#fff"})}const sU=t=>{let e=t,n=t,r=t,i=t;return t<6&&t>=5?e=t+1:t<16&&t>=6?e=t+2:t>=16&&(e=16),t<7&&t>=5?n=4:t<8&&t>=7?n=5:t<14&&t>=8?n=6:t<16&&t>=14?n=7:t>=16&&(n=8),t<6&&t>=2?r=1:t>=6&&(r=2),t>4&&t<8?i=4:t>=8&&(i=6),{borderRadius:t>16?16:t,borderRadiusXS:r,borderRadiusSM:n,borderRadiusLG:e,borderRadiusOuter:i}},lU=sU;function uU(t){const{motionUnit:e,motionBase:n,borderRadius:r,lineWidth:i}=t;return _({motionDurationFast:`${(n+e).toFixed(1)}s`,motionDurationMid:`${(n+e*2).toFixed(1)}s`,motionDurationSlow:`${(n+e*3).toFixed(1)}s`,lineWidthBold:i+1},lU(r))}const ma=(t,e)=>new An(t).setAlpha(e).toRgbString(),hf=(t,e)=>new An(t).darken(e).toHexString(),cU=t=>{const e=$l(t);return{1:e[0],2:e[1],3:e[2],4:e[3],5:e[4],6:e[5],7:e[6],8:e[4],9:e[5],10:e[6]}},fU=(t,e)=>{const n=t||"#fff",r=e||"#000";return{colorBgBase:n,colorTextBase:r,colorText:ma(r,.88),colorTextSecondary:ma(r,.65),colorTextTertiary:ma(r,.45),colorTextQuaternary:ma(r,.25),colorFill:ma(r,.15),colorFillSecondary:ma(r,.06),colorFillTertiary:ma(r,.04),colorFillQuaternary:ma(r,.02),colorBgLayout:hf(n,4),colorBgContainer:hf(n,0),colorBgElevated:hf(n,0),colorBgSpotlight:ma(r,.85),colorBorder:hf(n,15),colorBorderSecondary:hf(n,6)}};function dU(t){const e=new Array(10).fill(null).map((n,r)=>{const i=r-1,o=t*Math.pow(2.71828,i/5),a=r>1?Math.floor(o):Math.ceil(o);return Math.floor(a/2)*2});return e[1]=t,e.map(n=>{const r=n+8;return{size:n,lineHeight:r/n}})}const hU=t=>{const e=dU(t),n=e.map(i=>i.size),r=e.map(i=>i.lineHeight);return{fontSizeSM:n[0],fontSize:n[1],fontSizeLG:n[2],fontSizeXL:n[3],fontSizeHeading1:n[6],fontSizeHeading2:n[5],fontSizeHeading3:n[4],fontSizeHeading4:n[3],fontSizeHeading5:n[2],lineHeight:r[1],lineHeightLG:r[2],lineHeightSM:r[0],lineHeightHeading1:r[6],lineHeightHeading2:r[5],lineHeightHeading3:r[4],lineHeightHeading4:r[3],lineHeightHeading5:r[2]}},pU=hU;function mU(t){const e=Object.keys($I).map(n=>{const r=$l(t[n]);return new Array(10).fill(1).reduce((i,o,a)=>(i[`${n}-${a+1}`]=r[a],i),{})}).reduce((n,r)=>(n=_(_({},n),r),n),{});return _(_(_(_(_(_(_({},t),e),aU(t,{generateColorPalettes:cU,generateNeutralColorPalettes:fU})),pU(t.fontSize)),iU(t)),rU(t)),uU(t))}function T0(t){return t>=0&&t<=255}function kh(t,e){const{r:n,g:r,b:i,a:o}=new An(t).toRgb();if(o<1)return t;const{r:a,g:s,b:l}=new An(e).toRgb();for(let u=.01;u<=1;u+=.01){const c=Math.round((n-a*(1-u))/u),f=Math.round((r-s*(1-u))/u),d=Math.round((i-l*(1-u))/u);if(T0(c)&&T0(f)&&T0(d))return new An({r:c,g:f,b:d,a:Math.round(u*100)/100}).toRgbString()}return new An({r:n,g:r,b:i,a:1}).toRgbString()}var gU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function vU(t){const{override:e}=t,n=gU(t,["override"]),r=_({},e);Object.keys(Qg).forEach(h=>{delete r[h]});const i=_(_({},n),r),o=480,a=576,s=768,l=992,u=1200,c=1600,f=2e3;return _(_(_({},i),{colorLink:i.colorInfoText,colorLinkHover:i.colorInfoHover,colorLinkActive:i.colorInfoActive,colorFillContent:i.colorFillSecondary,colorFillContentHover:i.colorFill,colorFillAlter:i.colorFillQuaternary,colorBgContainerDisabled:i.colorFillTertiary,colorBorderBg:i.colorBgContainer,colorSplit:kh(i.colorBorderSecondary,i.colorBgContainer),colorTextPlaceholder:i.colorTextQuaternary,colorTextDisabled:i.colorTextQuaternary,colorTextHeading:i.colorText,colorTextLabel:i.colorTextSecondary,colorTextDescription:i.colorTextTertiary,colorTextLightSolid:i.colorWhite,colorHighlight:i.colorError,colorBgTextHover:i.colorFillSecondary,colorBgTextActive:i.colorFill,colorIcon:i.colorTextTertiary,colorIconHover:i.colorText,colorErrorOutline:kh(i.colorErrorBg,i.colorBgContainer),colorWarningOutline:kh(i.colorWarningBg,i.colorBgContainer),fontSizeIcon:i.fontSizeSM,lineWidth:i.lineWidth,controlOutlineWidth:i.lineWidth*2,controlInteractiveSize:i.controlHeight/2,controlItemBgHover:i.colorFillTertiary,controlItemBgActive:i.colorPrimaryBg,controlItemBgActiveHover:i.colorPrimaryBgHover,controlItemBgActiveDisabled:i.colorFill,controlTmpOutline:i.colorFillQuaternary,controlOutline:kh(i.colorPrimaryBg,i.colorBgContainer),lineType:i.lineType,borderRadius:i.borderRadius,borderRadiusXS:i.borderRadiusXS,borderRadiusSM:i.borderRadiusSM,borderRadiusLG:i.borderRadiusLG,fontWeightStrong:600,opacityLoading:.65,linkDecoration:"none",linkHoverDecoration:"none",linkFocusDecoration:"none",controlPaddingHorizontal:12,controlPaddingHorizontalSM:8,paddingXXS:i.sizeXXS,paddingXS:i.sizeXS,paddingSM:i.sizeSM,padding:i.size,paddingMD:i.sizeMD,paddingLG:i.sizeLG,paddingXL:i.sizeXL,paddingContentHorizontalLG:i.sizeLG,paddingContentVerticalLG:i.sizeMS,paddingContentHorizontal:i.sizeMS,paddingContentVertical:i.sizeSM,paddingContentHorizontalSM:i.size,paddingContentVerticalSM:i.sizeXS,marginXXS:i.sizeXXS,marginXS:i.sizeXS,marginSM:i.sizeSM,margin:i.size,marginMD:i.sizeMD,marginLG:i.sizeLG,marginXL:i.sizeXL,marginXXL:i.sizeXXL,boxShadow:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,boxShadowSecondary:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTertiary:`
      0 1px 2px 0 rgba(0, 0, 0, 0.03),
      0 1px 6px -1px rgba(0, 0, 0, 0.02),
      0 2px 4px 0 rgba(0, 0, 0, 0.02)
    `,screenXS:o,screenXSMin:o,screenXSMax:a-1,screenSM:a,screenSMMin:a,screenSMMax:s-1,screenMD:s,screenMDMin:s,screenMDMax:l-1,screenLG:l,screenLGMin:l,screenLGMax:u-1,screenXL:u,screenXLMin:u,screenXLMax:c-1,screenXXL:c,screenXXLMin:c,screenXXLMax:f-1,screenXXXL:f,screenXXXLMin:f,boxShadowPopoverArrow:"3px 3px 7px rgba(0, 0, 0, 0.1)",boxShadowCard:`
      0 1px 2px -2px ${new An("rgba(0, 0, 0, 0.16)").toRgbString()},
      0 3px 6px 0 ${new An("rgba(0, 0, 0, 0.12)").toRgbString()},
      0 5px 12px 4px ${new An("rgba(0, 0, 0, 0.09)").toRgbString()}
    `,boxShadowDrawerRight:`
      -6px 0 16px 0 rgba(0, 0, 0, 0.08),
      -3px 0 6px -4px rgba(0, 0, 0, 0.12),
      -9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerLeft:`
      6px 0 16px 0 rgba(0, 0, 0, 0.08),
      3px 0 6px -4px rgba(0, 0, 0, 0.12),
      9px 0 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerUp:`
      0 6px 16px 0 rgba(0, 0, 0, 0.08),
      0 3px 6px -4px rgba(0, 0, 0, 0.12),
      0 9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowDrawerDown:`
      0 -6px 16px 0 rgba(0, 0, 0, 0.08),
      0 -3px 6px -4px rgba(0, 0, 0, 0.12),
      0 -9px 28px 8px rgba(0, 0, 0, 0.05)
    `,boxShadowTabsOverflowLeft:"inset 10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowRight:"inset -10px 0 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowTop:"inset 0 10px 8px -8px rgba(0, 0, 0, 0.08)",boxShadowTabsOverflowBottom:"inset 0 -10px 8px -8px rgba(0, 0, 0, 0.08)"}),r)}const OI=t=>({color:t.colorLink,textDecoration:"none",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:focus, &:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive}}),TI=(t,e,n,r,i)=>{const o=t/2,a=0,s=o,l=n*1/Math.sqrt(2),u=o-n*(1-1/Math.sqrt(2)),c=o-e*(1/Math.sqrt(2)),f=n*(Math.sqrt(2)-1)+e*(1/Math.sqrt(2)),d=2*o-c,h=f,p=2*o-l,m=u,v=2*o-a,g=s,w=o*Math.sqrt(2)+n*(Math.sqrt(2)-2),y=n*(Math.sqrt(2)-1);return{pointerEvents:"none",width:t,height:t,overflow:"hidden","&::after":{content:'""',position:"absolute",width:w,height:w,bottom:0,insetInline:0,margin:"auto",borderRadius:{_skip_check_:!0,value:`0 0 ${e}px 0`},transform:"translateY(50%) rotate(-135deg)",boxShadow:i,zIndex:0,background:"transparent"},"&::before":{position:"absolute",bottom:0,insetInlineStart:0,width:t,height:t/2,background:r,clipPath:{_multi_value_:!0,value:[`polygon(${y}px 100%, 50% ${y}px, ${2*o-y}px 100%, ${y}px 100%)`,`path('M ${a} ${s} A ${n} ${n} 0 0 0 ${l} ${u} L ${c} ${f} A ${e} ${e} 0 0 1 ${d} ${h} L ${p} ${m} A ${n} ${n} 0 0 0 ${v} ${g} Z')`]},content:'""'}}};function yU(t,e){return Mm.reduce((n,r)=>{const i=t[`${r}-1`],o=t[`${r}-3`],a=t[`${r}-6`],s=t[`${r}-7`];return _(_({},n),e(r,{lightColor:i,lightBorderColor:o,darkColor:a,textColor:s}))},{})}const Nm={overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis"},Zi=t=>({boxSizing:"border-box",margin:0,padding:0,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,listStyle:"none",fontFamily:t.fontFamily}),Jg=()=>({display:"inline-flex",alignItems:"center",color:"inherit",fontStyle:"normal",lineHeight:0,textAlign:"center",textTransform:"none",verticalAlign:"-0.125em",textRendering:"optimizeLegibility","-webkit-font-smoothing":"antialiased","-moz-osx-font-smoothing":"grayscale","> *":{lineHeight:1},svg:{display:"inline-block"}}),lb=()=>({"&::before":{display:"table",content:'""'},"&::after":{display:"table",clear:"both",content:'""'}}),bU=t=>({a:{color:t.colorLink,textDecoration:t.linkDecoration,backgroundColor:"transparent",outline:"none",cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"-webkit-text-decoration-skip":"objects","&:hover":{color:t.colorLinkHover},"&:active":{color:t.colorLinkActive},"&:active,\n  &:hover":{textDecoration:t.linkHoverDecoration,outline:0},"&:focus":{textDecoration:t.linkFocusDecoration,outline:0},"&[disabled]":{color:t.colorTextDisabled,cursor:"not-allowed"}}}),xU=(t,e)=>{const{fontFamily:n,fontSize:r}=t,i=`[class^="${e}"], [class*=" ${e}"]`;return{[i]:{fontFamily:n,fontSize:r,boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"},[i]:{boxSizing:"border-box","&::before, &::after":{boxSizing:"border-box"}}}}},BI=t=>({outline:`${t.lineWidthBold}px solid ${t.colorPrimaryBorder}`,outlineOffset:1,transition:"outline-offset 0s, outline 0s"}),$m=t=>({"&:focus-visible":_({},BI(t))});function ai(t,e,n){return r=>{const i=H(()=>r==null?void 0:r.value),[o,a,s]=Gd(),{getPrefixCls:l,iconPrefixCls:u}=oI(),c=H(()=>l()),f=H(()=>({theme:o.value,token:a.value,hashId:s.value,path:["Shared",c.value]}));ib(f,()=>[{"&":bU(a.value)}]);const d=H(()=>({theme:o.value,token:a.value,hashId:s.value,path:[t,i.value,u.value]}));return[ib(d,()=>{const{token:h,flush:p}=SU(a.value),m=typeof n=="function"?n(h):n,v=_(_({},m),a.value[t]),g=`.${i.value}`,w=cn(h,{componentCls:g,prefixCls:i.value,iconCls:`.${u.value}`,antCls:`.${c.value}`},v),y=e(w,{hashId:s.value,prefixCls:i.value,rootPrefixCls:c.value,iconPrefixCls:u.value,overrideComponentToken:a.value[t]});return p(t,v),[xU(a.value,i.value),y]}),s]}}const II=typeof CSSINJS_STATISTIC<"u";let ub=!0;function cn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(!II)return _({},...e);ub=!1;const r={};return e.forEach(i=>{Object.keys(i).forEach(a=>{Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:()=>i[a]})})}),ub=!0,r}function wU(){}function SU(t){let e,n=t,r=wU;return II&&(e=new Set,n=new Proxy(t,{get(i,o){return ub&&e.add(o),i[o]}}),r=(i,o)=>{Array.from(e)}),{token:n,keys:e,flush:r}}const CU=vI(mU),PI={token:Qg,hashed:!0},kI=Symbol("DesignTokenContext"),cb=Be(),AU=t=>{zt(kI,t),ze(t,()=>{cb.value=O(t),Z8(cb)},{immediate:!0,deep:!0})},DU=De({props:{value:hn()},setup(t,e){let{slots:n}=e;return AU(H(()=>t.value)),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}});function Gd(){const t=$t(kI,H(()=>cb.value||PI)),e=H(()=>`${RV}-${t.value.hashed||""}`),n=H(()=>t.value.theme||CU),r=cV(n,H(()=>[Qg,t.value.token]),H(()=>({salt:e.value,override:_({override:t.value.token},t.value.components),formatToken:vU})));return[n,H(()=>r.value[0]),H(()=>t.value.hashed?r.value[1]:"")]}const FI=De({compatConfig:{MODE:3},setup(){const[,t]=Gd(),e=H(()=>new An(t.value.colorBgBase).toHsl().l<.5?{opacity:.65}:{});return()=>k("svg",{style:e.value,width:"184",height:"152",viewBox:"0 0 184 152",xmlns:"http://www.w3.org/2000/svg"},[k("g",{fill:"none","fill-rule":"evenodd"},[k("g",{transform:"translate(24 31.67)"},[k("ellipse",{"fill-opacity":".8",fill:"#F5F5F7",cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),k("path",{d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z",fill:"#AEB8C2"},null),k("path",{d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",fill:"url(#linearGradient-1)",transform:"translate(13.56)"},null),k("path",{d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z",fill:"#F5F5F7"},null),k("path",{d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z",fill:"#DCE0E6"},null)]),k("path",{d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z",fill:"#DCE0E6"},null),k("g",{transform:"translate(149.65 15.383)",fill:"#FFF"},[k("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),k("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])}});FI.PRESENTED_IMAGE_DEFAULT=!0;const EU=FI,RI=De({compatConfig:{MODE:3},setup(){const[,t]=Gd(),e=H(()=>{const{colorFill:n,colorFillTertiary:r,colorFillQuaternary:i,colorBgContainer:o}=t.value;return{borderColor:new An(n).onBackground(o).toHexString(),shadowColor:new An(r).onBackground(o).toHexString(),contentColor:new An(i).onBackground(o).toHexString()}});return()=>k("svg",{width:"64",height:"41",viewBox:"0 0 64 41",xmlns:"http://www.w3.org/2000/svg"},[k("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[k("ellipse",{fill:e.value.shadowColor,cx:"32",cy:"33",rx:"32",ry:"7"},null),k("g",{"fill-rule":"nonzero",stroke:e.value.borderColor},[k("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),k("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:e.value.contentColor},null)])])])}});RI.PRESENTED_IMAGE_SIMPLE=!0;const MU=RI,NU=t=>{const{componentCls:e,margin:n,marginXS:r,marginXL:i,fontSize:o,lineHeight:a}=t;return{[e]:{marginInline:r,fontSize:o,lineHeight:a,textAlign:"center",[`${e}-image`]:{height:t.emptyImgHeight,marginBottom:r,opacity:t.opacityImage,img:{height:"100%"},svg:{height:"100%",margin:"auto"}},[`${e}-footer`]:{marginTop:n},"&-normal":{marginBlock:i,color:t.colorTextDisabled,[`${e}-image`]:{height:t.emptyImgHeightMD}},"&-small":{marginBlock:r,color:t.colorTextDisabled,[`${e}-image`]:{height:t.emptyImgHeightSM}}}}},$U=ai("Empty",t=>{const{componentCls:e,controlHeightLG:n}=t,r=cn(t,{emptyImgCls:`${e}-img`,emptyImgHeight:n*2.5,emptyImgHeightMD:n,emptyImgHeightSM:n*.875});return[NU(r)]});var OU=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const _I=k(EU,null,null),zI=k(MU,null,null),TU=()=>({prefixCls:String,imageStyle:hn(),image:Ho(),description:Ho()}),Ix=De({name:"AEmpty",compatConfig:{MODE:3},inheritAttrs:!1,props:TU(),setup(t,e){let{slots:n={},attrs:r}=e;const{direction:i,prefixCls:o}=En("empty",t),[a,s]=$U(o);return()=>{var l,u;const c=o.value,f=_(_({},t),r),{image:d=((l=n.image)===null||l===void 0?void 0:l.call(n))||_I,description:h=((u=n.description)===null||u===void 0?void 0:u.call(n))||void 0,imageStyle:p,class:m=""}=f,v=OU(f,["image","description","imageStyle","class"]);return a(k(Ox,{componentName:"Empty",children:g=>{const w=typeof h<"u"?h:g.description,y=typeof w=="string"?w:"empty";let S=null;return typeof d=="string"?S=k("img",{alt:y,src:d},null):S=d,k("div",Ee({class:He(c,m,s.value,{[`${c}-normal`]:d===zI,[`${c}-rtl`]:i.value==="rtl"})},v),[k("div",{class:`${c}-image`,style:p},[S]),w&&k("p",{class:`${c}-description`},[w]),n.default&&k("div",{class:`${c}-footer`},[Hl(n.default())])])}},null))}}});Ix.PRESENTED_IMAGE_DEFAULT=_I;Ix.PRESENTED_IMAGE_SIMPLE=zI;const pf=_c(Ix),Px=t=>{const{prefixCls:e}=En("empty",t);return(r=>{switch(r){case"Table":case"List":return k(pf,{image:pf.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return k(pf,{image:pf.PRESENTED_IMAGE_SIMPLE,class:`${e.value}-small`},null);default:return k(pf,null,null)}})(t.componentName)};function BU(t){return k(Px,{componentName:t},null)}const LI=Symbol("SizeContextKey"),HI=()=>$t(LI,Te(void 0)),IU=t=>{const e=HI();return zt(LI,H(()=>t.value||e.value)),t},En=(t,e)=>{const n=HI(),r=Vl(),i=$t($x,_(_({},iI),{renderEmpty:C=>Wt(Px,{componentName:C})})),o=H(()=>i.getPrefixCls(t,e.prefixCls)),a=H(()=>{var C,A;return(C=e.direction)!==null&&C!==void 0?C:(A=i.direction)===null||A===void 0?void 0:A.value}),s=H(()=>{var C;return(C=e.iconPrefixCls)!==null&&C!==void 0?C:i.iconPrefixCls.value}),l=H(()=>i.getPrefixCls()),u=H(()=>{var C;return(C=i.autoInsertSpaceInButton)===null||C===void 0?void 0:C.value}),c=i.renderEmpty,f=i.space,d=i.pageHeader,h=i.form,p=H(()=>{var C,A;return(C=e.getTargetContainer)!==null&&C!==void 0?C:(A=i.getTargetContainer)===null||A===void 0?void 0:A.value}),m=H(()=>{var C,A,D;return(A=(C=e.getContainer)!==null&&C!==void 0?C:e.getPopupContainer)!==null&&A!==void 0?A:(D=i.getPopupContainer)===null||D===void 0?void 0:D.value}),v=H(()=>{var C,A;return(C=e.dropdownMatchSelectWidth)!==null&&C!==void 0?C:(A=i.dropdownMatchSelectWidth)===null||A===void 0?void 0:A.value}),g=H(()=>{var C;return(e.virtual===void 0?((C=i.virtual)===null||C===void 0?void 0:C.value)!==!1:e.virtual!==!1)&&v.value!==!1}),w=H(()=>e.size||n.value),y=H(()=>{var C,A,D;return(C=e.autocomplete)!==null&&C!==void 0?C:(D=(A=i.input)===null||A===void 0?void 0:A.value)===null||D===void 0?void 0:D.autocomplete}),S=H(()=>{var C;return(C=e.disabled)!==null&&C!==void 0?C:r.value}),x=H(()=>{var C;return(C=e.csp)!==null&&C!==void 0?C:i.csp}),b=H(()=>{var C,A;return(C=e.wave)!==null&&C!==void 0?C:(A=i.wave)===null||A===void 0?void 0:A.value});return{configProvider:i,prefixCls:o,direction:a,size:w,getTargetContainer:p,getPopupContainer:m,space:f,pageHeader:d,form:h,autoInsertSpaceInButton:u,renderEmpty:c,virtual:g,dropdownMatchSelectWidth:v,rootPrefixCls:l,getPrefixCls:i.getPrefixCls,autocomplete:y,csp:x,iconPrefixCls:s,disabled:S,select:i.select,wave:b}};function In(t,e){const n=_({},t);for(let r=0;r<e.length;r+=1){const i=e[r];delete n[i]}return n}function v2(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function VI(t,e,n){return e&&v2(t.prototype,e),n&&v2(t,n),t}function zp(){return(zp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function UI(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function qI(t,e){if(t==null)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}function y2(t){return((e=t)!=null&&typeof e=="object"&&Array.isArray(e)===!1)==1&&Object.prototype.toString.call(t)==="[object Object]";var e}var WI=Object.prototype,jI=WI.toString,PU=WI.hasOwnProperty,GI=/^\s*function (\w+)/;function b2(t){var e,n=(e=t==null?void 0:t.type)!==null&&e!==void 0?e:t;if(n){var r=n.toString().match(GI);return r?r[1]:""}return""}var Ol=function(t){var e,n;return y2(t)!==!1&&typeof(e=t.constructor)=="function"&&y2(n=e.prototype)!==!1&&n.hasOwnProperty("isPrototypeOf")!==!1},kU=function(t){return t},Br=kU,vd=function(t,e){return PU.call(t,e)},FU=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},lc=Array.isArray||function(t){return jI.call(t)==="[object Array]"},uc=function(t){return jI.call(t)==="[object Function]"},Om=function(t){return Ol(t)&&vd(t,"_vueTypes_name")},XI=function(t){return Ol(t)&&(vd(t,"type")||["_vueTypes_name","validator","default","required"].some(function(e){return vd(t,e)}))};function kx(t,e){return Object.defineProperty(t.bind(e),"__original",{value:t})}function Ul(t,e,n){var r;n===void 0&&(n=!1);var i=!0,o="";r=Ol(t)?t:{type:t};var a=Om(r)?r._vueTypes_name+" - ":"";if(XI(r)&&r.type!==null){if(r.type===void 0||r.type===!0||!r.required&&e===void 0)return i;lc(r.type)?(i=r.type.some(function(f){return Ul(f,e,!0)===!0}),o=r.type.map(function(f){return b2(f)}).join(" or ")):i=(o=b2(r))==="Array"?lc(e):o==="Object"?Ol(e):o==="String"||o==="Number"||o==="Boolean"||o==="Function"?function(f){if(f==null)return"";var d=f.constructor.toString().match(GI);return d?d[1]:""}(e)===o:e instanceof r.type}if(!i){var s=a+'value "'+e+'" should be of type "'+o+'"';return n===!1?(Br(s),!1):s}if(vd(r,"validator")&&uc(r.validator)){var l=Br,u=[];if(Br=function(f){u.push(f)},i=r.validator(e),Br=l,!i){var c=(u.length>1?"* ":"")+u.join(`
* `);return u.length=0,n===!1?(Br(c),i):c}}return i}function Ai(t,e){var n=Object.defineProperties(e,{_vueTypes_name:{value:t,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(i){return i!==void 0||this.default?uc(i)||Ul(this,i,!0)===!0?(this.default=lc(i)?function(){return[].concat(i)}:Ol(i)?function(){return Object.assign({},i)}:i,this):(Br(this._vueTypes_name+' - invalid default value: "'+i+'"'),this):this}}}),r=n.validator;return uc(r)&&(n.validator=kx(r,n)),n}function oa(t,e){var n=Ai(t,e);return Object.defineProperty(n,"validate",{value:function(r){return uc(this.validator)&&Br(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=kx(r,this),this}})}function x2(t,e,n){var r,i,o=(r=e,i={},Object.getOwnPropertyNames(r).forEach(function(f){i[f]=Object.getOwnPropertyDescriptor(r,f)}),Object.defineProperties({},i));if(o._vueTypes_name=t,!Ol(n))return o;var a,s,l=n.validator,u=qI(n,["validator"]);if(uc(l)){var c=o.validator;c&&(c=(s=(a=c).__original)!==null&&s!==void 0?s:a),o.validator=kx(c?function(f){return c.call(this,f)&&l.call(this,f)}:l,o)}return Object.assign(o,u)}function ev(t){return t.replace(/^(?!\s*$)/gm,"  ")}var RU=function(){return oa("any",{})},_U=function(){return oa("function",{type:Function})},zU=function(){return oa("boolean",{type:Boolean})},LU=function(){return oa("string",{type:String})},HU=function(){return oa("number",{type:Number})},VU=function(){return oa("array",{type:Array})},UU=function(){return oa("object",{type:Object})},qU=function(){return Ai("integer",{type:Number,validator:function(t){return FU(t)}})},WU=function(){return Ai("symbol",{validator:function(t){return typeof t=="symbol"}})};function jU(t,e){if(e===void 0&&(e="custom validation failed"),typeof t!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return Ai(t.name||"<<anonymous function>>",{validator:function(n){var r=t(n);return r||Br(this._vueTypes_name+" - "+e),r}})}function GU(t){if(!lc(t))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var e='oneOf - value should be one of "'+t.join('", "')+'".',n=t.reduce(function(r,i){if(i!=null){var o=i.constructor;r.indexOf(o)===-1&&r.push(o)}return r},[]);return Ai("oneOf",{type:n.length>0?n:void 0,validator:function(r){var i=t.indexOf(r)!==-1;return i||Br(e),i}})}function XU(t){if(!lc(t))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var e=!1,n=[],r=0;r<t.length;r+=1){var i=t[r];if(XI(i)){if(Om(i)&&i._vueTypes_name==="oneOf"){n=n.concat(i.type);continue}if(uc(i.validator)&&(e=!0),i.type!==!0&&i.type){n=n.concat(i.type);continue}}n.push(i)}return n=n.filter(function(o,a){return n.indexOf(o)===a}),Ai("oneOfType",e?{type:n,validator:function(o){var a=[],s=t.some(function(l){var u=Ul(Om(l)&&l._vueTypes_name==="oneOf"?l.type||null:l,o,!0);return typeof u=="string"&&a.push(u),u===!0});return s||Br("oneOfType - provided value does not match any of the "+a.length+` passed-in validators:
`+ev(a.join(`
`))),s}}:{type:n})}function KU(t){return Ai("arrayOf",{type:Array,validator:function(e){var n,r=e.every(function(i){return(n=Ul(t,i,!0))===!0});return r||Br(`arrayOf - value validation error:
`+ev(n)),r}})}function YU(t){return Ai("instanceOf",{type:t})}function ZU(t){return Ai("objectOf",{type:Object,validator:function(e){var n,r=Object.keys(e).every(function(i){return(n=Ul(t,e[i],!0))===!0});return r||Br(`objectOf - value validation error:
`+ev(n)),r}})}function QU(t){var e=Object.keys(t),n=e.filter(function(i){var o;return!!(!((o=t[i])===null||o===void 0)&&o.required)}),r=Ai("shape",{type:Object,validator:function(i){var o=this;if(!Ol(i))return!1;var a=Object.keys(i);if(n.length>0&&n.some(function(l){return a.indexOf(l)===-1})){var s=n.filter(function(l){return a.indexOf(l)===-1});return Br(s.length===1?'shape - required property "'+s[0]+'" is not defined.':'shape - required properties "'+s.join('", "')+'" are not defined.'),!1}return a.every(function(l){if(e.indexOf(l)===-1)return o._vueTypes_isLoose===!0||(Br('shape - shape definition does not include a "'+l+'" property. Allowed keys: "'+e.join('", "')+'".'),!1);var u=Ul(t[l],i[l],!0);return typeof u=="string"&&Br('shape - "'+l+`" property validation error:
 `+ev(u)),u===!0})}});return Object.defineProperty(r,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(r,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),r}var _o=function(){function t(){}return t.extend=function(e){var n=this;if(lc(e))return e.forEach(function(f){return n.extend(f)}),this;var r=e.name,i=e.validate,o=i!==void 0&&i,a=e.getter,s=a!==void 0&&a,l=qI(e,["name","validate","getter"]);if(vd(this,r))throw new TypeError('[VueTypes error]: Type "'+r+'" already defined');var u,c=l.type;return Om(c)?(delete l.type,Object.defineProperty(this,r,s?{get:function(){return x2(r,c,l)}}:{value:function(){var f,d=x2(r,c,l);return d.validator&&(d.validator=(f=d.validator).bind.apply(f,[d].concat([].slice.call(arguments)))),d}})):(u=s?{get:function(){var f=Object.assign({},l);return o?oa(r,f):Ai(r,f)},enumerable:!0}:{value:function(){var f,d,h=Object.assign({},l);return f=o?oa(r,h):Ai(r,h),h.validator&&(f.validator=(d=h.validator).bind.apply(d,[f].concat([].slice.call(arguments)))),f},enumerable:!0},Object.defineProperty(this,r,u))},VI(t,null,[{key:"any",get:function(){return RU()}},{key:"func",get:function(){return _U().def(this.defaults.func)}},{key:"bool",get:function(){return zU().def(this.defaults.bool)}},{key:"string",get:function(){return LU().def(this.defaults.string)}},{key:"number",get:function(){return HU().def(this.defaults.number)}},{key:"array",get:function(){return VU().def(this.defaults.array)}},{key:"object",get:function(){return UU().def(this.defaults.object)}},{key:"integer",get:function(){return qU().def(this.defaults.integer)}},{key:"symbol",get:function(){return WU()}}]),t}();function KI(t){var e;return t===void 0&&(t={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(e=function(n){function r(){return n.apply(this,arguments)||this}return UI(r,n),VI(r,null,[{key:"sensibleDefaults",get:function(){return zp({},this.defaults)},set:function(i){this.defaults=i!==!1?zp({},i!==!0?i:t):{}}}]),r}(_o)).defaults=zp({},t),e}_o.defaults={},_o.custom=jU,_o.oneOf=GU,_o.instanceOf=YU,_o.oneOfType=XU,_o.arrayOf=KU,_o.objectOf=ZU,_o.shape=QU,_o.utils={validate:function(t,e){return Ul(e,t,!0)===!0},toType:function(t,e,n){return n===void 0&&(n=!1),n?oa(t,e):Ai(t,e)}};(function(t){function e(){return t.apply(this,arguments)||this}return UI(e,t),e})(KI());const YI=KI({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});YI.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);function JU(t){return t.default=void 0,t}const ve=YI,ks=(t,e,n)=>{YH(t,`[ant-design-vue: ${e}] ${n}`)};function w2(t,e){const{key:n}=t;let r;return"value"in t&&({value:r}=t),n??(r!==void 0?r:`rc-index-key-${e}`)}function ZI(t,e){const{label:n,value:r,options:i}=t||{};return{label:n||(e?"children":"label"),value:r||"value",options:i||"options"}}function eq(t){let{fieldNames:e,childrenAsData:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=[],{label:i,value:o,options:a}=ZI(e,!1);function s(l,u){l.forEach(c=>{const f=c[i];if(u||!(a in c)){const d=c[o];r.push({key:w2(c,r.length),groupOption:u,data:c,label:f,value:d})}else{let d=f;d===void 0&&n&&(d=c.label),r.push({key:w2(c,r.length),group:!0,data:c,label:d}),s(c[a],!0)}})}return s(t,!1),r}function fb(t){const e=_({},t);return"props"in e||Object.defineProperty(e,"props",{get(){return e}}),e}function tq(t,e){if(!e||!e.length)return null;let n=!1;function r(o,a){let[s,...l]=a;if(!s)return[o];const u=o.split(s);return n=n||u.length>1,u.reduce((c,f)=>[...c,...r(f,l)],[]).filter(c=>c)}const i=r(t,e);return n?i:null}function nq(){return""}function rq(t){return t?t.ownerDocument:window.document}function QI(){}const iq=()=>({action:ve.oneOfType([ve.string,ve.arrayOf(ve.string)]).def([]),showAction:ve.any.def([]),hideAction:ve.any.def([]),getPopupClassNameFromAlign:ve.any.def(nq),onPopupVisibleChange:Function,afterPopupVisibleChange:ve.func.def(QI),popup:ve.any,popupStyle:{type:Object,default:void 0},prefixCls:ve.string.def("rc-trigger-popup"),popupClassName:ve.string.def(""),popupPlacement:String,builtinPlacements:ve.object,popupTransitionName:String,popupAnimation:ve.any,mouseEnterDelay:ve.number.def(0),mouseLeaveDelay:ve.number.def(.1),zIndex:Number,focusDelay:ve.number.def(0),blurDelay:ve.number.def(.15),getPopupContainer:Function,getDocument:ve.func.def(rq),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:ve.object.def(()=>({})),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function}),Fx={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},oq=_(_({},Fx),{mobile:{type:Object}}),aq=_(_({},Fx),{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function Rx(t){let{prefixCls:e,animation:n,transitionName:r}=t;return n?{name:`${e}-${n}`}:r?{name:r}:{}}function JI(t){const{prefixCls:e,visible:n,zIndex:r,mask:i,maskAnimation:o,maskTransitionName:a}=t;if(!i)return null;let s={};return(a||o)&&(s=Rx({prefixCls:e,transitionName:a,animation:o})),k(Pc,Ee({appear:!0},s),{default:()=>[_a(k("div",{style:{zIndex:r},class:`${e}-mask`},null),[[Q8("if"),n]])]})}JI.displayName="Mask";const sq=De({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:oq,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(t,e){let{expose:n,slots:r}=e;const i=Te();return n({forceAlign:()=>{},getElement:()=>i.value}),()=>{var o;const{zIndex:a,visible:s,prefixCls:l,mobile:{popupClassName:u,popupStyle:c,popupMotion:f={},popupRender:d}={}}=t,h=_({zIndex:a},c);let p=kr((o=r.default)===null||o===void 0?void 0:o.call(r));p.length>1&&(p=k("div",{class:`${l}-content`},[p])),d&&(p=d(p));const m=He(l,u);return k(Pc,Ee({ref:i},f),{default:()=>[s?k("div",{class:m,style:h},[p]):null]})}}});var lq=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(c){try{u(r.next(c))}catch(f){a(f)}}function l(c){try{u(r.throw(c))}catch(f){a(f)}}function u(c){c.done?o(c.value):i(c.value).then(s,l)}u((r=r.apply(t,e||[])).next())})};const S2=["measure","align",null,"motion"],uq=(t,e)=>{const n=Be(null),r=Be(),i=Be(!1);function o(l){i.value||(n.value=l)}function a(){Rt.cancel(r.value)}function s(l){a(),r.value=Rt(()=>{let u=n.value;switch(n.value){case"align":u="motion";break;case"motion":u="stable";break}o(u),l==null||l()})}return ze(t,()=>{o("measure")},{immediate:!0,flush:"post"}),sn(()=>{ze(n,()=>{switch(n.value){case"measure":e();break}n.value&&(r.value=Rt(()=>lq(void 0,void 0,void 0,function*(){const l=S2.indexOf(n.value),u=S2[l+1];u&&l!==-1&&o(u)})))},{immediate:!0,flush:"post"})}),ln(()=>{i.value=!0,a()}),[n,s]},cq=t=>{const e=Be({width:0,height:0});function n(i){e.value={width:i.offsetWidth,height:i.offsetHeight}}return[H(()=>{const i={};if(t.value){const{width:o,height:a}=e.value;t.value.indexOf("height")!==-1&&a?i.height=`${a}px`:t.value.indexOf("minHeight")!==-1&&a&&(i.minHeight=`${a}px`),t.value.indexOf("width")!==-1&&o?i.width=`${o}px`:t.value.indexOf("minWidth")!==-1&&o&&(i.minWidth=`${o}px`)}return i}),n]};function C2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C2(Object(n),!0).forEach(function(r){fq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function db(t){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(t)}function fq(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mf,dq={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function Tm(){if(mf!==void 0)return mf;mf="";var t=document.createElement("p").style,e="Transform";for(var n in dq)n+e in t&&(mf=n);return mf}function e3(){return Tm()?"".concat(Tm(),"TransitionProperty"):"transitionProperty"}function tv(){return Tm()?"".concat(Tm(),"Transform"):"transform"}function D2(t,e){var n=e3();n&&(t.style[n]=e,n!=="transitionProperty"&&(t.style.transitionProperty=e))}function B0(t,e){var n=tv();n&&(t.style[n]=e,n!=="transform"&&(t.style.transform=e))}function hq(t){return t.style.transitionProperty||t.style[e3()]}function pq(t){var e=window.getComputedStyle(t,null),n=e.getPropertyValue("transform")||e.getPropertyValue(tv());if(n&&n!=="none"){var r=n.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(r[12]||r[4],0),y:parseFloat(r[13]||r[5],0)}}return{x:0,y:0}}var mq=/matrix\((.*)\)/,gq=/matrix3d\((.*)\)/;function vq(t,e){var n=window.getComputedStyle(t,null),r=n.getPropertyValue("transform")||n.getPropertyValue(tv());if(r&&r!=="none"){var i,o=r.match(mq);if(o)o=o[1],i=o.split(",").map(function(s){return parseFloat(s,10)}),i[4]=e.x,i[5]=e.y,B0(t,"matrix(".concat(i.join(","),")"));else{var a=r.match(gq)[1];i=a.split(",").map(function(s){return parseFloat(s,10)}),i[12]=e.x,i[13]=e.y,B0(t,"matrix3d(".concat(i.join(","),")"))}}else B0(t,"translateX(".concat(e.x,"px) translateY(").concat(e.y,"px) translateZ(0)"))}var yq=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Xd;function E2(t){var e=t.style.display;t.style.display="none",t.offsetHeight,t.style.display=e}function zu(t,e,n){var r=n;if(db(e)==="object"){for(var i in e)e.hasOwnProperty(i)&&zu(t,i,e[i]);return}if(typeof r<"u"){typeof r=="number"&&(r="".concat(r,"px")),t.style[e]=r;return}return Xd(t,e)}function bq(t){var e,n,r,i=t.ownerDocument,o=i.body,a=i&&i.documentElement;return e=t.getBoundingClientRect(),n=Math.floor(e.left),r=Math.floor(e.top),n-=a.clientLeft||o.clientLeft||0,r-=a.clientTop||o.clientTop||0,{left:n,top:r}}function t3(t,e){var n=t["page".concat(e?"Y":"X","Offset")],r="scroll".concat(e?"Top":"Left");if(typeof n!="number"){var i=t.document;n=i.documentElement[r],typeof n!="number"&&(n=i.body[r])}return n}function n3(t){return t3(t)}function r3(t){return t3(t,!0)}function yd(t){var e=bq(t),n=t.ownerDocument,r=n.defaultView||n.parentWindow;return e.left+=n3(r),e.top+=r3(r),e}function _x(t){return t!=null&&t==t.window}function i3(t){return _x(t)?t.document:t.nodeType===9?t:t.ownerDocument}function xq(t,e,n){var r=n,i="",o=i3(t);return r=r||o.defaultView.getComputedStyle(t,null),r&&(i=r.getPropertyValue(e)||r[e]),i}var wq=new RegExp("^(".concat(yq,")(?!px)[a-z%]+$"),"i"),Sq=/^(top|right|bottom|left)$/,I0="currentStyle",P0="runtimeStyle",ol="left",Cq="px";function Aq(t,e){var n=t[I0]&&t[I0][e];if(wq.test(n)&&!Sq.test(e)){var r=t.style,i=r[ol],o=t[P0][ol];t[P0][ol]=t[I0][ol],r[ol]=e==="fontSize"?"1em":n||0,n=r.pixelLeft+Cq,r[ol]=i,t[P0][ol]=o}return n===""?"auto":n}typeof window<"u"&&(Xd=window.getComputedStyle?xq:Aq);function Fh(t,e){return t==="left"?e.useCssRight?"right":t:e.useCssBottom?"bottom":t}function M2(t){if(t==="left")return"right";if(t==="right")return"left";if(t==="top")return"bottom";if(t==="bottom")return"top"}function N2(t,e,n){zu(t,"position")==="static"&&(t.style.position="relative");var r=-999,i=-999,o=Fh("left",n),a=Fh("top",n),s=M2(o),l=M2(a);o!=="left"&&(r=999),a!=="top"&&(i=999);var u="",c=yd(t);("left"in e||"top"in e)&&(u=hq(t)||"",D2(t,"none")),"left"in e&&(t.style[s]="",t.style[o]="".concat(r,"px")),"top"in e&&(t.style[l]="",t.style[a]="".concat(i,"px")),E2(t);var f=yd(t),d={};for(var h in e)if(e.hasOwnProperty(h)){var p=Fh(h,n),m=h==="left"?r:i,v=c[h]-f[h];p===h?d[p]=m+v:d[p]=m-v}zu(t,d),E2(t),("left"in e||"top"in e)&&D2(t,u);var g={};for(var w in e)if(e.hasOwnProperty(w)){var y=Fh(w,n),S=e[w]-c[w];w===y?g[y]=d[y]+S:g[y]=d[y]-S}zu(t,g)}function Dq(t,e){var n=yd(t),r=pq(t),i={x:r.x,y:r.y};"left"in e&&(i.x=r.x+e.left-n.left),"top"in e&&(i.y=r.y+e.top-n.top),vq(t,i)}function Eq(t,e,n){if(n.ignoreShake){var r=yd(t),i=r.left.toFixed(0),o=r.top.toFixed(0),a=e.left.toFixed(0),s=e.top.toFixed(0);if(i===a&&o===s)return}n.useCssRight||n.useCssBottom?N2(t,e,n):n.useCssTransform&&tv()in document.body.style?Dq(t,e):N2(t,e,n)}function zx(t,e){for(var n=0;n<t.length;n++)e(t[n])}function o3(t){return Xd(t,"boxSizing")==="border-box"}var Mq=["margin","border","padding"],hb=-1,Nq=2,pb=1,$q=0;function Oq(t,e,n){var r={},i=t.style,o;for(o in e)e.hasOwnProperty(o)&&(r[o]=i[o],i[o]=e[o]);n.call(t);for(o in e)e.hasOwnProperty(o)&&(i[o]=r[o])}function Of(t,e,n){var r=0,i,o,a;for(o=0;o<e.length;o++)if(i=e[o],i)for(a=0;a<n.length;a++){var s=void 0;i==="border"?s="".concat(i).concat(n[a],"Width"):s=i+n[a],r+=parseFloat(Xd(t,s))||0}return r}var Ko={getParent:function(e){var n=e;do n.nodeType===11&&n.host?n=n.host:n=n.parentNode;while(n&&n.nodeType!==1&&n.nodeType!==9);return n}};zx(["Width","Height"],function(t){Ko["doc".concat(t)]=function(e){var n=e.document;return Math.max(n.documentElement["scroll".concat(t)],n.body["scroll".concat(t)],Ko["viewport".concat(t)](n))},Ko["viewport".concat(t)]=function(e){var n="client".concat(t),r=e.document,i=r.body,o=r.documentElement,a=o[n];return r.compatMode==="CSS1Compat"&&a||i&&i[n]||a}});function $2(t,e,n){var r=n;if(_x(t))return e==="width"?Ko.viewportWidth(t):Ko.viewportHeight(t);if(t.nodeType===9)return e==="width"?Ko.docWidth(t):Ko.docHeight(t);var i=e==="width"?["Left","Right"]:["Top","Bottom"],o=Math.floor(e==="width"?t.getBoundingClientRect().width:t.getBoundingClientRect().height),a=o3(t),s=0;(o==null||o<=0)&&(o=void 0,s=Xd(t,e),(s==null||Number(s)<0)&&(s=t.style[e]||0),s=Math.floor(parseFloat(s))||0),r===void 0&&(r=a?pb:hb);var l=o!==void 0||a,u=o||s;return r===hb?l?u-Of(t,["border","padding"],i):s:l?r===pb?u:u+(r===Nq?-Of(t,["border"],i):Of(t,["margin"],i)):s+Of(t,Mq.slice(r),i)}var Tq={position:"absolute",visibility:"hidden",display:"block"};function O2(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=e[0];return i.offsetWidth!==0?r=$2.apply(void 0,e):Oq(i,Tq,function(){r=$2.apply(void 0,e)}),r}zx(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);Ko["outer".concat(e)]=function(r,i){return r&&O2(r,t,i?$q:pb)};var n=t==="width"?["Left","Right"]:["Top","Bottom"];Ko[t]=function(r,i){var o=i;if(o!==void 0){if(r){var a=o3(r);return a&&(o+=Of(r,["padding","border"],n)),zu(r,t,o)}return}return r&&O2(r,t,hb)}});function a3(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}var yt={getWindow:function(e){if(e&&e.document&&e.setTimeout)return e;var n=e.ownerDocument||e;return n.defaultView||n.parentWindow},getDocument:i3,offset:function(e,n,r){if(typeof n<"u")Eq(e,n,r||{});else return yd(e)},isWindow:_x,each:zx,css:zu,clone:function(e){var n,r={};for(n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);var i=e.overflow;if(i)for(n in e)e.hasOwnProperty(n)&&(r.overflow[n]=e.overflow[n]);return r},mix:a3,getWindowScrollLeft:function(e){return n3(e)},getWindowScrollTop:function(e){return r3(e)},merge:function(){for(var e={},n=0;n<arguments.length;n++)yt.mix(e,n<0||arguments.length<=n?void 0:arguments[n]);return e},viewportWidth:0,viewportHeight:0};a3(yt,Ko);var k0=yt.getParent;function mb(t){if(yt.isWindow(t)||t.nodeType===9)return null;var e=yt.getDocument(t),n=e.body,r,i=yt.css(t,"position"),o=i==="fixed"||i==="absolute";if(!o)return t.nodeName.toLowerCase()==="html"?null:k0(t);for(r=k0(t);r&&r!==n&&r.nodeType!==9;r=k0(r))if(i=yt.css(r,"position"),i!=="static")return r;return null}var T2=yt.getParent;function Bq(t){if(yt.isWindow(t)||t.nodeType===9)return!1;var e=yt.getDocument(t),n=e.body,r=null;for(r=T2(t);r&&r!==n&&r!==e;r=T2(r)){var i=yt.css(r,"position");if(i==="fixed")return!0}return!1}function Lx(t,e){for(var n={left:0,right:1/0,top:0,bottom:1/0},r=mb(t),i=yt.getDocument(t),o=i.defaultView||i.parentWindow,a=i.body,s=i.documentElement;r;){if((navigator.userAgent.indexOf("MSIE")===-1||r.clientWidth!==0)&&r!==a&&r!==s&&yt.css(r,"overflow")!=="visible"){var l=yt.offset(r);l.left+=r.clientLeft,l.top+=r.clientTop,n.top=Math.max(n.top,l.top),n.right=Math.min(n.right,l.left+r.clientWidth),n.bottom=Math.min(n.bottom,l.top+r.clientHeight),n.left=Math.max(n.left,l.left)}else if(r===a||r===s)break;r=mb(r)}var u=null;if(!yt.isWindow(t)&&t.nodeType!==9){u=t.style.position;var c=yt.css(t,"position");c==="absolute"&&(t.style.position="fixed")}var f=yt.getWindowScrollLeft(o),d=yt.getWindowScrollTop(o),h=yt.viewportWidth(o),p=yt.viewportHeight(o),m=s.scrollWidth,v=s.scrollHeight,g=window.getComputedStyle(a);if(g.overflowX==="hidden"&&(m=o.innerWidth),g.overflowY==="hidden"&&(v=o.innerHeight),t.style&&(t.style.position=u),e||Bq(t))n.left=Math.max(n.left,f),n.top=Math.max(n.top,d),n.right=Math.min(n.right,f+h),n.bottom=Math.min(n.bottom,d+p);else{var w=Math.max(m,f+h);n.right=Math.min(n.right,w);var y=Math.max(v,d+p);n.bottom=Math.min(n.bottom,y)}return n.top>=0&&n.left>=0&&n.bottom>n.top&&n.right>n.left?n:null}function Iq(t,e,n,r){var i=yt.clone(t),o={width:e.width,height:e.height};return r.adjustX&&i.left<n.left&&(i.left=n.left),r.resizeWidth&&i.left>=n.left&&i.left+o.width>n.right&&(o.width-=i.left+o.width-n.right),r.adjustX&&i.left+o.width>n.right&&(i.left=Math.max(n.right-o.width,n.left)),r.adjustY&&i.top<n.top&&(i.top=n.top),r.resizeHeight&&i.top>=n.top&&i.top+o.height>n.bottom&&(o.height-=i.top+o.height-n.bottom),r.adjustY&&i.top+o.height>n.bottom&&(i.top=Math.max(n.bottom-o.height,n.top)),yt.mix(i,o)}function Hx(t){var e,n,r;if(!yt.isWindow(t)&&t.nodeType!==9)e=yt.offset(t),n=yt.outerWidth(t),r=yt.outerHeight(t);else{var i=yt.getWindow(t);e={left:yt.getWindowScrollLeft(i),top:yt.getWindowScrollTop(i)},n=yt.viewportWidth(i),r=yt.viewportHeight(i)}return e.width=n,e.height=r,e}function B2(t,e){var n=e.charAt(0),r=e.charAt(1),i=t.width,o=t.height,a=t.left,s=t.top;return n==="c"?s+=o/2:n==="b"&&(s+=o),r==="c"?a+=i/2:r==="r"&&(a+=i),{left:a,top:s}}function Rh(t,e,n,r,i){var o=B2(e,n[1]),a=B2(t,n[0]),s=[a.left-o.left,a.top-o.top];return{left:Math.round(t.left-s[0]+r[0]-i[0]),top:Math.round(t.top-s[1]+r[1]-i[1])}}function I2(t,e,n){return t.left<n.left||t.left+e.width>n.right}function P2(t,e,n){return t.top<n.top||t.top+e.height>n.bottom}function Pq(t,e,n){return t.left>n.right||t.left+e.width<n.left}function kq(t,e,n){return t.top>n.bottom||t.top+e.height<n.top}function _h(t,e,n){var r=[];return yt.each(t,function(i){r.push(i.replace(e,function(o){return n[o]}))}),r}function zh(t,e){return t[e]=-t[e],t}function k2(t,e){var n;return/%$/.test(t)?n=parseInt(t.substring(0,t.length-1),10)/100*e:n=parseInt(t,10),n||0}function F2(t,e){t[0]=k2(t[0],e.width),t[1]=k2(t[1],e.height)}function s3(t,e,n,r){var i=n.points,o=n.offset||[0,0],a=n.targetOffset||[0,0],s=n.overflow,l=n.source||t;o=[].concat(o),a=[].concat(a),s=s||{};var u={},c=0,f=!!(s&&s.alwaysByViewport),d=Lx(l,f),h=Hx(l);F2(o,h),F2(a,e);var p=Rh(h,e,i,o,a),m=yt.merge(h,p);if(d&&(s.adjustX||s.adjustY)&&r){if(s.adjustX&&I2(p,h,d)){var v=_h(i,/[lr]/gi,{l:"r",r:"l"}),g=zh(o,0),w=zh(a,0),y=Rh(h,e,v,g,w);Pq(y,h,d)||(c=1,i=v,o=g,a=w)}if(s.adjustY&&P2(p,h,d)){var S=_h(i,/[tb]/gi,{t:"b",b:"t"}),x=zh(o,1),b=zh(a,1),C=Rh(h,e,S,x,b);kq(C,h,d)||(c=1,i=S,o=x,a=b)}c&&(p=Rh(h,e,i,o,a),yt.mix(m,p));var A=I2(p,h,d),D=P2(p,h,d);if(A||D){var E=i;A&&(E=_h(i,/[lr]/gi,{l:"r",r:"l"})),D&&(E=_h(i,/[tb]/gi,{t:"b",b:"t"})),i=E,o=n.offset||[0,0],a=n.targetOffset||[0,0]}u.adjustX=s.adjustX&&A,u.adjustY=s.adjustY&&D,(u.adjustX||u.adjustY)&&(m=Iq(p,h,d,u))}return m.width!==h.width&&yt.css(l,"width",yt.width(l)+m.width-h.width),m.height!==h.height&&yt.css(l,"height",yt.height(l)+m.height-h.height),yt.offset(l,{left:m.left,top:m.top},{useCssRight:n.useCssRight,useCssBottom:n.useCssBottom,useCssTransform:n.useCssTransform,ignoreShake:n.ignoreShake}),{points:i,offset:o,targetOffset:a,overflow:u}}function Fq(t,e){var n=Lx(t,e),r=Hx(t);return!n||r.left+r.width<=n.left||r.top+r.height<=n.top||r.left>=n.right||r.top>=n.bottom}function Vx(t,e,n){var r=n.target||e,i=Hx(r),o=!Fq(r,n.overflow&&n.overflow.alwaysByViewport);return s3(t,i,n,o)}Vx.__getOffsetParent=mb;Vx.__getVisibleRectForElement=Lx;function Rq(t,e,n){var r,i,o=yt.getDocument(t),a=o.defaultView||o.parentWindow,s=yt.getWindowScrollLeft(a),l=yt.getWindowScrollTop(a),u=yt.viewportWidth(a),c=yt.viewportHeight(a);"pageX"in e?r=e.pageX:r=s+e.clientX,"pageY"in e?i=e.pageY:i=l+e.clientY;var f={left:r,top:i,width:0,height:0},d=r>=0&&r<=s+u&&i>=0&&i<=l+c,h=[n.points[0],"cc"];return s3(t,f,A2(A2({},n),{},{points:h}),d)}function zn(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=t;if(Array.isArray(t)&&(i=Hl(t)[0]),!i)return null;const o=WT(i,e,r);return o.props=n?_(_({},o.props),e):o.props,Hr(typeof o.props.class!="object"),o}const l3=t=>{if(!t)return!1;if(t.offsetParent)return!0;if(t.getBBox){const e=t.getBBox();if(e.width||e.height)return!0}if(t.getBoundingClientRect){const e=t.getBoundingClientRect();if(e.width||e.height)return!0}return!1};function _q(t,e){return t===e?!0:!t||!e?!1:"pageX"in e&&"pageY"in e?t.pageX===e.pageX&&t.pageY===e.pageY:"clientX"in e&&"clientY"in e?t.clientX===e.clientX&&t.clientY===e.clientY:!1}function zq(t,e){t!==document.activeElement&&cl(e,t)&&typeof t.focus=="function"&&t.focus()}function R2(t,e){let n=null,r=null;function i(a){let[{target:s}]=a;if(!document.documentElement.contains(s))return;const{width:l,height:u}=s.getBoundingClientRect(),c=Math.floor(l),f=Math.floor(u);(n!==c||r!==f)&&Promise.resolve().then(()=>{e({width:c,height:f})}),n=c,r=f}const o=new YB(i);return t&&o.observe(t),()=>{o.disconnect()}}const Lq=(t,e)=>{let n=!1,r=null;function i(){clearTimeout(r)}function o(a){if(!n||a===!0){if(t()===!1)return;n=!0,i(),r=setTimeout(()=>{n=!1},e.value)}else i(),r=setTimeout(()=>{n=!1,o()},e.value)}return[o,()=>{n=!1,i()}]},Hq={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function _2(t){return typeof t!="function"?null:t()}function z2(t){return typeof t!="object"||!t?null:t}const Vq=De({compatConfig:{MODE:3},name:"Align",props:Hq,emits:["align"],setup(t,e){let{expose:n,slots:r}=e;const i=Te({}),o=Te(),[a,s]=Lq(()=>{const{disabled:d,target:h,align:p,onAlign:m}=t;if(!d&&h&&o.value){const v=o.value;let g;const w=_2(h),y=z2(h);i.value.element=w,i.value.point=y,i.value.align=p;const{activeElement:S}=document;return w&&l3(w)?g=Vx(v,w,p):y&&(g=Rq(v,y,p)),zq(S,v),m&&g&&m(v,g),!0}return!1},H(()=>t.monitorBufferTime)),l=Te({cancel:()=>{}}),u=Te({cancel:()=>{}}),c=()=>{const d=t.target,h=_2(d),p=z2(d);o.value!==u.value.element&&(u.value.cancel(),u.value.element=o.value,u.value.cancel=R2(o.value,a)),(i.value.element!==h||!_q(i.value.point,p)||!vz(i.value.align,t.align))&&(a(),l.value.element!==h&&(l.value.cancel(),l.value.element=h,l.value.cancel=R2(h,a)))};sn(()=>{yn(()=>{c()})}),Ic(()=>{yn(()=>{c()})}),ze(()=>t.disabled,d=>{d?s():a()},{immediate:!0,flush:"post"});const f=Te(null);return ze(()=>t.monitorWindowResize,d=>{d?f.value||(f.value=Xo(window,"resize",a)):f.value&&(f.value.remove(),f.value=null)},{flush:"post"}),Bc(()=>{l.value.cancel(),u.value.cancel(),f.value&&f.value.remove(),s()}),n({forceAlign:()=>a(!0)}),()=>{const d=r==null?void 0:r.default();return d?zn(d[0],{ref:o},!0,!0):null}}});oc("bottomLeft","bottomRight","topLeft","topRight");const Uq=t=>t!==void 0&&(t==="topLeft"||t==="topRight")?"slide-down":"slide-up",u3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _(t?{name:t,appear:!0,enterFromClass:`${t}-enter ${t}-enter-prepare ${t}-enter-start`,enterActiveClass:`${t}-enter ${t}-enter-prepare`,enterToClass:`${t}-enter ${t}-enter-active`,leaveFromClass:` ${t}-leave`,leaveActiveClass:`${t}-leave ${t}-leave-active`,leaveToClass:`${t}-leave ${t}-leave-active`}:{css:!1},e)},c3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _(t?{name:t,appear:!0,appearActiveClass:`${t}`,appearToClass:`${t}-appear ${t}-appear-active`,enterFromClass:`${t}-appear ${t}-enter ${t}-appear-prepare ${t}-enter-prepare`,enterActiveClass:`${t}`,enterToClass:`${t}-enter ${t}-appear ${t}-appear-active ${t}-enter-active`,leaveActiveClass:`${t} ${t}-leave`,leaveToClass:`${t}-leave-active`}:{css:!1},e)},f3=(t,e,n)=>n!==void 0?n:`${t}-${e}`,qq=De({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:Fx,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup(t,e){let{expose:n,attrs:r,slots:i}=e;const o=Be(),a=Be(),s=Be(),[l,u]=cq(so(t,"stretch")),c=()=>{t.stretch&&u(t.getRootDomNode())},f=Be(!1);let d;ze(()=>t.visible,b=>{clearTimeout(d),b?d=setTimeout(()=>{f.value=t.visible}):f.value=!1},{immediate:!0});const[h,p]=uq(f,c),m=Be(),v=()=>t.point?t.point:t.getRootDomNode,g=()=>{var b;(b=o.value)===null||b===void 0||b.forceAlign()},w=(b,C)=>{var A;const D=t.getClassNameFromAlign(C),E=s.value;s.value!==D&&(s.value=D),h.value==="align"&&(E!==D?Promise.resolve().then(()=>{g()}):p(()=>{var M;(M=m.value)===null||M===void 0||M.call(m)}),(A=t.onAlign)===null||A===void 0||A.call(t,b,C))},y=H(()=>{const b=typeof t.animation=="object"?t.animation:Rx(t);return["onAfterEnter","onAfterLeave"].forEach(C=>{const A=b[C];b[C]=D=>{p(),h.value="stable",A==null||A(D)}}),b}),S=()=>new Promise(b=>{m.value=b});ze([y,h],()=>{!y.value&&h.value==="motion"&&p()},{immediate:!0}),n({forceAlign:g,getElement:()=>a.value.$el||a.value});const x=H(()=>{var b;return!(!((b=t.align)===null||b===void 0)&&b.points&&(h.value==="align"||h.value==="stable"))});return()=>{var b;const{zIndex:C,align:A,prefixCls:D,destroyPopupOnHide:E,onMouseenter:M,onMouseleave:B,onTouchstart:P=()=>{},onMousedown:F}=t,$=h.value,N=[_(_({},l.value),{zIndex:C,opacity:$==="motion"||$==="stable"||!f.value?null:0,pointerEvents:!f.value&&$!=="stable"?"none":null}),r.style];let T=kr((b=i.default)===null||b===void 0?void 0:b.call(i,{visible:t.visible}));T.length>1&&(T=k("div",{class:`${D}-content`},[T]));const z=He(D,r.class,s.value),q=f.value||!t.visible?u3(y.value.name,y.value):{};return k(Pc,Ee(Ee({ref:a},q),{},{onBeforeEnter:S}),{default:()=>!E||t.visible?_a(k(Vq,{target:v(),key:"popup",ref:o,monitorWindowResize:!0,disabled:x.value,align:A,onAlign:w},{default:()=>k("div",{class:z,onMouseenter:M,onMouseleave:B,onMousedown:Lf(F,["capture"]),[gr?"onTouchstartPassive":"onTouchstart"]:Lf(P,["capture"]),style:N},[T])}),[[sm,f.value]]):null})}}}),Wq=De({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:aq,setup(t,e){let{attrs:n,slots:r,expose:i}=e;const o=Be(!1),a=Be(!1),s=Be(),l=Be();return ze([()=>t.visible,()=>t.mobile],()=>{o.value=t.visible,t.visible&&t.mobile&&(a.value=!0)},{immediate:!0,flush:"post"}),i({forceAlign:()=>{var u;(u=s.value)===null||u===void 0||u.forceAlign()},getElement:()=>{var u;return(u=s.value)===null||u===void 0?void 0:u.getElement()}}),()=>{const u=_(_(_({},t),n),{visible:o.value}),c=a.value?k(sq,Ee(Ee({},u),{},{mobile:t.mobile,ref:s}),{default:r.default}):k(qq,Ee(Ee({},u),{},{ref:s}),{default:r.default});return k("div",{ref:l},[k(JI,u,null),c])}}});function jq(t,e,n){return n?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function L2(t,e,n){const r=t[e]||{};return _(_({},r),n)}function Gq(t,e,n,r){const{points:i}=n,o=Object.keys(t);for(let a=0;a<o.length;a+=1){const s=o[a];if(jq(t[s].points,i,r))return`${e}-placement-${s}`}return""}const nv={methods:{setState(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0,n=typeof t=="function"?t(this.$data,this.$props):t;if(this.getDerivedStateFromProps){const r=this.getDerivedStateFromProps(CH(this),_(_({},this.$data),n));if(r===null)return;n=_(_({},n),r||{})}_(this.$data,n),this._.isMounted&&this.$forceUpdate(),yn(()=>{e&&e()})},__emit(){const t=[].slice.call(arguments,0);let e=t[0];e=`on${e[0].toUpperCase()}${e.substring(1)}`;const n=this.$props[e]||this.$attrs[e];if(t.length&&n)if(Array.isArray(n))for(let r=0,i=n.length;r<i;r++)n[r](...t.slice(1));else n(...t.slice(1))}}},d3=Symbol("PortalContextKey"),h3=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};zt(d3,{inTriggerContext:e.inTriggerContext,shouldRender:H(()=>{const{sPopupVisible:n,popupRef:r,forceRender:i,autoDestroy:o}=t||{};let a=!1;return(n||r||i)&&(a=!0),!n&&o&&(a=!1),a})})},Xq=()=>{h3({},{inTriggerContext:!1});const t=$t(d3,{shouldRender:H(()=>!1),inTriggerContext:!1});return{shouldRender:H(()=>t.shouldRender.value||t.inTriggerContext===!1)}},p3=De({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:ve.func.isRequired,didUpdate:Function},setup(t,e){let{slots:n}=e,r=!0,i;const{shouldRender:o}=Xq();function a(){o.value&&(i=t.getContainer())}jT(()=>{r=!1,a()}),sn(()=>{i||a()});const s=ze(o,()=>{o.value&&!i&&(i=t.getContainer()),i&&s()});return Ic(()=>{yn(()=>{var l;o.value&&((l=t.didUpdate)===null||l===void 0||l.call(t,t))})}),()=>{var l;return o.value?r?(l=n.default)===null||l===void 0?void 0:l.call(n):i?k(Rg,{to:i},n):null:null}}});let F0;function Kq(t){if(typeof document>"u")return 0;if(t||F0===void 0){const e=document.createElement("div");e.style.width="100%",e.style.height="200px";const n=document.createElement("div"),r=n.style;r.position="absolute",r.top="0",r.left="0",r.pointerEvents="none",r.visibility="hidden",r.width="200px",r.height="150px",r.overflow="hidden",n.appendChild(e),document.body.appendChild(n);const i=e.offsetWidth;n.style.overflow="scroll";let o=e.offsetWidth;i===o&&(o=n.clientWidth),document.body.removeChild(n),F0=i-o}return F0}const Yq=`vc-util-locker-${Date.now()}`;let H2=0;function Zq(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}function Qq(t){const e=H(()=>!!t&&!!t.value);H2+=1;const n=`${Yq}_${H2}`;Bn(r=>{if(Gi()){if(e.value){const i=Kq(),o=Zq();pd(`
html body {
  overflow-y: hidden;
  ${o?`width: calc(100% - ${i}px);`:""}
}`,n)}else Dm(n);r(()=>{Dm(n)})}},{flush:"post"})}let al=0;const Lp=Gi(),V2=t=>{if(!Lp)return null;if(t){if(typeof t=="string")return document.querySelectorAll(t)[0];if(typeof t=="function")return t();if(typeof t=="object"&&t instanceof window.HTMLElement)return t}return document.body},Jq=De({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:ve.any,visible:{type:Boolean,default:void 0},autoLock:gn(),didUpdate:Function},setup(t,e){let{slots:n}=e;const r=Be(),i=Be(),o=Be(),a=Be(1),s=Gi()&&document.createElement("div"),l=()=>{var h,p;r.value===s&&((p=(h=r.value)===null||h===void 0?void 0:h.parentNode)===null||p===void 0||p.removeChild(r.value)),r.value=null};let u=null;const c=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)||r.value&&!r.value.parentNode?(u=V2(t.getContainer),u?(u.appendChild(r.value),!0):!1):!0},f=()=>Lp?(r.value||(r.value=s,c(!0)),d(),r.value):null,d=()=>{const{wrapperClassName:h}=t;r.value&&h&&h!==r.value.className&&(r.value.className=h)};return Ic(()=>{d(),c()}),Qq(H(()=>t.autoLock&&t.visible&&Gi()&&(r.value===document.body||r.value===s))),sn(()=>{let h=!1;ze([()=>t.visible,()=>t.getContainer],(p,m)=>{let[v,g]=p,[w,y]=m;Lp&&(u=V2(t.getContainer),u===document.body&&(v&&!w?al+=1:h&&(al-=1))),h&&(typeof g=="function"&&typeof y=="function"?g.toString()!==y.toString():g!==y)&&l(),h=!0},{immediate:!0,flush:"post"}),yn(()=>{c()||(o.value=Rt(()=>{a.value+=1}))})}),ln(()=>{const{visible:h}=t;Lp&&u===document.body&&(al=h&&al?al-1:al),l(),Rt.cancel(o.value)}),()=>{const{forceRender:h,visible:p}=t;let m=null;const v={getOpenCount:()=>al,getContainer:f};return a.value&&(h||p||i.value)&&(m=k(p3,{getContainer:f,ref:i,didUpdate:t.didUpdate},{default:()=>{var g;return(g=n.default)===null||g===void 0?void 0:g.call(n,v)}})),m}}}),eW=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"],rv=De({compatConfig:{MODE:3},name:"Trigger",mixins:[nv],inheritAttrs:!1,props:iq(),setup(t){const e=H(()=>{const{popupPlacement:i,popupAlign:o,builtinPlacements:a}=t;return i&&a?L2(a,i,o):o}),n=Be(null),r=i=>{n.value=i};return{vcTriggerContext:$t("vcTriggerContext",{}),popupRef:n,setPopupRef:r,triggerRef:Be(null),align:e,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data(){const t=this.$props;let e;return this.popupVisible!==void 0?e=!!t.popupVisible:e=!!t.defaultPopupVisible,eW.forEach(n=>{this[`fire${n}`]=r=>{this.fireEvents(n,r)}}),{prevPopupVisible:e,sPopupVisible:e,point:null}},watch:{popupVisible(t){t!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=t)}},created(){zt("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown,onPopupMouseenter:this.onPopupMouseenter,onPopupMouseleave:this.onPopupMouseleave}),h3(this)},deactivated(){this.setPopupVisible(!1)},mounted(){this.$nextTick(()=>{this.updatedCal()})},updated(){this.$nextTick(()=>{this.updatedCal()})},beforeUnmount(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),Rt.cancel(this.attachId)},methods:{updatedCal(){const t=this.$props;if(this.$data.sPopupVisible){let n;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(n=t.getDocument(this.getRootDomNode()),this.clickOutsideHandler=Xo(n,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(n=n||t.getDocument(this.getRootDomNode()),this.touchOutsideHandler=Xo(n,"touchstart",this.onDocumentClick,gr?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(n=n||t.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=Xo(n,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=Xo(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter(t){const{mouseEnterDelay:e}=this.$props;this.fireEvents("onMouseenter",t),this.delaySetPopupVisible(!0,e,e?null:t)},onMouseMove(t){this.fireEvents("onMousemove",t),this.setPoint(t)},onMouseleave(t){this.fireEvents("onMouseleave",t),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter(){const{vcTriggerContext:t={}}=this;t.onPopupMouseenter&&t.onPopupMouseenter(),this.clearDelayTimer()},onPopupMouseleave(t){var e;if(t&&t.relatedTarget&&!t.relatedTarget.setTimeout&&cl((e=this.popupRef)===null||e===void 0?void 0:e.getElement(),t.relatedTarget))return;this.isMouseLeaveToHide()&&this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay);const{vcTriggerContext:n={}}=this;n.onPopupMouseleave&&n.onPopupMouseleave(t)},onFocus(t){this.fireEvents("onFocus",t),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown(t){this.fireEvents("onMousedown",t),this.preClickTime=Date.now()},onTouchstart(t){this.fireEvents("onTouchstart",t),this.preTouchTime=Date.now()},onBlur(t){cl(t.target,t.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",t),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu(t){t.preventDefault(),this.fireEvents("onContextmenu",t),this.setPopupVisible(!0,t)},onContextmenuClose(){this.isContextmenuToShow()&&this.close()},onClick(t){if(this.fireEvents("onClick",t),this.focusTime){let n;if(this.preClickTime&&this.preTouchTime?n=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?n=this.preClickTime:this.preTouchTime&&(n=this.preTouchTime),Math.abs(n-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&t&&t.preventDefault&&t.preventDefault(),t&&t.domEvent&&t.domEvent.preventDefault();const e=!this.$data.sPopupVisible;(this.isClickToHide()&&!e||e&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,t)},onPopupMouseDown(){const{vcTriggerContext:t={}}=this;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{this.hasPopupMouseDown=!1},0),t.onPopupMouseDown&&t.onPopupMouseDown(...arguments)},onDocumentClick(t){if(this.$props.mask&&!this.$props.maskClosable)return;const e=t.target,n=this.getRootDomNode(),r=this.getPopupDomNode();(!cl(n,e)||this.isContextMenuOnly())&&!cl(r,e)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)},getPopupDomNode(){var t;return((t=this.popupRef)===null||t===void 0?void 0:t.getElement())||null},getRootDomNode(){var t,e,n,r;const{getTriggerDOMNode:i}=this.$props;if(i){const o=((e=(t=this.triggerRef)===null||t===void 0?void 0:t.$el)===null||e===void 0?void 0:e.nodeName)==="#comment"?null:po(this.triggerRef);return po(i(o))}try{const o=((r=(n=this.triggerRef)===null||n===void 0?void 0:n.$el)===null||r===void 0?void 0:r.nodeName)==="#comment"?null:po(this.triggerRef);if(o)return o}catch{}return po(this)},handleGetPopupClassFromAlign(t){const e=[],n=this.$props,{popupPlacement:r,builtinPlacements:i,prefixCls:o,alignPoint:a,getPopupClassNameFromAlign:s}=n;return r&&i&&e.push(Gq(i,o,t,a)),s&&e.push(s(t)),e.join(" ")},getPopupAlign(){const t=this.$props,{popupPlacement:e,popupAlign:n,builtinPlacements:r}=t;return e&&r?L2(r,e,n):n},getComponent(){const t={};this.isMouseEnterToShow()&&(t.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(t.onMouseleave=this.onPopupMouseleave),t.onMousedown=this.onPopupMouseDown,t[gr?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;const{handleGetPopupClassFromAlign:e,getRootDomNode:n,$attrs:r}=this,{prefixCls:i,destroyPopupOnHide:o,popupClassName:a,popupAnimation:s,popupTransitionName:l,popupStyle:u,mask:c,maskAnimation:f,maskTransitionName:d,zIndex:h,stretch:p,alignPoint:m,mobile:v,forceRender:g}=this.$props,{sPopupVisible:w,point:y}=this.$data,S=_(_({prefixCls:i,destroyPopupOnHide:o,visible:w,point:m?y:null,align:this.align,animation:s,getClassNameFromAlign:e,stretch:p,getRootDomNode:n,mask:c,zIndex:h,transitionName:l,maskAnimation:f,maskTransitionName:d,class:a,style:u,onAlign:r.onPopupAlign||QI},t),{ref:this.setPopupRef,mobile:v,forceRender:g});return k(Wq,S,{default:this.$slots.popup||(()=>AH(this,"popup"))})},attachParent(t){Rt.cancel(this.attachId);const{getPopupContainer:e,getDocument:n}=this.$props,r=this.getRootDomNode();let i;e?(r||e.length===0)&&(i=e(r)):i=n(this.getRootDomNode()).body,i?i.appendChild(t):this.attachId=Rt(()=>{this.attachParent(t)})},getContainer(){const{$props:t}=this,{getDocument:e}=t,n=e(this.getRootDomNode()).createElement("div");return n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.width="100%",this.attachParent(n),n},setPopupVisible(t,e){const{alignPoint:n,sPopupVisible:r,onPopupVisibleChange:i}=this;this.clearDelayTimer(),r!==t&&(Am(this,"popupVisible")||this.setState({sPopupVisible:t,prevPopupVisible:r}),i&&i(t)),n&&e&&t&&this.setPoint(e)},setPoint(t){const{alignPoint:e}=this.$props;!e||!t||this.setState({point:{pageX:t.pageX,pageY:t.pageY}})},handlePortalUpdate(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible(t,e,n){const r=e*1e3;if(this.clearDelayTimer(),r){const i=n?{pageX:n.pageX,pageY:n.pageY}:null;this.delayTimer=setTimeout(()=>{this.setPopupVisible(t,i),this.clearDelayTimer()},r)}else this.setPopupVisible(t,n)},clearDelayTimer(){this.delayTimer&&(clearTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains(t){let e=()=>{};const n=XC(this);return this.childOriginEvents[t]&&n[t]?this[`fire${t}`]:(e=this.childOriginEvents[t]||n[t]||e,e)},isClickToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("click")!==-1||e.indexOf("click")!==-1},isContextMenuOnly(){const{action:t}=this.$props;return t==="contextmenu"||t.length===1&&t[0]==="contextmenu"},isContextmenuToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("contextmenu")!==-1||e.indexOf("contextmenu")!==-1},isClickToHide(){const{action:t,hideAction:e}=this.$props;return t.indexOf("click")!==-1||e.indexOf("click")!==-1},isMouseEnterToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("hover")!==-1||e.indexOf("mouseenter")!==-1},isMouseLeaveToHide(){const{action:t,hideAction:e}=this.$props;return t.indexOf("hover")!==-1||e.indexOf("mouseleave")!==-1},isFocusToShow(){const{action:t,showAction:e}=this.$props;return t.indexOf("focus")!==-1||e.indexOf("focus")!==-1},isBlurToHide(){const{action:t,hideAction:e}=this.$props;return t.indexOf("focus")!==-1||e.indexOf("blur")!==-1},forcePopupAlign(){var t;this.$data.sPopupVisible&&((t=this.popupRef)===null||t===void 0||t.forceAlign())},fireEvents(t,e){this.childOriginEvents[t]&&this.childOriginEvents[t](e);const n=this.$props[t]||this.$attrs[t];n&&n(e)},close(){this.setPopupVisible(!1)}},render(){const{$attrs:t}=this,e=Hl(QB(this)),{alignPoint:n,getPopupContainer:r}=this.$props,i=e[0];this.childOriginEvents=XC(i);const o={key:"trigger"};this.isContextmenuToShow()?o.onContextmenu=this.onContextmenu:o.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(o.onClick=this.onClick,o.onMousedown=this.onMousedown,o[gr?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(o.onClick=this.createTwoChains("onClick"),o.onMousedown=this.createTwoChains("onMousedown"),o[gr?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(o.onMouseenter=this.onMouseenter,n&&(o.onMousemove=this.onMouseMove)):o.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?o.onMouseleave=this.onMouseleave:o.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(o.onFocus=this.onFocus,o.onBlur=this.onBlur):(o.onFocus=this.createTwoChains("onFocus"),o.onBlur=u=>{u&&(!u.relatedTarget||!cl(u.target,u.relatedTarget))&&this.createTwoChains("onBlur")(u)});const a=He(i&&i.props&&i.props.class,t.class);a&&(o.class=a);const s=zn(i,_(_({},o),{ref:"triggerRef"}),!0,!0),l=k(Jq,{key:"portal",getContainer:r&&(()=>r(this.getRootDomNode())),didUpdate:this.handlePortalUpdate,visible:this.$data.sPopupVisible},{default:this.getComponent});return k(gt,null,[s,l])}});var tW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const nW=t=>{const e=t===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:e,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:e,adjustY:1}}}},rW=De({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:ve.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:ve.oneOfType([Number,Boolean]).def(!0),popupElement:ve.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function,onPopupFocusin:Function,onPopupFocusout:Function},setup(t,e){let{slots:n,attrs:r,expose:i}=e;const o=H(()=>{const{dropdownMatchSelectWidth:s}=t;return nW(s)}),a=Te();return i({getPopupElement:()=>a.value}),()=>{const s=_(_({},t),r),{empty:l=!1}=s,u=tW(s,["empty"]),{visible:c,dropdownAlign:f,prefixCls:d,popupElement:h,dropdownClassName:p,dropdownStyle:m,direction:v="ltr",placement:g,dropdownMatchSelectWidth:w,containerWidth:y,dropdownRender:S,animation:x,transitionName:b,getPopupContainer:C,getTriggerDOMNode:A,onPopupVisibleChange:D,onPopupMouseEnter:E,onPopupFocusin:M,onPopupFocusout:B}=u,P=`${d}-dropdown`;let F=h;S&&(F=S({menuNode:h,props:t}));const $=x?`${P}-${x}`:b,N=_({minWidth:`${y}px`},m);return typeof w=="number"?N.width=`${w}px`:w&&(N.width=`${y}px`),k(rv,Ee(Ee({},t),{},{showAction:D?["click"]:[],hideAction:D?["click"]:[],popupPlacement:g||(v==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:o.value,prefixCls:P,popupTransitionName:$,popupAlign:f,popupVisible:c,getPopupContainer:C,popupClassName:He(p,{[`${P}-empty`]:l}),popupStyle:N,getTriggerDOMNode:A,onPopupVisibleChange:D}),{default:n.default,popup:()=>k("div",{ref:a,onMouseenter:E,onFocusin:M,onFocusout:B},[F])})}}}),iW=rW,at={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function(e){const{keyCode:n}=e;if(e.altKey&&!e.ctrlKey||e.metaKey||n>=at.F1&&n<=at.F12)return!1;switch(n){case at.ALT:case at.CAPS_LOCK:case at.CONTEXT_MENU:case at.CTRL:case at.DOWN:case at.END:case at.ESC:case at.HOME:case at.INSERT:case at.LEFT:case at.MAC_FF_META:case at.META:case at.NUMLOCK:case at.NUM_CENTER:case at.PAGE_DOWN:case at.PAGE_UP:case at.PAUSE:case at.PRINT_SCREEN:case at.RIGHT:case at.SHIFT:case at.UP:case at.WIN_KEY:case at.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function(e){if(e>=at.ZERO&&e<=at.NINE||e>=at.NUM_ZERO&&e<=at.NUM_MULTIPLY||e>=at.A&&e<=at.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&e===0)return!0;switch(e){case at.SPACE:case at.QUESTION_MARK:case at.NUM_PLUS:case at.NUM_MINUS:case at.NUM_PERIOD:case at.NUM_DIVISION:case at.SEMICOLON:case at.DASH:case at.EQUALS:case at.COMMA:case at.PERIOD:case at.SLASH:case at.APOSTROPHE:case at.SINGLE_QUOTE:case at.OPEN_SQUARE_BRACKET:case at.BACKSLASH:case at.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}},Ye=at,iv=(t,e)=>{let{slots:n}=e;var r;const{class:i,customizeIcon:o,customizeIconProps:a,onMousedown:s,onClick:l}=t;let u;return typeof o=="function"?u=o(a):u=o,k("span",{class:i,onMousedown:c=>{c.preventDefault(),s&&s(c)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:l,"aria-hidden":!0},[u!==void 0?u:k("span",{class:i.split(/\s+/).map(c=>`${c}-icon`)},[(r=n.default)===null||r===void 0?void 0:r.call(n)])])};iv.inheritAttrs=!1;iv.displayName="TransBtn";iv.props={class:String,customizeIcon:ve.any,customizeIconProps:ve.any,onMousedown:Function,onClick:Function};const Bm=iv;function oW(t){t.target.composing=!0}function U2(t){t.target.composing&&(t.target.composing=!1,aW(t.target,"input"))}function aW(t,e){const n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function R0(t,e,n,r){t.addEventListener(e,n,r)}const sW={created(t,e){(!e.modifiers||!e.modifiers.lazy)&&(R0(t,"compositionstart",oW),R0(t,"compositionend",U2),R0(t,"change",U2))}},Ux=sW,lW={inputRef:ve.any,prefixCls:String,id:String,inputElement:ve.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:ve.oneOfType([ve.number,ve.string]),attrs:ve.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},uW=De({compatConfig:{MODE:3},name:"SelectInput",inheritAttrs:!1,props:lW,setup(t){let e=null;const n=$t("VCSelectContainerEvent");return()=>{var r;const{prefixCls:i,id:o,inputElement:a,disabled:s,tabindex:l,autofocus:u,autocomplete:c,editable:f,activeDescendantId:d,value:h,onKeydown:p,onMousedown:m,onChange:v,onPaste:g,onCompositionstart:w,onCompositionend:y,onFocus:S,onBlur:x,open:b,inputRef:C,attrs:A}=t;let D=a||_a(k("input",null,null),[[Ux]]);const E=D.props||{},{onKeydown:M,onInput:B,onFocus:P,onBlur:F,onMousedown:$,onCompositionstart:N,onCompositionend:T,style:z}=E;return D=zn(D,_(_(_(_(_({type:"search"},E),{id:o,ref:C,disabled:s,tabindex:l,autocomplete:c||"off",autofocus:u,class:He(`${i}-selection-search-input`,(r=D==null?void 0:D.props)===null||r===void 0?void 0:r.class),role:"combobox","aria-expanded":b,"aria-haspopup":"listbox","aria-owns":`${o}_list`,"aria-autocomplete":"list","aria-controls":`${o}_list`,"aria-activedescendant":d}),A),{value:f?h:"",readonly:!f,unselectable:f?null:"on",style:_(_({},z),{opacity:f?null:0}),onKeydown:I=>{p(I),M&&M(I)},onMousedown:I=>{m(I),$&&$(I)},onInput:I=>{v(I),B&&B(I)},onCompositionstart(I){w(I),N&&N(I)},onCompositionend(I){y(I),T&&T(I)},onPaste:g,onFocus:function(){clearTimeout(e),P&&P(arguments.length<=0?void 0:arguments[0]),S&&S(arguments.length<=0?void 0:arguments[0]),n==null||n.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var I=arguments.length,q=new Array(I),X=0;X<I;X++)q[X]=arguments[X];e=setTimeout(()=>{F&&F(q[0]),x&&x(q[0]),n==null||n.blur(q[0])},100)}}),D.type==="textarea"?{}:{type:"search"}),!0,!0),D}}}),m3=uW,cW=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,fW=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,q2=`${cW} ${fW}`.split(/[\s\n]+/),dW="aria-",hW="data-";function W2(t,e){return t.indexOf(e)===0}function qx(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;e===!1?n={aria:!0,data:!0,attr:!0}:e===!0?n={aria:!0}:n=_({},e);const r={};return Object.keys(t).forEach(i=>{(n.aria&&(i==="role"||W2(i,dW))||n.data&&W2(i,hW)||n.attr&&(q2.includes(i)||q2.includes(i.toLowerCase())))&&(r[i]=t[i])}),r}const g3=Symbol("OverflowContextProviderKey"),gb=De({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup(t,e){let{slots:n}=e;return zt(g3,H(()=>t.value)),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}}),pW=()=>$t(g3,H(()=>null));var mW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const lu=void 0,Hp=De({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:ve.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:ve.any,invalidate:Boolean},setup(t,e){let{slots:n,expose:r}=e;const i=H(()=>t.responsive&&!t.display),o=Te();r({itemNodeRef:o});function a(s){t.registerSize(t.itemKey,s)}return Bc(()=>{a(null)}),()=>{var s;const{prefixCls:l,invalidate:u,item:c,renderItem:f,responsive:d,registerSize:h,itemKey:p,display:m,order:v,component:g="div"}=t,w=mW(t,["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"]),y=(s=n.default)===null||s===void 0?void 0:s.call(n),S=f&&c!==lu?f(c):y;let x;u||(x={opacity:i.value?0:1,height:i.value?0:lu,overflowY:i.value?"hidden":lu,order:d?v:lu,pointerEvents:i.value?"none":lu,position:i.value?"absolute":lu});const b={};return i.value&&(b["aria-hidden"]=!0),k(jd,{disabled:!d,onResize:C=>{let{offsetWidth:A}=C;a(A)}},{default:()=>k(g,Ee(Ee(Ee({class:He(!u&&l),style:x},b),w),{},{ref:o}),{default:()=>[S]})})}}});var _0=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const gW=De({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:ve.any,title:ve.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function},role:String,tabindex:Number},setup(t,e){let{slots:n,attrs:r}=e;const i=pW();return()=>{var o;if(!i.value){const{component:f="div"}=t,d=_0(t,["component"]);return k(f,Ee(Ee({},d),r),{default:()=>[(o=n.default)===null||o===void 0?void 0:o.call(n)]})}const a=i.value,{className:s}=a,l=_0(a,["className"]),{class:u}=r,c=_0(r,["class"]);return k(gb,{value:null},{default:()=>[k(Hp,Ee(Ee(Ee({class:He(s,u)},l),c),t),n)]})}}});var vW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const v3="responsive",y3="invalidate";function yW(t){return`+ ${t.length} ...`}const bW=()=>({id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:ve.any,component:String,itemComponent:ve.any,onVisibleChange:Function,ssr:String,onMousedown:Function}),ov=De({name:"Overflow",inheritAttrs:!1,props:bW(),emits:["visibleChange"],setup(t,e){let{attrs:n,emit:r,slots:i}=e;const o=H(()=>t.ssr==="full"),a=Be(null),s=H(()=>a.value||0),l=Be(new Map),u=Be(0),c=Be(0),f=Be(0),d=Be(null),h=Be(null),p=H(()=>h.value===null&&o.value?Number.MAX_SAFE_INTEGER:h.value||0),m=Be(!1),v=H(()=>`${t.prefixCls}-item`),g=H(()=>Math.max(u.value,c.value)),w=H(()=>!!(t.data.length&&t.maxCount===v3)),y=H(()=>t.maxCount===y3),S=H(()=>w.value||typeof t.maxCount=="number"&&t.data.length>t.maxCount),x=H(()=>{let $=t.data;return w.value?a.value===null&&o.value?$=t.data:$=t.data.slice(0,Math.min(t.data.length,s.value/t.itemWidth)):typeof t.maxCount=="number"&&($=t.data.slice(0,t.maxCount)),$}),b=H(()=>w.value?t.data.slice(p.value+1):t.data.slice(x.value.length)),C=($,N)=>{var T;return typeof t.itemKey=="function"?t.itemKey($):(T=t.itemKey&&($==null?void 0:$[t.itemKey]))!==null&&T!==void 0?T:N},A=H(()=>t.renderItem||($=>$)),D=($,N)=>{h.value=$,N||(m.value=$<t.data.length-1,r("visibleChange",$))},E=($,N)=>{a.value=N.clientWidth},M=($,N)=>{const T=new Map(l.value);N===null?T.delete($):T.set($,N),l.value=T},B=($,N)=>{u.value=c.value,c.value=N},P=($,N)=>{f.value=N},F=$=>l.value.get(C(x.value[$],$));return ze([s,l,c,f,()=>t.itemKey,x],()=>{if(s.value&&g.value&&x.value){let $=f.value;const N=x.value.length,T=N-1;if(!N){D(0),d.value=null;return}for(let z=0;z<N;z+=1){const I=F(z);if(I===void 0){D(z-1,!0);break}if($+=I,T===0&&$<=s.value||z===T-1&&$+F(T)<=s.value){D(T),d.value=null;break}else if($+g.value>s.value){D(z-1),d.value=$-I-f.value+c.value;break}}t.suffix&&F(0)+f.value>s.value&&(d.value=null)}}),()=>{const $=m.value&&!!b.value.length,{itemComponent:N,renderRawItem:T,renderRawRest:z,renderRest:I,prefixCls:q="rc-overflow",suffix:X,component:V="div",id:L,onMousedown:ne}=t,{class:se,style:Y}=n,ee=vW(n,["class","style"]);let ie={};d.value!==null&&w.value&&(ie={position:"absolute",left:`${d.value}px`,top:0});const j={prefixCls:v.value,responsive:w.value,component:N,invalidate:y.value},W=T?(ge,U)=>{const Z=C(ge,U);return k(gb,{key:Z,value:_(_({},j),{order:U,item:ge,itemKey:Z,registerSize:M,display:U<=p.value})},{default:()=>[T(ge,U)]})}:(ge,U)=>{const Z=C(ge,U);return k(Hp,Ee(Ee({},j),{},{order:U,key:Z,item:ge,renderItem:A.value,itemKey:Z,registerSize:M,display:U<=p.value}),null)};let J=()=>null;const oe={order:$?p.value:Number.MAX_SAFE_INTEGER,className:`${v.value} ${v.value}-rest`,registerSize:B,display:$};if(z)z&&(J=()=>k(gb,{value:_(_({},j),oe)},{default:()=>[z(b.value)]}));else{const ge=I||yW;J=()=>k(Hp,Ee(Ee({},j),oe),{default:()=>typeof ge=="function"?ge(b.value):ge})}const de=()=>{var ge;return k(V,Ee({id:L,class:He(!y.value&&q,se),style:Y,onMousedown:ne},ee),{default:()=>[x.value.map(W),S.value?J():null,X&&k(Hp,Ee(Ee({},j),{},{order:p.value,class:`${v.value}-suffix`,registerSize:P,display:!0,style:ie}),{default:()=>X}),(ge=i.default)===null||ge===void 0?void 0:ge.call(i)]})};return k(jd,{disabled:!w.value,onResize:E},{default:de})}}});ov.Item=gW;ov.RESPONSIVE=v3;ov.INVALIDATE=y3;const Lu=ov,xW=Symbol("TreeSelectLegacyContextPropsKey");function Wx(){return $t(xW,{})}const wW={id:String,prefixCls:String,values:ve.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:ve.any,placeholder:ve.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:ve.oneOfType([ve.number,ve.string]),removeIcon:ve.any,choiceTransitionName:String,maxTagCount:ve.oneOfType([ve.number,ve.string]),maxTagTextLength:Number,maxTagPlaceholder:ve.any.def(()=>t=>`+ ${t.length} ...`),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},j2=t=>{t.preventDefault(),t.stopPropagation()},SW=De({name:"MultipleSelectSelector",inheritAttrs:!1,props:wW,setup(t){const e=Be(),n=Be(0),r=Be(!1),i=Wx(),o=H(()=>`${t.prefixCls}-selection`),a=H(()=>t.open||t.mode==="tags"?t.searchValue:""),s=H(()=>t.mode==="tags"||t.showSearch&&(t.open||r.value));sn(()=>{ze(a,()=>{n.value=e.value.scrollWidth},{flush:"post",immediate:!0})});function l(d,h,p,m,v){return k("span",{class:He(`${o.value}-item`,{[`${o.value}-item-disabled`]:p}),title:typeof d=="string"||typeof d=="number"?d.toString():void 0},[k("span",{class:`${o.value}-item-content`},[h]),m&&k(Bm,{class:`${o.value}-item-remove`,onMousedown:j2,onClick:v,customizeIcon:t.removeIcon},{default:()=>[Ot("×")]})])}function u(d,h,p,m,v,g){var w;const y=x=>{j2(x),t.onToggleOpen(!open)};let S=g;return i.keyEntities&&(S=((w=i.keyEntities[d])===null||w===void 0?void 0:w.node)||{}),k("span",{key:d,onMousedown:y},[t.tagRender({label:h,value:d,disabled:p,closable:m,onClose:v,option:S})])}function c(d){const{disabled:h,label:p,value:m,option:v}=d,g=!t.disabled&&!h;let w=p;if(typeof t.maxTagTextLength=="number"&&(typeof p=="string"||typeof p=="number")){const S=String(w);S.length>t.maxTagTextLength&&(w=`${S.slice(0,t.maxTagTextLength)}...`)}const y=S=>{var x;S&&S.stopPropagation(),(x=t.onRemove)===null||x===void 0||x.call(t,d)};return typeof t.tagRender=="function"?u(m,w,h,g,y,v):l(p,w,h,g,y)}function f(d){const{maxTagPlaceholder:h=m=>`+ ${m.length} ...`}=t,p=typeof h=="function"?h(d):h;return l(p,p,!1)}return()=>{const{id:d,prefixCls:h,values:p,open:m,inputRef:v,placeholder:g,disabled:w,autofocus:y,autocomplete:S,activeDescendantId:x,tabindex:b,onInputChange:C,onInputPaste:A,onInputKeyDown:D,onInputMouseDown:E,onInputCompositionStart:M,onInputCompositionEnd:B}=t,P=k("div",{class:`${o.value}-search`,style:{width:n.value+"px"},key:"input"},[k(m3,{inputRef:v,open:m,prefixCls:h,id:d,inputElement:null,disabled:w,autofocus:y,autocomplete:S,editable:s.value,activeDescendantId:x,value:a.value,onKeydown:D,onMousedown:E,onChange:C,onPaste:A,onCompositionstart:M,onCompositionend:B,tabindex:b,attrs:qx(t,!0),onFocus:()=>r.value=!0,onBlur:()=>r.value=!1},null),k("span",{ref:e,class:`${o.value}-search-mirror`,"aria-hidden":!0},[a.value,Ot(" ")])]),F=k(Lu,{prefixCls:`${o.value}-overflow`,data:p,renderItem:c,renderRest:f,suffix:P,itemKey:"key",maxCount:t.maxTagCount,key:"overflow"},null);return k(gt,null,[F,!p.length&&!a.value&&k("span",{class:`${o.value}-placeholder`},[g])])}}}),CW=SW,AW={inputElement:ve.any,id:String,prefixCls:String,values:ve.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:ve.any,placeholder:ve.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:ve.oneOfType([ve.number,ve.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},jx=De({name:"SingleSelector",setup(t){const e=Be(!1),n=H(()=>t.mode==="combobox"),r=H(()=>n.value||t.showSearch),i=H(()=>{let u=t.searchValue||"";return n.value&&t.activeValue&&!e.value&&(u=t.activeValue),u}),o=Wx();ze([n,()=>t.activeValue],()=>{n.value&&(e.value=!1)},{immediate:!0});const a=H(()=>t.mode!=="combobox"&&!t.open&&!t.showSearch?!1:!!i.value),s=H(()=>{const u=t.values[0];return u&&(typeof u.label=="string"||typeof u.label=="number")?u.label.toString():void 0}),l=()=>{if(t.values[0])return null;const u=a.value?{visibility:"hidden"}:void 0;return k("span",{class:`${t.prefixCls}-selection-placeholder`,style:u},[t.placeholder])};return()=>{var u,c,f,d;const{inputElement:h,prefixCls:p,id:m,values:v,inputRef:g,disabled:w,autofocus:y,autocomplete:S,activeDescendantId:x,open:b,tabindex:C,optionLabelRender:A,onInputKeyDown:D,onInputMouseDown:E,onInputChange:M,onInputPaste:B,onInputCompositionStart:P,onInputCompositionEnd:F}=t,$=v[0];let N=null;if($&&o.customSlots){const T=(u=$.key)!==null&&u!==void 0?u:$.value,z=((c=o.keyEntities[T])===null||c===void 0?void 0:c.node)||{};N=o.customSlots[(f=z.slots)===null||f===void 0?void 0:f.title]||o.customSlots.title||$.label,typeof N=="function"&&(N=N(z))}else N=A&&$?A($.option):$==null?void 0:$.label;return k(gt,null,[k("span",{class:`${p}-selection-search`},[k(m3,{inputRef:g,prefixCls:p,id:m,open:b,inputElement:h,disabled:w,autofocus:y,autocomplete:S,editable:r.value,activeDescendantId:x,value:i.value,onKeydown:D,onMousedown:E,onChange:T=>{e.value=!0,M(T)},onPaste:B,onCompositionstart:P,onCompositionend:F,tabindex:C,attrs:qx(t,!0)},null)]),!n.value&&$&&!a.value&&k("span",{class:`${p}-selection-item`,title:s.value},[k(gt,{key:(d=$.key)!==null&&d!==void 0?d:$.value},[N])]),l()])}}});jx.props=AW;jx.inheritAttrs=!1;const DW=jx;function EW(t){return![Ye.ESC,Ye.SHIFT,Ye.BACKSPACE,Ye.TAB,Ye.WIN_KEY,Ye.ALT,Ye.META,Ye.WIN_KEY_RIGHT,Ye.CTRL,Ye.SEMICOLON,Ye.EQUALS,Ye.CAPS_LOCK,Ye.CONTEXT_MENU,Ye.F1,Ye.F2,Ye.F3,Ye.F4,Ye.F5,Ye.F6,Ye.F7,Ye.F8,Ye.F9,Ye.F10,Ye.F11,Ye.F12].includes(t)}function b3(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=null,n;ln(()=>{clearTimeout(n)});function r(i){(i||e===null)&&(e=i),clearTimeout(n),n=setTimeout(()=>{e=null},t)}return[()=>e,r]}function bd(){const t=e=>{t.current=e};return t}const MW=De({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:ve.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:ve.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:ve.oneOfType([ve.number,ve.string]),disabled:{type:Boolean,default:void 0},placeholder:ve.any,removeIcon:ve.any,maxTagCount:ve.oneOfType([ve.number,ve.string]),maxTagTextLength:Number,maxTagPlaceholder:ve.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup(t,e){let{expose:n}=e;const r=bd();let i=!1;const[o,a]=b3(0),s=g=>{const{which:w}=g;(w===Ye.UP||w===Ye.DOWN)&&g.preventDefault(),t.onInputKeyDown&&t.onInputKeyDown(g),w===Ye.ENTER&&t.mode==="tags"&&!i&&!t.open&&t.onSearchSubmit(g.target.value),EW(w)&&t.onToggleOpen(!0)},l=()=>{a(!0)};let u=null;const c=g=>{t.onSearch(g,!0,i)!==!1&&t.onToggleOpen(!0)},f=()=>{i=!0},d=g=>{i=!1,t.mode!=="combobox"&&c(g.target.value)},h=g=>{let{target:{value:w}}=g;if(t.tokenWithEnter&&u&&/[\r\n]/.test(u)){const y=u.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");w=w.replace(y,u)}u=null,c(w)},p=g=>{const{clipboardData:w}=g;u=w.getData("text")},m=g=>{let{target:w}=g;w!==r.current&&(document.body.style.msTouchAction!==void 0?setTimeout(()=>{r.current.focus()}):r.current.focus())},v=g=>{const w=o();g.target!==r.current&&!w&&g.preventDefault(),(t.mode!=="combobox"&&(!t.showSearch||!w)||!t.open)&&(t.open&&t.onSearch("",!0,!1),t.onToggleOpen())};return n({focus:()=>{r.current.focus()},blur:()=>{r.current.blur()}}),()=>{const{prefixCls:g,domRef:w,mode:y}=t,S={inputRef:r,onInputKeyDown:s,onInputMouseDown:l,onInputChange:h,onInputPaste:p,onInputCompositionStart:f,onInputCompositionEnd:d},x=y==="multiple"||y==="tags"?k(CW,Ee(Ee({},t),S),null):k(DW,Ee(Ee({},t),S),null);return k("div",{ref:w,class:`${g}-selector`,onClick:m,onMousedown:v},[x])}}}),NW=MW;function $W(t,e,n){function r(i){var o,a,s;let l=i.target;l.shadowRoot&&i.composed&&(l=i.composedPath()[0]||l);const u=[(o=t[0])===null||o===void 0?void 0:o.value,(s=(a=t[1])===null||a===void 0?void 0:a.value)===null||s===void 0?void 0:s.getPopupElement()];e.value&&u.every(c=>c&&!c.contains(l)&&c!==l)&&n(!1)}sn(()=>{window.addEventListener("mousedown",r)}),ln(()=>{window.removeEventListener("mousedown",r)})}function OW(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10;const e=Be(!1);let n;const r=()=>{clearTimeout(n)};return sn(()=>{r()}),[e,(o,a)=>{r(),n=setTimeout(()=>{e.value=o,a&&a()},t)},r]}const x3=Symbol("BaseSelectContextKey");function TW(t){return zt(x3,t)}function BW(){return $t(x3,{})}const IW=()=>{if(typeof navigator>"u"||typeof window>"u")return!1;const t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t==null?void 0:t.substr(0,4))};function w3(t){if(!Uo(t))return Ht(t);const e=new Proxy({},{get(n,r,i){return Reflect.get(t.value,r,i)},set(n,r,i){return t.value[r]=i,!0},deleteProperty(n,r){return Reflect.deleteProperty(t.value,r)},has(n,r){return Reflect.has(t.value,r)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Ht(e)}var PW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const kW=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],FW=()=>({prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:ve.any,emptyOptions:Boolean}),S3=()=>({showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:ve.any,placeholder:ve.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:ve.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:ve.any,clearIcon:ve.any,removeIcon:ve.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}),RW=()=>_(_({},FW()),S3());function C3(t){return t==="tags"||t==="multiple"}const _W=De({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:es(RW(),{showAction:[],notFoundContent:"Not Found"}),setup(t,e){let{attrs:n,expose:r,slots:i}=e;const o=H(()=>C3(t.mode)),a=H(()=>t.showSearch!==void 0?t.showSearch:o.value||t.mode==="combobox"),s=Be(!1);sn(()=>{s.value=IW()});const l=Wx(),u=Be(null),c=bd(),f=Be(null),d=Be(null),h=Be(null),p=Te(!1),[m,v,g]=OW();r({focus:()=>{var W;(W=d.value)===null||W===void 0||W.focus()},blur:()=>{var W;(W=d.value)===null||W===void 0||W.blur()},scrollTo:W=>{var J;return(J=h.value)===null||J===void 0?void 0:J.scrollTo(W)}});const S=H(()=>{var W;if(t.mode!=="combobox")return t.searchValue;const J=(W=t.displayValues[0])===null||W===void 0?void 0:W.value;return typeof J=="string"||typeof J=="number"?String(J):""}),x=t.open!==void 0?t.open:t.defaultOpen,b=Be(x),C=Be(x),A=W=>{b.value=t.open!==void 0?t.open:W,C.value=b.value};ze(()=>t.open,()=>{A(t.open)});const D=H(()=>!t.notFoundContent&&t.emptyOptions);Bn(()=>{C.value=b.value,(t.disabled||D.value&&C.value&&t.mode==="combobox")&&(C.value=!1)});const E=H(()=>D.value?!1:C.value),M=W=>{const J=W!==void 0?W:!C.value;C.value!==J&&!t.disabled&&(A(J),t.onDropdownVisibleChange&&t.onDropdownVisibleChange(J))},B=H(()=>(t.tokenSeparators||[]).some(W=>[`
`,`\r
`].includes(W))),P=(W,J,oe)=>{var de,ge;let U=!0,Z=W;(de=t.onActiveValueChange)===null||de===void 0||de.call(t,null);const fe=oe?null:tq(W,t.tokenSeparators);return t.mode!=="combobox"&&fe&&(Z="",(ge=t.onSearchSplit)===null||ge===void 0||ge.call(t,fe),M(!1),U=!1),t.onSearch&&S.value!==Z&&t.onSearch(Z,{source:J?"typing":"effect"}),U},F=W=>{var J;!W||!W.trim()||(J=t.onSearch)===null||J===void 0||J.call(t,W,{source:"submit"})};ze(C,()=>{!C.value&&!o.value&&t.mode!=="combobox"&&P("",!1,!1)},{immediate:!0,flush:"post"}),ze(()=>t.disabled,()=>{b.value&&t.disabled&&A(!1),t.disabled&&!p.value&&v(!1)},{immediate:!0});const[$,N]=b3(),T=function(W){var J;const oe=$(),{which:de}=W;if(de===Ye.ENTER&&(t.mode!=="combobox"&&W.preventDefault(),C.value||M(!0)),N(!!S.value),de===Ye.BACKSPACE&&!oe&&o.value&&!S.value&&t.displayValues.length){const fe=[...t.displayValues];let Q=null;for(let re=fe.length-1;re>=0;re-=1){const ue=fe[re];if(!ue.disabled){fe.splice(re,1),Q=ue;break}}Q&&t.onDisplayValuesChange(fe,{type:"remove",values:[Q]})}for(var ge=arguments.length,U=new Array(ge>1?ge-1:0),Z=1;Z<ge;Z++)U[Z-1]=arguments[Z];C.value&&h.value&&h.value.onKeydown(W,...U),(J=t.onKeydown)===null||J===void 0||J.call(t,W,...U)},z=function(W){for(var J=arguments.length,oe=new Array(J>1?J-1:0),de=1;de<J;de++)oe[de-1]=arguments[de];C.value&&h.value&&h.value.onKeyup(W,...oe),t.onKeyup&&t.onKeyup(W,...oe)},I=W=>{const J=t.displayValues.filter(oe=>oe!==W);t.onDisplayValuesChange(J,{type:"remove",values:[W]})},q=Be(!1),X=function(){v(!0),t.disabled||(t.onFocus&&!q.value&&t.onFocus(...arguments),t.showAction&&t.showAction.includes("focus")&&M(!0)),q.value=!0},V=Te(!1),L=function(){if(V.value||(p.value=!0,v(!1,()=>{q.value=!1,p.value=!1,M(!1)}),t.disabled))return;const W=S.value;W&&(t.mode==="tags"?t.onSearch(W,{source:"submit"}):t.mode==="multiple"&&t.onSearch("",{source:"blur"})),t.onBlur&&t.onBlur(...arguments)},ne=()=>{V.value=!0},se=()=>{V.value=!1};zt("VCSelectContainerEvent",{focus:X,blur:L});const Y=[];sn(()=>{Y.forEach(W=>clearTimeout(W)),Y.splice(0,Y.length)}),ln(()=>{Y.forEach(W=>clearTimeout(W)),Y.splice(0,Y.length)});const ee=function(W){var J,oe;const{target:de}=W,ge=(J=f.value)===null||J===void 0?void 0:J.getPopupElement();if(ge&&ge.contains(de)){const Q=setTimeout(()=>{var re;const ue=Y.indexOf(Q);ue!==-1&&Y.splice(ue,1),g(),!s.value&&!ge.contains(document.activeElement)&&((re=d.value)===null||re===void 0||re.focus())});Y.push(Q)}for(var U=arguments.length,Z=new Array(U>1?U-1:0),fe=1;fe<U;fe++)Z[fe-1]=arguments[fe];(oe=t.onMousedown)===null||oe===void 0||oe.call(t,W,...Z)},ie=Be(null),j=()=>{};return sn(()=>{ze(E,()=>{var W;if(E.value){const J=Math.ceil((W=u.value)===null||W===void 0?void 0:W.offsetWidth);ie.value!==J&&!Number.isNaN(J)&&(ie.value=J)}},{immediate:!0,flush:"post"})}),$W([u,f],E,M),TW(w3(_(_({},ix(t)),{open:C,triggerOpen:E,showSearch:a,multiple:o,toggleOpen:M}))),()=>{const W=_(_({},t),n),{prefixCls:J,id:oe,open:de,defaultOpen:ge,mode:U,showSearch:Z,searchValue:fe,onSearch:Q,allowClear:re,clearIcon:ue,showArrow:ye,inputIcon:xe,disabled:G,loading:te,getInputElement:he,getPopupContainer:ce,placement:pe,animation:me,transitionName:$e,dropdownStyle:Ne,dropdownClassName:Me,dropdownMatchSelectWidth:Ie,dropdownRender:ft,dropdownAlign:vt,showAction:We,direction:Kt,tokenSeparators:R,tagRender:le,optionLabelRender:be,onPopupScroll:ke,onDropdownVisibleChange:Qe,onFocus:dt,onBlur:Sn,onKeyup:no,onKeydown:Bo,onMousedown:vh,onClear:$i,omitDomProps:nl,getRawInputElement:as,displayValues:Io,onDisplayValuesChange:rl,emptyOptions:iu,activeDescendantId:uf,activeValue:ou,OptionList:s0}=W,l0=PW(W,["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"]),yh=U==="combobox"&&he&&he()||null,il=typeof as=="function"&&as(),cf=_({},l0);let bh;il&&(bh=ha=>{M(ha)}),kW.forEach(ha=>{delete cf[ha]}),nl==null||nl.forEach(ha=>{delete cf[ha]});const xh=ye!==void 0?ye:te||!o.value&&U!=="combobox";let wh;xh&&(wh=k(Bm,{class:He(`${J}-arrow`,{[`${J}-arrow-loading`]:te}),customizeIcon:xe,customizeIconProps:{loading:te,searchValue:S.value,open:C.value,focused:m.value,showSearch:a.value}},null));let Sh;const u0=()=>{$i==null||$i(),rl([],{type:"clear",values:Io}),P("",!1,!1)};!G&&re&&(Io.length||S.value)&&(Sh=k(Bm,{class:`${J}-clear`,onMousedown:u0,customizeIcon:ue},{default:()=>[Ot("×")]}));const c0=k(s0,{ref:h},_(_({},l.customSlots),{option:i.option})),f0=He(J,n.class,{[`${J}-focused`]:m.value,[`${J}-multiple`]:o.value,[`${J}-single`]:!o.value,[`${J}-allow-clear`]:re,[`${J}-show-arrow`]:xh,[`${J}-disabled`]:G,[`${J}-loading`]:te,[`${J}-open`]:C.value,[`${J}-customize-input`]:yh,[`${J}-show-search`]:a.value}),Ch=k(iW,{ref:f,disabled:G,prefixCls:J,visible:E.value,popupElement:c0,containerWidth:ie.value,animation:me,transitionName:$e,dropdownStyle:Ne,dropdownClassName:Me,direction:Kt,dropdownMatchSelectWidth:Ie,dropdownRender:ft,dropdownAlign:vt,placement:pe,getPopupContainer:ce,empty:iu,getTriggerDOMNode:()=>c.current,onPopupVisibleChange:bh,onPopupMouseEnter:j,onPopupFocusin:ne,onPopupFocusout:se},{default:()=>il?ia(il)&&zn(il,{ref:c},!1,!0):k(NW,Ee(Ee({},t),{},{domRef:c,prefixCls:J,inputElement:yh,ref:d,id:oe,showSearch:a.value,mode:U,activeDescendantId:uf,tagRender:le,optionLabelRender:be,values:Io,open:C.value,onToggleOpen:M,activeValue:ou,searchValue:S.value,onSearch:P,onSearchSubmit:F,onRemove:I,tokenWithEnter:B.value}),null)});let ff;return il?ff=Ch:ff=k("div",Ee(Ee({},cf),{},{class:f0,ref:u,onMousedown:ee,onKeydown:T,onKeyup:z}),[m.value&&!C.value&&k("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},[`${Io.map(ha=>{let{label:ss,value:qt}=ha;return["number","string"].includes(typeof ss)?ss:qt}).join(", ")}`]),Ch,wh,Sh]),ff}}}),av=(t,e)=>{let{height:n,offset:r,prefixCls:i,onInnerResize:o}=t,{slots:a}=e;var s;let l={},u={display:"flex",flexDirection:"column"};return r!==void 0&&(l={height:`${n}px`,position:"relative",overflow:"hidden"},u=_(_({},u),{transform:`translateY(${r}px)`,position:"absolute",left:0,right:0,top:0})),k("div",{style:l},[k(jd,{onResize:c=>{let{offsetHeight:f}=c;f&&o&&o()}},{default:()=>[k("div",{style:u,class:He({[`${i}-holder-inner`]:i})},[(s=a.default)===null||s===void 0?void 0:s.call(a)])]})])};av.displayName="Filter";av.inheritAttrs=!1;av.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const zW=av,A3=(t,e)=>{let{setRef:n}=t,{slots:r}=e;var i;const o=kr((i=r.default)===null||i===void 0?void 0:i.call(r));return o&&o.length?WT(o[0],{ref:n}):o};A3.props={setRef:{type:Function,default:()=>{}}};const LW=A3,HW=20;function G2(t){return"touches"in t?t.touches[0].pageY:t.pageY}const VW=De({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup(){return{moveRaf:null,scrollbarRef:bd(),thumbRef:bd(),visibleTimeout:null,state:Ht({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler(){this.delayHidden()},flush:"post"}},mounted(){var t,e;(t=this.scrollbarRef.current)===null||t===void 0||t.addEventListener("touchstart",this.onScrollbarTouchStart,gr?{passive:!1}:!1),(e=this.thumbRef.current)===null||e===void 0||e.addEventListener("touchstart",this.onMouseDown,gr?{passive:!1}:!1)},beforeUnmount(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden(){clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(()=>{this.state.visible=!1},2e3)},onScrollbarTouchStart(t){t.preventDefault()},onContainerMouseDown(t){t.stopPropagation(),t.preventDefault()},patchEvents(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,gr?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,gr?{passive:!1}:!1),this.thumbRef.current&&(this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,gr?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,gr?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp)),Rt.cancel(this.moveRaf)},onMouseDown(t){const{onStartMove:e}=this.$props;_(this.state,{dragging:!0,pageY:G2(t),startTop:this.getTop()}),e(),this.patchEvents(),t.stopPropagation(),t.preventDefault()},onMouseMove(t){const{dragging:e,pageY:n,startTop:r}=this.state,{onScroll:i}=this.$props;if(Rt.cancel(this.moveRaf),e){const o=G2(t)-n,a=r+o,s=this.getEnableScrollRange(),l=this.getEnableHeightRange(),u=l?a/l:0,c=Math.ceil(u*s);this.moveRaf=Rt(()=>{i(c)})}},onMouseUp(){const{onStopMove:t}=this.$props;this.state.dragging=!1,t(),this.removeEvents()},getSpinHeight(){const{height:t,scrollHeight:e}=this.$props;let n=t/e*100;return n=Math.max(n,HW),n=Math.min(n,t/2),Math.floor(n)},getEnableScrollRange(){const{scrollHeight:t,height:e}=this.$props;return t-e||0},getEnableHeightRange(){const{height:t}=this.$props,e=this.getSpinHeight();return t-e||0},getTop(){const{scrollTop:t}=this.$props,e=this.getEnableScrollRange(),n=this.getEnableHeightRange();return t===0||e===0?0:t/e*n},showScroll(){const{height:t,scrollHeight:e}=this.$props;return e>t}},render(){const{dragging:t,visible:e}=this.state,{prefixCls:n}=this.$props,r=this.getSpinHeight()+"px",i=this.getTop()+"px",o=this.showScroll(),a=o&&e;return k("div",{ref:this.scrollbarRef,class:He(`${n}-scrollbar`,{[`${n}-scrollbar-show`]:o}),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:a?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[k("div",{ref:this.thumbRef,class:He(`${n}-scrollbar-thumb`,{[`${n}-scrollbar-thumb-moving`]:t}),style:{width:"100%",height:r,top:i,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function UW(t,e,n,r){const i=new Map,o=new Map,a=Te(Symbol("update"));ze(t,()=>{a.value=Symbol("update")});let s;function l(){Rt.cancel(s)}function u(){l(),s=Rt(()=>{i.forEach((f,d)=>{if(f&&f.offsetParent){const{offsetHeight:h}=f;o.get(d)!==h&&(a.value=Symbol("update"),o.set(d,f.offsetHeight))}})})}function c(f,d){const h=e(f),p=i.get(h);d?(i.set(h,d.$el||d),u()):i.delete(h),!p!=!d&&(d?n==null||n(f):r==null||r(f))}return Bc(()=>{l()}),[c,u,o,a]}function qW(t,e,n,r,i,o,a,s){let l;return u=>{if(u==null){s();return}Rt.cancel(l);const c=e.value,f=r.itemHeight;if(typeof u=="number")a(u);else if(u&&typeof u=="object"){let d;const{align:h}=u;"index"in u?{index:d}=u:d=c.findIndex(v=>i(v)===u.key);const{offset:p=0}=u,m=(v,g)=>{if(v<0||!t.value)return;const w=t.value.clientHeight;let y=!1,S=g;if(w){const x=g||h;let b=0,C=0,A=0;const D=Math.min(c.length,d);for(let B=0;B<=D;B+=1){const P=i(c[B]);C=b;const F=n.get(P);A=C+(F===void 0?f:F),b=A,B===d&&F===void 0&&(y=!0)}const E=t.value.scrollTop;let M=null;switch(x){case"top":M=C-p;break;case"bottom":M=A-w+p;break;default:{const B=E+w;C<E?S="top":A>B&&(S="bottom")}}M!==null&&M!==E&&a(M)}l=Rt(()=>{y&&o(),m(v-1,S)},2)};m(5)}}}const WW=typeof navigator=="object"&&/Firefox/i.test(navigator.userAgent),jW=WW,D3=(t,e)=>{let n=!1,r=null;function i(){clearTimeout(r),n=!0,r=setTimeout(()=>{n=!1},50)}return function(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const s=o<0&&t.value||o>0&&e.value;return a&&s?(clearTimeout(r),n=!1):(!s||n)&&i(),!n&&s}};function GW(t,e,n,r){let i=0,o=null,a=null,s=!1;const l=D3(e,n);function u(f){if(!t.value)return;Rt.cancel(o);const{deltaY:d}=f;i+=d,a=d,!l(d)&&(jW||f.preventDefault(),o=Rt(()=>{r(i*(s?10:1)),i=0}))}function c(f){t.value&&(s=f.detail===a)}return[u,c]}const XW=14/15;function KW(t,e,n){let r=!1,i=0,o=null,a=null;const s=()=>{o&&(o.removeEventListener("touchmove",l),o.removeEventListener("touchend",u))},l=d=>{if(r){const h=Math.ceil(d.touches[0].pageY);let p=i-h;i=h,n(p)&&d.preventDefault(),clearInterval(a),a=setInterval(()=>{p*=XW,(!n(p,!0)||Math.abs(p)<=.1)&&clearInterval(a)},16)}},u=()=>{r=!1,s()},c=d=>{s(),d.touches.length===1&&!r&&(r=!0,i=Math.ceil(d.touches[0].pageY),o=d.target,o.addEventListener("touchmove",l,{passive:!1}),o.addEventListener("touchend",u))},f=()=>{};sn(()=>{document.addEventListener("touchmove",f,{passive:!1}),ze(t,d=>{e.value.removeEventListener("touchstart",c),s(),clearInterval(a),d&&e.value.addEventListener("touchstart",c,{passive:!1})},{immediate:!0})}),ln(()=>{document.removeEventListener("touchmove",f)})}var YW=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const ZW=[],QW={overflowY:"auto",overflowAnchor:"none"};function JW(t,e,n,r,i,o){let{getKey:a}=o;return t.slice(e,n+1).map((s,l)=>{const u=e+l,c=i(s,u,{}),f=a(s);return k(LW,{key:f,setRef:d=>r(s,d)},{default:()=>[c]})})}const ej=De({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:ve.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup(t,e){let{expose:n}=e;const r=H(()=>{const{height:I,itemHeight:q,virtual:X}=t;return!!(X!==!1&&I&&q)}),i=H(()=>{const{height:I,itemHeight:q,data:X}=t;return r.value&&X&&q*X.length>I}),o=Ht({scrollTop:0,scrollMoving:!1}),a=H(()=>t.data||ZW),s=Be([]);ze(a,()=>{s.value=za(a.value).slice()},{immediate:!0});const l=Be(I=>{});ze(()=>t.itemKey,I=>{typeof I=="function"?l.value=I:l.value=q=>q==null?void 0:q[I]},{immediate:!0});const u=Be(),c=Be(),f=Be(),d=I=>l.value(I),h={getKey:d};function p(I){let q;typeof I=="function"?q=I(o.scrollTop):q=I;const X=b(q);u.value&&(u.value.scrollTop=X),o.scrollTop=X}const[m,v,g,w]=UW(s,d,null,null),y=Ht({scrollHeight:void 0,start:0,end:0,offset:void 0}),S=Be(0);sn(()=>{yn(()=>{var I;S.value=((I=c.value)===null||I===void 0?void 0:I.offsetHeight)||0})}),Ic(()=>{yn(()=>{var I;S.value=((I=c.value)===null||I===void 0?void 0:I.offsetHeight)||0})}),ze([r,s],()=>{r.value||_(y,{scrollHeight:void 0,start:0,end:s.value.length-1,offset:void 0})},{immediate:!0}),ze([r,s,S,i],()=>{r.value&&!i.value&&_(y,{scrollHeight:S.value,start:0,end:s.value.length-1,offset:void 0}),u.value&&(o.scrollTop=u.value.scrollTop)},{immediate:!0}),ze([i,r,()=>o.scrollTop,s,w,()=>t.height,S],()=>{if(!r.value||!i.value)return;let I=0,q,X,V;const L=s.value.length,ne=s.value,se=o.scrollTop,{itemHeight:Y,height:ee}=t,ie=se+ee;for(let j=0;j<L;j+=1){const W=ne[j],J=d(W);let oe=g.get(J);oe===void 0&&(oe=Y);const de=I+oe;q===void 0&&de>=se&&(q=j,X=I),V===void 0&&de>ie&&(V=j),I=de}q===void 0&&(q=0,X=0,V=Math.ceil(ee/Y)),V===void 0&&(V=L-1),V=Math.min(V+1,L),_(y,{scrollHeight:I,start:q,end:V,offset:X})},{immediate:!0});const x=H(()=>y.scrollHeight-t.height);function b(I){let q=I;return Number.isNaN(x.value)||(q=Math.min(q,x.value)),q=Math.max(q,0),q}const C=H(()=>o.scrollTop<=0),A=H(()=>o.scrollTop>=x.value),D=D3(C,A);function E(I){p(I)}function M(I){var q;const{scrollTop:X}=I.currentTarget;X!==o.scrollTop&&p(X),(q=t.onScroll)===null||q===void 0||q.call(t,I)}const[B,P]=GW(r,C,A,I=>{p(q=>q+I)});KW(r,u,(I,q)=>D(I,q)?!1:(B({preventDefault(){},deltaY:I}),!0));function F(I){r.value&&I.preventDefault()}const $=()=>{u.value&&(u.value.removeEventListener("wheel",B,gr?{passive:!1}:!1),u.value.removeEventListener("DOMMouseScroll",P),u.value.removeEventListener("MozMousePixelScroll",F))};Bn(()=>{yn(()=>{u.value&&($(),u.value.addEventListener("wheel",B,gr?{passive:!1}:!1),u.value.addEventListener("DOMMouseScroll",P),u.value.addEventListener("MozMousePixelScroll",F))})}),ln(()=>{$()});const N=qW(u,s,g,t,d,v,p,()=>{var I;(I=f.value)===null||I===void 0||I.delayHidden()});n({scrollTo:N});const T=H(()=>{let I=null;return t.height&&(I=_({[t.fullHeight?"height":"maxHeight"]:t.height+"px"},QW),r.value&&(I.overflowY="hidden",o.scrollMoving&&(I.pointerEvents="none"))),I});return ze([()=>y.start,()=>y.end,s],()=>{if(t.onVisibleChange){const I=s.value.slice(y.start,y.end+1);t.onVisibleChange(I,s.value)}},{flush:"post"}),{state:o,mergedData:s,componentStyle:T,onFallbackScroll:M,onScrollBar:E,componentRef:u,useVirtual:r,calRes:y,collectHeight:v,setInstance:m,sharedConfig:h,scrollBarRef:f,fillerInnerRef:c,delayHideScrollBar:()=>{var I;(I=f.value)===null||I===void 0||I.delayHidden()}}},render(){const t=_(_({},this.$props),this.$attrs),{prefixCls:e="rc-virtual-list",height:n,itemHeight:r,fullHeight:i,data:o,itemKey:a,virtual:s,component:l="div",onScroll:u,children:c=this.$slots.default,style:f,class:d}=t,h=YW(t,["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"]),p=He(e,d),{scrollTop:m}=this.state,{scrollHeight:v,offset:g,start:w,end:y}=this.calRes,{componentStyle:S,onFallbackScroll:x,onScrollBar:b,useVirtual:C,collectHeight:A,sharedConfig:D,setInstance:E,mergedData:M,delayHideScrollBar:B}=this;return k("div",Ee({style:_(_({},f),{position:"relative"}),class:p},h),[k(l,{class:`${e}-holder`,style:S,ref:"componentRef",onScroll:x,onMouseenter:B},{default:()=>[k(zW,{prefixCls:e,height:v,offset:g,onInnerResize:A,ref:"fillerInnerRef"},{default:()=>JW(M,w,y,E,c,D)})]}),C&&k(VW,{ref:"scrollBarRef",prefixCls:e,scrollTop:m,height:n,scrollHeight:v,count:M.length,onScroll:b,onStartMove:()=>{this.state.scrollMoving=!0},onStopMove:()=>{this.state.scrollMoving=!1}},null)])}}),tj=ej;function nj(t,e,n){const r=Te(t());return ze(e,(i,o)=>{n?n(i,o)&&(r.value=t()):r.value=t()}),r}function rj(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}const E3=Symbol("SelectContextKey");function ij(t){return zt(E3,t)}function oj(){return $t(E3,{})}var aj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function X2(t){return typeof t=="string"||typeof t=="number"}const sj=De({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,setup(t,e){let{expose:n,slots:r}=e;const i=BW(),o=oj(),a=H(()=>`${i.prefixCls}-item`),s=nj(()=>o.flattenOptions,[()=>i.open,()=>o.flattenOptions],x=>x[0]),l=bd(),u=x=>{x.preventDefault()},c=x=>{l.current&&l.current.scrollTo(typeof x=="number"?{index:x}:x)},f=function(x){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const C=s.value.length;for(let A=0;A<C;A+=1){const D=(x+A*b+C)%C,{group:E,data:M}=s.value[D];if(!E&&!M.disabled)return D}return-1},d=Ht({activeIndex:f(0)}),h=function(x){let b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;d.activeIndex=x;const C={source:b?"keyboard":"mouse"},A=s.value[x];if(!A){o.onActiveValue(null,-1,C);return}o.onActiveValue(A.value,x,C)};ze([()=>s.value.length,()=>i.searchValue],()=>{h(o.defaultActiveFirstOption!==!1?f(0):-1)},{immediate:!0});const p=x=>o.rawValues.has(x)&&i.mode!=="combobox";ze([()=>i.open,()=>i.searchValue],()=>{if(!i.multiple&&i.open&&o.rawValues.size===1){const x=Array.from(o.rawValues)[0],b=za(s.value).findIndex(C=>{let{data:A}=C;return A[o.fieldNames.value]===x});b!==-1&&(h(b),yn(()=>{c(b)}))}i.open&&yn(()=>{var x;(x=l.current)===null||x===void 0||x.scrollTo(void 0)})},{immediate:!0,flush:"post"});const m=x=>{x!==void 0&&o.onSelect(x,{selected:!o.rawValues.has(x)}),i.multiple||i.toggleOpen(!1)},v=x=>typeof x.label=="function"?x.label():x.label;function g(x){const b=s.value[x];if(!b)return null;const C=b.data||{},{value:A}=C,{group:D}=b,E=qx(C,!0),M=v(b);return b?k("div",Ee(Ee({"aria-label":typeof M=="string"&&!D?M:null},E),{},{key:x,role:D?"presentation":"option",id:`${i.id}_list_${x}`,"aria-selected":p(A)}),[A]):null}return n({onKeydown:x=>{const{which:b,ctrlKey:C}=x;switch(b){case Ye.N:case Ye.P:case Ye.UP:case Ye.DOWN:{let A=0;if(b===Ye.UP?A=-1:b===Ye.DOWN?A=1:rj()&&C&&(b===Ye.N?A=1:b===Ye.P&&(A=-1)),A!==0){const D=f(d.activeIndex+A,A);c(D),h(D,!0)}break}case Ye.ENTER:{const A=s.value[d.activeIndex];A&&!A.data.disabled?m(A.value):m(void 0),i.open&&x.preventDefault();break}case Ye.ESC:i.toggleOpen(!1),i.open&&x.stopPropagation()}},onKeyup:()=>{},scrollTo:x=>{c(x)}}),()=>{const{id:x,notFoundContent:b,onPopupScroll:C}=i,{menuItemSelectedIcon:A,fieldNames:D,virtual:E,listHeight:M,listItemHeight:B}=o,P=r.option,{activeIndex:F}=d,$=Object.keys(D).map(N=>D[N]);return s.value.length===0?k("div",{role:"listbox",id:`${x}_list`,class:`${a.value}-empty`,onMousedown:u},[b]):k(gt,null,[k("div",{role:"listbox",id:`${x}_list`,style:{height:0,width:0,overflow:"hidden"}},[g(F-1),g(F),g(F+1)]),k(tj,{itemKey:"key",ref:l,data:s.value,height:M,itemHeight:B,fullHeight:!1,onMousedown:u,onScroll:C,virtual:E},{default:(N,T)=>{var z;const{group:I,groupOption:q,data:X,value:V}=N,{key:L}=X,ne=typeof N.label=="function"?N.label():N.label;if(I){const ue=(z=X.title)!==null&&z!==void 0?z:X2(ne)&&ne;return k("div",{class:He(a.value,`${a.value}-group`),title:ue},[P?P(X):ne!==void 0?ne:L])}const{disabled:se,title:Y,children:ee,style:ie,class:j,className:W}=X,J=aj(X,["disabled","title","children","style","class","className"]),oe=In(J,$),de=p(V),ge=`${a.value}-option`,U=He(a.value,ge,j,W,{[`${ge}-grouped`]:q,[`${ge}-active`]:F===T&&!se,[`${ge}-disabled`]:se,[`${ge}-selected`]:de}),Z=v(N),fe=!A||typeof A=="function"||de,Q=typeof Z=="number"?Z:Z||V;let re=X2(Q)?Q.toString():void 0;return Y!==void 0&&(re=Y),k("div",Ee(Ee({},oe),{},{"aria-selected":de,class:U,title:re,onMousemove:ue=>{J.onMousemove&&J.onMousemove(ue),!(F===T||se)&&h(T)},onClick:ue=>{se||m(V),J.onClick&&J.onClick(ue)},style:ie}),[k("div",{class:`${ge}-content`},[P?P(X):Q]),ia(A)||de,fe&&k(Bm,{class:`${a.value}-option-state`,customizeIcon:A,customizeIconProps:{isSelected:de}},{default:()=>[de?"✓":null]})])}})])}}}),lj=sj;var uj=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function cj(t){const e=t,{key:n,children:r}=e,i=e.props,{value:o,disabled:a}=i,s=uj(i,["value","disabled"]),l=r==null?void 0:r.default;return _({key:n,value:o!==void 0?o:n,children:l,disabled:a||a===""},s)}function M3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return kr(t).map((r,i)=>{var o;if(!ia(r)||!r.type)return null;const{type:{isSelectOptGroup:a},key:s,children:l,props:u}=r;if(e||!a)return cj(r);const c=l&&l.default?l.default():void 0,f=(u==null?void 0:u.label)||((o=l.label)===null||o===void 0?void 0:o.call(l))||s;return _(_({key:`__RC_SELECT_GRP__${s===null?i:String(s)}__`},u),{label:f,options:M3(c||[])})}).filter(r=>r)}function fj(t,e,n){const r=Be(),i=Be(),o=Be(),a=Be([]);return ze([t,e],()=>{t.value?a.value=za(t.value).slice():a.value=M3(e.value)},{immediate:!0,deep:!0}),Bn(()=>{const s=a.value,l=new Map,u=new Map,c=n.value;function f(d){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(let p=0;p<d.length;p+=1){const m=d[p];!m[c.options]||h?(l.set(m[c.value],m),u.set(m[c.label],m)):f(m[c.options],!0)}}f(s),r.value=s,i.value=l,o.value=u}),{options:r,valueOptions:i,labelOptions:o}}let K2=0;const dj=Gi();function hj(){let t;return dj?(t=K2,K2+=1):t="TEST_OR_SSR",t}function pj(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Te("");const e=`rc_select_${hj()}`;return t.value||e}function N3(t){return Array.isArray(t)?t:t!==void 0?[t]:[]}function z0(t,e){return N3(t).join("").toUpperCase().includes(e)}const mj=(t,e,n,r,i)=>H(()=>{const o=n.value,a=i==null?void 0:i.value,s=r==null?void 0:r.value;if(!o||s===!1)return t.value;const{options:l,label:u,value:c}=e.value,f=[],d=typeof s=="function",h=o.toUpperCase(),p=d?s:(v,g)=>a?z0(g[a],h):g[l]?z0(g[u!=="children"?u:"label"],h):z0(g[c],h),m=d?v=>fb(v):v=>v;return t.value.forEach(v=>{if(v[l]){if(p(o,m(v)))f.push(v);else{const w=v[l].filter(y=>p(o,m(y)));w.length&&f.push(_(_({},v),{[l]:w}))}return}p(o,m(v))&&f.push(v)}),f}),gj=(t,e)=>{const n=Be({values:new Map,options:new Map});return[H(()=>{const{values:o,options:a}=n.value,s=t.value.map(c=>{var f;return c.label===void 0?_(_({},c),{label:(f=o.get(c.value))===null||f===void 0?void 0:f.label}):c}),l=new Map,u=new Map;return s.forEach(c=>{l.set(c.value,c),u.set(c.value,e.value.get(c.value)||a.get(c.value))}),n.value.values=l,n.value.options=u,s}),o=>e.value.get(o)||n.value.options.get(o)]};function vb(t,e){const{defaultValue:n,value:r=Te()}=e||{};let i=typeof t=="function"?t():t;r.value!==void 0&&(i=O(r)),n!==void 0&&(i=typeof n=="function"?n():n);const o=Te(i),a=Te(i);Bn(()=>{let l=r.value!==void 0?r.value:o.value;e.postState&&(l=e.postState(l)),a.value=l});function s(l){const u=a.value;o.value=l,za(a.value)!==l&&e.onChange&&e.onChange(l,u)}return ze(r,()=>{o.value=r.value}),[a,s]}function ba(t){const e=typeof t=="function"?t():t,n=Te(e);function r(i){n.value=i}return[n,r]}const vj=["inputValue"];function $3(){return _(_({},S3()),{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:ve.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:ve.any,defaultValue:ve.any,onChange:Function,children:Array})}function yj(t){return!t||typeof t!="object"}const bj=De({compatConfig:{MODE:3},name:"VcSelect",inheritAttrs:!1,props:es($3(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup(t,e){let{expose:n,attrs:r,slots:i}=e;const o=pj(so(t,"id")),a=H(()=>C3(t.mode)),s=H(()=>!!(!t.options&&t.children)),l=H(()=>t.filterOption===void 0&&t.mode==="combobox"?!1:t.filterOption),u=H(()=>ZI(t.fieldNames,s.value)),[c,f]=vb("",{value:H(()=>t.searchValue!==void 0?t.searchValue:t.inputValue),postState:j=>j||""}),d=fj(so(t,"options"),so(t,"children"),u),{valueOptions:h,labelOptions:p,options:m}=d,v=j=>N3(j).map(J=>{var oe,de;let ge,U,Z,fe;yj(J)?ge=J:(Z=J.key,U=J.label,ge=(oe=J.value)!==null&&oe!==void 0?oe:Z);const Q=h.value.get(ge);return Q&&(U===void 0&&(U=Q==null?void 0:Q[t.optionLabelProp||u.value.label]),Z===void 0&&(Z=(de=Q==null?void 0:Q.key)!==null&&de!==void 0?de:ge),fe=Q==null?void 0:Q.disabled),{label:U,value:ge,key:Z,disabled:fe,option:Q}}),[g,w]=vb(t.defaultValue,{value:so(t,"value")}),y=H(()=>{var j;const W=v(g.value);return t.mode==="combobox"&&!(!((j=W[0])===null||j===void 0)&&j.value)?[]:W}),[S,x]=gj(y,h),b=H(()=>{if(!t.mode&&S.value.length===1){const j=S.value[0];if(j.value===null&&(j.label===null||j.label===void 0))return[]}return S.value.map(j=>{var W;return _(_({},j),{label:(W=typeof j.label=="function"?j.label():j.label)!==null&&W!==void 0?W:j.value})})}),C=H(()=>new Set(S.value.map(j=>j.value)));Bn(()=>{var j;if(t.mode==="combobox"){const W=(j=S.value[0])===null||j===void 0?void 0:j.value;W!=null&&f(String(W))}},{flush:"post"});const A=(j,W)=>{const J=W??j;return{[u.value.value]:j,[u.value.label]:J}},D=Be();Bn(()=>{if(t.mode!=="tags"){D.value=m.value;return}const j=m.value.slice(),W=J=>h.value.has(J);[...S.value].sort((J,oe)=>J.value<oe.value?-1:1).forEach(J=>{const oe=J.value;W(oe)||j.push(A(oe,J.label))}),D.value=j});const E=mj(D,u,c,l,so(t,"optionFilterProp")),M=H(()=>t.mode!=="tags"||!c.value||E.value.some(j=>j[t.optionFilterProp||"value"]===c.value)?E.value:[A(c.value),...E.value]),B=H(()=>t.filterSort?[...M.value].sort((j,W)=>t.filterSort(j,W)):M.value),P=H(()=>eq(B.value,{fieldNames:u.value,childrenAsData:s.value})),F=j=>{const W=v(j);if(w(W),t.onChange&&(W.length!==S.value.length||W.some((J,oe)=>{var de;return((de=S.value[oe])===null||de===void 0?void 0:de.value)!==(J==null?void 0:J.value)}))){const J=t.labelInValue?W.map(de=>_(_({},de),{originLabel:de.label,label:typeof de.label=="function"?de.label():de.label})):W.map(de=>de.value),oe=W.map(de=>fb(x(de.value)));t.onChange(a.value?J:J[0],a.value?oe:oe[0])}},[$,N]=ba(null),[T,z]=ba(0),I=H(()=>t.defaultActiveFirstOption!==void 0?t.defaultActiveFirstOption:t.mode!=="combobox"),q=function(j,W){let{source:J="keyboard"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};z(W),t.backfill&&t.mode==="combobox"&&j!==null&&J==="keyboard"&&N(String(j))},X=(j,W)=>{const J=()=>{var oe;const de=x(j),ge=de==null?void 0:de[u.value.label];return[t.labelInValue?{label:typeof ge=="function"?ge():ge,originLabel:ge,value:j,key:(oe=de==null?void 0:de.key)!==null&&oe!==void 0?oe:j}:j,fb(de)]};if(W&&t.onSelect){const[oe,de]=J();t.onSelect(oe,de)}else if(!W&&t.onDeselect){const[oe,de]=J();t.onDeselect(oe,de)}},V=(j,W)=>{let J;const oe=a.value?W.selected:!0;oe?J=a.value?[...S.value,j]:[j]:J=S.value.filter(de=>de.value!==j),F(J),X(j,oe),t.mode==="combobox"?N(""):(!a.value||t.autoClearSearchValue)&&(f(""),N(""))},L=(j,W)=>{F(j),(W.type==="remove"||W.type==="clear")&&W.values.forEach(J=>{X(J.value,!1)})},ne=(j,W)=>{var J;if(f(j),N(null),W.source==="submit"){const oe=(j||"").trim();if(oe){const de=Array.from(new Set([...C.value,oe]));F(de),X(oe,!0),f("")}return}W.source!=="blur"&&(t.mode==="combobox"&&F(j),(J=t.onSearch)===null||J===void 0||J.call(t,j))},se=j=>{let W=j;t.mode!=="tags"&&(W=j.map(oe=>{const de=p.value.get(oe);return de==null?void 0:de.value}).filter(oe=>oe!==void 0));const J=Array.from(new Set([...C.value,...W]));F(J),J.forEach(oe=>{X(oe,!0)})},Y=H(()=>t.virtual!==!1&&t.dropdownMatchSelectWidth!==!1);ij(w3(_(_({},d),{flattenOptions:P,onActiveValue:q,defaultActiveFirstOption:I,onSelect:V,menuItemSelectedIcon:so(t,"menuItemSelectedIcon"),rawValues:C,fieldNames:u,virtual:Y,listHeight:so(t,"listHeight"),listItemHeight:so(t,"listItemHeight"),childrenAsData:s})));const ee=Te();n({focus(){var j;(j=ee.value)===null||j===void 0||j.focus()},blur(){var j;(j=ee.value)===null||j===void 0||j.blur()},scrollTo(j){var W;(W=ee.value)===null||W===void 0||W.scrollTo(j)}});const ie=H(()=>In(t,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"]));return()=>k(_W,Ee(Ee(Ee({},ie.value),r),{},{id:o,prefixCls:t.prefixCls,ref:ee,omitDomProps:vj,mode:t.mode,displayValues:b.value,onDisplayValuesChange:L,searchValue:c.value,onSearch:ne,onSearchSplit:se,dropdownMatchSelectWidth:t.dropdownMatchSelectWidth,OptionList:lj,emptyOptions:!P.value.length,activeValue:$.value,activeDescendantId:`${o}_list_${T.value}`}),i)}}),Gx=()=>null;Gx.isSelectOption=!0;Gx.displayName="ASelectOption";const xj=Gx,Xx=()=>null;Xx.isSelectOptGroup=!0;Xx.displayName="ASelectOptGroup";const wj=Xx;var Sj={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const Cj=Sj;var Aj=Symbol("iconContext"),O3=function(){return $t(Aj,{prefixCls:Te("anticon"),rootClassName:Te(""),csp:Te()})};function Kx(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Dj(t,e){return t&&t.contains?t.contains(e):!1}var Y2="data-vc-order",Ej="vc-icon-key",yb=new Map;function T3(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.mark;return e?e.startsWith("data-")?e:"data-".concat(e):Ej}function Yx(t){if(t.attachTo)return t.attachTo;var e=document.querySelector("head");return e||document.body}function Mj(t){return t==="queue"?"prependQueue":t?"prepend":"append"}function B3(t){return Array.from((yb.get(t)||t).children).filter(function(e){return e.tagName==="STYLE"})}function I3(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Kx())return null;var n=e.csp,r=e.prepend,i=document.createElement("style");i.setAttribute(Y2,Mj(r)),n&&n.nonce&&(i.nonce=n.nonce),i.innerHTML=t;var o=Yx(e),a=o.firstChild;if(r){if(r==="queue"){var s=B3(o).filter(function(l){return["prepend","prependQueue"].includes(l.getAttribute(Y2))});if(s.length)return o.insertBefore(i,s[s.length-1].nextSibling),i}o.insertBefore(i,a)}else o.appendChild(i);return i}function Nj(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Yx(e);return B3(n).find(function(r){return r.getAttribute(T3(e))===t})}function $j(t,e){var n=yb.get(t);if(!n||!Dj(document,n)){var r=I3("",e),i=r.parentNode;yb.set(t,i),t.removeChild(r)}}function Oj(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Yx(n);$j(r,n);var i=Nj(e,n);if(i)return n.csp&&n.csp.nonce&&i.nonce!==n.csp.nonce&&(i.nonce=n.csp.nonce),i.innerHTML!==t&&(i.innerHTML=t),i;var o=I3(t,n);return o.setAttribute(T3(n),e),o}function Z2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Tj(t,i,n[i])})}return t}function Tj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q2(t){return typeof t=="object"&&typeof t.name=="string"&&typeof t.theme=="string"&&(typeof t.icon=="object"||typeof t.icon=="function")}function bb(t,e,n){return n?Wt(t.tag,Z2({key:e},n,t.attrs),(t.children||[]).map(function(r,i){return bb(r,"".concat(e,"-").concat(t.tag,"-").concat(i))})):Wt(t.tag,Z2({key:e},t.attrs),(t.children||[]).map(function(r,i){return bb(r,"".concat(e,"-").concat(t.tag,"-").concat(i))}))}function P3(t){return $l(t)[0]}function k3(t){return t?Array.isArray(t)?t:[t]:[]}var Bj=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`;function F3(t){return t&&t.getRootNode&&t.getRootNode()}function Ij(t){return Kx()?F3(t)instanceof ShadowRoot:!1}function Pj(t){return Ij(t)?F3(t):null}var kj=function(){var e=O3(),n=e.prefixCls,r=e.csp,i=Yi(),o=Bj;n&&(o=o.replace(/anticon/g,n.value)),yn(function(){if(Kx()){var a=i.vnode.el,s=Pj(a);Oj(o,"@ant-design-vue-icons",{prepend:!0,csp:r.value,attachTo:s})}})},Fj=["icon","primaryColor","secondaryColor"];function Rj(t,e){if(t==null)return{};var n=_j(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _j(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Vp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){zj(t,i,n[i])})}return t}function zj(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xf=Ht({primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1});function Lj(t){var e=t.primaryColor,n=t.secondaryColor;Xf.primaryColor=e,Xf.secondaryColor=n||P3(e),Xf.calculated=!!n}function Hj(){return Vp({},Xf)}var Lc=function(e,n){var r=Vp({},e,n.attrs),i=r.icon,o=r.primaryColor,a=r.secondaryColor,s=Rj(r,Fj),l=Xf;if(o&&(l={primaryColor:o,secondaryColor:a||P3(o)}),Q2(i),!Q2(i))return null;var u=i;return u&&typeof u.icon=="function"&&(u=Vp({},u,{icon:u.icon(l.primaryColor,l.secondaryColor)})),bb(u.icon,"svg-".concat(u.name),Vp({},s,{"data-icon":u.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};Lc.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};Lc.inheritAttrs=!1;Lc.displayName="IconBase";Lc.getTwoToneColors=Hj;Lc.setTwoToneColors=Lj;const Zx=Lc;function Vj(t,e){return jj(t)||Wj(t,e)||qj(t,e)||Uj()}function Uj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qj(t,e){if(t){if(typeof t=="string")return J2(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J2(t,e)}}function J2(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function jj(t){if(Array.isArray(t))return t}function R3(t){var e=k3(t),n=Vj(e,2),r=n[0],i=n[1];return Zx.setTwoToneColors({primaryColor:r,secondaryColor:i})}function Gj(){var t=Zx.getTwoToneColors();return t.calculated?[t.primaryColor,t.secondaryColor]:t.primaryColor}var Xj=De({name:"InsertStyles",setup:function(){return kj(),function(){return null}}}),Kj=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function Yj(t,e){return eG(t)||Jj(t,e)||Qj(t,e)||Zj()}function Zj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qj(t,e){if(t){if(typeof t=="string")return eA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eA(t,e)}}function eA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jj(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(t);!(i=(a=n.next()).done)&&(r.push(a.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function eG(t){if(Array.isArray(t))return t}function tA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Tf(t,i,n[i])})}return t}function Tf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tG(t,e){if(t==null)return{};var n=nG(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nG(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}R3(tU.primary);var Hc=function(e,n){var r,i=tA({},e,n.attrs),o=i.class,a=i.icon,s=i.spin,l=i.rotate,u=i.tabindex,c=i.twoToneColor,f=i.onClick,d=tG(i,Kj),h=O3(),p=h.prefixCls,m=h.rootClassName,v=(r={},Tf(r,m.value,!!m.value),Tf(r,p.value,!0),Tf(r,"".concat(p.value,"-").concat(a.name),!!a.name),Tf(r,"".concat(p.value,"-spin"),!!s||a.name==="loading"),r),g=u;g===void 0&&f&&(g=-1);var w=l?{msTransform:"rotate(".concat(l,"deg)"),transform:"rotate(".concat(l,"deg)")}:void 0,y=k3(c),S=Yj(y,2),x=S[0],b=S[1];return k("span",tA({role:"img","aria-label":a.name},d,{onClick:f,class:[v,o],tabindex:g}),[k(Zx,{icon:a,primaryColor:x,secondaryColor:b,style:w},null),k(Xj,null,null)])};Hc.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:[String,Array]};Hc.displayName="AntdIcon";Hc.inheritAttrs=!1;Hc.getTwoToneColor=Gj;Hc.setTwoToneColor=R3;const Hn=Hc;function nA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){rG(t,i,n[i])})}return t}function rG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qx=function(e,n){var r=nA({},e,n.attrs);return k(Hn,nA({},r,{icon:Cj}),null)};Qx.displayName="DownOutlined";Qx.inheritAttrs=!1;const iG=Qx;var oG={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const aG=oG;function rA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){sG(t,i,n[i])})}return t}function sG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Jx=function(e,n){var r=rA({},e,n.attrs);return k(Hn,rA({},r,{icon:aG}),null)};Jx.displayName="LoadingOutlined";Jx.inheritAttrs=!1;const Tl=Jx;var lG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const uG=lG;function iA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){cG(t,i,n[i])})}return t}function cG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ew=function(e,n){var r=iA({},e,n.attrs);return k(Hn,iA({},r,{icon:uG}),null)};ew.displayName="CheckOutlined";ew.inheritAttrs=!1;const _3=ew;var fG={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M799.86 166.31c.02 0 .04.02.08.06l57.69 57.7c.04.03.05.05.06.08a.12.12 0 010 .06c0 .03-.02.05-.06.09L569.93 512l287.7 287.7c.04.04.05.06.06.09a.12.12 0 010 .07c0 .02-.02.04-.06.08l-57.7 57.69c-.03.04-.05.05-.07.06a.12.12 0 01-.07 0c-.03 0-.05-.02-.09-.06L512 569.93l-287.7 287.7c-.04.04-.06.05-.09.06a.12.12 0 01-.07 0c-.02 0-.04-.02-.08-.06l-57.69-57.7c-.04-.03-.05-.05-.06-.07a.12.12 0 010-.07c0-.03.02-.05.06-.09L454.07 512l-287.7-287.7c-.04-.04-.05-.06-.06-.09a.12.12 0 010-.07c0-.02.02-.04.06-.08l57.7-57.69c.03-.04.05-.05.07-.06a.12.12 0 01.07 0c.03 0 .05.02.09.06L512 454.07l287.7-287.7c.04-.04.06-.05.09-.06a.12.12 0 01.07 0z"}}]},name:"close",theme:"outlined"};const dG=fG;function oA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){hG(t,i,n[i])})}return t}function hG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var tw=function(e,n){var r=oA({},e,n.attrs);return k(Hn,oA({},r,{icon:dG}),null)};tw.displayName="CloseOutlined";tw.inheritAttrs=!1;const sv=tw;var pG={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm127.98 274.82h-.04l-.08.06L512 466.75 384.14 338.88c-.04-.05-.06-.06-.08-.06a.12.12 0 00-.07 0c-.03 0-.05.01-.09.05l-45.02 45.02a.2.2 0 00-.05.09.12.12 0 000 .07v.02a.27.27 0 00.06.06L466.75 512 338.88 639.86c-.05.04-.06.06-.06.08a.12.12 0 000 .07c0 .03.01.05.05.09l45.02 45.02a.2.2 0 00.09.05.12.12 0 00.07 0c.02 0 .04-.01.08-.05L512 557.25l127.86 127.87c.04.04.06.05.08.05a.12.12 0 00.07 0c.03 0 .05-.01.09-.05l45.02-45.02a.2.2 0 00.05-.09.12.12 0 000-.07v-.02a.27.27 0 00-.05-.06L557.25 512l127.87-127.86c.04-.04.05-.06.05-.08a.12.12 0 000-.07c0-.03-.01-.05-.05-.09l-45.02-45.02a.2.2 0 00-.09-.05.12.12 0 00-.07 0z"}}]},name:"close-circle",theme:"filled"};const mG=pG;function aA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){gG(t,i,n[i])})}return t}function gG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var nw=function(e,n){var r=aA({},e,n.attrs);return k(Hn,aA({},r,{icon:mG}),null)};nw.displayName="CloseCircleFilled";nw.inheritAttrs=!1;const ql=nw;var vG={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const yG=vG;function sA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){bG(t,i,n[i])})}return t}function bG(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rw=function(e,n){var r=sA({},e,n.attrs);return k(Hn,sA({},r,{icon:yG}),null)};rw.displayName="SearchOutlined";rw.inheritAttrs=!1;const z3=rw;function xG(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{loading:n,multiple:r,prefixCls:i,hasFeedback:o,feedbackIcon:a,showArrow:s}=t,l=t.suffixIcon||e.suffixIcon&&e.suffixIcon(),u=t.clearIcon||e.clearIcon&&e.clearIcon(),c=t.menuItemSelectedIcon||e.menuItemSelectedIcon&&e.menuItemSelectedIcon(),f=t.removeIcon||e.removeIcon&&e.removeIcon(),d=u??k(ql,null,null),h=g=>k(gt,null,[s!==!1&&g,o&&a]);let p=null;if(l!==void 0)p=h(l);else if(n)p=h(k(Tl,{spin:!0},null));else{const g=`${i}-suffix`;p=w=>{let{open:y,showSearch:S}=w;return h(y&&S?k(z3,{class:g},null):k(iG,{class:g},null))}}let m=null;c!==void 0?m=c:r?m=k(_3,null,null):m=null;let v=null;return f!==void 0?v=f:v=k(sv,null,null),{clearIcon:d,suffixIcon:p,itemIcon:m,removeIcon:v}}function iw(t){const e=Symbol("contextKey");return{useProvide:(i,o)=>{const a=Ht({});return zt(e,a),Bn(()=>{_(a,i,o||{})}),a},useInject:()=>$t(e,t)||{}}}const lA=Symbol("ContextProps"),uA=Symbol("InternalContextProps"),cA={id:H(()=>{}),onFieldBlur:()=>{},onFieldChange:()=>{},clearValidate:()=>{}},fA={addFormItemField:()=>{},removeFormItemField:()=>{}},Kd=()=>{const t=$t(uA,fA),e=Symbol("FormItemFieldKey"),n=Yi();return t.addFormItemField(e,n.type),ln(()=>{t.removeFormItemField(e)}),zt(uA,fA),zt(lA,cA),$t(lA,cA)},Bl=iw({}),dA=De({name:"NoFormStatus",setup(t,e){let{slots:n}=e;return Bl.useProvide({}),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}});function Hu(t,e,n){return He({[`${t}-status-success`]:e==="success",[`${t}-status-warning`]:e==="warning",[`${t}-status-error`]:e==="error",[`${t}-status-validating`]:e==="validating",[`${t}-has-feedback`]:n})}const lv=(t,e)=>e||t,wG=t=>{const{componentCls:e}=t;return{[e]:{display:"inline-flex","&-block":{display:"flex",width:"100%"},"&-vertical":{flexDirection:"column"}}}},SG=wG,CG=t=>{const{componentCls:e}=t;return{[e]:{display:"inline-flex","&-rtl":{direction:"rtl"},"&-vertical":{flexDirection:"column"},"&-align":{flexDirection:"column","&-center":{alignItems:"center"},"&-start":{alignItems:"flex-start"},"&-end":{alignItems:"flex-end"},"&-baseline":{alignItems:"baseline"}},[`${e}-space-item`]:{"&:empty":{display:"none"}}}}},AG=ai("Space",t=>[CG(t),SG(t)]),DG=()=>({compactSize:String,compactDirection:ve.oneOf(oc("horizontal","vertical")).def("horizontal"),isFirstItem:gn(),isLastItem:gn()}),uv=iw(null),ow=(t,e)=>{const n=uv.useInject(),r=H(()=>{if(!n||JT(n))return"";const{compactDirection:i,isFirstItem:o,isLastItem:a}=n,s=i==="vertical"?"-vertical-":"-";return He({[`${t.value}-compact${s}item`]:!0,[`${t.value}-compact${s}first-item`]:o,[`${t.value}-compact${s}last-item`]:a,[`${t.value}-compact${s}item-rtl`]:e.value==="rtl"})});return{compactSize:H(()=>n==null?void 0:n.compactSize),compactDirection:H(()=>n==null?void 0:n.compactDirection),compactItemClassnames:r}},hA=De({name:"NoCompactStyle",setup(t,e){let{slots:n}=e;return uv.useProvide(null),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}}),EG=()=>({prefixCls:String,size:{type:String},direction:ve.oneOf(oc("horizontal","vertical")).def("horizontal"),align:ve.oneOf(oc("start","end","center","baseline")),block:{type:Boolean,default:void 0}}),MG=De({name:"CompactItem",props:DG(),setup(t,e){let{slots:n}=e;return uv.useProvide(t),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}});De({name:"ASpaceCompact",inheritAttrs:!1,props:EG(),setup(t,e){let{attrs:n,slots:r}=e;const{prefixCls:i,direction:o}=En("space-compact",t),a=uv.useInject(),[s,l]=AG(i),u=H(()=>He(i.value,l.value,{[`${i.value}-rtl`]:o.value==="rtl",[`${i.value}-block`]:t.block,[`${i.value}-vertical`]:t.direction==="vertical"}));return()=>{var c;const f=kr(((c=r.default)===null||c===void 0?void 0:c.call(r))||[]);return f.length===0?null:s(k("div",Ee(Ee({},n),{},{class:[u.value,n.class]}),[f.map((d,h)=>{var p;const m=d&&d.key||`${i.value}-item-${h}`,v=!a||JT(a);return k(MG,{key:m,compactSize:(p=t.size)!==null&&p!==void 0?p:"middle",compactDirection:t.direction,isFirstItem:h===0&&(v||(a==null?void 0:a.isFirstItem)),isLastItem:h===f.length-1&&(v||(a==null?void 0:a.isLastItem))},{default:()=>[d]})})]))}}});const NG=t=>({animationDuration:t,animationFillMode:"both"}),$G=t=>({animationDuration:t,animationFillMode:"both"}),aw=function(t,e,n,r){const o=(arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1)?"&":"";return{[`
      ${o}${t}-enter,
      ${o}${t}-appear
    `]:_(_({},NG(r)),{animationPlayState:"paused"}),[`${o}${t}-leave`]:_(_({},$G(r)),{animationPlayState:"paused"}),[`
      ${o}${t}-enter${t}-enter-active,
      ${o}${t}-appear${t}-appear-active
    `]:{animationName:e,animationPlayState:"running"},[`${o}${t}-leave${t}-leave-active`]:{animationName:n,animationPlayState:"running",pointerEvents:"none"}}},OG=new Ft("antMoveDownIn",{"0%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),TG=new Ft("antMoveDownOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, 100%, 0)",transformOrigin:"0 0",opacity:0}}),BG=new Ft("antMoveLeftIn",{"0%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),IG=new Ft("antMoveLeftOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(-100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),PG=new Ft("antMoveRightIn",{"0%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),kG=new Ft("antMoveRightOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(100%, 0, 0)",transformOrigin:"0 0",opacity:0}}),FG=new Ft("antMoveUpIn",{"0%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0},"100%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1}}),RG=new Ft("antMoveUpOut",{"0%":{transform:"translate3d(0, 0, 0)",transformOrigin:"0 0",opacity:1},"100%":{transform:"translate3d(0, -100%, 0)",transformOrigin:"0 0",opacity:0}}),_G={"move-up":{inKeyframes:FG,outKeyframes:RG},"move-down":{inKeyframes:OG,outKeyframes:TG},"move-left":{inKeyframes:BG,outKeyframes:IG},"move-right":{inKeyframes:PG,outKeyframes:kG}},Im=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=_G[e];return[aw(r,i,o,t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{opacity:0,animationTimingFunction:t.motionEaseOutCirc},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},sw=new Ft("antSlideUpIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1}}),lw=new Ft("antSlideUpOut",{"0%":{transform:"scaleY(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"0% 0%",opacity:0}}),uw=new Ft("antSlideDownIn",{"0%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0},"100%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1}}),cw=new Ft("antSlideDownOut",{"0%":{transform:"scaleY(1)",transformOrigin:"100% 100%",opacity:1},"100%":{transform:"scaleY(0.8)",transformOrigin:"100% 100%",opacity:0}}),zG=new Ft("antSlideLeftIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1}}),LG=new Ft("antSlideLeftOut",{"0%":{transform:"scaleX(1)",transformOrigin:"0% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"0% 0%",opacity:0}}),HG=new Ft("antSlideRightIn",{"0%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0},"100%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1}}),VG=new Ft("antSlideRightOut",{"0%":{transform:"scaleX(1)",transformOrigin:"100% 0%",opacity:1},"100%":{transform:"scaleX(0.8)",transformOrigin:"100% 0%",opacity:0}}),UG={"slide-up":{inKeyframes:sw,outKeyframes:lw},"slide-down":{inKeyframes:uw,outKeyframes:cw},"slide-left":{inKeyframes:zG,outKeyframes:LG},"slide-right":{inKeyframes:HG,outKeyframes:VG}},cc=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=UG[e];return[aw(r,i,o,t.motionDurationMid),{[`
      ${r}-enter,
      ${r}-appear
    `]:{transform:"scale(0)",transformOrigin:"0% 0%",opacity:0,animationTimingFunction:t.motionEaseOutQuint},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInQuint}}]},qG=new Ft("antZoomIn",{"0%":{transform:"scale(0.2)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),WG=new Ft("antZoomOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.2)",opacity:0}}),pA=new Ft("antZoomBigIn",{"0%":{transform:"scale(0.8)",opacity:0},"100%":{transform:"scale(1)",opacity:1}}),mA=new Ft("antZoomBigOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0.8)",opacity:0}}),jG=new Ft("antZoomUpIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 0%"}}),GG=new Ft("antZoomUpOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 0%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 0%",opacity:0}}),XG=new Ft("antZoomLeftIn",{"0%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"0% 50%"}}),KG=new Ft("antZoomLeftOut",{"0%":{transform:"scale(1)",transformOrigin:"0% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"0% 50%",opacity:0}}),YG=new Ft("antZoomRightIn",{"0%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"100% 50%"}}),ZG=new Ft("antZoomRightOut",{"0%":{transform:"scale(1)",transformOrigin:"100% 50%"},"100%":{transform:"scale(0.8)",transformOrigin:"100% 50%",opacity:0}}),QG=new Ft("antZoomDownIn",{"0%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0},"100%":{transform:"scale(1)",transformOrigin:"50% 100%"}}),JG=new Ft("antZoomDownOut",{"0%":{transform:"scale(1)",transformOrigin:"50% 100%"},"100%":{transform:"scale(0.8)",transformOrigin:"50% 100%",opacity:0}}),eX={zoom:{inKeyframes:qG,outKeyframes:WG},"zoom-big":{inKeyframes:pA,outKeyframes:mA},"zoom-big-fast":{inKeyframes:pA,outKeyframes:mA},"zoom-left":{inKeyframes:XG,outKeyframes:KG},"zoom-right":{inKeyframes:YG,outKeyframes:ZG},"zoom-up":{inKeyframes:jG,outKeyframes:GG},"zoom-down":{inKeyframes:QG,outKeyframes:JG}},fw=(t,e)=>{const{antCls:n}=t,r=`${n}-${e}`,{inKeyframes:i,outKeyframes:o}=eX[e];return[aw(r,i,o,e==="zoom-big-fast"?t.motionDurationFast:t.motionDurationMid),{[`
        ${r}-enter,
        ${r}-appear
      `]:{transform:"scale(0)",opacity:0,animationTimingFunction:t.motionEaseOutCirc,"&-prepare":{transform:"none"}},[`${r}-leave`]:{animationTimingFunction:t.motionEaseInOutCirc}}]},tX=t=>({[t.componentCls]:{[`${t.antCls}-motion-collapse-legacy`]:{overflow:"hidden","&-active":{transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}},[`${t.antCls}-motion-collapse`]:{overflow:"hidden",transition:`height ${t.motionDurationMid} ${t.motionEaseInOut},
        opacity ${t.motionDurationMid} ${t.motionEaseInOut} !important`}}}),nX=tX,gA=t=>{const{controlPaddingHorizontal:e}=t;return{position:"relative",display:"block",minHeight:t.controlHeight,padding:`${(t.controlHeight-t.fontSize*t.lineHeight)/2}px ${e}px`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,boxSizing:"border-box"}},rX=t=>{const{antCls:e,componentCls:n}=t,r=`${n}-item`;return[{[`${n}-dropdown`]:_(_({},Zi(t)),{position:"absolute",top:-9999,zIndex:t.zIndexPopup,boxSizing:"border-box",padding:t.paddingXXS,overflow:"hidden",fontSize:t.fontSize,fontVariant:"initial",backgroundColor:t.colorBgElevated,borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary,[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${n}-dropdown-placement-bottomLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${n}-dropdown-placement-bottomLeft
          `]:{animationName:sw},[`
            &${e}-slide-up-enter${e}-slide-up-enter-active${n}-dropdown-placement-topLeft,
            &${e}-slide-up-appear${e}-slide-up-appear-active${n}-dropdown-placement-topLeft
          `]:{animationName:uw},[`&${e}-slide-up-leave${e}-slide-up-leave-active${n}-dropdown-placement-bottomLeft`]:{animationName:lw},[`&${e}-slide-up-leave${e}-slide-up-leave-active${n}-dropdown-placement-topLeft`]:{animationName:cw},"&-hidden":{display:"none"},"&-empty":{color:t.colorTextDisabled},[`${r}-empty`]:_(_({},gA(t)),{color:t.colorTextDisabled}),[`${r}`]:_(_({},gA(t)),{cursor:"pointer",transition:`background ${t.motionDurationSlow} ease`,borderRadius:t.borderRadiusSM,"&-group":{color:t.colorTextDescription,fontSize:t.fontSizeSM,cursor:"default"},"&-option":{display:"flex","&-content":_({flex:"auto"},Nm),"&-state":{flex:"none"},[`&-active:not(${r}-option-disabled)`]:{backgroundColor:t.controlItemBgHover},[`&-selected:not(${r}-option-disabled)`]:{color:t.colorText,fontWeight:t.fontWeightStrong,backgroundColor:t.controlItemBgActive,[`${r}-option-state`]:{color:t.colorPrimary}},"&-disabled":{[`&${r}-option-selected`]:{backgroundColor:t.colorBgContainerDisabled},color:t.colorTextDisabled,cursor:"not-allowed"},"&-grouped":{paddingInlineStart:t.controlPaddingHorizontal*2}}}),"&-rtl":{direction:"rtl"}})},cc(t,"slide-up"),cc(t,"slide-down"),Im(t,"move-up"),Im(t,"move-down")]},iX=rX,uu=2;function L3(t){let{controlHeightSM:e,controlHeight:n,lineWidth:r}=t;const i=(n-e)/2-r,o=Math.ceil(i/2);return[i,o]}function L0(t,e){const{componentCls:n,iconCls:r}=t,i=`${n}-selection-overflow`,o=t.controlHeightSM,[a]=L3(t),s=e?`${n}-${e}`:"";return{[`${n}-multiple${s}`]:{fontSize:t.fontSize,[i]:{position:"relative",display:"flex",flex:"auto",flexWrap:"wrap",maxWidth:"100%","&-item":{flex:"none",alignSelf:"center",maxWidth:"100%",display:"inline-flex"}},[`${n}-selector`]:{display:"flex",flexWrap:"wrap",alignItems:"center",padding:`${a-uu}px ${uu*2}px`,borderRadius:t.borderRadius,[`${n}-show-search&`]:{cursor:"text"},[`${n}-disabled&`]:{background:t.colorBgContainerDisabled,cursor:"not-allowed"},"&:after":{display:"inline-block",width:0,margin:`${uu}px 0`,lineHeight:`${o}px`,content:'"\\a0"'}},[`
        &${n}-show-arrow ${n}-selector,
        &${n}-allow-clear ${n}-selector
      `]:{paddingInlineEnd:t.fontSizeIcon+t.controlPaddingHorizontal},[`${n}-selection-item`]:{position:"relative",display:"flex",flex:"none",boxSizing:"border-box",maxWidth:"100%",height:o,marginTop:uu,marginBottom:uu,lineHeight:`${o-t.lineWidth*2}px`,background:t.colorFillSecondary,border:`${t.lineWidth}px solid ${t.colorSplit}`,borderRadius:t.borderRadiusSM,cursor:"default",transition:`font-size ${t.motionDurationSlow}, line-height ${t.motionDurationSlow}, height ${t.motionDurationSlow}`,userSelect:"none",marginInlineEnd:uu*2,paddingInlineStart:t.paddingXS,paddingInlineEnd:t.paddingXS/2,[`${n}-disabled&`]:{color:t.colorTextDisabled,borderColor:t.colorBorder,cursor:"not-allowed"},"&-content":{display:"inline-block",marginInlineEnd:t.paddingXS/2,overflow:"hidden",whiteSpace:"pre",textOverflow:"ellipsis"},"&-remove":_(_({},Jg()),{display:"inline-block",color:t.colorIcon,fontWeight:"bold",fontSize:10,lineHeight:"inherit",cursor:"pointer",[`> ${r}`]:{verticalAlign:"-0.2em"},"&:hover":{color:t.colorIconHover}})},[`${i}-item + ${i}-item`]:{[`${n}-selection-search`]:{marginInlineStart:0}},[`${n}-selection-search`]:{display:"inline-flex",position:"relative",maxWidth:"100%",marginInlineStart:t.inputPaddingHorizontalBase-a,"\n          &-input,\n          &-mirror\n        ":{height:o,fontFamily:t.fontFamily,lineHeight:`${o}px`,transition:`all ${t.motionDurationSlow}`},"&-input":{width:"100%",minWidth:4.1},"&-mirror":{position:"absolute",top:0,insetInlineStart:0,insetInlineEnd:"auto",zIndex:999,whiteSpace:"pre",visibility:"hidden"}},[`${n}-selection-placeholder `]:{position:"absolute",top:"50%",insetInlineStart:t.inputPaddingHorizontalBase,insetInlineEnd:t.inputPaddingHorizontalBase,transform:"translateY(-50%)",transition:`all ${t.motionDurationSlow}`}}}}function oX(t){const{componentCls:e}=t,n=cn(t,{controlHeight:t.controlHeightSM,controlHeightSM:t.controlHeightXS,borderRadius:t.borderRadiusSM,borderRadiusSM:t.borderRadiusXS}),[,r]=L3(t);return[L0(t),L0(n,"sm"),{[`${e}-multiple${e}-sm`]:{[`${e}-selection-placeholder`]:{insetInlineStart:t.controlPaddingHorizontalSM-t.lineWidth,insetInlineEnd:"auto"},[`${e}-selection-search`]:{marginInlineStart:r}}},L0(cn(t,{fontSize:t.fontSizeLG,controlHeight:t.controlHeightLG,controlHeightSM:t.controlHeight,borderRadius:t.borderRadiusLG,borderRadiusSM:t.borderRadius}),"lg")]}function H0(t,e){const{componentCls:n,inputPaddingHorizontalBase:r,borderRadius:i}=t,o=t.controlHeight-t.lineWidth*2,a=Math.ceil(t.fontSize*1.25),s=e?`${n}-${e}`:"";return{[`${n}-single${s}`]:{fontSize:t.fontSize,[`${n}-selector`]:_(_({},Zi(t)),{display:"flex",borderRadius:i,[`${n}-selection-search`]:{position:"absolute",top:0,insetInlineStart:r,insetInlineEnd:r,bottom:0,"&-input":{width:"100%"}},[`
          ${n}-selection-item,
          ${n}-selection-placeholder
        `]:{padding:0,lineHeight:`${o}px`,transition:`all ${t.motionDurationSlow}`,"@supports (-moz-appearance: meterbar)":{lineHeight:`${o}px`}},[`${n}-selection-item`]:{position:"relative",userSelect:"none"},[`${n}-selection-placeholder`]:{transition:"none",pointerEvents:"none"},[["&:after",`${n}-selection-item:after`,`${n}-selection-placeholder:after`].join(",")]:{display:"inline-block",width:0,visibility:"hidden",content:'"\\a0"'}}),[`
        &${n}-show-arrow ${n}-selection-item,
        &${n}-show-arrow ${n}-selection-placeholder
      `]:{paddingInlineEnd:a},[`&${n}-open ${n}-selection-item`]:{color:t.colorTextPlaceholder},[`&:not(${n}-customize-input)`]:{[`${n}-selector`]:{width:"100%",height:t.controlHeight,padding:`0 ${r}px`,[`${n}-selection-search-input`]:{height:o},"&:after":{lineHeight:`${o}px`}}},[`&${n}-customize-input`]:{[`${n}-selector`]:{"&:after":{display:"none"},[`${n}-selection-search`]:{position:"static",width:"100%"},[`${n}-selection-placeholder`]:{position:"absolute",insetInlineStart:0,insetInlineEnd:0,padding:`0 ${r}px`,"&:after":{display:"none"}}}}}}}function aX(t){const{componentCls:e}=t,n=t.controlPaddingHorizontalSM-t.lineWidth;return[H0(t),H0(cn(t,{controlHeight:t.controlHeightSM,borderRadius:t.borderRadiusSM}),"sm"),{[`${e}-single${e}-sm`]:{[`&:not(${e}-customize-input)`]:{[`${e}-selection-search`]:{insetInlineStart:n,insetInlineEnd:n},[`${e}-selector`]:{padding:`0 ${n}px`},[`&${e}-show-arrow ${e}-selection-search`]:{insetInlineEnd:n+t.fontSize*1.5},[`
            &${e}-show-arrow ${e}-selection-item,
            &${e}-show-arrow ${e}-selection-placeholder
          `]:{paddingInlineEnd:t.fontSize*1.5}}}},H0(cn(t,{controlHeight:t.controlHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG}),"lg")]}function sX(t,e,n){const{focusElCls:r,focus:i,borderElCls:o}=n,a=o?"> *":"",s=["hover",i?"focus":null,"active"].filter(Boolean).map(l=>`&:${l} ${a}`).join(",");return{[`&-item:not(${e}-last-item)`]:{marginInlineEnd:-t.lineWidth},"&-item":_(_({[s]:{zIndex:2}},r?{[`&${r}`]:{zIndex:2}}:{}),{[`&[disabled] ${a}`]:{zIndex:0}})}}function lX(t,e,n){const{borderElCls:r}=n,i=r?`> ${r}`:"";return{[`&-item:not(${e}-first-item):not(${e}-last-item) ${i}`]:{borderRadius:0},[`&-item:not(${e}-last-item)${e}-first-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`&-item:not(${e}-first-item)${e}-last-item`]:{[`& ${i}, &${t}-sm ${i}, &${t}-lg ${i}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}}}function dw(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{focus:!0};const{componentCls:n}=t,r=`${n}-compact`;return{[r]:_(_({},sX(t,r,e)),lX(n,r,e))}}const uX=t=>{const{componentCls:e}=t;return{position:"relative",backgroundColor:t.colorBgContainer,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,input:{cursor:"pointer"},[`${e}-show-search&`]:{cursor:"text",input:{cursor:"auto",color:"inherit"}},[`${e}-disabled&`]:{color:t.colorTextDisabled,background:t.colorBgContainerDisabled,cursor:"not-allowed",[`${e}-multiple&`]:{background:t.colorBgContainerDisabled},input:{cursor:"not-allowed"}}}},V0=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const{componentCls:r,borderHoverColor:i,outlineColor:o,antCls:a}=e,s=n?{[`${r}-selector`]:{borderColor:i}}:{};return{[t]:{[`&:not(${r}-disabled):not(${r}-customize-input):not(${a}-pagination-size-changer)`]:_(_({},s),{[`${r}-focused& ${r}-selector`]:{borderColor:i,boxShadow:`0 0 0 ${e.controlOutlineWidth}px ${o}`,borderInlineEndWidth:`${e.controlLineWidth}px !important`,outline:0},[`&:hover ${r}-selector`]:{borderColor:i,borderInlineEndWidth:`${e.controlLineWidth}px !important`}})}}},cX=t=>{const{componentCls:e}=t;return{[`${e}-selection-search-input`]:{margin:0,padding:0,background:"transparent",border:"none",outline:"none",appearance:"none","&::-webkit-search-cancel-button":{display:"none","-webkit-appearance":"none"}}}},fX=t=>{const{componentCls:e,inputPaddingHorizontalBase:n,iconCls:r}=t;return{[e]:_(_({},Zi(t)),{position:"relative",display:"inline-block",cursor:"pointer",[`&:not(${e}-customize-input) ${e}-selector`]:_(_({},uX(t)),cX(t)),[`${e}-selection-item`]:_({flex:1,fontWeight:"normal"},Nm),[`${e}-selection-placeholder`]:_(_({},Nm),{flex:1,color:t.colorTextPlaceholder,pointerEvents:"none"}),[`${e}-arrow`]:_(_({},Jg()),{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,lineHeight:1,textAlign:"center",pointerEvents:"none",display:"flex",alignItems:"center",[r]:{verticalAlign:"top",transition:`transform ${t.motionDurationSlow}`,"> svg":{verticalAlign:"top"},[`&:not(${e}-suffix)`]:{pointerEvents:"auto"}},[`${e}-disabled &`]:{cursor:"not-allowed"},"> *:not(:last-child)":{marginInlineEnd:8}}),[`${e}-clear`]:{position:"absolute",top:"50%",insetInlineStart:"auto",insetInlineEnd:n,zIndex:1,display:"inline-block",width:t.fontSizeIcon,height:t.fontSizeIcon,marginTop:-t.fontSizeIcon/2,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,fontStyle:"normal",lineHeight:1,textAlign:"center",textTransform:"none",background:t.colorBgContainer,cursor:"pointer",opacity:0,transition:`color ${t.motionDurationMid} ease, opacity ${t.motionDurationSlow} ease`,textRendering:"auto","&:before":{display:"block"},"&:hover":{color:t.colorTextTertiary}},"&:hover":{[`${e}-clear`]:{opacity:1}}}),[`${e}-has-feedback`]:{[`${e}-clear`]:{insetInlineEnd:n+t.fontSize+t.paddingXXS}}}},dX=t=>{const{componentCls:e}=t;return[{[e]:{[`&-borderless ${e}-selector`]:{backgroundColor:"transparent !important",borderColor:"transparent !important",boxShadow:"none !important"},[`&${e}-in-form-item`]:{width:"100%"}}},fX(t),aX(t),oX(t),iX(t),{[`${e}-rtl`]:{direction:"rtl"}},V0(e,cn(t,{borderHoverColor:t.colorPrimaryHover,outlineColor:t.controlOutline})),V0(`${e}-status-error`,cn(t,{borderHoverColor:t.colorErrorHover,outlineColor:t.colorErrorOutline}),!0),V0(`${e}-status-warning`,cn(t,{borderHoverColor:t.colorWarningHover,outlineColor:t.colorWarningOutline}),!0),dw(t,{borderElCls:`${e}-selector`,focusElCls:`${e}-focused`})]},hX=ai("Select",(t,e)=>{let{rootPrefixCls:n}=e;const r=cn(t,{rootPrefixCls:n,inputPaddingHorizontalBase:t.paddingSM-1});return[dX(r)]},t=>({zIndexPopup:t.zIndexPopupBase+50})),pX=()=>_(_({},In($3(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{value:lo([Array,Object,String,Number]),defaultValue:lo([Array,Object,String,Number]),notFoundContent:ve.any,suffixIcon:ve.any,itemIcon:ve.any,size:Sa(),mode:Sa(),bordered:gn(!0),transitionName:String,choiceTransitionName:Sa(""),popupClassName:String,dropdownClassName:String,placement:Sa(),status:Sa(),"onUpdate:value":ul()}),vA="SECRET_COMBOBOX_MODE_DO_NOT_USE",Vo=De({compatConfig:{MODE:3},name:"ASelect",Option:xj,OptGroup:wj,inheritAttrs:!1,props:es(pX(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE:vA,slots:Object,setup(t,e){let{attrs:n,emit:r,slots:i,expose:o}=e;const a=Te(),s=Kd(),l=Bl.useInject(),u=H(()=>lv(l.status,t.status)),c=()=>{var V;(V=a.value)===null||V===void 0||V.focus()},f=()=>{var V;(V=a.value)===null||V===void 0||V.blur()},d=V=>{var L;(L=a.value)===null||L===void 0||L.scrollTo(V)},h=H(()=>{const{mode:V}=t;if(V!=="combobox")return V===vA?"combobox":V}),{prefixCls:p,direction:m,configProvider:v,renderEmpty:g,size:w,getPrefixCls:y,getPopupContainer:S,disabled:x,select:b}=En("select",t),{compactSize:C,compactItemClassnames:A}=ow(p,m),D=H(()=>C.value||w.value),E=Vl(),M=H(()=>{var V;return(V=x.value)!==null&&V!==void 0?V:E.value}),[B,P]=hX(p),F=H(()=>y()),$=H(()=>t.placement!==void 0?t.placement:m.value==="rtl"?"bottomRight":"bottomLeft"),N=H(()=>f3(F.value,Uq($.value),t.transitionName)),T=H(()=>He({[`${p.value}-lg`]:D.value==="large",[`${p.value}-sm`]:D.value==="small",[`${p.value}-rtl`]:m.value==="rtl",[`${p.value}-borderless`]:!t.bordered,[`${p.value}-in-form-item`]:l.isFormItemInput},Hu(p.value,u.value,l.hasFeedback),A.value,P.value)),z=function(){for(var V=arguments.length,L=new Array(V),ne=0;ne<V;ne++)L[ne]=arguments[ne];r("update:value",L[0]),r("change",...L),s.onFieldChange()},I=V=>{r("blur",V),s.onFieldBlur()};o({blur:f,focus:c,scrollTo:d});const q=H(()=>h.value==="multiple"||h.value==="tags"),X=H(()=>t.showArrow!==void 0?t.showArrow:t.loading||!(q.value||h.value==="combobox"));return()=>{var V,L,ne,se;const{notFoundContent:Y,listHeight:ee=256,listItemHeight:ie=24,popupClassName:j,dropdownClassName:W,virtual:J,dropdownMatchSelectWidth:oe,id:de=s.id.value,placeholder:ge=(V=i.placeholder)===null||V===void 0?void 0:V.call(i),showArrow:U}=t,{hasFeedback:Z,feedbackIcon:fe}=l;let Q;Y!==void 0?Q=Y:i.notFoundContent?Q=i.notFoundContent():h.value==="combobox"?Q=null:Q=(g==null?void 0:g("Select"))||k(Px,{componentName:"Select"},null);const{suffixIcon:re,itemIcon:ue,removeIcon:ye,clearIcon:xe}=xG(_(_({},t),{multiple:q.value,prefixCls:p.value,hasFeedback:Z,feedbackIcon:fe,showArrow:X.value}),i),G=In(t,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered","status"]),te=He(j||W,{[`${p.value}-dropdown-${m.value}`]:m.value==="rtl"},P.value);return B(k(bj,Ee(Ee(Ee({ref:a,virtual:J,dropdownMatchSelectWidth:oe},G),n),{},{showSearch:(L=t.showSearch)!==null&&L!==void 0?L:(ne=b==null?void 0:b.value)===null||ne===void 0?void 0:ne.showSearch,placeholder:ge,listHeight:ee,listItemHeight:ie,mode:h.value,prefixCls:p.value,direction:m.value,inputIcon:re,menuItemSelectedIcon:ue,removeIcon:ye,clearIcon:xe,notFoundContent:Q,class:[T.value,n.class],getPopupContainer:S==null?void 0:S.value,dropdownClassName:te,onChange:z,onBlur:I,id:de,dropdownRender:G.dropdownRender||i.dropdownRender,transitionName:N.value,children:(se=i.default)===null||se===void 0?void 0:se.call(i),tagRender:t.tagRender||i.tagRender,optionLabelRender:i.optionLabel,maxTagPlaceholder:t.maxTagPlaceholder||i.maxTagPlaceholder,showArrow:Z||U,disabled:M.value}),{option:i.option}))}}});Vo.install=function(t){return t.component(Vo.name,Vo),t.component(Vo.Option.displayName,Vo.Option),t.component(Vo.OptGroup.displayName,Vo.OptGroup),t};const mX=Vo.Option;Vo.OptGroup;const gX=Vo;var vX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};const yX=vX;function yA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){bX(t,i,n[i])})}return t}function bX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hw=function(e,n){var r=yA({},e,n.attrs);return k(Hn,yA({},r,{icon:yX}),null)};hw.displayName="CheckCircleOutlined";hw.inheritAttrs=!1;const xX=hw;var wX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};const SX=wX;function bA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){CX(t,i,n[i])})}return t}function CX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pw=function(e,n){var r=bA({},e,n.attrs);return k(Hn,bA({},r,{icon:SX}),null)};pw.displayName="ExclamationCircleOutlined";pw.inheritAttrs=!1;const AX=pw;var DX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const EX=DX;function xA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){MX(t,i,n[i])})}return t}function MX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var mw=function(e,n){var r=xA({},e,n.attrs);return k(Hn,xA({},r,{icon:EX}),null)};mw.displayName="InfoCircleOutlined";mw.inheritAttrs=!1;const NX=mw;var $X={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};const OX=$X;function wA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){TX(t,i,n[i])})}return t}function TX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gw=function(e,n){var r=wA({},e,n.attrs);return k(Hn,wA({},r,{icon:OX}),null)};gw.displayName="CloseCircleOutlined";gw.inheritAttrs=!1;const BX=gw;var IX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const PX=IX;function SA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){kX(t,i,n[i])})}return t}function kX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vw=function(e,n){var r=SA({},e,n.attrs);return k(Hn,SA({},r,{icon:PX}),null)};vw.displayName="CheckCircleFilled";vw.inheritAttrs=!1;const cv=vw;var FX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const RX=FX;function CA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){_X(t,i,n[i])})}return t}function _X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var yw=function(e,n){var r=CA({},e,n.attrs);return k(Hn,CA({},r,{icon:RX}),null)};yw.displayName="ExclamationCircleFilled";yw.inheritAttrs=!1;const fv=yw;var zX={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const LX=zX;function AA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){HX(t,i,n[i])})}return t}function HX(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bw=function(e,n){var r=AA({},e,n.attrs);return k(Hn,AA({},r,{icon:LX}),null)};bw.displayName="InfoCircleFilled";bw.inheritAttrs=!1;const dv=bw,Ti={adjustX:1,adjustY:1},Bi=[0,0],H3={left:{points:["cr","cl"],overflow:Ti,offset:[-4,0],targetOffset:Bi},right:{points:["cl","cr"],overflow:Ti,offset:[4,0],targetOffset:Bi},top:{points:["bc","tc"],overflow:Ti,offset:[0,-4],targetOffset:Bi},bottom:{points:["tc","bc"],overflow:Ti,offset:[0,4],targetOffset:Bi},topLeft:{points:["bl","tl"],overflow:Ti,offset:[0,-4],targetOffset:Bi},leftTop:{points:["tr","tl"],overflow:Ti,offset:[-4,0],targetOffset:Bi},topRight:{points:["br","tr"],overflow:Ti,offset:[0,-4],targetOffset:Bi},rightTop:{points:["tl","tr"],overflow:Ti,offset:[4,0],targetOffset:Bi},bottomRight:{points:["tr","br"],overflow:Ti,offset:[0,4],targetOffset:Bi},rightBottom:{points:["bl","br"],overflow:Ti,offset:[4,0],targetOffset:Bi},bottomLeft:{points:["tl","bl"],overflow:Ti,offset:[0,4],targetOffset:Bi},leftBottom:{points:["br","bl"],overflow:Ti,offset:[-4,0],targetOffset:Bi}},VX={prefixCls:String,id:String,overlayInnerStyle:ve.any},UX=De({compatConfig:{MODE:3},name:"TooltipContent",props:VX,setup(t,e){let{slots:n}=e;return()=>{var r;return k("div",{class:`${t.prefixCls}-inner`,id:t.id,role:"tooltip",style:t.overlayInnerStyle},[(r=n.overlay)===null||r===void 0?void 0:r.call(n)])}}});var qX=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function DA(){}const WX=De({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:ve.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:ve.string.def("right"),transitionName:String,animation:ve.any,afterVisibleChange:ve.func.def(()=>{}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:ve.string.def("rc-tooltip"),mouseEnterDelay:ve.number.def(.1),mouseLeaveDelay:ve.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:ve.object.def(()=>({})),arrowContent:ve.any.def(null),tipId:String,builtinPlacements:ve.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function},setup(t,e){let{slots:n,attrs:r,expose:i}=e;const o=Be(),a=()=>{const{prefixCls:c,tipId:f,overlayInnerStyle:d}=t;return[k("div",{class:`${c}-arrow`,key:"arrow"},[cd(n,t,"arrowContent")]),k(UX,{key:"content",prefixCls:c,id:f,overlayInnerStyle:d},{overlay:n.overlay})]};i({getPopupDomNode:()=>o.value.getPopupDomNode(),triggerDOM:o,forcePopupAlign:()=>{var c;return(c=o.value)===null||c===void 0?void 0:c.forcePopupAlign()}});const l=Be(!1),u=Be(!1);return Bn(()=>{const{destroyTooltipOnHide:c}=t;if(typeof c=="boolean")l.value=c;else if(c&&typeof c=="object"){const{keepParent:f}=c;l.value=f===!0,u.value=f===!1}}),()=>{const{overlayClassName:c,trigger:f,mouseEnterDelay:d,mouseLeaveDelay:h,overlayStyle:p,prefixCls:m,afterVisibleChange:v,transitionName:g,animation:w,placement:y,align:S,destroyTooltipOnHide:x,defaultVisible:b}=t,C=qX(t,["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"]),A=_({},C);t.visible!==void 0&&(A.popupVisible=t.visible);const D=_(_(_({popupClassName:c,prefixCls:m,action:f,builtinPlacements:H3,popupPlacement:y,popupAlign:S,afterPopupVisibleChange:v,popupTransitionName:g,popupAnimation:w,defaultPopupVisible:b,destroyPopupOnHide:l.value,autoDestroy:u.value,mouseLeaveDelay:h,popupStyle:p,mouseEnterDelay:d},A),r),{onPopupVisibleChange:t.onVisibleChange||DA,onPopupAlign:t.onPopupAlign||DA,ref:o,popup:a()});return k(rv,D,{default:n.default})}}}),jX=()=>({trigger:[String,Array],open:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:hn(),overlayInnerStyle:hn(),overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:hn(),builtinPlacements:hn(),children:Array,onVisibleChange:Function,"onUpdate:visible":Function,onOpenChange:Function,"onUpdate:open":Function}),GX={adjustX:1,adjustY:1},EA={adjustX:0,adjustY:0},XX=[0,0];function MA(t){return typeof t=="boolean"?t?GX:EA:_(_({},EA),t)}function V3(t){const{arrowWidth:e=4,horizontalArrowShift:n=16,verticalArrowShift:r=8,autoAdjustOverflow:i,arrowPointAtCenter:o}=t,a={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(n+e),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(r+e)]},topRight:{points:["br","tc"],offset:[n+e,-4]},rightTop:{points:["tl","cr"],offset:[4,-(r+e)]},bottomRight:{points:["tr","bc"],offset:[n+e,4]},rightBottom:{points:["bl","cr"],offset:[4,r+e]},bottomLeft:{points:["tl","bc"],offset:[-(n+e),4]},leftBottom:{points:["br","cl"],offset:[-4,r+e]}};return Object.keys(a).forEach(s=>{a[s]=o?_(_({},a[s]),{overflow:MA(i),targetOffset:XX}):_(_({},H3[s]),{overflow:MA(i)}),a[s].ignoreShake=!0}),a}function KX(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];for(let e=0,n=t.length;e<n;e++)if(t[e]!==void 0)return t[e]}const YX=Mm.map(t=>`${t}-inverse`);function ZX(t){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)?[...YX,...Mm].includes(t):Mm.includes(t)}function QX(t,e){const n=ZX(e),r=He({[`${t}-${e}`]:e&&n}),i={},o={};return e&&!n&&(i.background=e,o["--antd-arrow-background-color"]=e),{className:r,overlayStyle:i,arrowStyle:o}}function Lh(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return t.map(n=>`${e}${n}`).join(",")}const U3=8;function q3(t){const e=U3,{sizePopupArrow:n,contentRadius:r,borderRadiusOuter:i,limitVerticalRadius:o}=t,a=n/2-Math.ceil(i*(Math.sqrt(2)-1)),s=(r>12?r+2:12)-a,l=o?e-a:s;return{dropdownArrowOffset:s,dropdownArrowOffsetVertical:l}}function JX(t,e){const{componentCls:n,sizePopupArrow:r,marginXXS:i,borderRadiusXS:o,borderRadiusOuter:a,boxShadowPopoverArrow:s}=t,{colorBg:l,showArrowCls:u,contentRadius:c=t.borderRadiusLG,limitVerticalRadius:f}=e,{dropdownArrowOffsetVertical:d,dropdownArrowOffset:h}=q3({sizePopupArrow:r,contentRadius:c,borderRadiusOuter:a,limitVerticalRadius:f}),p=r/2+i;return{[n]:{[`${n}-arrow`]:[_(_({position:"absolute",zIndex:1,display:"block"},TI(r,o,a,l,s)),{"&:before":{background:l}})],[[`&-placement-top ${n}-arrow`,`&-placement-topLeft ${n}-arrow`,`&-placement-topRight ${n}-arrow`].join(",")]:{bottom:0,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:h}},[`&-placement-topRight ${n}-arrow`]:{right:{_skip_check_:!0,value:h}},[[`&-placement-bottom ${n}-arrow`,`&-placement-bottomLeft ${n}-arrow`,`&-placement-bottomRight ${n}-arrow`].join(",")]:{top:0,transform:"translateY(-100%)"},[`&-placement-bottom ${n}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(-100%)"},[`&-placement-bottomLeft ${n}-arrow`]:{left:{_skip_check_:!0,value:h}},[`&-placement-bottomRight ${n}-arrow`]:{right:{_skip_check_:!0,value:h}},[[`&-placement-left ${n}-arrow`,`&-placement-leftTop ${n}-arrow`,`&-placement-leftBottom ${n}-arrow`].join(",")]:{right:{_skip_check_:!0,value:0},transform:"translateX(100%) rotate(90deg)"},[`&-placement-left ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(100%) rotate(90deg)"},[`&-placement-leftTop ${n}-arrow`]:{top:d},[`&-placement-leftBottom ${n}-arrow`]:{bottom:d},[[`&-placement-right ${n}-arrow`,`&-placement-rightTop ${n}-arrow`,`&-placement-rightBottom ${n}-arrow`].join(",")]:{left:{_skip_check_:!0,value:0},transform:"translateX(-100%) rotate(-90deg)"},[`&-placement-right ${n}-arrow`]:{top:{_skip_check_:!0,value:"50%"},transform:"translateY(-50%) translateX(-100%) rotate(-90deg)"},[`&-placement-rightTop ${n}-arrow`]:{top:d},[`&-placement-rightBottom ${n}-arrow`]:{bottom:d},[Lh(["&-placement-topLeft","&-placement-top","&-placement-topRight"],u)]:{paddingBottom:p},[Lh(["&-placement-bottomLeft","&-placement-bottom","&-placement-bottomRight"],u)]:{paddingTop:p},[Lh(["&-placement-leftTop","&-placement-left","&-placement-leftBottom"],u)]:{paddingRight:{_skip_check_:!0,value:p}},[Lh(["&-placement-rightTop","&-placement-right","&-placement-rightBottom"],u)]:{paddingLeft:{_skip_check_:!0,value:p}}}}}const eK=t=>{const{componentCls:e,tooltipMaxWidth:n,tooltipColor:r,tooltipBg:i,tooltipBorderRadius:o,zIndexPopup:a,controlHeight:s,boxShadowSecondary:l,paddingSM:u,paddingXS:c,tooltipRadiusOuter:f}=t;return[{[e]:_(_(_(_({},Zi(t)),{position:"absolute",zIndex:a,display:"block","&":[{width:"max-content"},{width:"intrinsic"}],maxWidth:n,visibility:"visible","&-hidden":{display:"none"},"--antd-arrow-background-color":i,[`${e}-inner`]:{minWidth:s,minHeight:s,padding:`${u/2}px ${c}px`,color:r,textAlign:"start",textDecoration:"none",wordWrap:"break-word",backgroundColor:i,borderRadius:o,boxShadow:l},[["&-placement-left","&-placement-leftTop","&-placement-leftBottom","&-placement-right","&-placement-rightTop","&-placement-rightBottom"].join(",")]:{[`${e}-inner`]:{borderRadius:Math.min(o,U3)}},[`${e}-content`]:{position:"relative"}}),yU(t,(d,h)=>{let{darkColor:p}=h;return{[`&${e}-${d}`]:{[`${e}-inner`]:{backgroundColor:p},[`${e}-arrow`]:{"--antd-arrow-background-color":p}}}})),{"&-rtl":{direction:"rtl"}})},JX(cn(t,{borderRadiusOuter:f}),{colorBg:"var(--antd-arrow-background-color)",showArrowCls:"",contentRadius:o,limitVerticalRadius:!0}),{[`${e}-pure`]:{position:"relative",maxWidth:"none"}}]},tK=(t,e)=>ai("Tooltip",r=>{if((e==null?void 0:e.value)===!1)return[];const{borderRadius:i,colorTextLightSolid:o,colorBgDefault:a,borderRadiusOuter:s}=r,l=cn(r,{tooltipMaxWidth:250,tooltipColor:o,tooltipBorderRadius:i,tooltipBg:a,tooltipRadiusOuter:s>4?4:s});return[eK(l),fw(r,"zoom-big-fast")]},r=>{let{zIndexPopupBase:i,colorBgSpotlight:o}=r;return{zIndexPopup:i+70,colorBgDefault:o}})(t),nK=(t,e)=>{const n={},r=_({},t);return e.forEach(i=>{t&&i in t&&(n[i]=t[i],delete r[i])}),{picked:n,omitted:r}},W3=()=>_(_({},jX()),{title:ve.any}),rK=De({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:es(W3(),{trigger:"hover",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:Object,setup(t,e){let{slots:n,emit:r,attrs:i,expose:o}=e;const{prefixCls:a,getPopupContainer:s,direction:l,rootPrefixCls:u}=En("tooltip",t),c=H(()=>{var E;return(E=t.open)!==null&&E!==void 0?E:t.visible}),f=Te(KX([t.open,t.visible])),d=Te();let h;ze(c,E=>{Rt.cancel(h),h=Rt(()=>{f.value=!!E})});const p=()=>{var E;const M=(E=t.title)!==null&&E!==void 0?E:n.title;return!M&&M!==0},m=E=>{const M=p();c.value===void 0&&(f.value=M?!1:E),M||(r("update:visible",E),r("visibleChange",E),r("update:open",E),r("openChange",E))};o({getPopupDomNode:()=>d.value.getPopupDomNode(),open:f,forcePopupAlign:()=>{var E;return(E=d.value)===null||E===void 0?void 0:E.forcePopupAlign()}});const g=H(()=>{const{builtinPlacements:E,arrowPointAtCenter:M,autoAdjustOverflow:B}=t;return E||V3({arrowPointAtCenter:M,autoAdjustOverflow:B})}),w=E=>E||E==="",y=E=>{const M=E.type;if(typeof M=="object"&&E.props&&((M.__ANT_BUTTON===!0||M==="button")&&w(E.props.disabled)||M.__ANT_SWITCH===!0&&(w(E.props.disabled)||w(E.props.loading))||M.__ANT_RADIO===!0&&w(E.props.disabled))){const{picked:B,omitted:P}=nK(DH(E),["position","left","right","top","bottom","float","display","zIndex"]),F=_(_({display:"inline-block"},B),{cursor:"not-allowed",lineHeight:1,width:E.props&&E.props.block?"100%":void 0}),$=_(_({},P),{pointerEvents:"none"}),N=zn(E,{style:$},!0);return k("span",{style:F,class:`${a.value}-disabled-compatible-wrapper`},[N])}return E},S=()=>{var E,M;return(E=t.title)!==null&&E!==void 0?E:(M=n.title)===null||M===void 0?void 0:M.call(n)},x=(E,M)=>{const B=g.value,P=Object.keys(B).find(F=>{var $,N;return B[F].points[0]===(($=M.points)===null||$===void 0?void 0:$[0])&&B[F].points[1]===((N=M.points)===null||N===void 0?void 0:N[1])});if(P){const F=E.getBoundingClientRect(),$={top:"50%",left:"50%"};P.indexOf("top")>=0||P.indexOf("Bottom")>=0?$.top=`${F.height-M.offset[1]}px`:(P.indexOf("Top")>=0||P.indexOf("bottom")>=0)&&($.top=`${-M.offset[1]}px`),P.indexOf("left")>=0||P.indexOf("Right")>=0?$.left=`${F.width-M.offset[0]}px`:(P.indexOf("right")>=0||P.indexOf("Left")>=0)&&($.left=`${-M.offset[0]}px`),E.style.transformOrigin=`${$.left} ${$.top}`}},b=H(()=>QX(a.value,t.color)),C=H(()=>i["data-popover-inject"]),[A,D]=tK(a,H(()=>!C.value));return()=>{var E,M;const{openClassName:B,overlayClassName:P,overlayStyle:F,overlayInnerStyle:$}=t;let N=(M=Hl((E=n.default)===null||E===void 0?void 0:E.call(n)))!==null&&M!==void 0?M:null;N=N.length===1?N[0]:N;let T=f.value;if(c.value===void 0&&p()&&(T=!1),!N)return null;const z=y(ia(N)&&!EH(N)?N:k("span",null,[N])),I=He({[B||`${a.value}-open`]:!0,[z.props&&z.props.class]:z.props&&z.props.class}),q=He(P,{[`${a.value}-rtl`]:l.value==="rtl"},b.value.className,D.value),X=_(_({},b.value.overlayStyle),$),V=b.value.arrowStyle,L=_(_(_({},i),t),{prefixCls:a.value,getPopupContainer:s==null?void 0:s.value,builtinPlacements:g.value,visible:T,ref:d,overlayClassName:q,overlayStyle:_(_({},V),F),overlayInnerStyle:X,onVisibleChange:m,onPopupAlign:x,transitionName:f3(u.value,"zoom-big-fast",t.transitionName)});return A(k(WX,L,{default:()=>[f.value?zn(z,{class:I}):z],arrowContent:()=>k("span",{class:`${a.value}-arrow-content`},null),overlay:S}))}}}),El=_c(rK),cu={adjustX:1,adjustY:1},fu=[0,0],iK={topLeft:{points:["bl","tl"],overflow:cu,offset:[0,-4],targetOffset:fu},topCenter:{points:["bc","tc"],overflow:cu,offset:[0,-4],targetOffset:fu},topRight:{points:["br","tr"],overflow:cu,offset:[0,-4],targetOffset:fu},bottomLeft:{points:["tl","bl"],overflow:cu,offset:[0,4],targetOffset:fu},bottomCenter:{points:["tc","bc"],overflow:cu,offset:[0,4],targetOffset:fu},bottomRight:{points:["tr","br"],overflow:cu,offset:[0,4],targetOffset:fu}},oK=iK;var aK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const sK=De({compatConfig:{MODE:3},props:{minOverlayWidthMatchTrigger:{type:Boolean,default:void 0},arrow:{type:Boolean,default:!1},prefixCls:ve.string.def("rc-dropdown"),transitionName:String,overlayClassName:ve.string.def(""),openClassName:String,animation:ve.any,align:ve.object,overlayStyle:{type:Object,default:void 0},placement:ve.string.def("bottomLeft"),overlay:ve.any,trigger:ve.oneOfType([ve.string,ve.arrayOf(ve.string)]).def("hover"),alignPoint:{type:Boolean,default:void 0},showAction:ve.array,hideAction:ve.array,getPopupContainer:Function,visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},mouseEnterDelay:ve.number.def(.15),mouseLeaveDelay:ve.number.def(.1)},emits:["visibleChange","overlayClick"],setup(t,e){let{slots:n,emit:r,expose:i}=e;const o=Te(!!t.visible);ze(()=>t.visible,h=>{h!==void 0&&(o.value=h)});const a=Te();i({triggerRef:a});const s=h=>{t.visible===void 0&&(o.value=!1),r("overlayClick",h)},l=h=>{t.visible===void 0&&(o.value=h),r("visibleChange",h)},u=()=>{var h;const p=(h=n.overlay)===null||h===void 0?void 0:h.call(n),m={prefixCls:`${t.prefixCls}-menu`,onClick:s};return k(gt,{key:ZB},[t.arrow&&k("div",{class:`${t.prefixCls}-arrow`},null),zn(p,m,!1)])},c=H(()=>{const{minOverlayWidthMatchTrigger:h=!t.alignPoint}=t;return h}),f=()=>{var h;const p=(h=n.default)===null||h===void 0?void 0:h.call(n);return o.value&&p?zn(p[0],{class:t.openClassName||`${t.prefixCls}-open`},!1):p},d=H(()=>!t.hideAction&&t.trigger.indexOf("contextmenu")!==-1?["click"]:t.hideAction);return()=>{const{prefixCls:h,arrow:p,showAction:m,overlayStyle:v,trigger:g,placement:w,align:y,getPopupContainer:S,transitionName:x,animation:b,overlayClassName:C}=t,A=aK(t,["prefixCls","arrow","showAction","overlayStyle","trigger","placement","align","getPopupContainer","transitionName","animation","overlayClassName"]);return k(rv,Ee(Ee({},A),{},{prefixCls:h,ref:a,popupClassName:He(C,{[`${h}-show-arrow`]:p}),popupStyle:v,builtinPlacements:oK,action:g,showAction:m,hideAction:d.value||[],popupPlacement:w,popupAlign:y,popupTransitionName:x,popupAnimation:b,popupVisible:o.value,stretch:c.value?"minWidth":"",onPopupVisibleChange:l,getPopupContainer:S}),{popup:u,default:f})}}}),lK=t=>{const{componentCls:e,colorPrimary:n}=t;return{[e]:{position:"absolute",background:"transparent",pointerEvents:"none",boxSizing:"border-box",color:`var(--wave-color, ${n})`,boxShadow:"0 0 0 0 currentcolor",opacity:.2,"&.wave-motion-appear":{transition:[`box-shadow 0.4s ${t.motionEaseOutCirc}`,`opacity 2s ${t.motionEaseOutCirc}`].join(","),"&-active":{boxShadow:"0 0 0 6px currentcolor",opacity:0}}}}},uK=ai("Wave",t=>[lK(t)]);function cK(t){const e=(t||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\d.]*)?\)/);return e&&e[1]&&e[2]&&e[3]?!(e[1]===e[2]&&e[2]===e[3]):!0}function U0(t){return t&&t!=="#fff"&&t!=="#ffffff"&&t!=="rgb(255, 255, 255)"&&t!=="rgba(255, 255, 255, 1)"&&cK(t)&&!/rgba\((?:\d*, ){3}0\)/.test(t)&&t!=="transparent"}function fK(t){const{borderTopColor:e,borderColor:n,backgroundColor:r}=getComputedStyle(t);return U0(e)?e:U0(n)?n:U0(r)?r:null}function q0(t){return Number.isNaN(t)?0:t}const dK=De({props:{target:hn(),className:String},setup(t){const e=Be(null),[n,r]=ba(null),[i,o]=ba([]),[a,s]=ba(0),[l,u]=ba(0),[c,f]=ba(0),[d,h]=ba(0),[p,m]=ba(!1);function v(){const{target:C}=t,A=getComputedStyle(C);r(fK(C));const D=A.position==="static",{borderLeftWidth:E,borderTopWidth:M}=A;s(D?C.offsetLeft:q0(-parseFloat(E))),u(D?C.offsetTop:q0(-parseFloat(M))),f(C.offsetWidth),h(C.offsetHeight);const{borderTopLeftRadius:B,borderTopRightRadius:P,borderBottomLeftRadius:F,borderBottomRightRadius:$}=A;o([B,P,$,F].map(N=>q0(parseFloat(N))))}let g,w,y;const S=()=>{clearTimeout(y),Rt.cancel(w),g==null||g.disconnect()},x=()=>{var C;const A=(C=e.value)===null||C===void 0?void 0:C.parentElement;A&&(lm(null,A),A.parentElement&&A.parentElement.removeChild(A))};sn(()=>{S(),y=setTimeout(()=>{x()},5e3);const{target:C}=t;C&&(w=Rt(()=>{v(),m(!0)}),typeof ResizeObserver<"u"&&(g=new ResizeObserver(v),g.observe(C)))}),ln(()=>{S()});const b=C=>{C.propertyName==="opacity"&&x()};return()=>{if(!p.value)return null;const C={left:`${a.value}px`,top:`${l.value}px`,width:`${c.value}px`,height:`${d.value}px`,borderRadius:i.value.map(A=>`${A}px`).join(" ")};return n&&(C["--wave-color"]=n.value),k(Pc,{appear:!0,name:"wave-motion",appearFromClass:"wave-motion-appear",appearActiveClass:"wave-motion-appear",appearToClass:"wave-motion-appear wave-motion-appear-active"},{default:()=>[k("div",{ref:e,class:t.className,style:C,onTransitionend:b},null)]})}}});function hK(t,e){const n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.top="0px",t==null||t.insertBefore(n,t==null?void 0:t.firstChild),lm(k(dK,{target:t,className:e},null),n)}function pK(t,e,n){function r(){var i;const o=po(t);!((i=n==null?void 0:n.value)===null||i===void 0)&&i.disabled||!o||hK(o,e.value)}return r}const j3=De({compatConfig:{MODE:3},name:"Wave",props:{disabled:Boolean},setup(t,e){let{slots:n}=e;const r=Yi(),{prefixCls:i,wave:o}=En("wave",t),[,a]=uK(i),s=pK(r,H(()=>He(i.value,a.value)),o);let l;const u=()=>{po(r).removeEventListener("click",l,!0)};return sn(()=>{ze(()=>t.disabled,()=>{u(),yn(()=>{const c=po(r);c==null||c.removeEventListener("click",l,!0),!(!c||c.nodeType!==1||t.disabled)&&(l=f=>{f.target.tagName==="INPUT"||!l3(f.target)||!c.getAttribute||c.getAttribute("disabled")||c.disabled||c.className.includes("disabled")||c.className.includes("-leave")||s()},c.addEventListener("click",l,!0))})},{immediate:!0,flush:"post"})}),ln(()=>{u()}),()=>{var c;return(c=n.default)===null||c===void 0?void 0:c.call(n)[0]}}}),mK=()=>({prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:()=>!1},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:ve.any,href:String,target:String,title:String,onClick:fd(),onMousedown:fd()}),G3=mK,NA=t=>{t&&(t.style.width="0px",t.style.opacity="0",t.style.transform="scale(0)")},$A=t=>{yn(()=>{t&&(t.style.width=`${t.scrollWidth}px`,t.style.opacity="1",t.style.transform="scale(1)")})},OA=t=>{t&&t.style&&(t.style.width=null,t.style.opacity=null,t.style.transform=null)},gK=De({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup(t){return()=>{const{existIcon:e,prefixCls:n,loading:r}=t;if(e)return k("span",{class:`${n}-loading-icon`},[k(Tl,null,null)]);const i=!!r;return k(Pc,{name:`${n}-loading-icon-motion`,onBeforeEnter:NA,onEnter:$A,onAfterEnter:OA,onBeforeLeave:$A,onLeave:o=>{setTimeout(()=>{NA(o)})},onAfterLeave:OA},{default:()=>[i?k("span",{class:`${n}-loading-icon`},[k(Tl,null,null)]):null]})}}}),TA=(t,e)=>({[`> span, > ${t}`]:{"&:not(:last-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineEndColor:e}}},"&:not(:first-child)":{[`&, & > ${t}`]:{"&:not(:disabled)":{borderInlineStartColor:e}}}}}),vK=t=>{const{componentCls:e,fontSize:n,lineWidth:r,colorPrimaryHover:i,colorErrorHover:o}=t;return{[`${e}-group`]:[{position:"relative",display:"inline-flex",[`> span, > ${e}`]:{"&:not(:last-child)":{[`&, & > ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},"&:not(:first-child)":{marginInlineStart:-r,[`&, & > ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0}}},[e]:{position:"relative",zIndex:1,"&:hover,\n          &:focus,\n          &:active":{zIndex:2},"&[disabled]":{zIndex:0}},[`${e}-icon-only`]:{fontSize:n}},TA(`${e}-primary`,i),TA(`${e}-danger`,o)]}},yK=vK;function bK(t,e){return{[`&-item:not(${e}-last-item)`]:{marginBottom:-t.lineWidth},"&-item":{"&:hover,&:focus,&:active":{zIndex:2},"&[disabled]":{zIndex:0}}}}function xK(t,e){return{[`&-item:not(${e}-first-item):not(${e}-last-item)`]:{borderRadius:0},[`&-item${e}-first-item:not(${e}-last-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderEndEndRadius:0,borderEndStartRadius:0}},[`&-item${e}-last-item:not(${e}-first-item)`]:{[`&, &${t}-sm, &${t}-lg`]:{borderStartStartRadius:0,borderStartEndRadius:0}}}}function wK(t){const e=`${t.componentCls}-compact-vertical`;return{[e]:_(_({},bK(t,e)),xK(t.componentCls,e))}}const SK=t=>{const{componentCls:e,iconCls:n}=t;return{[e]:{outline:"none",position:"relative",display:"inline-block",fontWeight:400,whiteSpace:"nowrap",textAlign:"center",backgroundImage:"none",backgroundColor:"transparent",border:`${t.lineWidth}px ${t.lineType} transparent`,cursor:"pointer",transition:`all ${t.motionDurationMid} ${t.motionEaseInOut}`,userSelect:"none",touchAction:"manipulation",lineHeight:t.lineHeight,color:t.colorText,"> span":{display:"inline-block"},[`> ${n} + span, > span + ${n}`]:{marginInlineStart:t.marginXS},"> a":{color:"currentColor"},"&:not(:disabled)":_({},$m(t)),[`&-icon-only${e}-compact-item`]:{flex:"none"},[`&-compact-item${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:t.lineWidth,height:`calc(100% + ${t.lineWidth*2}px)`,backgroundColor:t.colorPrimaryHover,content:'""'}}},"&-compact-vertical-item":{[`&${e}-primary`]:{[`&:not([disabled]) + ${e}-compact-vertical-item${e}-primary:not([disabled])`]:{position:"relative","&:before":{position:"absolute",top:-t.lineWidth,insetInlineStart:-t.lineWidth,display:"inline-block",width:`calc(100% + ${t.lineWidth*2}px)`,height:t.lineWidth,backgroundColor:t.colorPrimaryHover,content:'""'}}}}}}},ja=(t,e)=>({"&:not(:disabled)":{"&:hover":t,"&:active":e}}),CK=t=>({minWidth:t.controlHeight,paddingInlineStart:0,paddingInlineEnd:0,borderRadius:"50%"}),AK=t=>({borderRadius:t.controlHeight,paddingInlineStart:t.controlHeight/2,paddingInlineEnd:t.controlHeight/2}),xb=t=>({cursor:"not-allowed",borderColor:t.colorBorder,color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,boxShadow:"none"}),Pm=(t,e,n,r,i,o,a)=>({[`&${t}-background-ghost`]:_(_({color:e||void 0,backgroundColor:"transparent",borderColor:n||void 0,boxShadow:"none"},ja(_({backgroundColor:"transparent"},o),_({backgroundColor:"transparent"},a))),{"&:disabled":{cursor:"not-allowed",color:r||void 0,borderColor:i||void 0}})}),xw=t=>({"&:disabled":_({},xb(t))}),X3=t=>_({},xw(t)),km=t=>({"&:disabled":{cursor:"not-allowed",color:t.colorTextDisabled}}),K3=t=>_(_(_(_(_({},X3(t)),{backgroundColor:t.colorBgContainer,borderColor:t.colorBorder,boxShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlTmpOutline}`}),ja({color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),Pm(t.componentCls,t.colorBgContainer,t.colorBgContainer,t.colorTextDisabled,t.colorBorder)),{[`&${t.componentCls}-dangerous`]:_(_(_({color:t.colorError,borderColor:t.colorError},ja({color:t.colorErrorHover,borderColor:t.colorErrorBorderHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),Pm(t.componentCls,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder)),xw(t))}),DK=t=>_(_(_(_(_({},X3(t)),{color:t.colorTextLightSolid,backgroundColor:t.colorPrimary,boxShadow:`0 ${t.controlOutlineWidth}px 0 ${t.controlOutline}`}),ja({color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryHover},{color:t.colorTextLightSolid,backgroundColor:t.colorPrimaryActive})),Pm(t.componentCls,t.colorPrimary,t.colorPrimary,t.colorTextDisabled,t.colorBorder,{color:t.colorPrimaryHover,borderColor:t.colorPrimaryHover},{color:t.colorPrimaryActive,borderColor:t.colorPrimaryActive})),{[`&${t.componentCls}-dangerous`]:_(_(_({backgroundColor:t.colorError,boxShadow:`0 ${t.controlOutlineWidth}px 0 ${t.colorErrorOutline}`},ja({backgroundColor:t.colorErrorHover},{backgroundColor:t.colorErrorActive})),Pm(t.componentCls,t.colorError,t.colorError,t.colorTextDisabled,t.colorBorder,{color:t.colorErrorHover,borderColor:t.colorErrorHover},{color:t.colorErrorActive,borderColor:t.colorErrorActive})),xw(t))}),EK=t=>_(_({},K3(t)),{borderStyle:"dashed"}),MK=t=>_(_(_({color:t.colorLink},ja({color:t.colorLinkHover},{color:t.colorLinkActive})),km(t)),{[`&${t.componentCls}-dangerous`]:_(_({color:t.colorError},ja({color:t.colorErrorHover},{color:t.colorErrorActive})),km(t))}),NK=t=>_(_(_({},ja({color:t.colorText,backgroundColor:t.colorBgTextHover},{color:t.colorText,backgroundColor:t.colorBgTextActive})),km(t)),{[`&${t.componentCls}-dangerous`]:_(_({color:t.colorError},km(t)),ja({color:t.colorErrorHover,backgroundColor:t.colorErrorBg},{color:t.colorErrorHover,backgroundColor:t.colorErrorBg}))}),$K=t=>_(_({},xb(t)),{[`&${t.componentCls}:hover`]:_({},xb(t))}),OK=t=>{const{componentCls:e}=t;return{[`${e}-default`]:K3(t),[`${e}-primary`]:DK(t),[`${e}-dashed`]:EK(t),[`${e}-link`]:MK(t),[`${e}-text`]:NK(t),[`${e}-disabled`]:$K(t)}},ww=function(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const{componentCls:n,iconCls:r,controlHeight:i,fontSize:o,lineHeight:a,lineWidth:s,borderRadius:l,buttonPaddingHorizontal:u}=t,c=Math.max(0,(i-o*a)/2-s),f=u-s,d=`${n}-icon-only`;return[{[`${n}${e}`]:{fontSize:o,height:i,padding:`${c}px ${f}px`,borderRadius:l,[`&${d}`]:{width:i,paddingInlineStart:0,paddingInlineEnd:0,[`&${n}-round`]:{width:"auto"},"> span":{transform:"scale(1.143)"}},[`&${n}-loading`]:{opacity:t.opacityLoading,cursor:"default"},[`${n}-loading-icon`]:{transition:`width ${t.motionDurationSlow} ${t.motionEaseInOut}, opacity ${t.motionDurationSlow} ${t.motionEaseInOut}`},[`&:not(${d}) ${n}-loading-icon > ${r}`]:{marginInlineEnd:t.marginXS}}},{[`${n}${n}-circle${e}`]:CK(t)},{[`${n}${n}-round${e}`]:AK(t)}]},TK=t=>ww(t),BK=t=>{const e=cn(t,{controlHeight:t.controlHeightSM,padding:t.paddingXS,buttonPaddingHorizontal:8,borderRadius:t.borderRadiusSM});return ww(e,`${t.componentCls}-sm`)},IK=t=>{const e=cn(t,{controlHeight:t.controlHeightLG,fontSize:t.fontSizeLG,borderRadius:t.borderRadiusLG});return ww(e,`${t.componentCls}-lg`)},PK=t=>{const{componentCls:e}=t;return{[e]:{[`&${e}-block`]:{width:"100%"}}}},kK=ai("Button",t=>{const{controlTmpOutline:e,paddingContentHorizontal:n}=t,r=cn(t,{colorOutlineDefault:e,buttonPaddingHorizontal:n});return[SK(r),BK(r),TK(r),IK(r),PK(r),OK(r),yK(r),dw(t,{focus:!1}),wK(t)]}),FK=()=>({prefixCls:String,size:{type:String}}),Y3=iw(),wb=De({compatConfig:{MODE:3},name:"AButtonGroup",props:FK(),setup(t,e){let{slots:n}=e;const{prefixCls:r,direction:i}=En("btn-group",t),[,,o]=Gd();Y3.useProvide(Ht({size:H(()=>t.size)}));const a=H(()=>{const{size:s}=t;let l="";switch(s){case"large":l="lg";break;case"small":l="sm";break;case"middle":case void 0:break;default:ks(!s,"Button.Group","Invalid prop `size`.")}return{[`${r.value}`]:!0,[`${r.value}-${l}`]:l,[`${r.value}-rtl`]:i.value==="rtl",[o.value]:!0}});return()=>{var s;return k("div",{class:a.value},[kr((s=n.default)===null||s===void 0?void 0:s.call(n))])}}}),BA=/^[\u4e00-\u9fa5]{2}$/,IA=BA.test.bind(BA);function Hh(t){return t==="text"||t==="link"}const Hi=De({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:es(G3(),{type:"default"}),slots:Object,setup(t,e){let{slots:n,attrs:r,emit:i,expose:o}=e;const{prefixCls:a,autoInsertSpaceInButton:s,direction:l,size:u}=En("btn",t),[c,f]=kK(a),d=Y3.useInject(),h=Vl(),p=H(()=>{var $;return($=t.disabled)!==null&&$!==void 0?$:h.value}),m=Be(null),v=Be(void 0);let g=!1;const w=Be(!1),y=Be(!1),S=H(()=>s.value!==!1),{compactSize:x,compactItemClassnames:b}=ow(a,l),C=H(()=>typeof t.loading=="object"&&t.loading.delay?t.loading.delay||!0:!!t.loading);ze(C,$=>{clearTimeout(v.value),typeof C.value=="number"?v.value=setTimeout(()=>{w.value=$},C.value):w.value=$},{immediate:!0});const A=H(()=>{const{type:$,shape:N="default",ghost:T,block:z,danger:I}=t,q=a.value,X={large:"lg",small:"sm",middle:void 0},V=x.value||(d==null?void 0:d.size)||u.value,L=V&&X[V]||"";return[b.value,{[f.value]:!0,[`${q}`]:!0,[`${q}-${N}`]:N!=="default"&&N,[`${q}-${$}`]:$,[`${q}-${L}`]:L,[`${q}-loading`]:w.value,[`${q}-background-ghost`]:T&&!Hh($),[`${q}-two-chinese-chars`]:y.value&&S.value,[`${q}-block`]:z,[`${q}-dangerous`]:!!I,[`${q}-rtl`]:l.value==="rtl"}]}),D=()=>{const $=m.value;if(!$||s.value===!1)return;const N=$.textContent;g&&IA(N)?y.value||(y.value=!0):y.value&&(y.value=!1)},E=$=>{if(w.value||p.value){$.preventDefault();return}i("click",$)},M=$=>{i("mousedown",$)},B=($,N)=>{const T=N?" ":"";if($.type===qT){let z=$.children.trim();return IA(z)&&(z=z.split("").join(T)),k("span",null,[z])}return $};return Bn(()=>{ks(!(t.ghost&&Hh(t.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),sn(D),Ic(D),ln(()=>{v.value&&clearTimeout(v.value)}),o({focus:()=>{var $;($=m.value)===null||$===void 0||$.focus()},blur:()=>{var $;($=m.value)===null||$===void 0||$.blur()}}),()=>{var $,N;const{icon:T=($=n.icon)===null||$===void 0?void 0:$.call(n)}=t,z=kr((N=n.default)===null||N===void 0?void 0:N.call(n));g=z.length===1&&!T&&!Hh(t.type);const{type:I,htmlType:q,href:X,title:V,target:L}=t,ne=w.value?"loading":T,se=_(_({},r),{title:V,disabled:p.value,class:[A.value,r.class,{[`${a.value}-icon-only`]:z.length===0&&!!ne}],onClick:E,onMousedown:M});p.value||delete se.disabled;const Y=T&&!w.value?T:k(gK,{existIcon:!!T,prefixCls:a.value,loading:!!w.value},null),ee=z.map(j=>B(j,g&&S.value));if(X!==void 0)return c(k("a",Ee(Ee({},se),{},{href:X,target:L,ref:m}),[Y,ee]));let ie=k("button",Ee(Ee({},se),{},{ref:m,type:q}),[Y,ee]);if(!Hh(I)){const j=function(){return ie}();ie=k(j3,{ref:"wave",disabled:!!w.value},{default:()=>[j]})}return c(ie)}}});Hi.Group=wb;Hi.install=function(t){return t.component(Hi.name,Hi),t.component(wb.name,wb),t};const Z3=()=>({arrow:lo([Boolean,Object]),trigger:{type:[Array,String]},menu:hn(),overlay:ve.any,visible:gn(),open:gn(),disabled:gn(),danger:gn(),autofocus:gn(),align:hn(),getPopupContainer:Function,prefixCls:String,transitionName:String,placement:String,overlayClassName:String,overlayStyle:hn(),forceRender:gn(),mouseEnterDelay:Number,mouseLeaveDelay:Number,openClassName:String,minOverlayWidthMatchTrigger:gn(),destroyPopupOnHide:gn(),onVisibleChange:{type:Function},"onUpdate:visible":{type:Function},onOpenChange:{type:Function},"onUpdate:open":{type:Function}}),W0=G3(),RK=()=>_(_({},Z3()),{type:W0.type,size:String,htmlType:W0.htmlType,href:String,disabled:gn(),prefixCls:String,icon:ve.any,title:String,loading:W0.loading,onClick:fd()});var _K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M176 511a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0zm280 0a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"ellipsis",theme:"outlined"};const zK=_K;function PA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){LK(t,i,n[i])})}return t}function LK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Sw=function(e,n){var r=PA({},e,n.attrs);return k(Hn,PA({},r,{icon:zK}),null)};Sw.displayName="EllipsisOutlined";Sw.inheritAttrs=!1;const Q3=Sw,HK=t=>{const{componentCls:e,antCls:n,paddingXS:r,opacityLoading:i}=t;return{[`${e}-button`]:{whiteSpace:"nowrap",[`&${n}-btn-group > ${n}-btn`]:{[`&-loading, &-loading + ${n}-btn`]:{cursor:"default",pointerEvents:"none",opacity:i},[`&:last-child:not(:first-child):not(${n}-btn-icon-only)`]:{paddingInline:r}}}}},VK=HK,UK=t=>{const{componentCls:e,menuCls:n,colorError:r,colorTextLightSolid:i}=t,o=`${n}-item`;return{[`${e}, ${e}-menu-submenu`]:{[`${n} ${o}`]:{[`&${o}-danger:not(${o}-disabled)`]:{color:r,"&:hover":{color:i,backgroundColor:r}}}}}},qK=UK,WK=t=>{const{componentCls:e,menuCls:n,zIndexPopup:r,dropdownArrowDistance:i,dropdownArrowOffset:o,sizePopupArrow:a,antCls:s,iconCls:l,motionDurationMid:u,dropdownPaddingVertical:c,fontSize:f,dropdownEdgeChildPadding:d,colorTextDisabled:h,fontSizeIcon:p,controlPaddingHorizontal:m,colorBgElevated:v,boxShadowPopoverArrow:g}=t;return[{[e]:_(_({},Zi(t)),{position:"absolute",top:-9999,left:{_skip_check_:!0,value:-9999},zIndex:r,display:"block","&::before":{position:"absolute",insetBlock:-i+a/2,zIndex:-9999,opacity:1e-4,content:'""'},[`${e}-wrap`]:{position:"relative",[`${s}-btn > ${l}-down`]:{fontSize:p},[`${l}-down::before`]:{transition:`transform ${u}`}},[`${e}-wrap-open`]:{[`${l}-down::before`]:{transform:"rotate(180deg)"}},"\n        &-hidden,\n        &-menu-hidden,\n        &-menu-submenu-hidden\n      ":{display:"none"},[`
        &-show-arrow${e}-placement-topLeft,
        &-show-arrow${e}-placement-top,
        &-show-arrow${e}-placement-topRight
      `]:{paddingBottom:i},[`
        &-show-arrow${e}-placement-bottomLeft,
        &-show-arrow${e}-placement-bottom,
        &-show-arrow${e}-placement-bottomRight
      `]:{paddingTop:i},[`${e}-arrow`]:_({position:"absolute",zIndex:1,display:"block"},TI(a,t.borderRadiusXS,t.borderRadiusOuter,v,g)),[`
        &-placement-top > ${e}-arrow,
        &-placement-topLeft > ${e}-arrow,
        &-placement-topRight > ${e}-arrow
      `]:{bottom:i,transform:"translateY(100%) rotate(180deg)"},[`&-placement-top > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateX(-50%) translateY(100%) rotate(180deg)"},[`&-placement-topLeft > ${e}-arrow`]:{left:{_skip_check_:!0,value:o}},[`&-placement-topRight > ${e}-arrow`]:{right:{_skip_check_:!0,value:o}},[`
          &-placement-bottom > ${e}-arrow,
          &-placement-bottomLeft > ${e}-arrow,
          &-placement-bottomRight > ${e}-arrow
        `]:{top:i,transform:"translateY(-100%)"},[`&-placement-bottom > ${e}-arrow`]:{left:{_skip_check_:!0,value:"50%"},transform:"translateY(-100%) translateX(-50%)"},[`&-placement-bottomLeft > ${e}-arrow`]:{left:{_skip_check_:!0,value:o}},[`&-placement-bottomRight > ${e}-arrow`]:{right:{_skip_check_:!0,value:o}},[`&${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomLeft,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomLeft,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottom,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottom,
          &${s}-slide-down-enter${s}-slide-down-enter-active${e}-placement-bottomRight,
          &${s}-slide-down-appear${s}-slide-down-appear-active${e}-placement-bottomRight`]:{animationName:sw},[`&${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topLeft,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topLeft,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-top,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-top,
          &${s}-slide-up-enter${s}-slide-up-enter-active${e}-placement-topRight,
          &${s}-slide-up-appear${s}-slide-up-appear-active${e}-placement-topRight`]:{animationName:uw},[`&${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomLeft,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottom,
          &${s}-slide-down-leave${s}-slide-down-leave-active${e}-placement-bottomRight`]:{animationName:lw},[`&${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topLeft,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-top,
          &${s}-slide-up-leave${s}-slide-up-leave-active${e}-placement-topRight`]:{animationName:cw}})},{[`${e} ${n}`]:{position:"relative",margin:0},[`${n}-submenu-popup`]:{position:"absolute",zIndex:r,background:"transparent",boxShadow:"none",transformOrigin:"0 0","ul,li":{listStyle:"none"},ul:{marginInline:"0.3em"}},[`${e}, ${e}-menu-submenu`]:{[n]:_(_({padding:d,listStyleType:"none",backgroundColor:v,backgroundClip:"padding-box",borderRadius:t.borderRadiusLG,outline:"none",boxShadow:t.boxShadowSecondary},$m(t)),{[`${n}-item-group-title`]:{padding:`${c}px ${m}px`,color:t.colorTextDescription,transition:`all ${u}`},[`${n}-item`]:{position:"relative",display:"flex",alignItems:"center",borderRadius:t.borderRadiusSM},[`${n}-item-icon`]:{minWidth:f,marginInlineEnd:t.marginXS,fontSize:t.fontSizeSM},[`${n}-title-content`]:{flex:"auto","> a":{color:"inherit",transition:`all ${u}`,"&:hover":{color:"inherit"},"&::after":{position:"absolute",inset:0,content:'""'}}},[`${n}-item, ${n}-submenu-title`]:_(_({clear:"both",margin:0,padding:`${c}px ${m}px`,color:t.colorText,fontWeight:"normal",fontSize:f,lineHeight:t.lineHeight,cursor:"pointer",transition:`all ${u}`,"&:hover, &-active":{backgroundColor:t.controlItemBgHover}},$m(t)),{"&-selected":{color:t.colorPrimary,backgroundColor:t.controlItemBgActive,"&:hover, &-active":{backgroundColor:t.controlItemBgActiveHover}},"&-disabled":{color:h,cursor:"not-allowed","&:hover":{color:h,backgroundColor:v,cursor:"not-allowed"},a:{pointerEvents:"none"}},"&-divider":{height:1,margin:`${t.marginXXS}px 0`,overflow:"hidden",lineHeight:0,backgroundColor:t.colorSplit},[`${e}-menu-submenu-expand-icon`]:{position:"absolute",insetInlineEnd:t.paddingXS,[`${e}-menu-submenu-arrow-icon`]:{marginInlineEnd:"0 !important",color:t.colorTextDescription,fontSize:p,fontStyle:"normal"}}}),[`${n}-item-group-list`]:{margin:`0 ${t.marginXS}px`,padding:0,listStyle:"none"},[`${n}-submenu-title`]:{paddingInlineEnd:m+t.fontSizeSM},[`${n}-submenu-vertical`]:{position:"relative"},[`${n}-submenu${n}-submenu-disabled ${e}-menu-submenu-title`]:{[`&, ${e}-menu-submenu-arrow-icon`]:{color:h,backgroundColor:v,cursor:"not-allowed"}},[`${n}-submenu-selected ${e}-menu-submenu-title`]:{color:t.colorPrimary}})}},[cc(t,"slide-up"),cc(t,"slide-down"),Im(t,"move-up"),Im(t,"move-down"),fw(t,"zoom-big")]]},J3=ai("Dropdown",(t,e)=>{let{rootPrefixCls:n}=e;const{marginXXS:r,sizePopupArrow:i,controlHeight:o,fontSize:a,lineHeight:s,paddingXXS:l,componentCls:u,borderRadiusOuter:c,borderRadiusLG:f}=t,d=(o-a*s)/2,{dropdownArrowOffset:h}=q3({sizePopupArrow:i,contentRadius:f,borderRadiusOuter:c}),p=cn(t,{menuCls:`${u}-menu`,rootPrefixCls:n,dropdownArrowDistance:i/2+r,dropdownArrowOffset:h,dropdownPaddingVertical:d,dropdownEdgeChildPadding:l});return[WK(p),VK(p),qK(p)]},t=>({zIndexPopup:t.zIndexPopupBase+50}));var jK=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const GK=Hi.Group,Fm=De({compatConfig:{MODE:3},name:"ADropdownButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:es(RK(),{trigger:"hover",placement:"bottomRight",type:"default"}),slots:Object,setup(t,e){let{slots:n,attrs:r,emit:i}=e;const o=d=>{i("update:visible",d),i("visibleChange",d),i("update:open",d),i("openChange",d)},{prefixCls:a,direction:s,getPopupContainer:l}=En("dropdown",t),u=H(()=>`${a.value}-button`),[c,f]=J3(a);return()=>{var d,h;const p=_(_({},t),r),{type:m="default",disabled:v,danger:g,loading:w,htmlType:y,class:S="",overlay:x=(d=n.overlay)===null||d===void 0?void 0:d.call(n),trigger:b,align:C,open:A,visible:D,onVisibleChange:E,placement:M=s.value==="rtl"?"bottomLeft":"bottomRight",href:B,title:P,icon:F=((h=n.icon)===null||h===void 0?void 0:h.call(n))||k(Q3,null,null),mouseEnterDelay:$,mouseLeaveDelay:N,overlayClassName:T,overlayStyle:z,destroyPopupOnHide:I,onClick:q,"onUpdate:open":X}=p,V=jK(p,["type","disabled","danger","loading","htmlType","class","overlay","trigger","align","open","visible","onVisibleChange","placement","href","title","icon","mouseEnterDelay","mouseLeaveDelay","overlayClassName","overlayStyle","destroyPopupOnHide","onClick","onUpdate:open"]),L={align:C,disabled:v,trigger:v?[]:b,placement:M,getPopupContainer:l==null?void 0:l.value,onOpenChange:o,mouseEnterDelay:$,mouseLeaveDelay:N,open:A??D,overlayClassName:T,overlayStyle:z,destroyPopupOnHide:I},ne=k(Hi,{danger:g,type:m,disabled:v,loading:w,onClick:q,htmlType:y,href:B,title:P},{default:n.default}),se=k(Hi,{danger:g,type:m,icon:F},null);return c(k(GK,Ee(Ee({},V),{},{class:He(u.value,S,f.value)}),{default:()=>[n.leftButton?n.leftButton({button:ne}):ne,k(bi,L,{default:()=>[n.rightButton?n.rightButton({button:se}):se],overlay:()=>x})]}))}}});var XK={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const KK=XK;function kA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){YK(t,i,n[i])})}return t}function YK(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cw=function(e,n){var r=kA({},e,n.attrs);return k(Hn,kA({},r,{icon:KK}),null)};Cw.displayName="RightOutlined";Cw.inheritAttrs=!1;const FA=Cw,eP=Symbol("OverrideContextKey"),tP=()=>$t(eP,void 0),ZK=t=>{var e,n,r;const{prefixCls:i,mode:o,selectable:a,validator:s,onClick:l,expandIcon:u}=tP()||{};zt(eP,{prefixCls:H(()=>{var c,f;return(f=(c=t.prefixCls)===null||c===void 0?void 0:c.value)!==null&&f!==void 0?f:i==null?void 0:i.value}),mode:H(()=>{var c,f;return(f=(c=t.mode)===null||c===void 0?void 0:c.value)!==null&&f!==void 0?f:o==null?void 0:o.value}),selectable:H(()=>{var c,f;return(f=(c=t.selectable)===null||c===void 0?void 0:c.value)!==null&&f!==void 0?f:a==null?void 0:a.value}),validator:(e=t.validator)!==null&&e!==void 0?e:s,onClick:(n=t.onClick)!==null&&n!==void 0?n:l,expandIcon:(r=t.expandIcon)!==null&&r!==void 0?r:u==null?void 0:u.value})},nP=De({compatConfig:{MODE:3},name:"ADropdown",inheritAttrs:!1,props:es(Z3(),{mouseEnterDelay:.15,mouseLeaveDelay:.1,placement:"bottomLeft",trigger:"hover"}),slots:Object,setup(t,e){let{slots:n,attrs:r,emit:i}=e;const{prefixCls:o,rootPrefixCls:a,direction:s,getPopupContainer:l}=En("dropdown",t),[u,c]=J3(o),f=H(()=>{const{placement:v="",transitionName:g}=t;return g!==void 0?g:v.includes("top")?`${a.value}-slide-down`:`${a.value}-slide-up`});ZK({prefixCls:H(()=>`${o.value}-menu`),expandIcon:H(()=>k("span",{class:`${o.value}-menu-submenu-arrow`},[k(FA,{class:`${o.value}-menu-submenu-arrow-icon`},null)])),mode:H(()=>"vertical"),selectable:H(()=>!1),onClick:()=>{},validator:v=>{Hr()}});const d=()=>{var v,g,w;const y=t.overlay||((v=n.overlay)===null||v===void 0?void 0:v.call(n)),S=Array.isArray(y)?y[0]:y;if(!S)return null;const x=S.props||{};ks(!x.mode||x.mode==="vertical","Dropdown",`mode="${x.mode}" is not supported for Dropdown's Menu.`);const{selectable:b=!1,expandIcon:C=(w=(g=S.children)===null||g===void 0?void 0:g.expandIcon)===null||w===void 0?void 0:w.call(g)}=x,A=typeof C<"u"&&ia(C)?C:k("span",{class:`${o.value}-menu-submenu-arrow`},[k(FA,{class:`${o.value}-menu-submenu-arrow-icon`},null)]);return ia(S)?zn(S,{mode:"vertical",selectable:b,expandIcon:()=>A}):S},h=H(()=>{const v=t.placement;if(!v)return s.value==="rtl"?"bottomRight":"bottomLeft";if(v.includes("Center")){const g=v.slice(0,v.indexOf("Center"));return ks(!v.includes("Center"),"Dropdown",`You are using '${v}' placement in Dropdown, which is deprecated. Try to use '${g}' instead.`),g}return v}),p=H(()=>typeof t.visible=="boolean"?t.visible:t.open),m=v=>{i("update:visible",v),i("visibleChange",v),i("update:open",v),i("openChange",v)};return()=>{var v,g;const{arrow:w,trigger:y,disabled:S,overlayClassName:x}=t,b=(v=n.default)===null||v===void 0?void 0:v.call(n)[0],C=zn(b,_({class:He((g=b==null?void 0:b.props)===null||g===void 0?void 0:g.class,{[`${o.value}-rtl`]:s.value==="rtl"},`${o.value}-trigger`)},S?{disabled:S}:{})),A=He(x,c.value,{[`${o.value}-rtl`]:s.value==="rtl"}),D=S?[]:y;let E;D&&D.includes("contextmenu")&&(E=!0);const M=V3({arrowPointAtCenter:typeof w=="object"&&w.pointAtCenter,autoAdjustOverflow:!0}),B=In(_(_(_({},t),r),{visible:p.value,builtinPlacements:M,overlayClassName:A,arrow:!!w,alignPoint:E,prefixCls:o.value,getPopupContainer:l==null?void 0:l.value,transitionName:f.value,trigger:D,onVisibleChange:m,placement:h.value}),["overlay","onUpdate:visible"]);return u(k(sK,B,{default:()=>[C],overlay:d}))}}});nP.Button=Fm;const bi=nP;function QK(t,e,n,r){let i=n?n.call(r,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const o=Object.keys(t),a=Object.keys(e);if(o.length!==a.length)return!1;const s=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<o.length;l++){const u=o[l];if(!s(u))return!1;const c=t[u],f=e[u];if(i=n?n.call(r,c,f,u):void 0,i===!1||i===void 0&&c!==f)return!1}return!0}function gf(t,e){return QK(za(t),za(e))}const rP=Symbol("menuContextKey"),iP=t=>{zt(rP,t)},ts=()=>$t(rP),oP=Symbol("ForceRenderKey"),JK=t=>{zt(oP,t)},aP=()=>$t(oP,!1),sP=Symbol("menuFirstLevelContextKey"),lP=t=>{zt(sP,t)},eY=()=>$t(sP,!0),Rm=De({compatConfig:{MODE:3},name:"MenuContextProvider",inheritAttrs:!1,props:{mode:{type:String,default:void 0},overflowDisabled:{type:Boolean,default:void 0}},setup(t,e){let{slots:n}=e;const r=ts(),i=_({},r);return t.mode!==void 0&&(i.mode=so(t,"mode")),t.overflowDisabled!==void 0&&(i.overflowDisabled=so(t,"overflowDisabled")),iP(i),()=>{var o;return(o=n.default)===null||o===void 0?void 0:o.call(n)}}}),tY=iP,nY=Symbol("siderCollapsed"),Vh="$$__vc-menu-more__key",uP=Symbol("KeyPathContext"),Aw=()=>$t(uP,{parentEventKeys:H(()=>[]),parentKeys:H(()=>[]),parentInfo:{}}),rY=(t,e,n)=>{const{parentEventKeys:r,parentKeys:i}=Aw(),o=H(()=>[...r.value,t]),a=H(()=>[...i.value,e]);return zt(uP,{parentEventKeys:o,parentKeys:a,parentInfo:n}),a},cP=Symbol("measure"),RA=De({compatConfig:{MODE:3},setup(t,e){let{slots:n}=e;return zt(cP,!0),()=>{var r;return(r=n.default)===null||r===void 0?void 0:r.call(n)}}}),Dw=()=>$t(cP,!1),iY=rY;function fP(t){const{mode:e,rtl:n,inlineIndent:r}=ts();return H(()=>e.value!=="inline"?null:n.value?{paddingRight:`${t.value*r.value}px`}:{paddingLeft:`${t.value*r.value}px`})}let oY=0;const aY=()=>({id:String,role:String,disabled:Boolean,danger:Boolean,title:{type:[String,Boolean],default:void 0},icon:ve.any,onMouseenter:Function,onMouseleave:Function,onClick:Function,onKeydown:Function,onFocus:Function,originItemValue:hn()}),nn=De({compatConfig:{MODE:3},name:"AMenuItem",inheritAttrs:!1,props:aY(),slots:Object,setup(t,e){let{slots:n,emit:r,attrs:i}=e;const o=Yi(),a=Dw(),s=typeof o.vnode.key=="symbol"?String(o.vnode.key):o.vnode.key;ks(typeof o.vnode.key!="symbol","MenuItem",`MenuItem \`:key="${String(s)}"\` not support Symbol type`);const l=`menu_item_${++oY}_$$_${s}`,{parentEventKeys:u,parentKeys:c}=Aw(),{prefixCls:f,activeKeys:d,disabled:h,changeActiveKeys:p,rtl:m,inlineCollapsed:v,siderCollapsed:g,onItemClick:w,selectedKeys:y,registerMenuInfo:S,unRegisterMenuInfo:x}=ts(),b=eY(),C=Be(!1),A=H(()=>[...c.value,s]);S(l,{eventKey:l,key:s,parentEventKeys:u,parentKeys:c,isLeaf:!0}),ln(()=>{x(l)}),ze(d,()=>{C.value=!!d.value.find(X=>X===s)},{immediate:!0});const E=H(()=>h.value||t.disabled),M=H(()=>y.value.includes(s)),B=H(()=>{const X=`${f.value}-item`;return{[`${X}`]:!0,[`${X}-danger`]:t.danger,[`${X}-active`]:C.value,[`${X}-selected`]:M.value,[`${X}-disabled`]:E.value}}),P=X=>({key:s,eventKey:l,keyPath:A.value,eventKeyPath:[...u.value,l],domEvent:X,item:_(_({},t),i)}),F=X=>{if(E.value)return;const V=P(X);r("click",X),w(V)},$=X=>{E.value||(p(A.value),r("mouseenter",X))},N=X=>{E.value||(p([]),r("mouseleave",X))},T=X=>{if(r("keydown",X),X.which===Ye.ENTER){const V=P(X);r("click",X),w(V)}},z=X=>{p(A.value),r("focus",X)},I=(X,V)=>{const L=k("span",{class:`${f.value}-title-content`},[V]);return(!X||ia(V)&&V.type==="span")&&V&&v.value&&b&&typeof V=="string"?k("div",{class:`${f.value}-inline-collapsed-noicon`},[V.charAt(0)]):L},q=fP(H(()=>A.value.length));return()=>{var X,V,L,ne,se;if(a)return null;const Y=(X=t.title)!==null&&X!==void 0?X:(V=n.title)===null||V===void 0?void 0:V.call(n),ee=kr((L=n.default)===null||L===void 0?void 0:L.call(n)),ie=ee.length;let j=Y;typeof Y>"u"?j=b&&ie?ee:"":Y===!1&&(j="");const W={title:j};!g.value&&!v.value&&(W.title=null,W.open=!1);const J={};t.role==="option"&&(J["aria-selected"]=M.value);const oe=(ne=t.icon)!==null&&ne!==void 0?ne:(se=n.icon)===null||se===void 0?void 0:se.call(n,t);return k(El,Ee(Ee({},W),{},{placement:m.value?"left":"right",overlayClassName:`${f.value}-inline-collapsed-tooltip`}),{default:()=>[k(Lu.Item,Ee(Ee(Ee({component:"li"},i),{},{id:t.id,style:_(_({},i.style||{}),q.value),class:[B.value,{[`${i.class}`]:!!i.class,[`${f.value}-item-only-child`]:(oe?ie+1:ie)===1}],role:t.role||"menuitem",tabindex:t.disabled?null:-1,"data-menu-id":s,"aria-disabled":t.disabled},J),{},{onMouseenter:$,onMouseleave:N,onClick:F,onKeydown:T,onFocus:z,title:typeof Y=="string"?Y:void 0}),{default:()=>[zn(typeof oe=="function"?oe(t.originItemValue):oe,{class:`${f.value}-item-icon`},!1),I(oe,ee)]})]})}}}),bs={adjustX:1,adjustY:1},sY={topLeft:{points:["bl","tl"],overflow:bs,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:bs,offset:[0,7]},leftTop:{points:["tr","tl"],overflow:bs,offset:[-4,0]},rightTop:{points:["tl","tr"],overflow:bs,offset:[4,0]}},lY={topLeft:{points:["bl","tl"],overflow:bs,offset:[0,-7]},bottomLeft:{points:["tl","bl"],overflow:bs,offset:[0,7]},rightTop:{points:["tr","tl"],overflow:bs,offset:[-4,0]},leftTop:{points:["tl","tr"],overflow:bs,offset:[4,0]}},uY={horizontal:"bottomLeft",vertical:"rightTop","vertical-left":"rightTop","vertical-right":"leftTop"},_A=De({compatConfig:{MODE:3},name:"PopupTrigger",inheritAttrs:!1,props:{prefixCls:String,mode:String,visible:Boolean,popupClassName:String,popupOffset:Array,disabled:Boolean,onVisibleChange:Function},slots:Object,emits:["visibleChange"],setup(t,e){let{slots:n,emit:r}=e;const i=Be(!1),{getPopupContainer:o,rtl:a,subMenuOpenDelay:s,subMenuCloseDelay:l,builtinPlacements:u,triggerSubMenuAction:c,forceSubMenuRender:f,motion:d,defaultMotions:h,rootClassName:p}=ts(),m=aP(),v=H(()=>a.value?_(_({},lY),u.value):_(_({},sY),u.value)),g=H(()=>uY[t.mode]),w=Be();ze(()=>t.visible,x=>{Rt.cancel(w.value),w.value=Rt(()=>{i.value=x})},{immediate:!0}),ln(()=>{Rt.cancel(w.value)});const y=x=>{r("visibleChange",x)},S=H(()=>{var x,b;const C=d.value||((x=h.value)===null||x===void 0?void 0:x[t.mode])||((b=h.value)===null||b===void 0?void 0:b.other),A=typeof C=="function"?C():C;return A?u3(A.name,{css:!0}):void 0});return()=>{const{prefixCls:x,popupClassName:b,mode:C,popupOffset:A,disabled:D}=t;return k(rv,{prefixCls:x,popupClassName:He(`${x}-popup`,{[`${x}-rtl`]:a.value},b,p.value),stretch:C==="horizontal"?"minWidth":null,getPopupContainer:o.value,builtinPlacements:v.value,popupPlacement:g.value,popupVisible:i.value,popupAlign:A&&{offset:A},action:D?[]:[c.value],mouseEnterDelay:s.value,mouseLeaveDelay:l.value,onPopupVisibleChange:y,forceRender:m||f.value,popupAnimation:S.value},{popup:n.popup,default:n.default})}}}),dP=(t,e)=>{let{slots:n,attrs:r}=e;var i;const{prefixCls:o,mode:a}=ts();return k("ul",Ee(Ee({},r),{},{class:He(o.value,`${o.value}-sub`,`${o.value}-${a.value==="inline"?"inline":"vertical"}`),"data-menu-list":!0}),[(i=n.default)===null||i===void 0?void 0:i.call(n)])};dP.displayName="SubMenuList";const hP=dP,cY=De({compatConfig:{MODE:3},name:"InlineSubMenuList",inheritAttrs:!1,props:{id:String,open:Boolean,keyPath:Array},setup(t,e){let{slots:n}=e;const r=H(()=>"inline"),{motion:i,mode:o,defaultMotions:a}=ts(),s=H(()=>o.value===r.value),l=Te(!s.value),u=H(()=>s.value?t.open:!1);ze(o,()=>{s.value&&(l.value=!1)},{flush:"post"});const c=H(()=>{var f,d;const h=i.value||((f=a.value)===null||f===void 0?void 0:f[r.value])||((d=a.value)===null||d===void 0?void 0:d.other),p=typeof h=="function"?h():h;return _(_({},p),{appear:t.keyPath.length<=1})});return()=>{var f;return l.value?null:k(Rm,{mode:r.value},{default:()=>[k(Pc,c.value,{default:()=>[_a(k(hP,{id:t.id},{default:()=>[(f=n.default)===null||f===void 0?void 0:f.call(n)]}),[[sm,u.value]])]})]})}}});let zA=0;const fY=()=>({icon:ve.any,title:ve.any,disabled:Boolean,level:Number,popupClassName:String,popupOffset:Array,internalPopupClose:Boolean,eventKey:String,expandIcon:Function,theme:String,onMouseenter:Function,onMouseleave:Function,onTitleClick:Function,originItemValue:hn()}),ta=De({compatConfig:{MODE:3},name:"ASubMenu",inheritAttrs:!1,props:fY(),slots:Object,setup(t,e){let{slots:n,attrs:r,emit:i}=e;var o,a;lP(!1);const s=Dw(),l=Yi(),u=typeof l.vnode.key=="symbol"?String(l.vnode.key):l.vnode.key;ks(typeof l.vnode.key!="symbol","SubMenu",`SubMenu \`:key="${String(u)}"\` not support Symbol type`);const c=Qy(u)?u:`sub_menu_${++zA}_$$_not_set_key`,f=(o=t.eventKey)!==null&&o!==void 0?o:Qy(u)?`sub_menu_${++zA}_$$_${u}`:c,{parentEventKeys:d,parentInfo:h,parentKeys:p}=Aw(),m=H(()=>[...p.value,c]),v=Be([]),g={eventKey:f,key:c,parentEventKeys:d,childrenEventKeys:v,parentKeys:p};(a=h.childrenEventKeys)===null||a===void 0||a.value.push(f),ln(()=>{var re;h.childrenEventKeys&&(h.childrenEventKeys.value=(re=h.childrenEventKeys)===null||re===void 0?void 0:re.value.filter(ue=>ue!=f))}),iY(f,c,g);const{prefixCls:w,activeKeys:y,disabled:S,changeActiveKeys:x,mode:b,inlineCollapsed:C,openKeys:A,overflowDisabled:D,onOpenChange:E,registerMenuInfo:M,unRegisterMenuInfo:B,selectedSubMenuKeys:P,expandIcon:F,theme:$}=ts(),N=u!=null,T=!s&&(aP()||!N);JK(T),(s&&N||!s&&!N||T)&&(M(f,g),ln(()=>{B(f)}));const z=H(()=>`${w.value}-submenu`),I=H(()=>S.value||t.disabled),q=Be(),X=Be(),V=H(()=>A.value.includes(c)),L=H(()=>!D.value&&V.value),ne=H(()=>P.value.includes(c)),se=Be(!1);ze(y,()=>{se.value=!!y.value.find(re=>re===c)},{immediate:!0});const Y=re=>{I.value||(i("titleClick",re,c),b.value==="inline"&&E(c,!V.value))},ee=re=>{I.value||(x(m.value),i("mouseenter",re))},ie=re=>{I.value||(x([]),i("mouseleave",re))},j=fP(H(()=>m.value.length)),W=re=>{b.value!=="inline"&&E(c,re)},J=()=>{x(m.value)},oe=f&&`${f}-popup`,de=H(()=>He(w.value,`${w.value}-${t.theme||$.value}`,t.popupClassName)),ge=(re,ue)=>{if(!ue)return C.value&&!p.value.length&&re&&typeof re=="string"?k("div",{class:`${w.value}-inline-collapsed-noicon`},[re.charAt(0)]):k("span",{class:`${w.value}-title-content`},[re]);const ye=ia(re)&&re.type==="span";return k(gt,null,[zn(typeof ue=="function"?ue(t.originItemValue):ue,{class:`${w.value}-item-icon`},!1),ye?re:k("span",{class:`${w.value}-title-content`},[re])])},U=H(()=>b.value!=="inline"&&m.value.length>1?"vertical":b.value),Z=H(()=>b.value==="horizontal"?"vertical":b.value),fe=H(()=>U.value==="horizontal"?"vertical":U.value),Q=()=>{var re,ue;const ye=z.value,xe=(re=t.icon)!==null&&re!==void 0?re:(ue=n.icon)===null||ue===void 0?void 0:ue.call(n,t),G=t.expandIcon||n.expandIcon||F.value,te=ge(cd(n,t,"title"),xe);return k("div",{style:j.value,class:`${ye}-title`,tabindex:I.value?null:-1,ref:q,title:typeof te=="string"?te:null,"data-menu-id":c,"aria-expanded":L.value,"aria-haspopup":!0,"aria-controls":oe,"aria-disabled":I.value,onClick:Y,onFocus:J},[te,b.value!=="horizontal"&&G?G(_(_({},t),{isOpen:L.value})):k("i",{class:`${ye}-arrow`},null)])};return()=>{var re;if(s)return N?(re=n.default)===null||re===void 0?void 0:re.call(n):null;const ue=z.value;let ye=()=>null;if(!D.value&&b.value!=="inline"){const xe=b.value==="horizontal"?[0,8]:[10,0];ye=()=>k(_A,{mode:U.value,prefixCls:ue,visible:!t.internalPopupClose&&L.value,popupClassName:de.value,popupOffset:t.popupOffset||xe,disabled:I.value,onVisibleChange:W},{default:()=>[Q()],popup:()=>k(Rm,{mode:fe.value},{default:()=>[k(hP,{id:oe,ref:X},{default:n.default})]})})}else ye=()=>k(_A,null,{default:Q});return k(Rm,{mode:Z.value},{default:()=>[k(Lu.Item,Ee(Ee({component:"li"},r),{},{role:"none",class:He(ue,`${ue}-${b.value}`,r.class,{[`${ue}-open`]:L.value,[`${ue}-active`]:se.value,[`${ue}-selected`]:ne.value,[`${ue}-disabled`]:I.value}),onMouseenter:ee,onMouseleave:ie,"data-submenu-id":c}),{default:()=>k(gt,null,[ye(),!D.value&&k(cY,{id:oe,open:L.value,keyPath:m.value},{default:n.default})])})]})}}});function pP(t,e){return t.classList?t.classList.contains(e):` ${t.className} `.indexOf(` ${e} `)>-1}function LA(t,e){t.classList?t.classList.add(e):pP(t,e)||(t.className=`${t.className} ${e}`)}function HA(t,e){if(t.classList)t.classList.remove(e);else if(pP(t,e)){const n=t.className;t.className=` ${n} `.replace(` ${e} `," ")}}const dY=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ant-motion-collapse",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{name:t,appear:e,css:!0,onBeforeEnter:n=>{n.style.height="0px",n.style.opacity="0",LA(n,t)},onEnter:n=>{yn(()=>{n.style.height=`${n.scrollHeight}px`,n.style.opacity="1"})},onAfterEnter:n=>{n&&(HA(n,t),n.style.height=null,n.style.opacity=null)},onBeforeLeave:n=>{LA(n,t),n.style.height=`${n.offsetHeight}px`,n.style.opacity=null},onLeave:n=>{setTimeout(()=>{n.style.height="0px",n.style.opacity="0"})},onAfterLeave:n=>{n&&(HA(n,t),n.style&&(n.style.height=null,n.style.opacity=null))}}},hY=dY,pY=()=>({title:ve.any,originItemValue:hn()}),_m=De({compatConfig:{MODE:3},name:"AMenuItemGroup",inheritAttrs:!1,props:pY(),slots:Object,setup(t,e){let{slots:n,attrs:r}=e;const{prefixCls:i}=ts(),o=H(()=>`${i.value}-item-group`),a=Dw();return()=>{var s,l;return a?(s=n.default)===null||s===void 0?void 0:s.call(n):k("li",Ee(Ee({},r),{},{onClick:u=>u.stopPropagation(),class:o.value}),[k("div",{title:typeof t.title=="string"?t.title:void 0,class:`${o.value}-title`},[cd(n,t,"title")]),k("ul",{class:`${o.value}-list`},[(l=n.default)===null||l===void 0?void 0:l.call(n)])])}}}),mY=()=>({prefixCls:String,dashed:Boolean}),zm=De({compatConfig:{MODE:3},name:"AMenuDivider",props:mY(),setup(t){const{prefixCls:e}=ts(),n=H(()=>({[`${e.value}-item-divider`]:!0,[`${e.value}-item-divider-dashed`]:!!t.dashed}));return()=>k("li",{class:n.value},null)}});var gY=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function Sb(t,e,n){return(t||[]).map((r,i)=>{if(r&&typeof r=="object"){const o=r,{label:a,children:s,key:l,type:u}=o,c=gY(o,["label","children","key","type"]),f=l??`tmp-${i}`,d=n?n.parentKeys.slice():[],h=[],p={eventKey:f,key:f,parentEventKeys:Te(d),parentKeys:Te(d),childrenEventKeys:Te(h),isLeaf:!1};if(s||u==="group"){if(u==="group"){const v=Sb(s,e,n);return k(_m,Ee(Ee({key:f},c),{},{title:a,originItemValue:r}),{default:()=>[v]})}e.set(f,p),n&&n.childrenEventKeys.push(f);const m=Sb(s,e,{childrenEventKeys:h,parentKeys:[].concat(d,f)});return k(ta,Ee(Ee({key:f},c),{},{title:a,originItemValue:r}),{default:()=>[m]})}return u==="divider"?k(zm,Ee({key:f},c),null):(p.isLeaf=!0,e.set(f,p),k(nn,Ee(Ee({key:f},c),{},{originItemValue:r}),{default:()=>[a]}))}return null}).filter(r=>r)}function vY(t){const e=Be([]),n=Be(!1),r=Be(new Map);return ze(()=>t.items,()=>{const i=new Map;n.value=!1,t.items?(n.value=!0,e.value=Sb(t.items,i)):e.value=void 0,r.value=i},{immediate:!0,deep:!0}),{itemsNodes:e,store:r,hasItmes:n}}const yY=t=>{const{componentCls:e,motionDurationSlow:n,menuHorizontalHeight:r,colorSplit:i,lineWidth:o,lineType:a,menuItemPaddingInline:s}=t;return{[`${e}-horizontal`]:{lineHeight:`${r}px`,border:0,borderBottom:`${o}px ${a} ${i}`,boxShadow:"none","&::after":{display:"block",clear:"both",height:0,content:'"\\20"'},[`${e}-item, ${e}-submenu`]:{position:"relative",display:"inline-block",verticalAlign:"bottom",paddingInline:s},[`> ${e}-item:hover,
        > ${e}-item-active,
        > ${e}-submenu ${e}-submenu-title:hover`]:{backgroundColor:"transparent"},[`${e}-item, ${e}-submenu-title`]:{transition:[`border-color ${n}`,`background ${n}`].join(",")},[`${e}-submenu-arrow`]:{display:"none"}}}},bY=yY,xY=t=>{let{componentCls:e,menuArrowOffset:n}=t;return{[`${e}-rtl`]:{direction:"rtl"},[`${e}-submenu-rtl`]:{transformOrigin:"100% 0"},[`${e}-rtl${e}-vertical,
    ${e}-submenu-rtl ${e}-vertical`]:{[`${e}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateY(-${n})`},"&::after":{transform:`rotate(45deg) translateY(${n})`}}}}},wY=xY,VA=t=>_({},BI(t)),SY=(t,e)=>{const{componentCls:n,colorItemText:r,colorItemTextSelected:i,colorGroupTitle:o,colorItemBg:a,colorSubItemBg:s,colorItemBgSelected:l,colorActiveBarHeight:u,colorActiveBarWidth:c,colorActiveBarBorderSize:f,motionDurationSlow:d,motionEaseInOut:h,motionEaseOut:p,menuItemPaddingInline:m,motionDurationMid:v,colorItemTextHover:g,lineType:w,colorSplit:y,colorItemTextDisabled:S,colorDangerItemText:x,colorDangerItemTextHover:b,colorDangerItemTextSelected:C,colorDangerItemBgActive:A,colorDangerItemBgSelected:D,colorItemBgHover:E,menuSubMenuBg:M,colorItemTextSelectedHorizontal:B,colorItemBgSelectedHorizontal:P}=t;return{[`${n}-${e}`]:{color:r,background:a,[`&${n}-root:focus-visible`]:_({},VA(t)),[`${n}-item-group-title`]:{color:o},[`${n}-submenu-selected`]:{[`> ${n}-submenu-title`]:{color:i}},[`${n}-item-disabled, ${n}-submenu-disabled`]:{color:`${S} !important`},[`${n}-item:hover, ${n}-submenu-title:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:g}},[`&:not(${n}-horizontal)`]:{[`${n}-item:not(${n}-item-selected)`]:{"&:hover":{backgroundColor:E},"&:active":{backgroundColor:l}},[`${n}-submenu-title`]:{"&:hover":{backgroundColor:E},"&:active":{backgroundColor:l}}},[`${n}-item-danger`]:{color:x,[`&${n}-item:hover`]:{[`&:not(${n}-item-selected):not(${n}-submenu-selected)`]:{color:b}},[`&${n}-item:active`]:{background:A}},[`${n}-item a`]:{"&, &:hover":{color:"inherit"}},[`${n}-item-selected`]:{color:i,[`&${n}-item-danger`]:{color:C},"a, a:hover":{color:"inherit"}},[`& ${n}-item-selected`]:{backgroundColor:l,[`&${n}-item-danger`]:{backgroundColor:D}},[`${n}-item, ${n}-submenu-title`]:{[`&:not(${n}-item-disabled):focus-visible`]:_({},VA(t))},[`&${n}-submenu > ${n}`]:{backgroundColor:M},[`&${n}-popup > ${n}`]:{backgroundColor:a},[`&${n}-horizontal`]:_(_({},e==="dark"?{borderBottom:0}:{}),{[`> ${n}-item, > ${n}-submenu`]:{top:f,marginTop:-f,marginBottom:0,borderRadius:0,"&::after":{position:"absolute",insetInline:m,bottom:0,borderBottom:`${u}px solid transparent`,transition:`border-color ${d} ${h}`,content:'""'},"&:hover, &-active, &-open":{"&::after":{borderBottomWidth:u,borderBottomColor:B}},"&-selected":{color:B,backgroundColor:P,"&::after":{borderBottomWidth:u,borderBottomColor:B}}}}),[`&${n}-root`]:{[`&${n}-inline, &${n}-vertical`]:{borderInlineEnd:`${f}px ${w} ${y}`}},[`&${n}-inline`]:{[`${n}-sub${n}-inline`]:{background:s},[`${n}-item, ${n}-submenu-title`]:f&&c?{width:`calc(100% + ${f}px)`}:{},[`${n}-item`]:{position:"relative","&::after":{position:"absolute",insetBlock:0,insetInlineEnd:0,borderInlineEnd:`${c}px solid ${i}`,transform:"scaleY(0.0001)",opacity:0,transition:[`transform ${v} ${p}`,`opacity ${v} ${p}`].join(","),content:'""'},[`&${n}-item-danger`]:{"&::after":{borderInlineEndColor:C}}},[`${n}-selected, ${n}-item-selected`]:{"&::after":{transform:"scaleY(1)",opacity:1,transition:[`transform ${v} ${h}`,`opacity ${v} ${h}`].join(",")}}}}}},UA=SY,qA=t=>{const{componentCls:e,menuItemHeight:n,itemMarginInline:r,padding:i,menuArrowSize:o,marginXS:a,marginXXS:s}=t,l=i+o+a;return{[`${e}-item`]:{position:"relative"},[`${e}-item, ${e}-submenu-title`]:{height:n,lineHeight:`${n}px`,paddingInline:i,overflow:"hidden",textOverflow:"ellipsis",marginInline:r,marginBlock:s,width:`calc(100% - ${r*2}px)`},[`${e}-submenu`]:{paddingBottom:.02},[`> ${e}-item,
            > ${e}-submenu > ${e}-submenu-title`]:{height:n,lineHeight:`${n}px`},[`${e}-item-group-list ${e}-submenu-title,
            ${e}-submenu-title`]:{paddingInlineEnd:l}}},CY=t=>{const{componentCls:e,iconCls:n,menuItemHeight:r,colorTextLightSolid:i,dropdownWidth:o,controlHeightLG:a,motionDurationMid:s,motionEaseOut:l,paddingXL:u,fontSizeSM:c,fontSizeLG:f,motionDurationSlow:d,paddingXS:h,boxShadowSecondary:p}=t,m={height:r,lineHeight:`${r}px`,listStylePosition:"inside",listStyleType:"disc"};return[{[e]:{"&-inline, &-vertical":_({[`&${e}-root`]:{boxShadow:"none"}},qA(t))},[`${e}-submenu-popup`]:{[`${e}-vertical`]:_(_({},qA(t)),{boxShadow:p})}},{[`${e}-submenu-popup ${e}-vertical${e}-sub`]:{minWidth:o,maxHeight:`calc(100vh - ${a*2.5}px)`,padding:"0",overflow:"hidden",borderInlineEnd:0,"&:not([class*='-active'])":{overflowX:"hidden",overflowY:"auto"}}},{[`${e}-inline`]:{width:"100%",[`&${e}-root`]:{[`${e}-item, ${e}-submenu-title`]:{display:"flex",alignItems:"center",transition:[`border-color ${d}`,`background ${d}`,`padding ${s} ${l}`].join(","),[`> ${e}-title-content`]:{flex:"auto",minWidth:0,overflow:"hidden",textOverflow:"ellipsis"},"> *":{flex:"none"}}},[`${e}-sub${e}-inline`]:{padding:0,border:0,borderRadius:0,boxShadow:"none",[`& > ${e}-submenu > ${e}-submenu-title`]:m,[`& ${e}-item-group-title`]:{paddingInlineStart:u}},[`${e}-item`]:m}},{[`${e}-inline-collapsed`]:{width:r*2,[`&${e}-root`]:{[`${e}-item, ${e}-submenu ${e}-submenu-title`]:{[`> ${e}-inline-collapsed-noicon`]:{fontSize:f,textAlign:"center"}}},[`> ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-item,
          > ${e}-item-group > ${e}-item-group-list > ${e}-submenu > ${e}-submenu-title,
          > ${e}-submenu > ${e}-submenu-title`]:{insetInlineStart:0,paddingInline:`calc(50% - ${c}px)`,textOverflow:"clip",[`
            ${e}-submenu-arrow,
            ${e}-submenu-expand-icon
          `]:{opacity:0},[`${e}-item-icon, ${n}`]:{margin:0,fontSize:f,lineHeight:`${r}px`,"+ span":{display:"inline-block",opacity:0}}},[`${e}-item-icon, ${n}`]:{display:"inline-block"},"&-tooltip":{pointerEvents:"none",[`${e}-item-icon, ${n}`]:{display:"none"},"a, a:hover":{color:i}},[`${e}-item-group-title`]:_(_({},Nm),{paddingInline:h})}}]},AY=CY,WA=t=>{const{componentCls:e,fontSize:n,motionDurationSlow:r,motionDurationMid:i,motionEaseInOut:o,motionEaseOut:a,iconCls:s,controlHeightSM:l}=t;return{[`${e}-item, ${e}-submenu-title`]:{position:"relative",display:"block",margin:0,whiteSpace:"nowrap",cursor:"pointer",transition:[`border-color ${r}`,`background ${r}`,`padding ${r} ${o}`].join(","),[`${e}-item-icon, ${s}`]:{minWidth:n,fontSize:n,transition:[`font-size ${i} ${a}`,`margin ${r} ${o}`,`color ${r}`].join(","),"+ span":{marginInlineStart:l-n,opacity:1,transition:[`opacity ${r} ${o}`,`margin ${r}`,`color ${r}`].join(",")}},[`${e}-item-icon`]:_({},Jg()),[`&${e}-item-only-child`]:{[`> ${s}, > ${e}-item-icon`]:{marginInlineEnd:0}}},[`${e}-item-disabled, ${e}-submenu-disabled`]:{background:"none !important",cursor:"not-allowed","&::after":{borderColor:"transparent !important"},a:{color:"inherit !important"},[`> ${e}-submenu-title`]:{color:"inherit !important",cursor:"not-allowed"}}}},jA=t=>{const{componentCls:e,motionDurationSlow:n,motionEaseInOut:r,borderRadius:i,menuArrowSize:o,menuArrowOffset:a}=t;return{[`${e}-submenu`]:{"&-expand-icon, &-arrow":{position:"absolute",top:"50%",insetInlineEnd:t.margin,width:o,color:"currentcolor",transform:"translateY(-50%)",transition:`transform ${n} ${r}, opacity ${n}`},"&-arrow":{"&::before, &::after":{position:"absolute",width:o*.6,height:o*.15,backgroundColor:"currentcolor",borderRadius:i,transition:[`background ${n} ${r}`,`transform ${n} ${r}`,`top ${n} ${r}`,`color ${n} ${r}`].join(","),content:'""'},"&::before":{transform:`rotate(45deg) translateY(-${a})`},"&::after":{transform:`rotate(-45deg) translateY(${a})`}}}}},DY=t=>{const{antCls:e,componentCls:n,fontSize:r,motionDurationSlow:i,motionDurationMid:o,motionEaseInOut:a,lineHeight:s,paddingXS:l,padding:u,colorSplit:c,lineWidth:f,zIndexPopup:d,borderRadiusLG:h,radiusSubMenuItem:p,menuArrowSize:m,menuArrowOffset:v,lineType:g,menuPanelMaskInset:w}=t;return[{"":{[`${n}`]:_(_({},lb()),{"&-hidden":{display:"none"}})},[`${n}-submenu-hidden`]:{display:"none"}},{[n]:_(_(_(_(_(_(_({},Zi(t)),lb()),{marginBottom:0,paddingInlineStart:0,fontSize:r,lineHeight:0,listStyle:"none",outline:"none",transition:`width ${i} cubic-bezier(0.2, 0, 0, 1) 0s`,"ul, ol":{margin:0,padding:0,listStyle:"none"},"&-overflow":{display:"flex",[`${n}-item`]:{flex:"none"}},[`${n}-item, ${n}-submenu, ${n}-submenu-title`]:{borderRadius:t.radiusItem},[`${n}-item-group-title`]:{padding:`${l}px ${u}px`,fontSize:r,lineHeight:s,transition:`all ${i}`},[`&-horizontal ${n}-submenu`]:{transition:[`border-color ${i} ${a}`,`background ${i} ${a}`].join(",")},[`${n}-submenu, ${n}-submenu-inline`]:{transition:[`border-color ${i} ${a}`,`background ${i} ${a}`,`padding ${o} ${a}`].join(",")},[`${n}-submenu ${n}-sub`]:{cursor:"initial",transition:[`background ${i} ${a}`,`padding ${i} ${a}`].join(",")},[`${n}-title-content`]:{transition:`color ${i}`},[`${n}-item a`]:{"&::before":{position:"absolute",inset:0,backgroundColor:"transparent",content:'""'}},[`${n}-item-divider`]:{overflow:"hidden",lineHeight:0,borderColor:c,borderStyle:g,borderWidth:0,borderTopWidth:f,marginBlock:f,padding:0,"&-dashed":{borderStyle:"dashed"}}}),WA(t)),{[`${n}-item-group`]:{[`${n}-item-group-list`]:{margin:0,padding:0,[`${n}-item, ${n}-submenu-title`]:{paddingInline:`${r*2}px ${u}px`}}},"&-submenu":{"&-popup":{position:"absolute",zIndex:d,background:"transparent",borderRadius:h,boxShadow:"none",transformOrigin:"0 0","&::before":{position:"absolute",inset:`${w}px 0 0`,zIndex:-1,width:"100%",height:"100%",opacity:0,content:'""'}},"&-placement-rightTop::before":{top:0,insetInlineStart:w},[`> ${n}`]:_(_(_({borderRadius:h},WA(t)),jA(t)),{[`${n}-item, ${n}-submenu > ${n}-submenu-title`]:{borderRadius:p},[`${n}-submenu-title::after`]:{transition:`transform ${i} ${a}`}})}}),jA(t)),{[`&-inline-collapsed ${n}-submenu-arrow,
        &-inline ${n}-submenu-arrow`]:{"&::before":{transform:`rotate(-45deg) translateX(${v})`},"&::after":{transform:`rotate(45deg) translateX(-${v})`}},[`${n}-submenu-open${n}-submenu-inline > ${n}-submenu-title > ${n}-submenu-arrow`]:{transform:`translateY(-${m*.2}px)`,"&::after":{transform:`rotate(-45deg) translateX(-${v})`},"&::before":{transform:`rotate(45deg) translateX(${v})`}}})},{[`${e}-layout-header`]:{[n]:{lineHeight:"inherit"}}}]},EY=(t,e)=>ai("Menu",(r,i)=>{let{overrideComponentToken:o}=i;if((e==null?void 0:e.value)===!1)return[];const{colorBgElevated:a,colorPrimary:s,colorError:l,colorErrorHover:u,colorTextLightSolid:c}=r,{controlHeightLG:f,fontSize:d}=r,h=d/7*5,p=cn(r,{menuItemHeight:f,menuItemPaddingInline:r.margin,menuArrowSize:h,menuHorizontalHeight:f*1.15,menuArrowOffset:`${h*.25}px`,menuPanelMaskInset:-7,menuSubMenuBg:a}),m=new An(c).setAlpha(.65).toRgbString(),v=cn(p,{colorItemText:m,colorItemTextHover:c,colorGroupTitle:m,colorItemTextSelected:c,colorItemBg:"#001529",colorSubItemBg:"#000c17",colorItemBgActive:"transparent",colorItemBgSelected:s,colorActiveBarWidth:0,colorActiveBarHeight:0,colorActiveBarBorderSize:0,colorItemTextDisabled:new An(c).setAlpha(.25).toRgbString(),colorDangerItemText:l,colorDangerItemTextHover:u,colorDangerItemTextSelected:c,colorDangerItemBgActive:l,colorDangerItemBgSelected:l,menuSubMenuBg:"#001529",colorItemTextSelectedHorizontal:c,colorItemBgSelectedHorizontal:s},_({},o));return[DY(p),bY(p),AY(p),UA(p,"light"),UA(v,"dark"),wY(p),nX(p),cc(p,"slide-up"),cc(p,"slide-down"),fw(p,"zoom-big")]},r=>{const{colorPrimary:i,colorError:o,colorTextDisabled:a,colorErrorBg:s,colorText:l,colorTextDescription:u,colorBgContainer:c,colorFillAlter:f,colorFillContent:d,lineWidth:h,lineWidthBold:p,controlItemBgActive:m,colorBgTextHover:v}=r;return{dropdownWidth:160,zIndexPopup:r.zIndexPopupBase+50,radiusItem:r.borderRadiusLG,radiusSubMenuItem:r.borderRadiusSM,colorItemText:l,colorItemTextHover:l,colorItemTextHoverHorizontal:i,colorGroupTitle:u,colorItemTextSelected:i,colorItemTextSelectedHorizontal:i,colorItemBg:c,colorItemBgHover:v,colorItemBgActive:d,colorSubItemBg:f,colorItemBgSelected:m,colorItemBgSelectedHorizontal:"transparent",colorActiveBarWidth:0,colorActiveBarHeight:p,colorActiveBarBorderSize:h,colorItemTextDisabled:a,colorDangerItemText:o,colorDangerItemTextHover:o,colorDangerItemTextSelected:o,colorDangerItemBgActive:s,colorDangerItemBgSelected:s,itemMarginInline:r.marginXXS}})(t),MY=()=>({id:String,prefixCls:String,items:Array,disabled:Boolean,inlineCollapsed:Boolean,disabledOverflow:Boolean,forceSubMenuRender:Boolean,openKeys:Array,selectedKeys:Array,activeKey:String,selectable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},tabindex:{type:[Number,String]},motion:Object,role:String,theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},inlineIndent:{type:Number,default:24},subMenuOpenDelay:{type:Number,default:0},subMenuCloseDelay:{type:Number,default:.1},builtinPlacements:{type:Object},triggerSubMenuAction:{type:String,default:"hover"},getPopupContainer:Function,expandIcon:Function,onOpenChange:Function,onSelect:Function,onDeselect:Function,onClick:[Function,Array],onFocus:Function,onBlur:Function,onMousedown:Function,"onUpdate:openKeys":Function,"onUpdate:selectedKeys":Function,"onUpdate:activeKey":Function}),GA=[],Vi=De({compatConfig:{MODE:3},name:"AMenu",inheritAttrs:!1,props:MY(),slots:Object,setup(t,e){let{slots:n,emit:r,attrs:i}=e;const{direction:o,getPrefixCls:a}=En("menu",t),s=tP(),l=H(()=>{var Y;return a("menu",t.prefixCls||((Y=s==null?void 0:s.prefixCls)===null||Y===void 0?void 0:Y.value))}),[u,c]=EY(l,H(()=>!s)),f=Be(new Map),d=$t(nY,Te(void 0)),h=H(()=>d.value!==void 0?d.value:t.inlineCollapsed),{itemsNodes:p}=vY(t),m=Be(!1);sn(()=>{m.value=!0}),Bn(()=>{ks(!(t.inlineCollapsed===!0&&t.mode!=="inline"),"Menu","`inlineCollapsed` should only be used when `mode` is inline."),ks(!(d.value!==void 0&&t.inlineCollapsed===!0),"Menu","`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.")});const v=Te([]),g=Te([]),w=Te({});ze(f,()=>{const Y={};for(const ee of f.value.values())Y[ee.key]=ee;w.value=Y},{flush:"post"}),Bn(()=>{if(t.activeKey!==void 0){let Y=[];const ee=t.activeKey?w.value[t.activeKey]:void 0;ee&&t.activeKey!==void 0?Y=m0([].concat(O(ee.parentKeys),t.activeKey)):Y=[],gf(v.value,Y)||(v.value=Y)}}),ze(()=>t.selectedKeys,Y=>{Y&&(g.value=Y.slice())},{immediate:!0,deep:!0});const y=Te([]);ze([w,g],()=>{let Y=[];g.value.forEach(ee=>{const ie=w.value[ee];ie&&(Y=Y.concat(O(ie.parentKeys)))}),Y=m0(Y),gf(y.value,Y)||(y.value=Y)},{immediate:!0});const S=Y=>{if(t.selectable){const{key:ee}=Y,ie=g.value.includes(ee);let j;t.multiple?ie?j=g.value.filter(J=>J!==ee):j=[...g.value,ee]:j=[ee];const W=_(_({},Y),{selectedKeys:j});gf(j,g.value)||(t.selectedKeys===void 0&&(g.value=j),r("update:selectedKeys",j),ie&&t.multiple?r("deselect",W):r("select",W))}E.value!=="inline"&&!t.multiple&&x.value.length&&P(GA)},x=Te([]);ze(()=>t.openKeys,function(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x.value;gf(x.value,Y)||(x.value=Y.slice())},{immediate:!0,deep:!0});let b;const C=Y=>{clearTimeout(b),b=setTimeout(()=>{t.activeKey===void 0&&(v.value=Y),r("update:activeKey",Y[Y.length-1])})},A=H(()=>!!t.disabled),D=H(()=>o.value==="rtl"),E=Te("vertical"),M=Be(!1);Bn(()=>{var Y;(t.mode==="inline"||t.mode==="vertical")&&h.value?(E.value="vertical",M.value=h.value):(E.value=t.mode,M.value=!1),!((Y=s==null?void 0:s.mode)===null||Y===void 0)&&Y.value&&(E.value=s.mode.value)});const B=H(()=>E.value==="inline"),P=Y=>{x.value=Y,r("update:openKeys",Y),r("openChange",Y)},F=Te(x.value),$=Be(!1);ze(x,()=>{B.value&&(F.value=x.value)},{immediate:!0}),ze(B,()=>{if(!$.value){$.value=!0;return}B.value?x.value=F.value:P(GA)},{immediate:!0});const N=H(()=>({[`${l.value}`]:!0,[`${l.value}-root`]:!0,[`${l.value}-${E.value}`]:!0,[`${l.value}-inline-collapsed`]:M.value,[`${l.value}-rtl`]:D.value,[`${l.value}-${t.theme}`]:!0})),T=H(()=>a()),z=H(()=>({horizontal:{name:`${T.value}-slide-up`},inline:hY(`${T.value}-motion-collapse`),other:{name:`${T.value}-zoom-big`}}));lP(!0);const I=function(){let Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];const ee=[],ie=f.value;return Y.forEach(j=>{const{key:W,childrenEventKeys:J}=ie.get(j);ee.push(W,...I(O(J)))}),ee},q=Y=>{var ee;r("click",Y),S(Y),(ee=s==null?void 0:s.onClick)===null||ee===void 0||ee.call(s)},X=(Y,ee)=>{var ie;const j=((ie=w.value[Y])===null||ie===void 0?void 0:ie.childrenEventKeys)||[];let W=x.value.filter(J=>J!==Y);if(ee)W.push(Y);else if(E.value!=="inline"){const J=I(O(j));W=m0(W.filter(oe=>!J.includes(oe)))}gf(x,W)||P(W)},V=(Y,ee)=>{f.value.set(Y,ee),f.value=new Map(f.value)},L=Y=>{f.value.delete(Y),f.value=new Map(f.value)},ne=Te(0),se=H(()=>{var Y;return t.expandIcon||n.expandIcon||!((Y=s==null?void 0:s.expandIcon)===null||Y===void 0)&&Y.value?ee=>{let ie=t.expandIcon||n.expandIcon;return ie=typeof ie=="function"?ie(ee):ie,zn(ie,{class:`${l.value}-submenu-expand-icon`},!1)}:null});return tY({prefixCls:l,activeKeys:v,openKeys:x,selectedKeys:g,changeActiveKeys:C,disabled:A,rtl:D,mode:E,inlineIndent:H(()=>t.inlineIndent),subMenuCloseDelay:H(()=>t.subMenuCloseDelay),subMenuOpenDelay:H(()=>t.subMenuOpenDelay),builtinPlacements:H(()=>t.builtinPlacements),triggerSubMenuAction:H(()=>t.triggerSubMenuAction),getPopupContainer:H(()=>t.getPopupContainer),inlineCollapsed:M,theme:H(()=>t.theme),siderCollapsed:d,defaultMotions:H(()=>m.value?z.value:null),motion:H(()=>m.value?t.motion:null),overflowDisabled:Be(void 0),onOpenChange:X,onItemClick:q,registerMenuInfo:V,unRegisterMenuInfo:L,selectedSubMenuKeys:y,expandIcon:se,forceSubMenuRender:H(()=>t.forceSubMenuRender),rootClassName:c}),()=>{var Y,ee;const ie=p.value||kr((Y=n.default)===null||Y===void 0?void 0:Y.call(n)),j=ne.value>=ie.length-1||E.value!=="horizontal"||t.disabledOverflow,W=E.value!=="horizontal"||t.disabledOverflow?ie:ie.map((oe,de)=>k(Rm,{key:oe.key,overflowDisabled:de>ne.value},{default:()=>oe})),J=((ee=n.overflowedIndicator)===null||ee===void 0?void 0:ee.call(n))||k(Q3,null,null);return u(k(Lu,Ee(Ee({},i),{},{onMousedown:t.onMousedown,prefixCls:`${l.value}-overflow`,component:"ul",itemComponent:nn,class:[N.value,i.class,c.value],role:"menu",id:t.id,data:W,renderRawItem:oe=>oe,renderRawRest:oe=>{const de=oe.length,ge=de?ie.slice(-de):null;return k(gt,null,[k(ta,{eventKey:Vh,key:Vh,title:J,disabled:j,internalPopupClose:de===0},{default:()=>ge}),k(RA,null,{default:()=>[k(ta,{eventKey:Vh,key:Vh,title:J,disabled:j,internalPopupClose:de===0},{default:()=>ge})]})])},maxCount:E.value!=="horizontal"||t.disabledOverflow?Lu.INVALIDATE:Lu.RESPONSIVE,ssr:"full","data-menu-list":!0,onVisibleChange:oe=>{ne.value=oe}}),{default:()=>[k(Rg,{to:"body"},{default:()=>[k("div",{style:{display:"none"},"aria-hidden":!0},[k(RA,null,{default:()=>[W]})])]})]}))}}});Vi.install=function(t){return t.component(Vi.name,Vi),t.component(nn.name,nn),t.component(ta.name,ta),t.component(zm.name,zm),t.component(_m.name,_m),t};Vi.Item=nn;Vi.Divider=zm;Vi.SubMenu=ta;Vi.ItemGroup=_m;const NY=t=>({"&::-moz-placeholder":{opacity:1},"&::placeholder":{color:t,userSelect:"none"},"&:placeholder-shown":{textOverflow:"ellipsis"}}),Ew=t=>({borderColor:t.inputBorderHoverColor,borderInlineEndWidth:t.lineWidth}),Cb=t=>({borderColor:t.inputBorderHoverColor,boxShadow:`0 0 0 ${t.controlOutlineWidth}px ${t.controlOutline}`,borderInlineEndWidth:t.lineWidth,outline:0}),$Y=t=>({color:t.colorTextDisabled,backgroundColor:t.colorBgContainerDisabled,borderColor:t.colorBorder,boxShadow:"none",cursor:"not-allowed",opacity:1,"&:hover":_({},Ew(cn(t,{inputBorderHoverColor:t.colorBorder})))}),mP=t=>{const{inputPaddingVerticalLG:e,fontSizeLG:n,lineHeightLG:r,borderRadiusLG:i,inputPaddingHorizontalLG:o}=t;return{padding:`${e}px ${o}px`,fontSize:n,lineHeight:r,borderRadius:i}},gP=t=>({padding:`${t.inputPaddingVerticalSM}px ${t.controlPaddingHorizontalSM-1}px`,borderRadius:t.borderRadiusSM}),vP=(t,e)=>{const{componentCls:n,colorError:r,colorWarning:i,colorErrorOutline:o,colorWarningOutline:a,colorErrorBorderHover:s,colorWarningBorderHover:l}=t;return{[`&-status-error:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:r,"&:hover":{borderColor:s},"&:focus, &-focused":_({},Cb(cn(t,{inputBorderActiveColor:r,inputBorderHoverColor:r,controlOutline:o}))),[`${n}-prefix`]:{color:r}},[`&-status-warning:not(${e}-disabled):not(${e}-borderless)${e}`]:{borderColor:i,"&:hover":{borderColor:l},"&:focus, &-focused":_({},Cb(cn(t,{inputBorderActiveColor:i,inputBorderHoverColor:i,controlOutline:a}))),[`${n}-prefix`]:{color:i}}}},yP=t=>_(_({position:"relative",display:"inline-block",width:"100%",minWidth:0,padding:`${t.inputPaddingVertical}px ${t.inputPaddingHorizontal}px`,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,backgroundColor:t.colorBgContainer,backgroundImage:"none",borderWidth:t.lineWidth,borderStyle:t.lineType,borderColor:t.colorBorder,borderRadius:t.borderRadius,transition:`all ${t.motionDurationMid}`},NY(t.colorTextPlaceholder)),{"&:hover":_({},Ew(t)),"&:focus, &-focused":_({},Cb(t)),"&-disabled, &[disabled]":_({},$Y(t)),"&-borderless":{"&, &:hover, &:focus, &-focused, &-disabled, &[disabled]":{backgroundColor:"transparent",border:"none",boxShadow:"none"}},"textarea&":{maxWidth:"100%",height:"auto",minHeight:t.controlHeight,lineHeight:t.lineHeight,verticalAlign:"bottom",transition:`all ${t.motionDurationSlow}, height 0s`,resize:"vertical"},"&-lg":_({},mP(t)),"&-sm":_({},gP(t)),"&-rtl":{direction:"rtl"},"&-textarea-rtl":{direction:"rtl"}}),OY=t=>{const{componentCls:e,antCls:n}=t;return{position:"relative",display:"table",width:"100%",borderCollapse:"separate",borderSpacing:0,"&[class*='col-']":{paddingInlineEnd:t.paddingXS,"&:last-child":{paddingInlineEnd:0}},[`&-lg ${e}, &-lg > ${e}-group-addon`]:_({},mP(t)),[`&-sm ${e}, &-sm > ${e}-group-addon`]:_({},gP(t)),[`> ${e}`]:{display:"table-cell","&:not(:first-child):not(:last-child)":{borderRadius:0}},[`${e}-group`]:{"&-addon, &-wrap":{display:"table-cell",width:1,whiteSpace:"nowrap",verticalAlign:"middle","&:not(:first-child):not(:last-child)":{borderRadius:0}},"&-wrap > *":{display:"block !important"},"&-addon":{position:"relative",padding:`0 ${t.inputPaddingHorizontal}px`,color:t.colorText,fontWeight:"normal",fontSize:t.fontSize,textAlign:"center",backgroundColor:t.colorFillAlter,border:`${t.lineWidth}px ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`,lineHeight:1,[`${n}-select`]:{margin:`-${t.inputPaddingVertical+1}px -${t.inputPaddingHorizontal}px`,[`&${n}-select-single:not(${n}-select-customize-input)`]:{[`${n}-select-selector`]:{backgroundColor:"inherit",border:`${t.lineWidth}px ${t.lineType} transparent`,boxShadow:"none"}},"&-open, &-focused":{[`${n}-select-selector`]:{color:t.colorPrimary}}},[`${n}-cascader-picker`]:{margin:`-9px -${t.inputPaddingHorizontal}px`,backgroundColor:"transparent",[`${n}-cascader-input`]:{textAlign:"start",border:0,boxShadow:"none"}}},"&-addon:first-child":{borderInlineEnd:0},"&-addon:last-child":{borderInlineStart:0}},[`${e}`]:{float:"inline-start",width:"100%",marginBottom:0,textAlign:"inherit","&:focus":{zIndex:1,borderInlineEndWidth:1},"&:hover":{zIndex:1,borderInlineEndWidth:1,[`${e}-search-with-button &`]:{zIndex:0}}},[`> ${e}:first-child, ${e}-group-addon:first-child`]:{borderStartEndRadius:0,borderEndEndRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}-affix-wrapper`]:{[`&:not(:first-child) ${e}`]:{borderStartStartRadius:0,borderEndStartRadius:0},[`&:not(:last-child) ${e}`]:{borderStartEndRadius:0,borderEndEndRadius:0}},[`> ${e}:last-child, ${e}-group-addon:last-child`]:{borderStartStartRadius:0,borderEndStartRadius:0,[`${n}-select ${n}-select-selector`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`${e}-affix-wrapper`]:{"&:not(:last-child)":{borderStartEndRadius:0,borderEndEndRadius:0,[`${e}-search &`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius}},[`&:not(:first-child), ${e}-search &:not(:first-child)`]:{borderStartStartRadius:0,borderEndStartRadius:0}},[`&${e}-group-compact`]:_(_({display:"block"},lb()),{[`${e}-group-addon, ${e}-group-wrap, > ${e}`]:{"&:not(:first-child):not(:last-child)":{borderInlineEndWidth:t.lineWidth,"&:hover":{zIndex:1},"&:focus":{zIndex:1}}},"& > *":{display:"inline-block",float:"none",verticalAlign:"top",borderRadius:0},[`& > ${e}-affix-wrapper`]:{display:"inline-flex"},[`& > ${n}-picker-range`]:{display:"inline-flex"},"& > *:not(:last-child)":{marginInlineEnd:-t.lineWidth,borderInlineEndWidth:t.lineWidth},[`${e}`]:{float:"none"},[`& > ${n}-select > ${n}-select-selector,
      & > ${n}-select-auto-complete ${e},
      & > ${n}-cascader-picker ${e},
      & > ${e}-group-wrapper ${e}`]:{borderInlineEndWidth:t.lineWidth,borderRadius:0,"&:hover":{zIndex:1},"&:focus":{zIndex:1}},[`& > ${n}-select-focused`]:{zIndex:1},[`& > ${n}-select > ${n}-select-arrow`]:{zIndex:1},[`& > *:first-child,
      & > ${n}-select:first-child > ${n}-select-selector,
      & > ${n}-select-auto-complete:first-child ${e},
      & > ${n}-cascader-picker:first-child ${e}`]:{borderStartStartRadius:t.borderRadius,borderEndStartRadius:t.borderRadius},[`& > *:last-child,
      & > ${n}-select:last-child > ${n}-select-selector,
      & > ${n}-cascader-picker:last-child ${e},
      & > ${n}-cascader-picker-focused:last-child ${e}`]:{borderInlineEndWidth:t.lineWidth,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius},[`& > ${n}-select-auto-complete ${e}`]:{verticalAlign:"top"},[`${e}-group-wrapper + ${e}-group-wrapper`]:{marginInlineStart:-t.lineWidth,[`${e}-affix-wrapper`]:{borderRadius:0}},[`${e}-group-wrapper:not(:last-child)`]:{[`&${e}-search > ${e}-group`]:{[`& > ${e}-group-addon > ${e}-search-button`]:{borderRadius:0},[`& > ${e}`]:{borderStartStartRadius:t.borderRadius,borderStartEndRadius:0,borderEndEndRadius:0,borderEndStartRadius:t.borderRadius}}}}),[`&&-sm ${n}-btn`]:{fontSize:t.fontSizeSM,height:t.controlHeightSM,lineHeight:"normal"},[`&&-lg ${n}-btn`]:{fontSize:t.fontSizeLG,height:t.controlHeightLG,lineHeight:"normal"},[`&&-lg ${n}-select-single ${n}-select-selector`]:{height:`${t.controlHeightLG}px`,[`${n}-select-selection-item, ${n}-select-selection-placeholder`]:{lineHeight:`${t.controlHeightLG-2}px`},[`${n}-select-selection-search-input`]:{height:`${t.controlHeightLG}px`}},[`&&-sm ${n}-select-single ${n}-select-selector`]:{height:`${t.controlHeightSM}px`,[`${n}-select-selection-item, ${n}-select-selection-placeholder`]:{lineHeight:`${t.controlHeightSM-2}px`},[`${n}-select-selection-search-input`]:{height:`${t.controlHeightSM}px`}}}},TY=t=>{const{componentCls:e,controlHeightSM:n,lineWidth:r}=t,i=16,o=(n-r*2-i)/2;return{[e]:_(_(_(_({},Zi(t)),yP(t)),vP(t,e)),{'&[type="color"]':{height:t.controlHeight,[`&${e}-lg`]:{height:t.controlHeightLG},[`&${e}-sm`]:{height:n,paddingTop:o,paddingBottom:o}}})}},BY=t=>{const{componentCls:e}=t;return{[`${e}-clear-icon`]:{margin:0,color:t.colorTextQuaternary,fontSize:t.fontSizeIcon,verticalAlign:-1,cursor:"pointer",transition:`color ${t.motionDurationSlow}`,"&:hover":{color:t.colorTextTertiary},"&:active":{color:t.colorText},"&-hidden":{visibility:"hidden"},"&-has-suffix":{margin:`0 ${t.inputAffixPadding}px`}},"&-textarea-with-clear-btn":{padding:"0 !important",border:"0 !important",[`${e}-clear-icon`]:{position:"absolute",insetBlockStart:t.paddingXS,insetInlineEnd:t.paddingXS,zIndex:1}}}},IY=t=>{const{componentCls:e,inputAffixPadding:n,colorTextDescription:r,motionDurationSlow:i,colorIcon:o,colorIconHover:a,iconCls:s}=t;return{[`${e}-affix-wrapper`]:_(_(_(_(_({},yP(t)),{display:"inline-flex",[`&:not(${e}-affix-wrapper-disabled):hover`]:_(_({},Ew(t)),{zIndex:1,[`${e}-search-with-button &`]:{zIndex:0}}),"&-focused, &:focus":{zIndex:1},"&-disabled":{[`${e}[disabled]`]:{background:"transparent"}},[`> input${e}`]:{padding:0,fontSize:"inherit",border:"none",borderRadius:0,outline:"none","&:focus":{boxShadow:"none !important"}},"&::before":{width:0,visibility:"hidden",content:'"\\a0"'},[`${e}`]:{"&-prefix, &-suffix":{display:"flex",flex:"none",alignItems:"center","> *:not(:last-child)":{marginInlineEnd:t.paddingXS}},"&-show-count-suffix":{color:r},"&-show-count-has-suffix":{marginInlineEnd:t.paddingXXS},"&-prefix":{marginInlineEnd:n},"&-suffix":{marginInlineStart:n}}}),BY(t)),{[`${s}${e}-password-icon`]:{color:o,cursor:"pointer",transition:`all ${i}`,"&:hover":{color:a}}}),vP(t,`${e}-affix-wrapper`))}},PY=t=>{const{componentCls:e,colorError:n,colorSuccess:r,borderRadiusLG:i,borderRadiusSM:o}=t;return{[`${e}-group`]:_(_(_({},Zi(t)),OY(t)),{"&-rtl":{direction:"rtl"},"&-wrapper":{display:"inline-block",width:"100%",textAlign:"start",verticalAlign:"top","&-rtl":{direction:"rtl"},"&-lg":{[`${e}-group-addon`]:{borderRadius:i}},"&-sm":{[`${e}-group-addon`]:{borderRadius:o}},"&-status-error":{[`${e}-group-addon`]:{color:n,borderColor:n}},"&-status-warning":{[`${e}-group-addon:last-child`]:{color:r,borderColor:r}}}})}},kY=t=>{const{componentCls:e,antCls:n}=t,r=`${e}-search`;return{[r]:{[`${e}`]:{"&:hover, &:focus":{borderColor:t.colorPrimaryHover,[`+ ${e}-group-addon ${r}-button:not(${n}-btn-primary)`]:{borderInlineStartColor:t.colorPrimaryHover}}},[`${e}-affix-wrapper`]:{borderRadius:0},[`${e}-lg`]:{lineHeight:t.lineHeightLG-2e-4},[`> ${e}-group`]:{[`> ${e}-group-addon:last-child`]:{insetInlineStart:-1,padding:0,border:0,[`${r}-button`]:{paddingTop:0,paddingBottom:0,borderStartStartRadius:0,borderStartEndRadius:t.borderRadius,borderEndEndRadius:t.borderRadius,borderEndStartRadius:0},[`${r}-button:not(${n}-btn-primary)`]:{color:t.colorTextDescription,"&:hover":{color:t.colorPrimaryHover},"&:active":{color:t.colorPrimaryActive},[`&${n}-btn-loading::before`]:{insetInlineStart:0,insetInlineEnd:0,insetBlockStart:0,insetBlockEnd:0}}}},[`${r}-button`]:{height:t.controlHeight,"&:hover, &:focus":{zIndex:1}},[`&-large ${r}-button`]:{height:t.controlHeightLG},[`&-small ${r}-button`]:{height:t.controlHeightSM},"&-rtl":{direction:"rtl"},[`&${e}-compact-item`]:{[`&:not(${e}-compact-last-item)`]:{[`${e}-group-addon`]:{[`${e}-search-button`]:{marginInlineEnd:-t.lineWidth,borderRadius:0}}},[`&:not(${e}-compact-first-item)`]:{[`${e},${e}-affix-wrapper`]:{borderRadius:0}},[`> ${e}-group-addon ${e}-search-button,
        > ${e},
        ${e}-affix-wrapper`]:{"&:hover,&:focus,&:active":{zIndex:2}},[`> ${e}-affix-wrapper-focused`]:{zIndex:2}}}}};function bP(t){return cn(t,{inputAffixPadding:t.paddingXXS,inputPaddingVertical:Math.max(Math.round((t.controlHeight-t.fontSize*t.lineHeight)/2*10)/10-t.lineWidth,3),inputPaddingVerticalLG:Math.ceil((t.controlHeightLG-t.fontSizeLG*t.lineHeightLG)/2*10)/10-t.lineWidth,inputPaddingVerticalSM:Math.max(Math.round((t.controlHeightSM-t.fontSize*t.lineHeight)/2*10)/10-t.lineWidth,0),inputPaddingHorizontal:t.paddingSM-t.lineWidth,inputPaddingHorizontalSM:t.paddingXS-t.lineWidth,inputPaddingHorizontalLG:t.controlPaddingHorizontal-t.lineWidth,inputBorderHoverColor:t.colorPrimaryHover,inputBorderActiveColor:t.colorPrimaryHover})}const FY=t=>{const{componentCls:e,inputPaddingHorizontal:n,paddingLG:r}=t,i=`${e}-textarea`;return{[i]:{position:"relative",[`${i}-suffix`]:{position:"absolute",top:0,insetInlineEnd:n,bottom:0,zIndex:1,display:"inline-flex",alignItems:"center",margin:"auto"},"&-status-error,\n        &-status-warning,\n        &-status-success,\n        &-status-validating":{[`&${i}-has-feedback`]:{[`${e}`]:{paddingInlineEnd:r}}},"&-show-count":{[`> ${e}`]:{height:"100%"},"&::after":{color:t.colorTextDescription,whiteSpace:"nowrap",content:"attr(data-count)",pointerEvents:"none",float:"right"}},"&-rtl":{"&::after":{float:"left"}}}}},Mw=ai("Input",t=>{const e=bP(t);return[TY(e),FY(e),IY(e),PY(e),kY(e),dw(e)]}),xP=t=>{if(Gi()&&window.document.documentElement){const e=Array.isArray(t)?t:[t],{documentElement:n}=window.document;return e.some(r=>r in n.style)}return!1},RY=(t,e)=>{if(!xP(t))return!1;const n=document.createElement("div"),r=n.style[t];return n.style[t]=e,n.style[t]!==r};function wP(t,e){return!Array.isArray(t)&&e!==void 0?RY(t,e):xP(t)}let j0=_({},dd.Modal);function _Y(t){t?j0=_(_({},j0),t):j0=_({},dd.Modal)}const Ab="internalMark",Up=De({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup(t,e){let{slots:n}=e;Hr(t.ANT_MARK__===Ab);const r=Ht({antLocale:_(_({},t.locale),{exist:!0}),ANT_MARK__:Ab});return zt("localeData",r),ze(()=>t.locale,i=>{_Y(i&&i.Modal),r.antLocale=_(_({},i),{exist:!0})},{immediate:!0}),()=>{var i;return(i=n.default)===null||i===void 0?void 0:i.call(n)}}});Up.install=function(t){return t.component(Up.name,Up),t};const zY=_c(Up),SP=De({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup(t,e){let{attrs:n,slots:r}=e,i,o=!1;const a=H(()=>t.duration===void 0?4.5:t.duration),s=()=>{a.value&&!o&&(i=setTimeout(()=>{u()},a.value*1e3))},l=()=>{i&&(clearTimeout(i),i=null)},u=f=>{f&&f.stopPropagation(),l();const{onClose:d,noticeKey:h}=t;d&&d(h)},c=()=>{l(),s()};return sn(()=>{s()}),Bc(()=>{o=!0,l()}),ze([a,()=>t.updateMark,()=>t.visible],(f,d)=>{let[h,p,m]=f,[v,g,w]=d;(h!==v||p!==g||m!==w&&w)&&c()},{flush:"post"}),()=>{var f,d;const{prefixCls:h,closable:p,closeIcon:m=(f=r.closeIcon)===null||f===void 0?void 0:f.call(r),onClick:v,holder:g}=t,{class:w,style:y}=n,S=`${h}-notice`,x=Object.keys(n).reduce((C,A)=>((A.startsWith("data-")||A.startsWith("aria-")||A==="role")&&(C[A]=n[A]),C),{}),b=k("div",Ee({class:He(S,w,{[`${S}-closable`]:p}),style:y,onMouseenter:l,onMouseleave:s,onClick:v},x),[k("div",{class:`${S}-content`},[(d=r.default)===null||d===void 0?void 0:d.call(r)]),p?k("a",{tabindex:0,onClick:u,class:`${S}-close`},[m||k("span",{class:`${S}-close-x`},null)]):null]);return g?k(Rg,{to:g},{default:()=>b}):b}}});var LY=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};let XA=0;const HY=Date.now();function KA(){const t=XA;return XA+=1,`rcNotification_${HY}_${t}`}const Db=De({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId"],setup(t,e){let{attrs:n,expose:r,slots:i}=e;const o=new Map,a=Te([]),s=H(()=>{const{prefixCls:c,animation:f="fade"}=t;let d=t.transitionName;return!d&&f&&(d=`${c}-${f}`),c3(d)}),l=(c,f)=>{const d=c.key||KA(),h=_(_({},c),{key:d}),{maxCount:p}=t,m=a.value.map(g=>g.notice.key).indexOf(d),v=a.value.concat();m!==-1?v.splice(m,1,{notice:h,holderCallback:f}):(p&&a.value.length>=p&&(h.key=v[0].notice.key,h.updateMark=KA(),h.userPassKey=d,v.shift()),v.push({notice:h,holderCallback:f})),a.value=v},u=c=>{a.value=a.value.filter(f=>{let{notice:{key:d,userPassKey:h}}=f;return(h||d)!==c})};return r({add:l,remove:u,notices:a}),()=>{var c;const{prefixCls:f,closeIcon:d=(c=i.closeIcon)===null||c===void 0?void 0:c.call(i,{prefixCls:f})}=t,h=a.value.map((m,v)=>{let{notice:g,holderCallback:w}=m;const y=v===a.value.length-1?g.updateMark:void 0,{key:S,userPassKey:x}=g,{content:b}=g,C=_(_(_({prefixCls:f,closeIcon:typeof d=="function"?d({prefixCls:f}):d},g),g.props),{key:S,noticeKey:x||S,updateMark:y,onClose:A=>{var D;u(A),(D=g.onClose)===null||D===void 0||D.call(g)},onClick:g.onClick});return w?k("div",{key:S,class:`${f}-hook-holder`,ref:A=>{typeof S>"u"||(A?(o.set(S,A),w(A,C)):o.delete(S))}},null):k(SP,Ee(Ee({},C),{},{class:He(C.class,t.hashId)}),{default:()=>[typeof b=="function"?b({prefixCls:f}):b]})}),p={[f]:1,[n.class]:!!n.class,[t.hashId]:!0};return k("div",{class:p,style:n.style||{top:"65px",left:"50%"}},[k(GT,Ee({tag:"div"},s.value),{default:()=>[h]})])}}});Db.newInstance=function(e,n){const r=e||{},{name:i="notification",getContainer:o,appContext:a,prefixCls:s,rootPrefixCls:l,transitionName:u,hasTransitionName:c,useStyle:f}=r,d=LY(r,["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName","useStyle"]),h=document.createElement("div");o?o().appendChild(h):document.body.appendChild(h);const p=De({compatConfig:{MODE:3},name:"NotificationWrapper",setup(v,g){let{attrs:w}=g;const y=Be(),S=H(()=>hr.getPrefixCls(i,s)),[,x]=f(S);return sn(()=>{n({notice(b){var C;(C=y.value)===null||C===void 0||C.add(b)},removeNotice(b){var C;(C=y.value)===null||C===void 0||C.remove(b)},destroy(){lm(null,h),h.parentNode&&h.parentNode.removeChild(h)},component:y})}),()=>{const b=hr,C=b.getRootPrefixCls(l,S.value),A=c?u:`${S.value}-${u}`;return k(jP,Ee(Ee({},b),{},{prefixCls:C}),{default:()=>[k(Db,Ee(Ee({ref:y},w),{},{prefixCls:S.value,transitionName:A,hashId:x.value}),null)]})}}}),m=k(p,d);m.appContext=a||m.appContext,lm(m,h)};const CP=Db;let YA=0;const VY=Date.now();function ZA(){const t=YA;return YA+=1,`rcNotification_${VY}_${t}`}const UY=De({name:"HookNotification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon","hashId","remove","notices","getStyles","getClassName","onAllRemoved","getContainer"],setup(t,e){let{attrs:n,slots:r}=e;const i=new Map,o=H(()=>t.notices),a=H(()=>{let c=t.transitionName;if(!c&&t.animation)switch(typeof t.animation){case"string":c=t.animation;break;case"function":c=t.animation().name;break;case"object":c=t.animation.name;break;default:c=`${t.prefixCls}-fade`;break}return c3(c)}),s=c=>t.remove(c),l=Te({});ze(o,()=>{const c={};Object.keys(l.value).forEach(f=>{c[f]=[]}),t.notices.forEach(f=>{const{placement:d="topRight"}=f.notice;d&&(c[d]=c[d]||[],c[d].push(f))}),l.value=c});const u=H(()=>Object.keys(l.value));return()=>{var c;const{prefixCls:f,closeIcon:d=(c=r.closeIcon)===null||c===void 0?void 0:c.call(r,{prefixCls:f})}=t,h=u.value.map(p=>{var m,v;const g=l.value[p],w=(m=t.getClassName)===null||m===void 0?void 0:m.call(t,p),y=(v=t.getStyles)===null||v===void 0?void 0:v.call(t,p),S=g.map((C,A)=>{let{notice:D,holderCallback:E}=C;const M=A===o.value.length-1?D.updateMark:void 0,{key:B,userPassKey:P}=D,{content:F}=D,$=_(_(_({prefixCls:f,closeIcon:typeof d=="function"?d({prefixCls:f}):d},D),D.props),{key:B,noticeKey:P||B,updateMark:M,onClose:N=>{var T;s(N),(T=D.onClose)===null||T===void 0||T.call(D)},onClick:D.onClick});return E?k("div",{key:B,class:`${f}-hook-holder`,ref:N=>{typeof B>"u"||(N?(i.set(B,N),E(N,$)):i.delete(B))}},null):k(SP,Ee(Ee({},$),{},{class:He($.class,t.hashId)}),{default:()=>[typeof F=="function"?F({prefixCls:f}):F]})}),x={[f]:1,[`${f}-${p}`]:1,[n.class]:!!n.class,[t.hashId]:!0,[w]:!!w};function b(){var C;g.length>0||(Reflect.deleteProperty(l.value,p),(C=t.onAllRemoved)===null||C===void 0||C.call(t))}return k("div",{key:p,class:x,style:n.style||y||{top:"65px",left:"50%"}},[k(GT,Ee(Ee({tag:"div"},a.value),{},{onAfterLeave:b}),{default:()=>[S]})])});return k(p3,{getContainer:t.getContainer},{default:()=>[h]})}}}),qY=UY;var WY=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jY=()=>document.body;let QA=0;function GY(){const t={};for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.forEach(i=>{i&&Object.keys(i).forEach(o=>{const a=i[o];a!==void 0&&(t[o]=a)})}),t}function AP(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{getContainer:e=jY,motion:n,prefixCls:r,maxCount:i,getClassName:o,getStyles:a,onAllRemoved:s}=t,l=WY(t,["getContainer","motion","prefixCls","maxCount","getClassName","getStyles","onAllRemoved"]),u=Be([]),c=Be(),f=(g,w)=>{const y=g.key||ZA(),S=_(_({},g),{key:y}),x=u.value.map(C=>C.notice.key).indexOf(y),b=u.value.concat();x!==-1?b.splice(x,1,{notice:S,holderCallback:w}):(i&&u.value.length>=i&&(S.key=b[0].notice.key,S.updateMark=ZA(),S.userPassKey=y,b.shift()),b.push({notice:S,holderCallback:w})),u.value=b},d=g=>{u.value=u.value.filter(w=>{let{notice:{key:y,userPassKey:S}}=w;return(S||y)!==g})},h=()=>{u.value=[]},p=()=>k(qY,{ref:c,prefixCls:r,maxCount:i,notices:u.value,remove:d,getClassName:o,getStyles:a,animation:n,hashId:t.hashId,onAllRemoved:s,getContainer:e},null),m=Be([]),v={open:g=>{const w=GY(l,g);(w.key===null||w.key===void 0)&&(w.key=`vc-notification-${QA}`,QA+=1),m.value=[...m.value,{type:"open",config:w}]},close:g=>{m.value=[...m.value,{type:"close",key:g}]},destroy:()=>{m.value=[...m.value,{type:"destroy"}]}};return ze(m,()=>{m.value.length&&(m.value.forEach(g=>{switch(g.type){case"open":f(g.config);break;case"close":d(g.key);break;case"destroy":h();break}}),m.value=[])}),[v,p]}const XY=t=>{const{componentCls:e,iconCls:n,boxShadowSecondary:r,colorBgElevated:i,colorSuccess:o,colorError:a,colorWarning:s,colorInfo:l,fontSizeLG:u,motionEaseInOutCirc:c,motionDurationSlow:f,marginXS:d,paddingXS:h,borderRadiusLG:p,zIndexPopup:m,messageNoticeContentPadding:v}=t,g=new Ft("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:h,transform:"translateY(0)",opacity:1}}),w=new Ft("MessageMoveOut",{"0%":{maxHeight:t.height,padding:h,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}});return[{[e]:_(_({},Zi(t)),{position:"fixed",top:d,left:"50%",transform:"translateX(-50%)",width:"100%",pointerEvents:"none",zIndex:m,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:g,animationDuration:f,animationPlayState:"paused",animationTimingFunction:c},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:w,animationDuration:f,animationPlayState:"paused",animationTimingFunction:c},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}})},{[`${e}-notice`]:{padding:h,textAlign:"center",[n]:{verticalAlign:"text-bottom",marginInlineEnd:d,fontSize:u},[`${e}-notice-content`]:{display:"inline-block",padding:v,background:i,borderRadius:p,boxShadow:r,pointerEvents:"all"},[`${e}-success ${n}`]:{color:o},[`${e}-error ${n}`]:{color:a},[`${e}-warning ${n}`]:{color:s},[`
        ${e}-info ${n},
        ${e}-loading ${n}`]:{color:l}}},{[`${e}-notice-pure-panel`]:{padding:0,textAlign:"start"}}]},DP=ai("Message",t=>{const e=cn(t,{messageNoticeContentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`});return[XY(e)]},t=>({height:150,zIndexPopup:t.zIndexPopupBase+10})),KY={info:k(dv,null,null),success:k(cv,null,null),error:k(ql,null,null),warning:k(fv,null,null),loading:k(Tl,null,null)},YY=De({name:"PureContent",inheritAttrs:!1,props:["prefixCls","type","icon"],setup(t,e){let{slots:n}=e;return()=>{var r;return k("div",{class:He(`${t.prefixCls}-custom-content`,`${t.prefixCls}-${t.type}`)},[t.icon||KY[t.type],k("span",null,[(r=n.default)===null||r===void 0?void 0:r.call(n)])])}}});var ZY=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const QY=8,JY=3,eZ=De({name:"Holder",inheritAttrs:!1,props:["top","prefixCls","getContainer","maxCount","duration","rtl","transitionName","onAllRemoved"],setup(t,e){let{expose:n}=e;var r,i;const{getPrefixCls:o,getPopupContainer:a}=En("message",t),s=H(()=>o("message",t.prefixCls)),[,l]=DP(s),u=()=>{var m;const v=(m=t.top)!==null&&m!==void 0?m:QY;return{left:"50%",transform:"translateX(-50%)",top:typeof v=="number"?`${v}px`:v}},c=()=>He(l.value,t.rtl?`${s.value}-rtl`:""),f=()=>{var m;return Rx({prefixCls:s.value,animation:(m=t.animation)!==null&&m!==void 0?m:"move-up",transitionName:t.transitionName})},d=k("span",{class:`${s.value}-close-x`},[k(sv,{class:`${s.value}-close-icon`},null)]),[h,p]=AP({getStyles:u,prefixCls:s.value,getClassName:c,motion:f,closable:!1,closeIcon:d,duration:(r=t.duration)!==null&&r!==void 0?r:JY,getContainer:(i=t.staticGetContainer)!==null&&i!==void 0?i:a.value,maxCount:t.maxCount,onAllRemoved:t.onAllRemoved});return n(_(_({},h),{prefixCls:s,hashId:l})),p}});let JA=0;function tZ(t){const e=Be(null),n=Symbol("messageHolderKey"),r=l=>{var u;(u=e.value)===null||u===void 0||u.close(l)},i=l=>{if(!e.value){const x=()=>{};return x.then=()=>{},x}const{open:u,prefixCls:c,hashId:f}=e.value,d=`${c}-notice`,{content:h,icon:p,type:m,key:v,class:g,onClose:w}=l,y=ZY(l,["content","icon","type","key","class","onClose"]);let S=v;return S==null&&(JA+=1,S=`antd-message-${JA}`),tH(x=>(u(_(_({},y),{key:S,content:()=>k(YY,{prefixCls:c,type:m,icon:typeof p=="function"?p():p},{default:()=>[typeof h=="function"?h():h]}),placement:"top",class:He(m&&`${d}-${m}`,f,g),onClose:()=>{w==null||w(),x()}})),()=>{r(S)}))},a={open:i,destroy:l=>{var u;l!==void 0?r(l):(u=e.value)===null||u===void 0||u.destroy()}};return["info","success","warning","error","loading"].forEach(l=>{const u=(c,f,d)=>{let h;c&&typeof c=="object"&&"content"in c?h=c:h={content:c};let p,m;typeof f=="function"?m=f:(p=f,m=d);const v=_(_({onClose:m,duration:p},h),{type:l});return i(v)};a[l]=u}),[a,()=>k(eZ,Ee(Ee({key:n},t),{},{ref:e}),null)]}function nZ(t){return tZ(t)}let EP=3,MP,Ir,rZ=1,NP="",$P="move-up",OP=!1,TP=()=>document.body,BP,IP=!1;function iZ(){return rZ++}function oZ(t){t.top!==void 0&&(MP=t.top,Ir=null),t.duration!==void 0&&(EP=t.duration),t.prefixCls!==void 0&&(NP=t.prefixCls),t.getContainer!==void 0&&(TP=t.getContainer,Ir=null),t.transitionName!==void 0&&($P=t.transitionName,Ir=null,OP=!0),t.maxCount!==void 0&&(BP=t.maxCount,Ir=null),t.rtl!==void 0&&(IP=t.rtl)}function aZ(t,e){if(Ir){e(Ir);return}CP.newInstance({appContext:t.appContext,prefixCls:t.prefixCls||NP,rootPrefixCls:t.rootPrefixCls,transitionName:$P,hasTransitionName:OP,style:{top:MP},getContainer:TP||t.getPopupContainer,maxCount:BP,name:"message",useStyle:DP},n=>{if(Ir){e(Ir);return}Ir=n,e(n)})}const PP={info:dv,success:cv,error:ql,warning:fv,loading:Tl},sZ=Object.keys(PP);function lZ(t){const e=t.duration!==void 0?t.duration:EP,n=t.key||iZ(),r=new Promise(o=>{const a=()=>(typeof t.onClose=="function"&&t.onClose(),o(!0));aZ(t,s=>{s.notice({key:n,duration:e,style:t.style||{},class:t.class,content:l=>{let{prefixCls:u}=l;const c=PP[t.type],f=c?k(c,null,null):"",d=He(`${u}-custom-content`,{[`${u}-${t.type}`]:t.type,[`${u}-rtl`]:IP===!0});return k("div",{class:d},[typeof t.icon=="function"?t.icon():t.icon||f,k("span",null,[typeof t.content=="function"?t.content():t.content])])},onClose:a,onClick:t.onClick})})}),i=()=>{Ir&&Ir.removeNotice(n)};return i.then=(o,a)=>r.then(o,a),i.promise=r,i}function uZ(t){return Object.prototype.toString.call(t)==="[object Object]"&&!!t.content}const xd={open:lZ,config:oZ,destroy(t){if(Ir)if(t){const{removeNotice:e}=Ir;e(t)}else{const{destroy:e}=Ir;e(),Ir=null}}};function cZ(t,e){t[e]=(n,r,i)=>uZ(n)?t.open(_(_({},n),{type:e})):(typeof r=="function"&&(i=r,r=void 0),t.open({content:n,duration:r,type:e,onClose:i}))}sZ.forEach(t=>cZ(xd,t));xd.warn=xd.warning;xd.useMessage=nZ;const kP=xd,fZ=t=>{const{componentCls:e,width:n,notificationMarginEdge:r}=t,i=new Ft("antNotificationTopFadeIn",{"0%":{marginTop:"-100%",opacity:0},"100%":{marginTop:0,opacity:1}}),o=new Ft("antNotificationBottomFadeIn",{"0%":{marginBottom:"-100%",opacity:0},"100%":{marginBottom:0,opacity:1}}),a=new Ft("antNotificationLeftFadeIn",{"0%":{right:{_skip_check_:!0,value:n},opacity:0},"100%":{right:{_skip_check_:!0,value:0},opacity:1}});return{[`&${e}-top, &${e}-bottom`]:{marginInline:0},[`&${e}-top`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:i}},[`&${e}-bottom`]:{[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:o}},[`&${e}-topLeft, &${e}-bottomLeft`]:{marginInlineEnd:0,marginInlineStart:r,[`${e}-fade-enter${e}-fade-enter-active, ${e}-fade-appear${e}-fade-appear-active`]:{animationName:a}}}},dZ=fZ,hZ=t=>{const{iconCls:e,componentCls:n,boxShadowSecondary:r,fontSizeLG:i,notificationMarginBottom:o,borderRadiusLG:a,colorSuccess:s,colorInfo:l,colorWarning:u,colorError:c,colorTextHeading:f,notificationBg:d,notificationPadding:h,notificationMarginEdge:p,motionDurationMid:m,motionEaseInOut:v,fontSize:g,lineHeight:w,width:y,notificationIconSize:S}=t,x=`${n}-notice`,b=new Ft("antNotificationFadeIn",{"0%":{left:{_skip_check_:!0,value:y},opacity:0},"100%":{left:{_skip_check_:!0,value:0},opacity:1}}),C=new Ft("antNotificationFadeOut",{"0%":{maxHeight:t.animationMaxHeight,marginBottom:o,opacity:1},"100%":{maxHeight:0,marginBottom:0,paddingTop:0,paddingBottom:0,opacity:0}});return[{[n]:_(_(_(_({},Zi(t)),{position:"fixed",zIndex:t.zIndexPopup,marginInlineEnd:p,[`${n}-hook-holder`]:{position:"relative"},[`&${n}-top, &${n}-bottom`]:{[`${n}-notice`]:{marginInline:"auto auto"}},[`&${n}-topLeft, &${n}-bottomLeft`]:{[`${n}-notice`]:{marginInlineEnd:"auto",marginInlineStart:0}},[`${n}-fade-enter, ${n}-fade-appear`]:{animationDuration:t.motionDurationMid,animationTimingFunction:v,animationFillMode:"both",opacity:0,animationPlayState:"paused"},[`${n}-fade-leave`]:{animationTimingFunction:v,animationFillMode:"both",animationDuration:m,animationPlayState:"paused"},[`${n}-fade-enter${n}-fade-enter-active, ${n}-fade-appear${n}-fade-appear-active`]:{animationName:b,animationPlayState:"running"},[`${n}-fade-leave${n}-fade-leave-active`]:{animationName:C,animationPlayState:"running"}}),dZ(t)),{"&-rtl":{direction:"rtl",[`${n}-notice-btn`]:{float:"left"}}})},{[x]:{position:"relative",width:y,maxWidth:`calc(100vw - ${p*2}px)`,marginBottom:o,marginInlineStart:"auto",padding:h,overflow:"hidden",lineHeight:w,wordWrap:"break-word",background:d,borderRadius:a,boxShadow:r,[`${n}-close-icon`]:{fontSize:g,cursor:"pointer"},[`${x}-message`]:{marginBottom:t.marginXS,color:f,fontSize:i,lineHeight:t.lineHeightLG},[`${x}-description`]:{fontSize:g},[`&${x}-closable ${x}-message`]:{paddingInlineEnd:t.paddingLG},[`${x}-with-icon ${x}-message`]:{marginBottom:t.marginXS,marginInlineStart:t.marginSM+S,fontSize:i},[`${x}-with-icon ${x}-description`]:{marginInlineStart:t.marginSM+S,fontSize:g},[`${x}-icon`]:{position:"absolute",fontSize:S,lineHeight:0,[`&-success${e}`]:{color:s},[`&-info${e}`]:{color:l},[`&-warning${e}`]:{color:u},[`&-error${e}`]:{color:c}},[`${x}-close`]:{position:"absolute",top:t.notificationPaddingVertical,insetInlineEnd:t.notificationPaddingHorizontal,color:t.colorIcon,outline:"none",width:t.notificationCloseButtonSize,height:t.notificationCloseButtonSize,borderRadius:t.borderRadiusSM,transition:`background-color ${t.motionDurationMid}, color ${t.motionDurationMid}`,display:"flex",alignItems:"center",justifyContent:"center","&:hover":{color:t.colorIconHover,backgroundColor:t.wireframe?"transparent":t.colorFillContent}},[`${x}-btn`]:{float:"right",marginTop:t.marginSM}}},{[`${x}-pure-panel`]:{margin:0}}]},FP=ai("Notification",t=>{const e=t.paddingMD,n=t.paddingLG,r=cn(t,{notificationBg:t.colorBgElevated,notificationPaddingVertical:e,notificationPaddingHorizontal:n,notificationPadding:`${t.paddingMD}px ${t.paddingContentHorizontalLG}px`,notificationMarginBottom:t.margin,notificationMarginEdge:t.marginLG,animationMaxHeight:150,notificationIconSize:t.fontSizeLG*t.lineHeightLG,notificationCloseButtonSize:t.controlHeightLG*.55});return[hZ(r)]},t=>({zIndexPopup:t.zIndexPopupBase+50,width:384}));function pZ(t,e){return e||k("span",{class:`${t}-close-x`},[k(sv,{class:`${t}-close-icon`},null)])}k(dv,null,null),k(cv,null,null),k(ql,null,null),k(fv,null,null),k(Tl,null,null);const mZ={success:cv,info:dv,error:ql,warning:fv};function gZ(t){let{prefixCls:e,icon:n,type:r,message:i,description:o,btn:a}=t,s=null;if(n)s=k("span",{class:`${e}-icon`},[Mu(n)]);else if(r){const l=mZ[r];s=k(l,{class:`${e}-icon ${e}-icon-${r}`},null)}return k("div",{class:He({[`${e}-with-icon`]:s}),role:"alert"},[s,k("div",{class:`${e}-message`},[i]),k("div",{class:`${e}-description`},[o]),a&&k("div",{class:`${e}-btn`},[a])])}function RP(t,e,n){let r;switch(e=typeof e=="number"?`${e}px`:e,n=typeof n=="number"?`${n}px`:n,t){case"top":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:e,bottom:"auto"};break;case"topLeft":r={left:0,top:e,bottom:"auto"};break;case"topRight":r={right:0,top:e,bottom:"auto"};break;case"bottom":r={left:"50%",transform:"translateX(-50%)",right:"auto",top:"auto",bottom:n};break;case"bottomLeft":r={left:0,top:"auto",bottom:n};break;default:r={right:0,top:"auto",bottom:n};break}return r}function vZ(t){return{name:`${t}-fade`}}var yZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const eD=24,bZ=4.5,xZ=De({name:"Holder",inheritAttrs:!1,props:["prefixCls","class","type","icon","content","onAllRemoved"],setup(t,e){let{expose:n}=e;const{getPrefixCls:r,getPopupContainer:i}=En("notification",t),o=H(()=>t.prefixCls||r("notification")),a=d=>{var h,p;return RP(d,(h=t.top)!==null&&h!==void 0?h:eD,(p=t.bottom)!==null&&p!==void 0?p:eD)},[,s]=FP(o),l=()=>He(s.value,{[`${o.value}-rtl`]:t.rtl}),u=()=>vZ(o.value),[c,f]=AP({prefixCls:o.value,getStyles:a,getClassName:l,motion:u,closable:!0,closeIcon:pZ(o.value),duration:bZ,getContainer:()=>{var d,h;return((d=t.getPopupContainer)===null||d===void 0?void 0:d.call(t))||((h=i.value)===null||h===void 0?void 0:h.call(i))||document.body},maxCount:t.maxCount,hashId:s.value,onAllRemoved:t.onAllRemoved});return n(_(_({},c),{prefixCls:o.value,hashId:s})),f}});function wZ(t){const e=Be(null),n=Symbol("notificationHolderKey"),r=s=>{if(!e.value)return;const{open:l,prefixCls:u,hashId:c}=e.value,f=`${u}-notice`,{message:d,description:h,icon:p,type:m,btn:v,class:g}=s,w=yZ(s,["message","description","icon","type","btn","class"]);return l(_(_({placement:"topRight"},w),{content:()=>k(gZ,{prefixCls:f,icon:typeof p=="function"?p():p,type:m,message:typeof d=="function"?d():d,description:typeof h=="function"?h():h,btn:typeof v=="function"?v():v},null),class:He(m&&`${f}-${m}`,c,g)}))},o={open:r,destroy:s=>{var l,u;s!==void 0?(l=e.value)===null||l===void 0||l.close(s):(u=e.value)===null||u===void 0||u.destroy()}};return["success","info","warning","error"].forEach(s=>{o[s]=l=>r(_(_({},l),{type:s}))}),[o,()=>k(xZ,Ee(Ee({key:n},t),{},{ref:e}),null)]}function SZ(t){return wZ(t)}const dl={};let _P=4.5,zP="24px",LP="24px",Eb="",HP="topRight",VP=()=>document.body,UP=null,Mb=!1,qP;function CZ(t){const{duration:e,placement:n,bottom:r,top:i,getContainer:o,closeIcon:a,prefixCls:s}=t;s!==void 0&&(Eb=s),e!==void 0&&(_P=e),n!==void 0&&(HP=n),r!==void 0&&(LP=typeof r=="number"?`${r}px`:r),i!==void 0&&(zP=typeof i=="number"?`${i}px`:i),o!==void 0&&(VP=o),a!==void 0&&(UP=a),t.rtl!==void 0&&(Mb=t.rtl),t.maxCount!==void 0&&(qP=t.maxCount)}function AZ(t,e){let{prefixCls:n,placement:r=HP,getContainer:i=VP,top:o,bottom:a,closeIcon:s=UP,appContext:l}=t;const{getPrefixCls:u}=_Z(),c=u("notification",n||Eb),f=`${c}-${r}-${Mb}`,d=dl[f];if(d){Promise.resolve(d).then(p=>{e(p)});return}const h=He(`${c}-${r}`,{[`${c}-rtl`]:Mb===!0});CP.newInstance({name:"notification",prefixCls:n||Eb,useStyle:FP,class:h,style:RP(r,o??zP,a??LP),appContext:l,getContainer:i,closeIcon:p=>{let{prefixCls:m}=p;return k("span",{class:`${m}-close-x`},[Mu(s,{},k(sv,{class:`${m}-close-icon`},null))])},maxCount:qP,hasTransitionName:!0},p=>{dl[f]=p,e(p)})}const DZ={success:xX,info:NX,error:BX,warning:AX};function EZ(t){const{icon:e,type:n,description:r,message:i,btn:o}=t,a=t.duration===void 0?_P:t.duration;AZ(t,s=>{s.notice({content:l=>{let{prefixCls:u}=l;const c=`${u}-notice`;let f=null;if(e)f=()=>k("span",{class:`${c}-icon`},[Mu(e)]);else if(n){const d=DZ[n];f=()=>k(d,{class:`${c}-icon ${c}-icon-${n}`},null)}return k("div",{class:f?`${c}-with-icon`:""},[f&&f(),k("div",{class:`${c}-message`},[!r&&f?k("span",{class:`${c}-message-single-line-auto-margin`},null):null,Mu(i)]),k("div",{class:`${c}-description`},[Mu(r)]),o?k("span",{class:`${c}-btn`},[Mu(o)]):null])},duration:a,closable:!0,onClose:t.onClose,onClick:t.onClick,key:t.key,style:t.style||{},class:t.class})})}const fc={open:EZ,close(t){Object.keys(dl).forEach(e=>Promise.resolve(dl[e]).then(n=>{n.removeNotice(t)}))},config:CZ,destroy(){Object.keys(dl).forEach(t=>{Promise.resolve(dl[t]).then(e=>{e.destroy()}),delete dl[t]})}},MZ=["success","info","warning","error"];MZ.forEach(t=>{fc[t]=e=>fc.open(_(_({},e),{type:t}))});fc.warn=fc.warning;fc.useNotification=SZ;const NZ=fc,$Z=`-ant-${Date.now()}-${Math.random()}`;function OZ(t,e){const n={},r=(a,s)=>{let l=a.clone();return l=(s==null?void 0:s(l))||l,l.toRgbString()},i=(a,s)=>{const l=new An(a),u=$l(l.toRgbString());n[`${s}-color`]=r(l),n[`${s}-color-disabled`]=u[1],n[`${s}-color-hover`]=u[4],n[`${s}-color-active`]=u[6],n[`${s}-color-outline`]=l.clone().setAlpha(.2).toRgbString(),n[`${s}-color-deprecated-bg`]=u[0],n[`${s}-color-deprecated-border`]=u[2]};if(e.primaryColor){i(e.primaryColor,"primary");const a=new An(e.primaryColor),s=$l(a.toRgbString());s.forEach((u,c)=>{n[`primary-${c+1}`]=u}),n["primary-color-deprecated-l-35"]=r(a,u=>u.lighten(35)),n["primary-color-deprecated-l-20"]=r(a,u=>u.lighten(20)),n["primary-color-deprecated-t-20"]=r(a,u=>u.tint(20)),n["primary-color-deprecated-t-50"]=r(a,u=>u.tint(50)),n["primary-color-deprecated-f-12"]=r(a,u=>u.setAlpha(u.getAlpha()*.12));const l=new An(s[0]);n["primary-color-active-deprecated-f-30"]=r(l,u=>u.setAlpha(u.getAlpha()*.3)),n["primary-color-active-deprecated-d-02"]=r(l,u=>u.darken(2))}return e.successColor&&i(e.successColor,"success"),e.warningColor&&i(e.warningColor,"warning"),e.errorColor&&i(e.errorColor,"error"),e.infoColor&&i(e.infoColor,"info"),`
  :root {
    ${Object.keys(n).map(a=>`--${t}-${a}: ${n[a]};`).join(`
`)}
  }
  `.trim()}function TZ(t,e){const n=OZ(t,e);Gi()?pd(n,`${$Z}-dynamic-theme`):Hr()}const BZ=t=>{const[e,n]=Gd();return ib(H(()=>({theme:e.value,token:n.value,hashId:"",path:["ant-design-icons",t.value]})),()=>[{[`.${t.value}`]:_(_({},Jg()),{[`.${t.value} .${t.value}-icon`]:{display:"block"}})}])},IZ=BZ;function PZ(t,e){const n=H(()=>(t==null?void 0:t.value)||{}),r=H(()=>n.value.inherit===!1||!(e!=null&&e.value)?PI:e.value);return H(()=>{if(!(t!=null&&t.value))return e==null?void 0:e.value;const o=_({},r.value.components);return Object.keys(t.value.components||{}).forEach(a=>{o[a]=_(_({},o[a]),t.value.components[a])}),_(_(_({},r.value),n.value),{token:_(_({},r.value.token),n.value.token),components:o})})}var kZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const FZ="ant";function Vu(){return hr.prefixCls||FZ}function WP(){return hr.iconPrefixCls||Nx}const Nw=Ht({}),hr=Ht({});Bn(()=>{_(hr,Nw),hr.prefixCls=Vu(),hr.iconPrefixCls=WP(),hr.getPrefixCls=(t,e)=>e||(t?`${hr.prefixCls}-${t}`:hr.prefixCls),hr.getRootPrefixCls=()=>hr.prefixCls?hr.prefixCls:Vu()});let G0;const RZ=t=>{G0&&G0(),G0=Bn(()=>{_(Nw,Ht(t)),_(hr,Ht(t))}),t.theme&&TZ(Vu(),t.theme)},_Z=()=>({getPrefixCls:(t,e)=>e||(t?`${Vu()}-${t}`:Vu()),getIconPrefixCls:WP,getRootPrefixCls:()=>hr.prefixCls?hr.prefixCls:Vu()}),Kf=De({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:OH(),setup(t,e){let{slots:n}=e;const r=oI(),i=($,N)=>{const{prefixCls:T="ant"}=t;if(N)return N;const z=T||r.getPrefixCls("");return $?`${z}-${$}`:z},o=H(()=>t.iconPrefixCls||r.iconPrefixCls.value||Nx),a=H(()=>o.value!==r.iconPrefixCls.value),s=H(()=>{var $;return t.csp||(($=r.csp)===null||$===void 0?void 0:$.value)}),l=IZ(o),u=PZ(H(()=>t.theme),H(()=>{var $;return($=r.theme)===null||$===void 0?void 0:$.value})),c=$=>(t.renderEmpty||n.renderEmpty||r.renderEmpty||BU)($),f=H(()=>{var $,N;return($=t.autoInsertSpaceInButton)!==null&&$!==void 0?$:(N=r.autoInsertSpaceInButton)===null||N===void 0?void 0:N.value}),d=H(()=>{var $;return t.locale||(($=r.locale)===null||$===void 0?void 0:$.value)});ze(d,()=>{Nw.locale=d.value},{immediate:!0});const h=H(()=>{var $;return t.direction||(($=r.direction)===null||$===void 0?void 0:$.value)}),p=H(()=>{var $,N;return($=t.space)!==null&&$!==void 0?$:(N=r.space)===null||N===void 0?void 0:N.value}),m=H(()=>{var $,N;return($=t.virtual)!==null&&$!==void 0?$:(N=r.virtual)===null||N===void 0?void 0:N.value}),v=H(()=>{var $,N;return($=t.dropdownMatchSelectWidth)!==null&&$!==void 0?$:(N=r.dropdownMatchSelectWidth)===null||N===void 0?void 0:N.value}),g=H(()=>{var $;return t.getTargetContainer!==void 0?t.getTargetContainer:($=r.getTargetContainer)===null||$===void 0?void 0:$.value}),w=H(()=>{var $;return t.getPopupContainer!==void 0?t.getPopupContainer:($=r.getPopupContainer)===null||$===void 0?void 0:$.value}),y=H(()=>{var $;return t.pageHeader!==void 0?t.pageHeader:($=r.pageHeader)===null||$===void 0?void 0:$.value}),S=H(()=>{var $;return t.input!==void 0?t.input:($=r.input)===null||$===void 0?void 0:$.value}),x=H(()=>{var $;return t.pagination!==void 0?t.pagination:($=r.pagination)===null||$===void 0?void 0:$.value}),b=H(()=>{var $;return t.form!==void 0?t.form:($=r.form)===null||$===void 0?void 0:$.value}),C=H(()=>{var $;return t.select!==void 0?t.select:($=r.select)===null||$===void 0?void 0:$.value}),A=H(()=>t.componentSize),D=H(()=>t.componentDisabled),E=H(()=>{var $,N;return($=t.wave)!==null&&$!==void 0?$:(N=r.wave)===null||N===void 0?void 0:N.value}),M={csp:s,autoInsertSpaceInButton:f,locale:d,direction:h,space:p,virtual:m,dropdownMatchSelectWidth:v,getPrefixCls:i,iconPrefixCls:o,theme:H(()=>{var $,N;return($=u.value)!==null&&$!==void 0?$:(N=r.theme)===null||N===void 0?void 0:N.value}),renderEmpty:c,getTargetContainer:g,getPopupContainer:w,pageHeader:y,input:S,pagination:x,form:b,select:C,componentSize:A,componentDisabled:D,transformCellText:H(()=>t.transformCellText),wave:E},B=H(()=>{const $=u.value||{},{algorithm:N,token:T}=$,z=kZ($,["algorithm","token"]),I=N&&(!Array.isArray(N)||N.length>0)?vI(N):void 0;return _(_({},z),{theme:I,token:_(_({},Qg),T)})}),P=H(()=>{var $,N;let T={};return d.value&&(T=(($=d.value.Form)===null||$===void 0?void 0:$.defaultValidateMessages)||((N=dd.Form)===null||N===void 0?void 0:N.defaultValidateMessages)||{}),t.form&&t.form.validateMessages&&(T=_(_({},T),t.form.validateMessages)),T});TH(M),$H({validateMessages:P}),IU(A),BH(D);const F=$=>{var N,T;let z=a.value?l((N=n.default)===null||N===void 0?void 0:N.call(n)):(T=n.default)===null||T===void 0?void 0:T.call(n);if(t.theme){const I=function(){return z}();z=k(DU,{value:B.value},{default:()=>[I]})}return k(zY,{locale:d.value||$,ANT_MARK__:Ab},{default:()=>[z]})};return Bn(()=>{h.value&&(kP.config({rtl:h.value==="rtl"}),NZ.config({rtl:h.value==="rtl"}))}),()=>k(Ox,{children:($,N,T)=>F(T)},null)}});Kf.config=RZ;Kf.install=function(t){t.component(Kf.name,Kf)};const jP=Kf;bi.Button=Fm;bi.install=function(t){return t.component(bi.name,bi),t.component(Fm.name,Fm),t};const Yf=t=>t!=null&&(Array.isArray(t)?Hl(t).length:!0);function $w(t){return Yf(t.prefix)||Yf(t.suffix)||Yf(t.allowClear)}function qp(t){return Yf(t.addonBefore)||Yf(t.addonAfter)}function Nb(t){return typeof t>"u"||t===null?"":String(t)}function Zf(t,e,n,r){if(!n)return;const i=e;if(e.type==="click"){Object.defineProperty(i,"target",{writable:!0}),Object.defineProperty(i,"currentTarget",{writable:!0});const o=t.cloneNode(!0);i.target=o,i.currentTarget=o,o.value="",n(i);return}if(r!==void 0){Object.defineProperty(i,"target",{writable:!0}),Object.defineProperty(i,"currentTarget",{writable:!0}),i.target=t,i.currentTarget=t,t.value=r,n(i);return}n(i)}function GP(t,e){if(!t)return;t.focus(e);const{cursor:n}=e||{};if(n){const r=t.value.length;switch(n){case"start":t.setSelectionRange(0,0);break;case"end":t.setSelectionRange(r,r);break;default:t.setSelectionRange(0,r)}}}const zZ=()=>({addonBefore:ve.any,addonAfter:ve.any,prefix:ve.any,suffix:ve.any,clearIcon:ve.any,affixWrapperClassName:String,groupClassName:String,wrapperClassName:String,inputClassName:String,allowClear:{type:Boolean,default:void 0}}),XP=()=>_(_({},zZ()),{value:{type:[String,Number,Symbol],default:void 0},defaultValue:{type:[String,Number,Symbol],default:void 0},inputElement:ve.any,prefixCls:String,disabled:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},triggerFocus:Function,readonly:{type:Boolean,default:void 0},handleReset:Function,hidden:{type:Boolean,default:void 0}}),KP=()=>_(_({},XP()),{id:String,placeholder:{type:[String,Number]},autocomplete:String,type:Sa("text"),name:String,size:{type:String},autofocus:{type:Boolean,default:void 0},lazy:{type:Boolean,default:!0},maxlength:Number,loading:{type:Boolean,default:void 0},bordered:{type:Boolean,default:void 0},showCount:{type:[Boolean,Object]},htmlSize:Number,onPressEnter:Function,onKeydown:Function,onKeyup:Function,onFocus:Function,onBlur:Function,onChange:Function,onInput:Function,"onUpdate:value":Function,onCompositionstart:Function,onCompositionend:Function,valueModifiers:Object,hidden:{type:Boolean,default:void 0},status:String}),LZ=De({name:"BaseInput",inheritAttrs:!1,props:XP(),setup(t,e){let{slots:n,attrs:r}=e;const i=Te(),o=s=>{var l;if(!((l=i.value)===null||l===void 0)&&l.contains(s.target)){const{triggerFocus:u}=t;u==null||u()}},a=()=>{var s;const{allowClear:l,value:u,disabled:c,readonly:f,handleReset:d,suffix:h=n.suffix,prefixCls:p}=t;if(!l)return null;const m=!c&&!f&&u,v=`${p}-clear-icon`,g=((s=n.clearIcon)===null||s===void 0?void 0:s.call(n))||"*";return k("span",{onClick:d,onMousedown:w=>w.preventDefault(),class:He({[`${v}-hidden`]:!m,[`${v}-has-suffix`]:!!h},v),role:"button",tabindex:-1},[g])};return()=>{var s,l;const{focused:u,value:c,disabled:f,allowClear:d,readonly:h,hidden:p,prefixCls:m,prefix:v=(s=n.prefix)===null||s===void 0?void 0:s.call(n),suffix:g=(l=n.suffix)===null||l===void 0?void 0:l.call(n),addonAfter:w=n.addonAfter,addonBefore:y=n.addonBefore,inputElement:S,affixWrapperClassName:x,wrapperClassName:b,groupClassName:C}=t;let A=zn(S,{value:c,hidden:p});if($w({prefix:v,suffix:g,allowClear:d})){const D=`${m}-affix-wrapper`,E=He(D,{[`${D}-disabled`]:f,[`${D}-focused`]:u,[`${D}-readonly`]:h,[`${D}-input-with-clear-btn`]:g&&d&&c},!qp({addonAfter:w,addonBefore:y})&&r.class,x),M=(g||d)&&k("span",{class:`${m}-suffix`},[a(),g]);A=k("span",{class:E,style:r.style,hidden:!qp({addonAfter:w,addonBefore:y})&&p,onMousedown:o,ref:i},[v&&k("span",{class:`${m}-prefix`},[v]),zn(S,{style:null,value:c,hidden:null}),M])}if(qp({addonAfter:w,addonBefore:y})){const D=`${m}-group`,E=`${D}-addon`,M=He(`${m}-wrapper`,D,b),B=He(`${m}-group-wrapper`,r.class,C);return k("span",{class:B,style:r.style,hidden:p},[k("span",{class:M},[y&&k("span",{class:E},[y]),zn(A,{style:null,hidden:null}),w&&k("span",{class:E},[w])])])}return A}}});var HZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const VZ=De({name:"VCInput",inheritAttrs:!1,props:KP(),setup(t,e){let{slots:n,attrs:r,expose:i,emit:o}=e;const a=Be(t.value===void 0?t.defaultValue:t.value),s=Be(!1),l=Be(),u=Be();ze(()=>t.value,()=>{a.value=t.value}),ze(()=>t.disabled,()=>{t.disabled&&(s.value=!1)});const c=C=>{l.value&&GP(l.value,C)};i({focus:c,blur:()=>{var C;(C=l.value)===null||C===void 0||C.blur()},input:l,stateValue:a,setSelectionRange:(C,A,D)=>{var E;(E=l.value)===null||E===void 0||E.setSelectionRange(C,A,D)},select:()=>{var C;(C=l.value)===null||C===void 0||C.select()}});const p=C=>{o("change",C)},m=(C,A)=>{a.value!==C&&(t.value===void 0?a.value=C:yn(()=>{var D;l.value.value!==a.value&&((D=u.value)===null||D===void 0||D.$forceUpdate())}),yn(()=>{A&&A()}))},v=C=>{const{value:A,composing:D}=C.target;if((C.isComposing||D)&&t.lazy||a.value===A)return;const E=C.target.value;Zf(l.value,C,p),m(E)},g=C=>{C.keyCode===13&&o("pressEnter",C),o("keydown",C)},w=C=>{s.value=!0,o("focus",C)},y=C=>{s.value=!1,o("blur",C)},S=C=>{Zf(l.value,C,p),m("",()=>{c()})},x=()=>{var C,A;const{addonBefore:D=n.addonBefore,addonAfter:E=n.addonAfter,disabled:M,valueModifiers:B={},htmlSize:P,autocomplete:F,prefixCls:$,inputClassName:N,prefix:T=(C=n.prefix)===null||C===void 0?void 0:C.call(n),suffix:z=(A=n.suffix)===null||A===void 0?void 0:A.call(n),allowClear:I,type:q="text"}=t,X=In(t,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","size","bordered","htmlSize","lazy","showCount","valueModifiers","showCount","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName"]),V=_(_(_({},X),r),{autocomplete:F,onChange:v,onInput:v,onFocus:w,onBlur:y,onKeydown:g,class:He($,{[`${$}-disabled`]:M},N,!qp({addonAfter:E,addonBefore:D})&&!$w({prefix:T,suffix:z,allowClear:I})&&r.class),ref:l,key:"ant-input",size:P,type:q});B.lazy&&delete V.onInput,V.autofocus||delete V.autofocus;const L=k("input",In(V,["size"]),null);return _a(L,[[Ux]])},b=()=>{var C;const{maxlength:A,suffix:D=(C=n.suffix)===null||C===void 0?void 0:C.call(n),showCount:E,prefixCls:M}=t,B=Number(A)>0;if(D||E){const P=[...Nb(a.value)].length,F=typeof E=="object"?E.formatter({count:P,maxlength:A}):`${P}${B?` / ${A}`:""}`;return k(gt,null,[!!E&&k("span",{class:He(`${M}-show-count-suffix`,{[`${M}-show-count-has-suffix`]:!!D})},[F]),D])}return null};return sn(()=>{}),()=>{const{prefixCls:C,disabled:A}=t,D=HZ(t,["prefixCls","disabled"]);return k(LZ,Ee(Ee(Ee({},D),r),{},{ref:u,prefixCls:C,inputElement:x(),handleReset:S,value:Nb(a.value),focused:s.value,triggerFocus:c,suffix:b(),disabled:A}),n)}}}),YP=()=>In(KP(),["wrapperClassName","groupClassName","inputClassName","affixWrapperClassName"]),Ow=YP,ZP=()=>_(_({},In(YP(),["prefix","addonBefore","addonAfter","suffix"])),{rows:Number,autosize:{type:[Boolean,Object],default:void 0},autoSize:{type:[Boolean,Object],default:void 0},onResize:{type:Function},onCompositionstart:fd(),onCompositionend:fd(),valueModifiers:Object});var UZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const On=De({compatConfig:{MODE:3},name:"AInput",inheritAttrs:!1,props:Ow(),setup(t,e){let{slots:n,attrs:r,expose:i,emit:o}=e;const a=Te(),s=Kd(),l=Bl.useInject(),u=H(()=>lv(l.status,t.status)),{direction:c,prefixCls:f,size:d,autocomplete:h}=En("input",t),{compactSize:p,compactItemClassnames:m}=ow(f,c),v=H(()=>p.value||d.value),[g,w]=Mw(f),y=Vl();i({focus:P=>{var F;(F=a.value)===null||F===void 0||F.focus(P)},blur:()=>{var P;(P=a.value)===null||P===void 0||P.blur()},input:a,setSelectionRange:(P,F,$)=>{var N;(N=a.value)===null||N===void 0||N.setSelectionRange(P,F,$)},select:()=>{var P;(P=a.value)===null||P===void 0||P.select()}});const A=Te([]),D=()=>{A.value.push(setTimeout(()=>{var P,F,$,N;!((P=a.value)===null||P===void 0)&&P.input&&((F=a.value)===null||F===void 0?void 0:F.input.getAttribute("type"))==="password"&&(!(($=a.value)===null||$===void 0)&&$.input.hasAttribute("value"))&&((N=a.value)===null||N===void 0||N.input.removeAttribute("value"))}))};sn(()=>{D()}),J8(()=>{A.value.forEach(P=>clearTimeout(P))}),ln(()=>{A.value.forEach(P=>clearTimeout(P))});const E=P=>{D(),o("blur",P),s.onFieldBlur()},M=P=>{D(),o("focus",P)},B=P=>{o("update:value",P.target.value),o("change",P),o("input",P),s.onFieldChange()};return()=>{var P,F,$,N,T,z;const{hasFeedback:I,feedbackIcon:q}=l,{allowClear:X,bordered:V=!0,prefix:L=(P=n.prefix)===null||P===void 0?void 0:P.call(n),suffix:ne=(F=n.suffix)===null||F===void 0?void 0:F.call(n),addonAfter:se=($=n.addonAfter)===null||$===void 0?void 0:$.call(n),addonBefore:Y=(N=n.addonBefore)===null||N===void 0?void 0:N.call(n),id:ee=(T=s.id)===null||T===void 0?void 0:T.value}=t,ie=UZ(t,["allowClear","bordered","prefix","suffix","addonAfter","addonBefore","id"]),j=(I||ne)&&k(gt,null,[ne,I&&q]),W=f.value,J=$w({prefix:L,suffix:ne})||!!I,oe=n.clearIcon||(()=>k(ql,null,null));return g(k(VZ,Ee(Ee(Ee({},r),In(ie,["onUpdate:value","onChange","onInput"])),{},{onChange:B,id:ee,disabled:(z=t.disabled)!==null&&z!==void 0?z:y.value,ref:a,prefixCls:W,autocomplete:h.value,onBlur:E,onFocus:M,prefix:L,suffix:j,allowClear:X,addonAfter:se&&k(hA,null,{default:()=>[k(dA,null,{default:()=>[se]})]}),addonBefore:Y&&k(hA,null,{default:()=>[k(dA,null,{default:()=>[Y]})]}),class:[r.class,m.value],inputClassName:He({[`${W}-sm`]:v.value==="small",[`${W}-lg`]:v.value==="large",[`${W}-rtl`]:c.value==="rtl",[`${W}-borderless`]:!V},!J&&Hu(W,u.value),w.value),affixWrapperClassName:He({[`${W}-affix-wrapper-sm`]:v.value==="small",[`${W}-affix-wrapper-lg`]:v.value==="large",[`${W}-affix-wrapper-rtl`]:c.value==="rtl",[`${W}-affix-wrapper-borderless`]:!V},Hu(`${W}-affix-wrapper`,u.value,I),w.value),wrapperClassName:He({[`${W}-group-rtl`]:c.value==="rtl"},w.value),groupClassName:He({[`${W}-group-wrapper-sm`]:v.value==="small",[`${W}-group-wrapper-lg`]:v.value==="large",[`${W}-group-wrapper-rtl`]:c.value==="rtl"},Hu(`${W}-group-wrapper`,u.value,I),w.value)}),_(_({},n),{clearIcon:oe})))}}}),qZ=De({compatConfig:{MODE:3},name:"AInputGroup",inheritAttrs:!1,props:{prefixCls:String,size:{type:String},compact:{type:Boolean,default:void 0}},setup(t,e){let{slots:n,attrs:r}=e;const{prefixCls:i,direction:o,getPrefixCls:a}=En("input-group",t),s=Bl.useInject();Bl.useProvide(s,{isFormItemInput:!1});const l=H(()=>a("input")),[u,c]=Mw(l),f=H(()=>{const d=i.value;return{[`${d}`]:!0,[c.value]:!0,[`${d}-lg`]:t.size==="large",[`${d}-sm`]:t.size==="small",[`${d}-compact`]:t.compact,[`${d}-rtl`]:o.value==="rtl"}});return()=>{var d;return u(k("span",Ee(Ee({},r),{},{class:He(f.value,r.class)}),[(d=n.default)===null||d===void 0?void 0:d.call(n)]))}}});var WZ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const jZ=De({compatConfig:{MODE:3},name:"AInputSearch",inheritAttrs:!1,props:_(_({},Ow()),{inputPrefixCls:String,enterButton:ve.any,onSearch:{type:Function}}),setup(t,e){let{slots:n,attrs:r,expose:i,emit:o}=e;const a=Be(),s=Be(!1);i({focus:()=>{var x;(x=a.value)===null||x===void 0||x.focus()},blur:()=>{var x;(x=a.value)===null||x===void 0||x.blur()}});const c=x=>{o("update:value",x.target.value),x&&x.target&&x.type==="click"&&o("search",x.target.value,x),o("change",x)},f=x=>{var b;document.activeElement===((b=a.value)===null||b===void 0?void 0:b.input)&&x.preventDefault()},d=x=>{var b,C;o("search",(C=(b=a.value)===null||b===void 0?void 0:b.input)===null||C===void 0?void 0:C.stateValue,x)},h=x=>{s.value||t.loading||d(x)},p=x=>{s.value=!0,o("compositionstart",x)},m=x=>{s.value=!1,o("compositionend",x)},{prefixCls:v,getPrefixCls:g,direction:w,size:y}=En("input-search",t),S=H(()=>g("input",t.inputPrefixCls));return()=>{var x,b,C,A;const{disabled:D,loading:E,addonAfter:M=(x=n.addonAfter)===null||x===void 0?void 0:x.call(n),suffix:B=(b=n.suffix)===null||b===void 0?void 0:b.call(n)}=t,P=WZ(t,["disabled","loading","addonAfter","suffix"]);let{enterButton:F=(A=(C=n.enterButton)===null||C===void 0?void 0:C.call(n))!==null&&A!==void 0?A:!1}=t;F=F||F==="";const $=typeof F=="boolean"?k(z3,null,null):null,N=`${v.value}-button`,T=Array.isArray(F)?F[0]:F;let z;const I=T.type&&rB(T.type)&&T.type.__ANT_BUTTON;if(I||T.tagName==="button")z=zn(T,_({onMousedown:f,onClick:d,key:"enterButton"},I?{class:N,size:y.value}:{}),!1);else{const X=$&&!F;z=k(Hi,{class:N,type:F?"primary":void 0,size:y.value,disabled:D,key:"enterButton",onMousedown:f,onClick:d,loading:E,icon:X?$:null},{default:()=>[X?null:$||F]})}M&&(z=[z,M]);const q=He(v.value,{[`${v.value}-rtl`]:w.value==="rtl",[`${v.value}-${y.value}`]:!!y.value,[`${v.value}-with-button`]:!!F},r.class);return k(On,Ee(Ee(Ee({ref:a},In(P,["onUpdate:value","onSearch","enterButton"])),r),{},{onPressEnter:h,onCompositionstart:p,onCompositionend:m,size:y.value,prefixCls:S.value,addonAfter:z,suffix:B,onChange:c,class:q,disabled:D}),n)}}}),tD=t=>t!=null&&(Array.isArray(t)?Hl(t).length:!0);function GZ(t){return tD(t.addonBefore)||tD(t.addonAfter)}const XZ=["text","input"],KZ=De({compatConfig:{MODE:3},name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:String,inputType:ve.oneOf(oc("text","input")),value:Ho(),defaultValue:Ho(),allowClear:{type:Boolean,default:void 0},element:Ho(),handleReset:Function,disabled:{type:Boolean,default:void 0},direction:{type:String},size:{type:String},suffix:Ho(),prefix:Ho(),addonBefore:Ho(),addonAfter:Ho(),readonly:{type:Boolean,default:void 0},focused:{type:Boolean,default:void 0},bordered:{type:Boolean,default:!0},triggerFocus:{type:Function},hidden:Boolean,status:String,hashId:String},setup(t,e){let{slots:n,attrs:r}=e;const i=Bl.useInject(),o=s=>{const{value:l,disabled:u,readonly:c,handleReset:f,suffix:d=n.suffix}=t,h=!u&&!c&&l,p=`${s}-clear-icon`;return k(ql,{onClick:f,onMousedown:m=>m.preventDefault(),class:He({[`${p}-hidden`]:!h,[`${p}-has-suffix`]:!!d},p),role:"button"},null)},a=(s,l)=>{const{value:u,allowClear:c,direction:f,bordered:d,hidden:h,status:p,addonAfter:m=n.addonAfter,addonBefore:v=n.addonBefore,hashId:g}=t,{status:w,hasFeedback:y}=i;if(!c)return zn(l,{value:u,disabled:t.disabled});const S=He(`${s}-affix-wrapper`,`${s}-affix-wrapper-textarea-with-clear-btn`,Hu(`${s}-affix-wrapper`,lv(w,p),y),{[`${s}-affix-wrapper-rtl`]:f==="rtl",[`${s}-affix-wrapper-borderless`]:!d,[`${r.class}`]:!GZ({addonAfter:m,addonBefore:v})&&r.class},g);return k("span",{class:S,style:r.style,hidden:h},[zn(l,{style:null,value:u,disabled:t.disabled}),o(s)])};return()=>{var s;const{prefixCls:l,inputType:u,element:c=(s=n.element)===null||s===void 0?void 0:s.call(n)}=t;return u===XZ[0]?a(l,c):null}}}),YZ=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
  pointer-events: none !important;
`,ZZ=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","font-variant","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing","word-break","white-space"],X0={};let Ii;function QZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=t.getAttribute("id")||t.getAttribute("data-reactid")||t.getAttribute("name");if(e&&X0[n])return X0[n];const r=window.getComputedStyle(t),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),l={sizingStyle:ZZ.map(u=>`${u}:${r.getPropertyValue(u)}`).join(";"),paddingSize:o,borderSize:a,boxSizing:i};return e&&n&&(X0[n]=l),l}function JZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;Ii||(Ii=document.createElement("textarea"),Ii.setAttribute("tab-index","-1"),Ii.setAttribute("aria-hidden","true"),document.body.appendChild(Ii)),t.getAttribute("wrap")?Ii.setAttribute("wrap",t.getAttribute("wrap")):Ii.removeAttribute("wrap");const{paddingSize:i,borderSize:o,boxSizing:a,sizingStyle:s}=QZ(t,e);Ii.setAttribute("style",`${s};${YZ}`),Ii.value=t.value||t.placeholder||"";let l,u,c,f=Ii.scrollHeight;if(a==="border-box"?f+=o:a==="content-box"&&(f-=i),n!==null||r!==null){Ii.value=" ";const h=Ii.scrollHeight-i;n!==null&&(l=h*n,a==="border-box"&&(l=l+i+o),f=Math.max(l,f)),r!==null&&(u=h*r,a==="border-box"&&(u=u+i+o),c=f>u?"":"hidden",f=Math.min(u,f))}const d={height:`${f}px`,overflowY:c,resize:"none"};return l&&(d.minHeight=`${l}px`),u&&(d.maxHeight=`${u}px`),d}const K0=0,Y0=1,Z0=2,eQ=De({compatConfig:{MODE:3},name:"ResizableTextArea",inheritAttrs:!1,props:ZP(),setup(t,e){let{attrs:n,emit:r,expose:i}=e,o,a;const s=Te(),l=Te({}),u=Te(Z0);ln(()=>{Rt.cancel(o),Rt.cancel(a)});const c=()=>{try{if(document.activeElement===s.value){const b=s.value.selectionStart,C=s.value.selectionEnd,A=s.value.scrollTop;s.value.setSelectionRange(b,C),s.value.scrollTop=A}}catch{}},f=Te(),d=Te();Bn(()=>{const b=t.autoSize||t.autosize;b?(f.value=b.minRows,d.value=b.maxRows):(f.value=void 0,d.value=void 0)});const h=H(()=>!!(t.autoSize||t.autosize)),p=()=>{u.value=K0};ze([()=>t.value,f,d,h],()=>{h.value&&p()},{immediate:!0,flush:"post"});const m=Te();ze([u,s],()=>{if(s.value)if(u.value===K0)u.value=Y0;else if(u.value===Y0){const b=JZ(s.value,!1,f.value,d.value);u.value=Z0,m.value=b}else c()},{immediate:!0,flush:"post"});const v=Yi(),g=Te(),w=()=>{Rt.cancel(g.value)},y=b=>{u.value===Z0&&(r("resize",b),h.value&&(w(),g.value=Rt(()=>{p()})))};ln(()=>{w()}),i({resizeTextarea:()=>{p()},textArea:s,instance:v}),Hr(t.autosize===void 0);const x=()=>{const{prefixCls:b,disabled:C}=t,A=In(t,["prefixCls","onPressEnter","autoSize","autosize","defaultValue","allowClear","type","lazy","maxlength","valueModifiers"]),D=He(b,n.class,{[`${b}-disabled`]:C}),E=h.value?m.value:null,M=[n.style,l.value,E],B=_(_(_({},A),n),{style:M,class:D});return(u.value===K0||u.value===Y0)&&M.push({overflowX:"hidden",overflowY:"hidden"}),B.autofocus||delete B.autofocus,B.rows===0&&delete B.rows,k(jd,{onResize:y,disabled:!h.value},{default:()=>[_a(k("textarea",Ee(Ee({},B),{},{ref:s}),null),[[Ux]])]})};return()=>x()}}),tQ=eQ;function QP(t,e){return[...t||""].slice(0,e).join("")}function nD(t,e,n,r){let i=n;return t?i=QP(n,r):[...e||""].length<n.length&&[...n||""].length>r&&(i=e),i}const JP=De({compatConfig:{MODE:3},name:"ATextarea",inheritAttrs:!1,props:ZP(),setup(t,e){let{attrs:n,expose:r,emit:i}=e;const o=Kd(),a=Bl.useInject(),s=H(()=>lv(a.status,t.status)),l=Be(t.value===void 0?t.defaultValue:t.value),u=Be(),c=Be(""),{prefixCls:f,size:d,direction:h}=En("input",t),[p,m]=Mw(f),v=Vl(),g=H(()=>t.showCount===""||t.showCount||!1),w=H(()=>Number(t.maxlength)>0),y=Be(!1),S=Be(),x=Be(0),b=z=>{y.value=!0,S.value=c.value,x.value=z.currentTarget.selectionStart,i("compositionstart",z)},C=z=>{var I;y.value=!1;let q=z.currentTarget.value;if(w.value){const X=x.value>=t.maxlength+1||x.value===((I=S.value)===null||I===void 0?void 0:I.length);q=nD(X,S.value,q,t.maxlength)}q!==c.value&&(M(q),Zf(z.currentTarget,z,F,q)),i("compositionend",z)},A=Yi();ze(()=>t.value,()=>{var z;"value"in A.vnode.props,l.value=(z=t.value)!==null&&z!==void 0?z:""});const D=z=>{var I;GP((I=u.value)===null||I===void 0?void 0:I.textArea,z)},E=()=>{var z,I;(I=(z=u.value)===null||z===void 0?void 0:z.textArea)===null||I===void 0||I.blur()},M=(z,I)=>{l.value!==z&&(t.value===void 0?l.value=z:yn(()=>{var q,X,V;u.value.textArea.value!==c.value&&((V=(q=u.value)===null||q===void 0?void 0:(X=q.instance).update)===null||V===void 0||V.call(X))}),yn(()=>{I&&I()}))},B=z=>{z.keyCode===13&&i("pressEnter",z),i("keydown",z)},P=z=>{const{onBlur:I}=t;I==null||I(z),o.onFieldBlur()},F=z=>{i("update:value",z.target.value),i("change",z),i("input",z),o.onFieldChange()},$=z=>{Zf(u.value.textArea,z,F),M("",()=>{D()})},N=z=>{const{composing:I}=z.target;let q=z.target.value;if(y.value=!!(z.isComposing||I),!(y.value&&t.lazy||l.value===q)){if(w.value){const X=z.target,V=X.selectionStart>=t.maxlength+1||X.selectionStart===q.length||!X.selectionStart;q=nD(V,c.value,q,t.maxlength)}Zf(z.currentTarget,z,F,q),M(q)}},T=()=>{var z,I;const{class:q}=n,{bordered:X=!0}=t,V=_(_(_({},In(t,["allowClear"])),n),{class:[{[`${f.value}-borderless`]:!X,[`${q}`]:q&&!g.value,[`${f.value}-sm`]:d.value==="small",[`${f.value}-lg`]:d.value==="large"},Hu(f.value,s.value),m.value],disabled:v.value,showCount:null,prefixCls:f.value,onInput:N,onChange:N,onBlur:P,onKeydown:B,onCompositionstart:b,onCompositionend:C});return!((z=t.valueModifiers)===null||z===void 0)&&z.lazy&&delete V.onInput,k(tQ,Ee(Ee({},V),{},{id:(I=V==null?void 0:V.id)!==null&&I!==void 0?I:o.id.value,ref:u,maxlength:t.maxlength}),null)};return r({focus:D,blur:E,resizableTextArea:u}),Bn(()=>{let z=Nb(l.value);!y.value&&w.value&&(t.value===null||t.value===void 0)&&(z=QP(z,t.maxlength)),c.value=z}),()=>{var z;const{maxlength:I,bordered:q=!0,hidden:X}=t,{style:V,class:L}=n,ne=_(_(_({},t),n),{prefixCls:f.value,inputType:"text",handleReset:$,direction:h.value,bordered:q,style:g.value?void 0:V,hashId:m.value,disabled:(z=t.disabled)!==null&&z!==void 0?z:v.value});let se=k(KZ,Ee(Ee({},ne),{},{value:c.value,status:t.status}),{element:T});if(g.value||a.hasFeedback){const Y=[...c.value].length;let ee="";typeof g.value=="object"?ee=g.value.formatter({value:c.value,count:Y,maxlength:I}):ee=`${Y}${w.value?` / ${I}`:""}`,se=k("div",{hidden:X,class:He(`${f.value}-textarea`,{[`${f.value}-textarea-rtl`]:h.value==="rtl",[`${f.value}-textarea-show-count`]:g.value,[`${f.value}-textarea-in-form-item`]:a.isFormItemInput},`${f.value}-textarea-show-count`,L,m.value),style:V,"data-count":typeof ee!="object"?ee:void 0},[se,a.hasFeedback&&k("span",{class:`${f.value}-textarea-suffix`},[a.feedbackIcon])])}return p(se)}}});var nQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"};const rQ=nQ;function rD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){iQ(t,i,n[i])})}return t}function iQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Tw=function(e,n){var r=rD({},e,n.attrs);return k(Hn,rD({},r,{icon:rQ}),null)};Tw.displayName="EyeOutlined";Tw.inheritAttrs=!1;const oQ=Tw;var aQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"};const sQ=aQ;function iD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){lQ(t,i,n[i])})}return t}function lQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Bw=function(e,n){var r=iD({},e,n.attrs);return k(Hn,iD({},r,{icon:sQ}),null)};Bw.displayName="EyeInvisibleOutlined";Bw.inheritAttrs=!1;const uQ=Bw;var cQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const fQ={click:"onClick",hover:"onMouseover"},dQ=t=>t?k(oQ,null,null):k(uQ,null,null),hQ=De({compatConfig:{MODE:3},name:"AInputPassword",inheritAttrs:!1,props:_(_({},Ow()),{prefixCls:String,inputPrefixCls:String,action:{type:String,default:"click"},visibilityToggle:{type:Boolean,default:!0},visible:{type:Boolean,default:void 0},"onUpdate:visible":Function,iconRender:Function}),setup(t,e){let{slots:n,attrs:r,expose:i,emit:o}=e;const a=Be(!1),s=()=>{const{disabled:v}=t;v||(a.value=!a.value,o("update:visible",a.value))};Bn(()=>{t.visible!==void 0&&(a.value=!!t.visible)});const l=Be();i({focus:()=>{var v;(v=l.value)===null||v===void 0||v.focus()},blur:()=>{var v;(v=l.value)===null||v===void 0||v.blur()}});const f=v=>{const{action:g,iconRender:w=n.iconRender||dQ}=t,y=fQ[g]||"",S=w(a.value),x={[y]:s,class:`${v}-icon`,key:"passwordIcon",onMousedown:b=>{b.preventDefault()},onMouseup:b=>{b.preventDefault()}};return zn(ia(S)?S:k("span",null,[S]),x)},{prefixCls:d,getPrefixCls:h}=En("input-password",t),p=H(()=>h("input",t.inputPrefixCls)),m=()=>{const{size:v,visibilityToggle:g}=t,w=cQ(t,["size","visibilityToggle"]),y=g&&f(d.value),S=He(d.value,r.class,{[`${d.value}-${v}`]:!!v}),x=_(_(_({},In(w,["suffix","iconRender","action"])),r),{type:a.value?"text":"password",class:S,prefixCls:p.value,suffix:y});return v&&(x.size=v),k(On,Ee({ref:l},x),n)};return()=>m()}});On.Group=qZ;On.Search=jZ;On.TextArea=JP;On.Password=hQ;On.install=function(t){return t.component(On.name,On),t.component(On.Group.name,On.Group),t.component(On.Search.name,On.Search),t.component(On.TextArea.name,On.TextArea),t.component(On.Password.name,On.Password),t};const pQ={items_per_page:"条/页",jump_to:"跳至",jump_to_confirm:"确定",page:"页",prev_page:"上一页",next_page:"下一页",prev_5:"向前 5 页",next_5:"向后 5 页",prev_3:"向前 3 页",next_3:"向后 3 页"};var mQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const gQ={border:0,background:"transparent",padding:0,lineHeight:"inherit",display:"inline-block"},vQ=De({compatConfig:{MODE:3},name:"TransButton",inheritAttrs:!1,props:{noStyle:{type:Boolean,default:void 0},onClick:Function,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0}},setup(t,e){let{slots:n,emit:r,attrs:i,expose:o}=e;const a=Be(),s=d=>{const{keyCode:h}=d;h===Ye.ENTER&&d.preventDefault()},l=d=>{const{keyCode:h}=d;h===Ye.ENTER&&r("click",d)},u=d=>{r("click",d)},c=()=>{a.value&&a.value.focus()},f=()=>{a.value&&a.value.blur()};return sn(()=>{t.autofocus&&c()}),o({focus:c,blur:f}),()=>{var d;const{noStyle:h,disabled:p}=t,m=mQ(t,["noStyle","disabled"]);let v={};return h||(v=_({},gQ)),p&&(v.pointerEvents="none"),k("div",Ee(Ee(Ee({role:"button",tabindex:0,ref:a},m),i),{},{onClick:u,onKeydown:s,onKeyup:l,style:_(_({},v),i.style||{})}),[(d=n.default)===null||d===void 0?void 0:d.call(n)])}}}),oD=vQ,e4=(t,e)=>{let{attrs:n}=e;const{included:r,vertical:i,style:o,class:a}=n;let{length:s,offset:l,reverse:u}=n;s<0&&(u=!u,s=Math.abs(s),l=100-l);const c=i?{[u?"top":"bottom"]:`${l}%`,[u?"bottom":"top"]:"auto",height:`${s}%`}:{[u?"right":"left"]:`${l}%`,[u?"left":"right"]:"auto",width:`${s}%`},f=_(_({},o),c);return r?k("div",{class:a,style:f},null):null};e4.inheritAttrs=!1;const t4=e4,yQ=(t,e,n,r,i,o)=>{Hr();const a=Object.keys(e).map(parseFloat).sort((s,l)=>s-l);if(n&&r)for(let s=i;s<=o;s+=r)a.indexOf(s)===-1&&a.push(s);return a},n4=(t,e)=>{let{attrs:n}=e;const{prefixCls:r,vertical:i,reverse:o,marks:a,dots:s,step:l,included:u,lowerBound:c,upperBound:f,max:d,min:h,dotStyle:p,activeDotStyle:m}=n,v=d-h,g=yQ(i,a,s,l,h,d).map(w=>{const y=`${Math.abs(w-h)/v*100}%`,S=!u&&w===f||u&&w<=f&&w>=c;let x=i?_(_({},p),{[o?"top":"bottom"]:y}):_(_({},p),{[o?"right":"left"]:y});S&&(x=_(_({},x),m));const b=He({[`${r}-dot`]:!0,[`${r}-dot-active`]:S,[`${r}-dot-reverse`]:o});return k("span",{class:b,style:x,key:w},null)});return k("div",{class:`${r}-step`},[g])};n4.inheritAttrs=!1;const bQ=n4,r4=(t,e)=>{let{attrs:n,slots:r}=e;const{class:i,vertical:o,reverse:a,marks:s,included:l,upperBound:u,lowerBound:c,max:f,min:d,onClickLabel:h}=n,p=Object.keys(s),m=r.mark,v=f-d,g=p.map(parseFloat).sort((w,y)=>w-y).map(w=>{const y=typeof s[w]=="function"?s[w]():s[w],S=typeof y=="object"&&!ia(y);let x=S?y.label:y;if(!x&&x!==0)return null;m&&(x=m({point:w,label:x}));const b=!l&&w===u||l&&w<=u&&w>=c,C=He({[`${i}-text`]:!0,[`${i}-text-active`]:b}),A={marginBottom:"-50%",[a?"top":"bottom"]:`${(w-d)/v*100}%`},D={transform:`translateX(${a?"50%":"-50%"})`,msTransform:`translateX(${a?"50%":"-50%"})`,[a?"right":"left"]:`${(w-d)/v*100}%`},E=o?A:D,M=S?_(_({},E),y.style):E,B={[gr?"onTouchstartPassive":"onTouchstart"]:P=>h(P,w)};return k("span",Ee({class:C,style:M,key:w,onMousedown:P=>h(P,w)},B),[x])});return k("div",{class:i},[g])};r4.inheritAttrs=!1;const xQ=r4,i4=De({compatConfig:{MODE:3},name:"Handle",inheritAttrs:!1,props:{prefixCls:String,vertical:{type:Boolean,default:void 0},offset:Number,disabled:{type:Boolean,default:void 0},min:Number,max:Number,value:Number,tabindex:ve.oneOfType([ve.number,ve.string]),reverse:{type:Boolean,default:void 0},ariaLabel:String,ariaLabelledBy:String,ariaValueTextFormatter:Function,onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function}},setup(t,e){let{attrs:n,emit:r,expose:i}=e;const o=Be(!1),a=Be(),s=()=>{document.activeElement===a.value&&(o.value=!0)},l=v=>{o.value=!1,r("blur",v)},u=()=>{o.value=!1},c=()=>{var v;(v=a.value)===null||v===void 0||v.focus()},f=()=>{var v;(v=a.value)===null||v===void 0||v.blur()},d=()=>{o.value=!0,c()},h=v=>{v.preventDefault(),c(),r("mousedown",v)};i({focus:c,blur:f,clickFocus:d,ref:a});let p=null;sn(()=>{p=Xo(document,"mouseup",s)}),ln(()=>{p==null||p.remove()});const m=H(()=>{const{vertical:v,offset:g,reverse:w}=t;return v?{[w?"top":"bottom"]:`${g}%`,[w?"bottom":"top"]:"auto",transform:w?null:"translateY(+50%)"}:{[w?"right":"left"]:`${g}%`,[w?"left":"right"]:"auto",transform:`translateX(${w?"+":"-"}50%)`}});return()=>{const{prefixCls:v,disabled:g,min:w,max:y,value:S,tabindex:x,ariaLabel:b,ariaLabelledBy:C,ariaValueTextFormatter:A,onMouseenter:D,onMouseleave:E}=t,M=He(n.class,{[`${v}-handle-click-focused`]:o.value}),B={"aria-valuemin":w,"aria-valuemax":y,"aria-valuenow":S,"aria-disabled":!!g},P=[n.style,m.value];let F=x||0;(g||x===null)&&(F=null);let $;A&&($=A(S));const N=_(_(_(_({},n),{role:"slider",tabindex:F}),B),{class:M,onBlur:l,onKeydown:u,onMousedown:h,onMouseenter:D,onMouseleave:E,ref:a,style:P});return k("div",Ee(Ee({},N),{},{"aria-label":b,"aria-labelledby":C,"aria-valuetext":$}),null)}}});function Q0(t,e){try{return Object.keys(e).some(n=>t.target===e[n].ref)}catch{return!1}}function o4(t,e){let{min:n,max:r}=e;return t<n||t>r}function aD(t){return t.touches.length>1||t.type.toLowerCase()==="touchend"&&t.touches.length>0}function sD(t,e){let{marks:n,step:r,min:i,max:o}=e;const a=Object.keys(n).map(parseFloat);if(r!==null){const l=Math.pow(10,a4(r)),u=Math.floor((o*l-i*l)/(r*l)),c=Math.min((t-i)/r,u),f=Math.round(c)*r+i;a.push(f)}const s=a.map(l=>Math.abs(t-l));return a[s.indexOf(Math.min(...s))]}function a4(t){const e=t.toString();let n=0;return e.indexOf(".")>=0&&(n=e.length-e.indexOf(".")-1),n}function lD(t,e){let n=1;return window.visualViewport&&(n=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(t?e.clientY:e.pageX)/n}function uD(t,e){let n=1;return window.visualViewport&&(n=+(window.visualViewport.width/document.body.getBoundingClientRect().width).toFixed(2)),(t?e.touches[0].clientY:e.touches[0].pageX)/n}function cD(t,e){const n=e.getBoundingClientRect();return t?n.top+n.height*.5:window.pageXOffset+n.left+n.width*.5}function Iw(t,e){let{max:n,min:r}=e;return t<=r?r:t>=n?n:t}function s4(t,e){const{step:n}=e,r=isFinite(sD(t,e))?sD(t,e):0;return n===null?r:parseFloat(r.toFixed(a4(n)))}function dc(t){t.stopPropagation(),t.preventDefault()}function wQ(t,e,n){const r={increase:(a,s)=>a+s,decrease:(a,s)=>a-s},i=r[t](Object.keys(n.marks).indexOf(JSON.stringify(e)),1),o=Object.keys(n.marks)[i];return n.step?r[t](e,n.step):Object.keys(n.marks).length&&n.marks[o]?n.marks[o]:e}function l4(t,e,n){const r="increase",i="decrease";let o=r;switch(t.keyCode){case Ye.UP:o=e&&n?i:r;break;case Ye.RIGHT:o=!e&&n?i:r;break;case Ye.DOWN:o=e&&n?r:i;break;case Ye.LEFT:o=!e&&n?r:i;break;case Ye.END:return(a,s)=>s.max;case Ye.HOME:return(a,s)=>s.min;case Ye.PAGE_UP:return(a,s)=>a+s.step*2;case Ye.PAGE_DOWN:return(a,s)=>a-s.step*2;default:return}return(a,s)=>wQ(o,a,s)}var SQ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function sl(){}function u4(t){const e={id:String,min:Number,max:Number,step:Number,marks:ve.object,included:{type:Boolean,default:void 0},prefixCls:String,disabled:{type:Boolean,default:void 0},handle:Function,dots:{type:Boolean,default:void 0},vertical:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},minimumTrackStyle:ve.object,maximumTrackStyle:ve.object,handleStyle:ve.oneOfType([ve.object,ve.arrayOf(ve.object)]),trackStyle:ve.oneOfType([ve.object,ve.arrayOf(ve.object)]),railStyle:ve.object,dotStyle:ve.object,activeDotStyle:ve.object,autofocus:{type:Boolean,default:void 0},draggableTrack:{type:Boolean,default:void 0}};return De({compatConfig:{MODE:3},name:"CreateSlider",mixins:[nv,t],inheritAttrs:!1,props:es(e,{prefixCls:"rc-slider",min:0,max:100,step:1,marks:{},included:!0,disabled:!1,dots:!1,vertical:!1,reverse:!1,trackStyle:[{}],handleStyle:[{}],railStyle:{},dotStyle:{},activeDotStyle:{}}),emits:["change","blur","focus"],data(){return Hr(),this.handlesRefs={},{}},mounted(){this.$nextTick(()=>{this.document=this.sliderRef&&this.sliderRef.ownerDocument;const{autofocus:n,disabled:r}=this;n&&!r&&this.focus()})},beforeUnmount(){this.$nextTick(()=>{this.removeDocumentEvents()})},methods:{defaultHandle(n){var{index:r,directives:i,className:o,style:a}=n,s=SQ(n,["index","directives","className","style"]);if(delete s.dragging,s.value===null)return null;const l=_(_({},s),{class:o,style:a,key:r});return k(i4,l,null)},onDown(n,r){let i=r;const{draggableTrack:o,vertical:a}=this.$props,{bounds:s}=this.$data,l=o&&this.positionGetValue?this.positionGetValue(i)||[]:[],u=Q0(n,this.handlesRefs);if(this.dragTrack=o&&s.length>=2&&!u&&!l.map((c,f)=>{const d=f?!0:c>=s[f];return f===l.length-1?c<=s[f]:d}).some(c=>!c),this.dragTrack)this.dragOffset=i,this.startBounds=[...s];else{if(!u)this.dragOffset=0;else{const c=cD(a,n.target);this.dragOffset=i-c,i=c}this.onStart(i)}},onMouseDown(n){if(n.button!==0)return;this.removeDocumentEvents();const r=this.$props.vertical,i=lD(r,n);this.onDown(n,i),this.addDocumentMouseEvents()},onTouchStart(n){if(aD(n))return;const r=this.vertical,i=uD(r,n);this.onDown(n,i),this.addDocumentTouchEvents(),dc(n)},onFocus(n){const{vertical:r}=this;if(Q0(n,this.handlesRefs)&&!this.dragTrack){const i=cD(r,n.target);this.dragOffset=0,this.onStart(i),dc(n),this.$emit("focus",n)}},onBlur(n){this.dragTrack||this.onEnd(),this.$emit("blur",n)},onMouseUp(){this.handlesRefs[this.prevMovedHandleIndex]&&this.handlesRefs[this.prevMovedHandleIndex].clickFocus()},onMouseMove(n){if(!this.sliderRef){this.onEnd();return}const r=lD(this.vertical,n);this.onMove(n,r-this.dragOffset,this.dragTrack,this.startBounds)},onTouchMove(n){if(aD(n)||!this.sliderRef){this.onEnd();return}const r=uD(this.vertical,n);this.onMove(n,r-this.dragOffset,this.dragTrack,this.startBounds)},onKeyDown(n){this.sliderRef&&Q0(n,this.handlesRefs)&&this.onKeyboard(n)},onClickMarkLabel(n,r){n.stopPropagation(),this.onChange({sValue:r}),this.setState({sValue:r},()=>this.onEnd(!0))},getSliderStart(){const n=this.sliderRef,{vertical:r,reverse:i}=this,o=n.getBoundingClientRect();return r?i?o.bottom:o.top:window.pageXOffset+(i?o.right:o.left)},getSliderLength(){const n=this.sliderRef;if(!n)return 0;const r=n.getBoundingClientRect();return this.vertical?r.height:r.width},addDocumentTouchEvents(){this.onTouchMoveListener=Xo(this.document,"touchmove",this.onTouchMove),this.onTouchUpListener=Xo(this.document,"touchend",this.onEnd)},addDocumentMouseEvents(){this.onMouseMoveListener=Xo(this.document,"mousemove",this.onMouseMove),this.onMouseUpListener=Xo(this.document,"mouseup",this.onEnd)},removeDocumentEvents(){this.onTouchMoveListener&&this.onTouchMoveListener.remove(),this.onTouchUpListener&&this.onTouchUpListener.remove(),this.onMouseMoveListener&&this.onMouseMoveListener.remove(),this.onMouseUpListener&&this.onMouseUpListener.remove()},focus(){var n;this.$props.disabled||(n=this.handlesRefs[0])===null||n===void 0||n.focus()},blur(){this.$props.disabled||Object.keys(this.handlesRefs).forEach(n=>{var r,i;(i=(r=this.handlesRefs[n])===null||r===void 0?void 0:r.blur)===null||i===void 0||i.call(r)})},calcValue(n){const{vertical:r,min:i,max:o}=this,a=Math.abs(Math.max(n,0)/this.getSliderLength());return r?(1-a)*(o-i)+i:a*(o-i)+i},calcValueByPos(n){const i=(this.reverse?-1:1)*(n-this.getSliderStart());return this.trimAlignValue(this.calcValue(i))},calcOffset(n){const{min:r,max:i}=this,o=(n-r)/(i-r);return Math.max(0,o*100)},saveSlider(n){this.sliderRef=n},saveHandle(n,r){this.handlesRefs[n]=r}},render(){const{prefixCls:n,marks:r,dots:i,step:o,included:a,disabled:s,vertical:l,reverse:u,min:c,max:f,maximumTrackStyle:d,railStyle:h,dotStyle:p,activeDotStyle:m,id:v}=this,{class:g,style:w}=this.$attrs,{tracks:y,handles:S}=this.renderSlider(),x=He(n,g,{[`${n}-with-marks`]:Object.keys(r).length,[`${n}-disabled`]:s,[`${n}-vertical`]:l,[`${n}-horizontal`]:!l}),b={vertical:l,marks:r,included:a,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:f,min:c,reverse:u,class:`${n}-mark`,onClickLabel:s?sl:this.onClickMarkLabel},C={[gr?"onTouchstartPassive":"onTouchstart"]:s?sl:this.onTouchStart};return k("div",Ee(Ee({id:v,ref:this.saveSlider,tabindex:"-1",class:x},C),{},{onMousedown:s?sl:this.onMouseDown,onMouseup:s?sl:this.onMouseUp,onKeydown:s?sl:this.onKeyDown,onFocus:s?sl:this.onFocus,onBlur:s?sl:this.onBlur,style:w}),[k("div",{class:`${n}-rail`,style:_(_({},d),h)},null),y,k(bQ,{prefixCls:n,vertical:l,reverse:u,marks:r,dots:i,step:o,included:a,lowerBound:this.getLowerBound(),upperBound:this.getUpperBound(),max:f,min:c,dotStyle:p,activeDotStyle:m},null),S,k(xQ,b,{mark:this.$slots.mark}),QB(this)])}})}const CQ=De({compatConfig:{MODE:3},name:"Slider",mixins:[nv],inheritAttrs:!1,props:{defaultValue:Number,value:Number,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},tabindex:ve.oneOfType([ve.number,ve.string]),reverse:{type:Boolean,default:void 0},min:Number,max:Number,ariaLabelForHandle:String,ariaLabelledByForHandle:String,ariaValueTextFormatterForHandle:String,startPoint:Number},emits:["beforeChange","afterChange","change"],data(){const t=this.defaultValue!==void 0?this.defaultValue:this.min,e=this.value!==void 0?this.value:t;return{sValue:this.trimAlignValue(e),dragging:!1}},watch:{value:{handler(t){this.setChangeValue(t)},deep:!0},min(){const{sValue:t}=this;this.setChangeValue(t)},max(){const{sValue:t}=this;this.setChangeValue(t)}},methods:{setChangeValue(t){const e=t!==void 0?t:this.sValue,n=this.trimAlignValue(e,this.$props);n!==this.sValue&&(this.setState({sValue:n}),o4(e,this.$props)&&this.$emit("change",n))},onChange(t){const e=!Am(this,"value"),n=t.sValue>this.max?_(_({},t),{sValue:this.max}):t;e&&this.setState(n);const r=n.sValue;this.$emit("change",r)},onStart(t){this.setState({dragging:!0});const{sValue:e}=this;this.$emit("beforeChange",e);const n=this.calcValueByPos(t);this.startValue=n,this.startPosition=t,n!==e&&(this.prevMovedHandleIndex=0,this.onChange({sValue:n}))},onEnd(t){const{dragging:e}=this;this.removeDocumentEvents(),(e||t)&&this.$emit("afterChange",this.sValue),this.setState({dragging:!1})},onMove(t,e){dc(t);const{sValue:n}=this,r=this.calcValueByPos(e);r!==n&&this.onChange({sValue:r})},onKeyboard(t){const{reverse:e,vertical:n}=this.$props,r=l4(t,n,e);if(r){dc(t);const{sValue:i}=this,o=r(i,this.$props),a=this.trimAlignValue(o);if(a===i)return;this.onChange({sValue:a}),this.$emit("afterChange",a),this.onEnd()}},getLowerBound(){const t=this.$props.startPoint||this.$props.min;return this.$data.sValue>t?t:this.$data.sValue},getUpperBound(){return this.$data.sValue<this.$props.startPoint?this.$props.startPoint:this.$data.sValue},trimAlignValue(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t===null)return null;const n=_(_({},this.$props),e),r=Iw(t,n);return s4(r,n)},getTrack(t){let{prefixCls:e,reverse:n,vertical:r,included:i,minimumTrackStyle:o,mergedTrackStyle:a,length:s,offset:l}=t;return k(t4,{class:`${e}-track`,vertical:r,included:i,offset:l,reverse:n,length:s,style:_(_({},o),a)},null)},renderSlider(){const{prefixCls:t,vertical:e,included:n,disabled:r,minimumTrackStyle:i,trackStyle:o,handleStyle:a,tabindex:s,ariaLabelForHandle:l,ariaLabelledByForHandle:u,ariaValueTextFormatterForHandle:c,min:f,max:d,startPoint:h,reverse:p,handle:m,defaultHandle:v}=this,g=m||v,{sValue:w,dragging:y}=this,S=this.calcOffset(w),x=g({class:`${t}-handle`,prefixCls:t,vertical:e,offset:S,value:w,dragging:y,disabled:r,min:f,max:d,reverse:p,index:0,tabindex:s,ariaLabel:l,ariaLabelledBy:u,ariaValueTextFormatter:c,style:a[0]||a,ref:A=>this.saveHandle(0,A),onFocus:this.onFocus,onBlur:this.onBlur}),b=h!==void 0?this.calcOffset(h):0,C=o[0]||o;return{tracks:this.getTrack({prefixCls:t,reverse:p,vertical:e,included:n,offset:b,minimumTrackStyle:i,mergedTrackStyle:C,length:S-b}),handles:x}}}}),AQ=u4(CQ),vf=t=>{let{value:e,handle:n,bounds:r,props:i}=t;const{allowCross:o,pushable:a}=i,s=Number(a),l=Iw(e,i);let u=l;return!o&&n!=null&&r!==void 0&&(n>0&&l<=r[n-1]+s&&(u=r[n-1]+s),n<r.length-1&&l>=r[n+1]-s&&(u=r[n+1]-s)),s4(u,i)},DQ={defaultValue:ve.arrayOf(ve.number),value:ve.arrayOf(ve.number),count:Number,pushable:JU(ve.oneOfType([ve.looseBool,ve.number])),allowCross:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},reverse:{type:Boolean,default:void 0},tabindex:ve.arrayOf(ve.number),prefixCls:String,min:Number,max:Number,autofocus:{type:Boolean,default:void 0},ariaLabelGroupForHandles:Array,ariaLabelledByGroupForHandles:Array,ariaValueTextFormatterGroupForHandles:Array,draggableTrack:{type:Boolean,default:void 0}},EQ=De({compatConfig:{MODE:3},name:"Range",mixins:[nv],inheritAttrs:!1,props:es(DQ,{count:1,allowCross:!0,pushable:!1,tabindex:[],draggableTrack:!1,ariaLabelGroupForHandles:[],ariaLabelledByGroupForHandles:[],ariaValueTextFormatterGroupForHandles:[]}),emits:["beforeChange","afterChange","change"],displayName:"Range",data(){const{count:t,min:e,max:n}=this,r=Array(...Array(t+1)).map(()=>e),i=Am(this,"defaultValue")?this.defaultValue:r;let{value:o}=this;o===void 0&&(o=i);const a=o.map((l,u)=>vf({value:l,handle:u,props:this.$props}));return{sHandle:null,recent:a[0]===n?0:a.length-1,bounds:a}},watch:{value:{handler(t){const{bounds:e}=this;this.setChangeValue(t||e)},deep:!0},min(){const{value:t}=this;this.setChangeValue(t||this.bounds)},max(){const{value:t}=this;this.setChangeValue(t||this.bounds)}},methods:{setChangeValue(t){const{bounds:e}=this;let n=t.map((r,i)=>vf({value:r,handle:i,bounds:e,props:this.$props}));if(e.length===n.length){if(n.every((r,i)=>r===e[i]))return null}else n=t.map((r,i)=>vf({value:r,handle:i,props:this.$props}));if(this.setState({bounds:n}),t.some(r=>o4(r,this.$props))){const r=t.map(i=>Iw(i,this.$props));this.$emit("change",r)}},onChange(t){if(!Am(this,"value"))this.setState(t);else{const i={};["sHandle","recent"].forEach(o=>{t[o]!==void 0&&(i[o]=t[o])}),Object.keys(i).length&&this.setState(i)}const r=_(_({},this.$data),t).bounds;this.$emit("change",r)},positionGetValue(t){const e=this.getValue(),n=this.calcValueByPos(t),r=this.getClosestBound(n),i=this.getBoundNeedMoving(n,r),o=e[i];if(n===o)return null;const a=[...e];return a[i]=n,a},onStart(t){const{bounds:e}=this;this.$emit("beforeChange",e);const n=this.calcValueByPos(t);this.startValue=n,this.startPosition=t;const r=this.getClosestBound(n);this.prevMovedHandleIndex=this.getBoundNeedMoving(n,r),this.setState({sHandle:this.prevMovedHandleIndex,recent:this.prevMovedHandleIndex});const i=e[this.prevMovedHandleIndex];if(n===i)return;const o=[...e];o[this.prevMovedHandleIndex]=n,this.onChange({bounds:o})},onEnd(t){const{sHandle:e}=this;this.removeDocumentEvents(),e||(this.dragTrack=!1),(e!==null||t)&&this.$emit("afterChange",this.bounds),this.setState({sHandle:null})},onMove(t,e,n,r){dc(t);const{$data:i,$props:o}=this,a=o.max||100,s=o.min||0;if(n){let d=o.vertical?-e:e;d=o.reverse?-d:d;const h=a-Math.max(...r),p=s-Math.min(...r),m=Math.min(Math.max(d/(this.getSliderLength()/100),p),h),v=r.map(g=>Math.floor(Math.max(Math.min(g+m,a),s)));i.bounds.map((g,w)=>g===v[w]).some(g=>!g)&&this.onChange({bounds:v});return}const{bounds:l,sHandle:u}=this,c=this.calcValueByPos(e),f=l[u];c!==f&&this.moveTo(c)},onKeyboard(t){const{reverse:e,vertical:n}=this.$props,r=l4(t,n,e);if(r){dc(t);const{bounds:i,sHandle:o}=this,a=i[o===null?this.recent:o],s=r(a,this.$props),l=vf({value:s,handle:o,bounds:i,props:this.$props});if(l===a)return;const u=!0;this.moveTo(l,u)}},getClosestBound(t){const{bounds:e}=this;let n=0;for(let r=1;r<e.length-1;r+=1)t>=e[r]&&(n=r);return Math.abs(e[n+1]-t)<Math.abs(e[n]-t)&&(n+=1),n},getBoundNeedMoving(t,e){const{bounds:n,recent:r}=this;let i=e;const o=n[e+1]===n[e];return o&&n[r]===n[e]&&(i=r),o&&t!==n[e+1]&&(i=t<n[e+1]?e:e+1),i},getLowerBound(){return this.bounds[0]},getUpperBound(){const{bounds:t}=this;return t[t.length-1]},getPoints(){const{marks:t,step:e,min:n,max:r}=this,i=this.internalPointsCache;if(!i||i.marks!==t||i.step!==e){const o=_({},t);if(e!==null)for(let s=n;s<=r;s+=e)o[s]=s;const a=Object.keys(o).map(parseFloat);a.sort((s,l)=>s-l),this.internalPointsCache={marks:t,step:e,points:a}}return this.internalPointsCache.points},moveTo(t,e){const n=[...this.bounds],{sHandle:r,recent:i}=this,o=r===null?i:r;n[o]=t;let a=o;this.$props.pushable!==!1?this.pushSurroundingHandles(n,a):this.$props.allowCross&&(n.sort((s,l)=>s-l),a=n.indexOf(t)),this.onChange({recent:a,sHandle:a,bounds:n}),e&&(this.$emit("afterChange",n),this.setState({},()=>{this.handlesRefs[a].focus()}),this.onEnd())},pushSurroundingHandles(t,e){const n=t[e],{pushable:r}=this,i=Number(r);let o=0;if(t[e+1]-n<i&&(o=1),n-t[e-1]<i&&(o=-1),o===0)return;const a=e+o,s=o*(t[a]-n);this.pushHandle(t,a,o,i-s)||(t[e]=t[a]-o*i)},pushHandle(t,e,n,r){const i=t[e];let o=t[e];for(;n*(o-i)<r;){if(!this.pushHandleOnePoint(t,e,n))return t[e]=i,!1;o=t[e]}return!0},pushHandleOnePoint(t,e,n){const r=this.getPoints(),o=r.indexOf(t[e])+n;if(o>=r.length||o<0)return!1;const a=e+n,s=r[o],{pushable:l}=this,u=Number(l),c=n*(t[a]-s);return this.pushHandle(t,a,n,u-c)?(t[e]=s,!0):!1},trimAlignValue(t){const{sHandle:e,bounds:n}=this;return vf({value:t,handle:e,bounds:n,props:this.$props})},ensureValueNotConflict(t,e,n){let{allowCross:r,pushable:i}=n;const o=this.$data||{},{bounds:a}=o;if(t=t===void 0?o.sHandle:t,i=Number(i),!r&&t!=null&&a!==void 0){if(t>0&&e<=a[t-1]+i)return a[t-1]+i;if(t<a.length-1&&e>=a[t+1]-i)return a[t+1]-i}return e},getTrack(t){let{bounds:e,prefixCls:n,reverse:r,vertical:i,included:o,offsets:a,trackStyle:s}=t;return e.slice(0,-1).map((l,u)=>{const c=u+1,f=He({[`${n}-track`]:!0,[`${n}-track-${c}`]:!0});return k(t4,{class:f,vertical:i,reverse:r,included:o,offset:a[c-1],length:a[c]-a[c-1],style:s[u],key:c},null)})},renderSlider(){const{sHandle:t,bounds:e,prefixCls:n,vertical:r,included:i,disabled:o,min:a,max:s,reverse:l,handle:u,defaultHandle:c,trackStyle:f,handleStyle:d,tabindex:h,ariaLabelGroupForHandles:p,ariaLabelledByGroupForHandles:m,ariaValueTextFormatterGroupForHandles:v}=this,g=u||c,w=e.map(x=>this.calcOffset(x)),y=`${n}-handle`,S=e.map((x,b)=>{let C=h[b]||0;(o||h[b]===null)&&(C=null);const A=t===b;return g({class:He({[y]:!0,[`${y}-${b+1}`]:!0,[`${y}-dragging`]:A}),prefixCls:n,vertical:r,dragging:A,offset:w[b],value:x,index:b,tabindex:C,min:a,max:s,reverse:l,disabled:o,style:d[b],ref:D=>this.saveHandle(b,D),onFocus:this.onFocus,onBlur:this.onBlur,ariaLabel:p[b],ariaLabelledBy:m[b],ariaValueTextFormatter:v[b]})});return{tracks:this.getTrack({bounds:e,prefixCls:n,reverse:l,vertical:r,included:i,offsets:w,trackStyle:f}),handles:S}}}}),MQ=u4(EQ),NQ=De({compatConfig:{MODE:3},name:"SliderTooltip",inheritAttrs:!1,props:W3(),setup(t,e){let{attrs:n,slots:r}=e;const i=Te(null),o=Te(null);function a(){Rt.cancel(o.value),o.value=null}function s(){o.value=Rt(()=>{var u;(u=i.value)===null||u===void 0||u.forcePopupAlign(),o.value=null})}const l=()=>{a(),t.open&&s()};return ze([()=>t.open,()=>t.title],()=>{l()},{flush:"post",immediate:!0}),e6(()=>{l()}),ln(()=>{a()}),()=>k(El,Ee(Ee({ref:i},t),n),r)}}),$Q=t=>{const{componentCls:e,controlSize:n,dotSize:r,marginFull:i,marginPart:o,colorFillContentHover:a}=t;return{[e]:_(_({},Zi(t)),{position:"relative",height:n,margin:`${o}px ${i}px`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${i}px ${o}px`},[`${e}-rail`]:{position:"absolute",backgroundColor:t.colorFillTertiary,borderRadius:t.borderRadiusXS,transition:`background-color ${t.motionDurationMid}`},[`${e}-track`]:{position:"absolute",backgroundColor:t.colorPrimaryBorder,borderRadius:t.borderRadiusXS,transition:`background-color ${t.motionDurationMid}`},"&:hover":{[`${e}-rail`]:{backgroundColor:t.colorFillSecondary},[`${e}-track`]:{backgroundColor:t.colorPrimaryBorderHover},[`${e}-dot`]:{borderColor:a},[`${e}-handle::after`]:{boxShadow:`0 0 0 ${t.handleLineWidth}px ${t.colorPrimaryBorderHover}`},[`${e}-dot-active`]:{borderColor:t.colorPrimary}},[`${e}-handle`]:{position:"absolute",width:t.handleSize,height:t.handleSize,outline:"none",[`${e}-dragging`]:{zIndex:1},"&::before":{content:'""',position:"absolute",insetInlineStart:-t.handleLineWidth,insetBlockStart:-t.handleLineWidth,width:t.handleSize+t.handleLineWidth*2,height:t.handleSize+t.handleLineWidth*2,backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:t.handleSize,height:t.handleSize,backgroundColor:t.colorBgElevated,boxShadow:`0 0 0 ${t.handleLineWidth}px ${t.colorPrimaryBorder}`,borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${t.motionDurationMid},
            inset-block-start ${t.motionDurationMid},
            width ${t.motionDurationMid},
            height ${t.motionDurationMid},
            box-shadow ${t.motionDurationMid}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:-((t.handleSizeHover-t.handleSize)/2+t.handleLineWidthHover),insetBlockStart:-((t.handleSizeHover-t.handleSize)/2+t.handleLineWidthHover),width:t.handleSizeHover+t.handleLineWidthHover*2,height:t.handleSizeHover+t.handleLineWidthHover*2},"&::after":{boxShadow:`0 0 0 ${t.handleLineWidthHover}px ${t.colorPrimary}`,width:t.handleSizeHover,height:t.handleSizeHover,insetInlineStart:(t.handleSize-t.handleSizeHover)/2,insetBlockStart:(t.handleSize-t.handleSizeHover)/2}}},[`${e}-mark`]:{position:"absolute",fontSize:t.fontSize},[`${e}-mark-text`]:{position:"absolute",display:"inline-block",color:t.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:t.colorText}},[`${e}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${e}-dot`]:{position:"absolute",width:r,height:r,backgroundColor:t.colorBgElevated,border:`${t.handleLineWidth}px solid ${t.colorBorderSecondary}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${t.motionDurationSlow}`,"&-active":{borderColor:t.colorPrimaryBorder}},[`&${e}-disabled`]:{cursor:"not-allowed",[`${e}-rail`]:{backgroundColor:`${t.colorFillSecondary} !important`},[`${e}-track`]:{backgroundColor:`${t.colorTextDisabled} !important`},[`
          ${e}-dot
        `]:{backgroundColor:t.colorBgElevated,borderColor:t.colorTextDisabled,boxShadow:"none",cursor:"not-allowed"},[`${e}-handle::after`]:{backgroundColor:t.colorBgElevated,cursor:"not-allowed",width:t.handleSize,height:t.handleSize,boxShadow:`0 0 0 ${t.handleLineWidth}px ${new An(t.colorTextDisabled).onBackground(t.colorBgContainer).toHexString()}`,insetInlineStart:0,insetBlockStart:0},[`
          ${e}-mark-text,
          ${e}-dot
        `]:{cursor:"not-allowed !important"}}})}},c4=(t,e)=>{const{componentCls:n,railSize:r,handleSize:i,dotSize:o}=t,a=e?"paddingBlock":"paddingInline",s=e?"width":"height",l=e?"height":"width",u=e?"insetBlockStart":"insetInlineStart",c=e?"top":"insetInlineStart";return{[a]:r,[l]:r*3,[`${n}-rail`]:{[s]:"100%",[l]:r},[`${n}-track`]:{[l]:r},[`${n}-handle`]:{[u]:(r*3-i)/2},[`${n}-mark`]:{insetInlineStart:0,top:0,[c]:i,[s]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[c]:r,[s]:"100%",[l]:r},[`${n}-dot`]:{position:"absolute",[u]:(r-o)/2}}},OQ=t=>{const{componentCls:e,marginPartWithMark:n}=t;return{[`${e}-horizontal`]:_(_({},c4(t,!0)),{[`&${e}-with-marks`]:{marginBottom:n}})}},TQ=t=>{const{componentCls:e}=t;return{[`${e}-vertical`]:_(_({},c4(t,!1)),{height:"100%"})}},BQ=ai("Slider",t=>{const e=cn(t,{marginPart:(t.controlHeight-t.controlSize)/2,marginFull:t.controlSize/2,marginPartWithMark:t.controlHeightLG-t.controlSize});return[$Q(e),OQ(e),TQ(e)]},t=>{const n=t.controlHeightLG/4,r=t.controlHeightSM/2,i=t.lineWidth+1,o=t.lineWidth+1*3;return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:i,handleLineWidthHover:o}});var fD=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const IQ=t=>typeof t=="number"?t.toString():"",PQ=()=>({id:String,prefixCls:String,tooltipPrefixCls:String,range:lo([Boolean,Object]),reverse:gn(),min:Number,max:Number,step:lo([Object,Number]),marks:hn(),dots:gn(),value:lo([Array,Number]),defaultValue:lo([Array,Number]),included:gn(),disabled:gn(),vertical:gn(),tipFormatter:lo([Function,Object],()=>IQ),tooltipOpen:gn(),tooltipVisible:gn(),tooltipPlacement:Sa(),getTooltipPopupContainer:ul(),autofocus:gn(),handleStyle:lo([Array,Object]),trackStyle:lo([Array,Object]),onChange:ul(),onAfterChange:ul(),onFocus:ul(),onBlur:ul(),"onUpdate:value":ul()}),kQ=De({compatConfig:{MODE:3},name:"ASlider",inheritAttrs:!1,props:PQ(),slots:Object,setup(t,e){let{attrs:n,slots:r,emit:i,expose:o}=e;const{prefixCls:a,rootPrefixCls:s,direction:l,getPopupContainer:u,configProvider:c}=En("slider",t),[f,d]=BQ(a),h=Kd(),p=Te(),m=Te({}),v=(C,A)=>{m.value[C]=A},g=H(()=>t.tooltipPlacement?t.tooltipPlacement:t.vertical?l.value==="rtl"?"left":"right":"top"),w=()=>{var C;(C=p.value)===null||C===void 0||C.focus()},y=()=>{var C;(C=p.value)===null||C===void 0||C.blur()},S=C=>{i("update:value",C),i("change",C),h.onFieldChange()},x=C=>{i("blur",C)};o({focus:w,blur:y});const b=C=>{var{tooltipPrefixCls:A}=C,D=C.info,{value:E,dragging:M,index:B}=D,P=fD(D,["value","dragging","index"]);const{tipFormatter:F,tooltipOpen:$=t.tooltipVisible,getTooltipPopupContainer:N}=t,T=F?m.value[B]||M:!1,z=$||$===void 0&&T;return k(NQ,{prefixCls:A,title:F?F(E):"",open:z,placement:g.value,transitionName:`${s.value}-zoom-down`,key:B,overlayClassName:`${a.value}-tooltip`,getPopupContainer:N||(u==null?void 0:u.value)},{default:()=>[k(i4,Ee(Ee({},P),{},{value:E,onMouseenter:()=>v(B,!0),onMouseleave:()=>v(B,!1)}),null)]})};return()=>{const{tooltipPrefixCls:C,range:A,id:D=h.id.value}=t,E=fD(t,["tooltipPrefixCls","range","id"]),M=c.getPrefixCls("tooltip",C),B=He(n.class,{[`${a.value}-rtl`]:l.value==="rtl"},d.value);l.value==="rtl"&&!E.vertical&&(E.reverse=!E.reverse);let P;return typeof A=="object"&&(P=A.draggableTrack),f(A?k(MQ,Ee(Ee(Ee({},n),E),{},{step:E.step,draggableTrack:P,class:B,ref:p,handle:F=>b({tooltipPrefixCls:M,prefixCls:a.value,info:F}),prefixCls:a.value,onChange:S,onBlur:x}),{mark:r.mark}):k(AQ,Ee(Ee(Ee({},n),E),{},{id:D,step:E.step,class:B,ref:p,handle:F=>b({tooltipPrefixCls:M,prefixCls:a.value,info:F}),prefixCls:a.value,onChange:S,onBlur:x}),{mark:r.mark}))}}}),FQ=_c(kQ),RQ=t=>{const{componentCls:e}=t,n=`${e}-inner`;return{[e]:{[`&${e}-small`]:{minWidth:t.switchMinWidthSM,height:t.switchHeightSM,lineHeight:`${t.switchHeightSM}px`,[`${e}-inner`]:{paddingInlineStart:t.switchInnerMarginMaxSM,paddingInlineEnd:t.switchInnerMarginMinSM,[`${n}-checked`]:{marginInlineStart:`calc(-100% + ${t.switchPinSizeSM+t.switchPadding*2}px - ${t.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(100% - ${t.switchPinSizeSM+t.switchPadding*2}px + ${t.switchInnerMarginMaxSM*2}px)`},[`${n}-unchecked`]:{marginTop:-t.switchHeightSM,marginInlineStart:0,marginInlineEnd:0}},[`${e}-handle`]:{width:t.switchPinSizeSM,height:t.switchPinSizeSM},[`${e}-loading-icon`]:{top:(t.switchPinSizeSM-t.switchLoadingIconSize)/2,fontSize:t.switchLoadingIconSize},[`&${e}-checked`]:{[`${e}-inner`]:{paddingInlineStart:t.switchInnerMarginMinSM,paddingInlineEnd:t.switchInnerMarginMaxSM,[`${n}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${n}-unchecked`]:{marginInlineStart:`calc(100% - ${t.switchPinSizeSM+t.switchPadding*2}px + ${t.switchInnerMarginMaxSM*2}px)`,marginInlineEnd:`calc(-100% + ${t.switchPinSizeSM+t.switchPadding*2}px - ${t.switchInnerMarginMaxSM*2}px)`}},[`${e}-handle`]:{insetInlineStart:`calc(100% - ${t.switchPinSizeSM+t.switchPadding}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${n}`]:{[`${n}-unchecked`]:{marginInlineStart:t.marginXXS/2,marginInlineEnd:-t.marginXXS/2}},[`&${e}-checked ${n}`]:{[`${n}-checked`]:{marginInlineStart:-t.marginXXS/2,marginInlineEnd:t.marginXXS/2}}}}}}},_Q=t=>{const{componentCls:e}=t;return{[e]:{[`${e}-loading-icon${t.iconCls}`]:{position:"relative",top:(t.switchPinSize-t.fontSize)/2,color:t.switchLoadingIconColor,verticalAlign:"top"},[`&${e}-checked ${e}-loading-icon`]:{color:t.switchColor}}}},zQ=t=>{const{componentCls:e}=t,n=`${e}-handle`;return{[e]:{[n]:{position:"absolute",top:t.switchPadding,insetInlineStart:t.switchPadding,width:t.switchPinSize,height:t.switchPinSize,transition:`all ${t.switchDuration} ease-in-out`,"&::before":{position:"absolute",top:0,insetInlineEnd:0,bottom:0,insetInlineStart:0,backgroundColor:t.colorWhite,borderRadius:t.switchPinSize/2,boxShadow:t.switchHandleShadow,transition:`all ${t.switchDuration} ease-in-out`,content:'""'}},[`&${e}-checked ${n}`]:{insetInlineStart:`calc(100% - ${t.switchPinSize+t.switchPadding}px)`},[`&:not(${e}-disabled):active`]:{[`${n}::before`]:{insetInlineEnd:t.switchHandleActiveInset,insetInlineStart:0},[`&${e}-checked ${n}::before`]:{insetInlineEnd:0,insetInlineStart:t.switchHandleActiveInset}}}}},LQ=t=>{const{componentCls:e}=t,n=`${e}-inner`;return{[e]:{[n]:{display:"block",overflow:"hidden",borderRadius:100,height:"100%",paddingInlineStart:t.switchInnerMarginMax,paddingInlineEnd:t.switchInnerMarginMin,transition:`padding-inline-start ${t.switchDuration} ease-in-out, padding-inline-end ${t.switchDuration} ease-in-out`,[`${n}-checked, ${n}-unchecked`]:{display:"block",color:t.colorTextLightSolid,fontSize:t.fontSizeSM,transition:`margin-inline-start ${t.switchDuration} ease-in-out, margin-inline-end ${t.switchDuration} ease-in-out`,pointerEvents:"none"},[`${n}-checked`]:{marginInlineStart:`calc(-100% + ${t.switchPinSize+t.switchPadding*2}px - ${t.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(100% - ${t.switchPinSize+t.switchPadding*2}px + ${t.switchInnerMarginMax*2}px)`},[`${n}-unchecked`]:{marginTop:-t.switchHeight,marginInlineStart:0,marginInlineEnd:0}},[`&${e}-checked ${n}`]:{paddingInlineStart:t.switchInnerMarginMin,paddingInlineEnd:t.switchInnerMarginMax,[`${n}-checked`]:{marginInlineStart:0,marginInlineEnd:0},[`${n}-unchecked`]:{marginInlineStart:`calc(100% - ${t.switchPinSize+t.switchPadding*2}px + ${t.switchInnerMarginMax*2}px)`,marginInlineEnd:`calc(-100% + ${t.switchPinSize+t.switchPadding*2}px - ${t.switchInnerMarginMax*2}px)`}},[`&:not(${e}-disabled):active`]:{[`&:not(${e}-checked) ${n}`]:{[`${n}-unchecked`]:{marginInlineStart:t.switchPadding*2,marginInlineEnd:-t.switchPadding*2}},[`&${e}-checked ${n}`]:{[`${n}-checked`]:{marginInlineStart:-t.switchPadding*2,marginInlineEnd:t.switchPadding*2}}}}}},HQ=t=>{const{componentCls:e}=t;return{[e]:_(_(_(_({},Zi(t)),{position:"relative",display:"inline-block",boxSizing:"border-box",minWidth:t.switchMinWidth,height:t.switchHeight,lineHeight:`${t.switchHeight}px`,verticalAlign:"middle",background:t.colorTextQuaternary,border:"0",borderRadius:100,cursor:"pointer",transition:`all ${t.motionDurationMid}`,userSelect:"none",[`&:hover:not(${e}-disabled)`]:{background:t.colorTextTertiary}}),$m(t)),{[`&${e}-checked`]:{background:t.switchColor,[`&:hover:not(${e}-disabled)`]:{background:t.colorPrimaryHover}},[`&${e}-loading, &${e}-disabled`]:{cursor:"not-allowed",opacity:t.switchDisabledOpacity,"*":{boxShadow:"none",cursor:"not-allowed"}},[`&${e}-rtl`]:{direction:"rtl"}})}},VQ=ai("Switch",t=>{const e=t.fontSize*t.lineHeight,n=t.controlHeight/2,r=2,i=e-r*2,o=n-r*2,a=cn(t,{switchMinWidth:i*2+r*4,switchHeight:e,switchDuration:t.motionDurationMid,switchColor:t.colorPrimary,switchDisabledOpacity:t.opacityLoading,switchInnerMarginMin:i/2,switchInnerMarginMax:i+r+r*2,switchPadding:r,switchPinSize:i,switchBg:t.colorBgContainer,switchMinWidthSM:o*2+r*2,switchHeightSM:n,switchInnerMarginMinSM:o/2,switchInnerMarginMaxSM:o+r+r*2,switchPinSizeSM:o,switchHandleShadow:`0 2px 4px 0 ${new An("#00230b").setAlpha(.2).toRgbString()}`,switchLoadingIconSize:t.fontSizeIcon*.75,switchLoadingIconColor:`rgba(0, 0, 0, ${t.opacityLoading})`,switchHandleActiveInset:"-30%"});return[HQ(a),LQ(a),zQ(a),_Q(a),RQ(a)]}),UQ=oc("small","default"),qQ=()=>({id:String,prefixCls:String,size:ve.oneOf(UQ),disabled:{type:Boolean,default:void 0},checkedChildren:ve.any,unCheckedChildren:ve.any,tabindex:ve.oneOfType([ve.string,ve.number]),autofocus:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},checked:ve.oneOfType([ve.string,ve.number,ve.looseBool]),checkedValue:ve.oneOfType([ve.string,ve.number,ve.looseBool]).def(!0),unCheckedValue:ve.oneOfType([ve.string,ve.number,ve.looseBool]).def(!1),onChange:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onMouseup:{type:Function},"onUpdate:checked":{type:Function},onBlur:Function,onFocus:Function}),WQ=De({compatConfig:{MODE:3},name:"ASwitch",__ANT_SWITCH:!0,inheritAttrs:!1,props:qQ(),slots:Object,setup(t,e){let{attrs:n,slots:r,expose:i,emit:o}=e;const a=Kd(),s=Vl(),l=H(()=>{var D;return(D=t.disabled)!==null&&D!==void 0?D:s.value});jT(()=>{Hr(),Hr()});const u=Te(t.checked!==void 0?t.checked:n.defaultChecked),c=H(()=>u.value===t.checkedValue);ze(()=>t.checked,()=>{u.value=t.checked});const{prefixCls:f,direction:d,size:h}=En("switch",t),[p,m]=VQ(f),v=Te(),g=()=>{var D;(D=v.value)===null||D===void 0||D.focus()};i({focus:g,blur:()=>{var D;(D=v.value)===null||D===void 0||D.blur()}}),sn(()=>{yn(()=>{t.autofocus&&!l.value&&v.value.focus()})});const y=(D,E)=>{l.value||(o("update:checked",D),o("change",D,E),a.onFieldChange())},S=D=>{o("blur",D)},x=D=>{g();const E=c.value?t.unCheckedValue:t.checkedValue;y(E,D),o("click",E,D)},b=D=>{D.keyCode===Ye.LEFT?y(t.unCheckedValue,D):D.keyCode===Ye.RIGHT&&y(t.checkedValue,D),o("keydown",D)},C=D=>{var E;(E=v.value)===null||E===void 0||E.blur(),o("mouseup",D)},A=H(()=>({[`${f.value}-small`]:h.value==="small",[`${f.value}-loading`]:t.loading,[`${f.value}-checked`]:c.value,[`${f.value}-disabled`]:l.value,[f.value]:!0,[`${f.value}-rtl`]:d.value==="rtl",[m.value]:!0}));return()=>{var D;return p(k(j3,null,{default:()=>[k("button",Ee(Ee(Ee({},In(t,["prefixCls","checkedChildren","unCheckedChildren","checked","autofocus","checkedValue","unCheckedValue","id","onChange","onUpdate:checked"])),n),{},{id:(D=t.id)!==null&&D!==void 0?D:a.id.value,onKeydown:b,onClick:x,onBlur:S,onMouseup:C,type:"button",role:"switch","aria-checked":u.value,disabled:l.value||t.loading,class:[n.class,A.value],ref:v}),[k("div",{class:`${f.value}-handle`},[t.loading?k(Tl,{class:`${f.value}-loading-icon`},null):null]),k("span",{class:`${f.value}-inner`},[k("span",{class:`${f.value}-inner-checked`},[cd(r,t,"checkedChildren")]),k("span",{class:`${f.value}-inner-unchecked`},[cd(r,t,"unCheckedChildren")])])])]}))}}}),ya=_c(WQ);var jQ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 170h-60c-4.4 0-8 3.6-8 8v518H310v-73c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-75h498c35.3 0 64-28.7 64-64V178c0-4.4-3.6-8-8-8z"}}]},name:"enter",theme:"outlined"};const GQ=jQ;function dD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){XQ(t,i,n[i])})}return t}function XQ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Pw=function(e,n){var r=dD({},e,n.attrs);return k(Hn,dD({},r,{icon:GQ}),null)};Pw.displayName="EnterOutlined";Pw.inheritAttrs=!1;const KQ=Pw,YQ=(t,e,n,r)=>{const{sizeMarginHeadingVerticalEnd:i,fontWeightStrong:o}=r;return{marginBottom:i,color:n,fontWeight:o,fontSize:t,lineHeight:e}},ZQ=t=>{const e=[1,2,3,4,5],n={};return e.forEach(r=>{n[`
      h${r}&,
      div&-h${r},
      div&-h${r} > textarea,
      h${r}
    `]=YQ(t[`fontSizeHeading${r}`],t[`lineHeightHeading${r}`],t.colorTextHeading,t)}),n},QQ=t=>{const{componentCls:e}=t;return{"a&, a":_(_({},OI(t)),{textDecoration:t.linkDecoration,"&:active, &:hover":{textDecoration:t.linkHoverDecoration},[`&[disabled], &${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:active, &:hover":{color:t.colorTextDisabled},"&:active":{pointerEvents:"none"}}})}},JQ=()=>({code:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.2em 0.1em",fontSize:"85%",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3},kbd:{margin:"0 0.2em",paddingInline:"0.4em",paddingBlock:"0.15em 0.1em",fontSize:"90%",background:"rgba(150, 150, 150, 0.06)",border:"1px solid rgba(100, 100, 100, 0.2)",borderBottomWidth:2,borderRadius:3},mark:{padding:0,backgroundColor:eU[2]},"u, ins":{textDecoration:"underline",textDecorationSkipInk:"auto"},"s, del":{textDecoration:"line-through"},strong:{fontWeight:600},"ul, ol":{marginInline:0,marginBlock:"0 1em",padding:0,li:{marginInline:"20px 0",marginBlock:0,paddingInline:"4px 0",paddingBlock:0}},ul:{listStyleType:"circle",ul:{listStyleType:"disc"}},ol:{listStyleType:"decimal"},"pre, blockquote":{margin:"1em 0"},pre:{padding:"0.4em 0.6em",whiteSpace:"pre-wrap",wordWrap:"break-word",background:"rgba(150, 150, 150, 0.1)",border:"1px solid rgba(100, 100, 100, 0.2)",borderRadius:3,code:{display:"inline",margin:0,padding:0,fontSize:"inherit",fontFamily:"inherit",background:"transparent",border:0}},blockquote:{paddingInline:"0.6em 0",paddingBlock:0,borderInlineStart:"4px solid rgba(100, 100, 100, 0.2)",opacity:.85}}),eJ=t=>{const{componentCls:e}=t,r=bP(t).inputPaddingVertical+1;return{"&-edit-content":{position:"relative","div&":{insetInlineStart:-t.paddingSM,marginTop:-r,marginBottom:`calc(1em - ${r}px)`},[`${e}-edit-content-confirm`]:{position:"absolute",insetInlineEnd:t.marginXS+2,insetBlockEnd:t.marginXS,color:t.colorTextDescription,fontWeight:"normal",fontSize:t.fontSize,fontStyle:"normal",pointerEvents:"none"},textarea:{margin:"0!important",MozTransition:"none",height:"1em"}}}},tJ=t=>({"&-copy-success":{"\n    &,\n    &:hover,\n    &:focus":{color:t.colorSuccess}}}),nJ=()=>({"\n  a&-ellipsis,\n  span&-ellipsis\n  ":{display:"inline-block",maxWidth:"100%"},"&-single-line":{whiteSpace:"nowrap"},"&-ellipsis-single-line":{overflow:"hidden",textOverflow:"ellipsis","a&, span&":{verticalAlign:"bottom"}},"&-ellipsis-multiple-line":{display:"-webkit-box",overflow:"hidden",WebkitLineClamp:3,WebkitBoxOrient:"vertical"}}),rJ=t=>{const{componentCls:e,sizeMarginHeadingVerticalStart:n}=t;return{[e]:_(_(_(_(_(_(_(_(_({color:t.colorText,wordBreak:"break-word",lineHeight:t.lineHeight,[`&${e}-secondary`]:{color:t.colorTextDescription},[`&${e}-success`]:{color:t.colorSuccess},[`&${e}-warning`]:{color:t.colorWarning},[`&${e}-danger`]:{color:t.colorError,"a&:active, a&:focus":{color:t.colorErrorActive},"a&:hover":{color:t.colorErrorHover}},[`&${e}-disabled`]:{color:t.colorTextDisabled,cursor:"not-allowed",userSelect:"none"},"\n        div&,\n        p\n      ":{marginBottom:"1em"}},ZQ(t)),{[`
      & + h1${e},
      & + h2${e},
      & + h3${e},
      & + h4${e},
      & + h5${e}
      `]:{marginTop:n},"\n      div,\n      ul,\n      li,\n      p,\n      h1,\n      h2,\n      h3,\n      h4,\n      h5":{"\n        + h1,\n        + h2,\n        + h3,\n        + h4,\n        + h5\n        ":{marginTop:n}}}),JQ()),QQ(t)),{[`
        ${e}-expand,
        ${e}-edit,
        ${e}-copy
      `]:_(_({},OI(t)),{marginInlineStart:t.marginXXS})}),eJ(t)),tJ(t)),nJ()),{"&-rtl":{direction:"rtl"}})}},f4=ai("Typography",t=>[rJ(t)],{sizeMarginHeadingVerticalStart:"1.2em",sizeMarginHeadingVerticalEnd:"0.5em"}),iJ=()=>({prefixCls:String,value:String,maxlength:Number,autoSize:{type:[Boolean,Object]},onSave:Function,onCancel:Function,onEnd:Function,onChange:Function,originContent:String,direction:String,component:String}),oJ=De({compatConfig:{MODE:3},name:"Editable",inheritAttrs:!1,props:iJ(),setup(t,e){let{emit:n,slots:r,attrs:i}=e;const{prefixCls:o}=ix(t),a=Ht({current:t.value||"",lastKeyCode:void 0,inComposition:!1,cancelFlag:!1});ze(()=>t.value,w=>{a.current=w});const s=Te();sn(()=>{var w;if(s.value){const y=(w=s.value)===null||w===void 0?void 0:w.resizableTextArea,S=y==null?void 0:y.textArea;S.focus();const{length:x}=S.value;S.setSelectionRange(x,x)}});function l(w){s.value=w}function u(w){let{target:{value:y}}=w;a.current=y.replace(/[\r\n]/g,""),n("change",a.current)}function c(){a.inComposition=!0}function f(){a.inComposition=!1}function d(w){const{keyCode:y}=w;y===Ye.ENTER&&w.preventDefault(),!a.inComposition&&(a.lastKeyCode=y)}function h(w){const{keyCode:y,ctrlKey:S,altKey:x,metaKey:b,shiftKey:C}=w;a.lastKeyCode===y&&!a.inComposition&&!S&&!x&&!b&&!C&&(y===Ye.ENTER?(m(),n("end")):y===Ye.ESC&&(a.current=t.originContent,n("cancel")))}function p(){m()}function m(){n("save",a.current.trim())}const[v,g]=f4(o);return()=>{const w=He({[`${o.value}`]:!0,[`${o.value}-edit-content`]:!0,[`${o.value}-rtl`]:t.direction==="rtl",[t.component?`${o.value}-${t.component}`:""]:!0},i.class,g.value);return v(k("div",Ee(Ee({},i),{},{class:w}),[k(JP,{ref:l,maxlength:t.maxlength,value:a.current,onChange:u,onKeydown:d,onKeyup:h,onCompositionstart:c,onCompositionend:f,onBlur:p,rows:1,autoSize:t.autoSize===void 0||t.autoSize},null),r.enterIcon?r.enterIcon({className:`${t.prefixCls}-edit-content-confirm`}):k(KQ,{class:`${t.prefixCls}-edit-content-confirm`},null)]))}}}),aJ=oJ,sJ=3,lJ=8;let Xr;const J0={padding:0,margin:0,display:"inline",lineHeight:"inherit"};function uJ(t){return Array.prototype.slice.apply(t).map(n=>`${n}: ${t.getPropertyValue(n)};`).join("")}function d4(t,e){t.setAttribute("aria-hidden","true");const n=window.getComputedStyle(e),r=uJ(n);t.setAttribute("style",r),t.style.position="fixed",t.style.left="0",t.style.height="auto",t.style.minHeight="auto",t.style.maxHeight="auto",t.style.paddingTop="0",t.style.paddingBottom="0",t.style.borderTopWidth="0",t.style.borderBottomWidth="0",t.style.top="-999999px",t.style.zIndex="-1000",t.style.textOverflow="clip",t.style.whiteSpace="normal",t.style.webkitLineClamp="none"}function cJ(t){const e=document.createElement("div");d4(e,t),e.appendChild(document.createTextNode("text")),document.body.appendChild(e);const n=e.getBoundingClientRect().height;return document.body.removeChild(e),n}const fJ=(t,e,n,r,i)=>{Xr||(Xr=document.createElement("div"),Xr.setAttribute("aria-hidden","true"),document.body.appendChild(Xr));const{rows:o,suffix:a=""}=e,s=cJ(t),l=Math.round(s*o*100)/100;d4(Xr,t);const u=t6({render(){return k("div",{style:J0},[k("span",{style:J0},[n,a]),k("span",{style:J0},[r])])}});u.mount(Xr);function c(){return Math.round(Xr.getBoundingClientRect().height*100)/100-.1<=l}if(c())return u.unmount(),{content:n,text:Xr.innerHTML,ellipsis:!1};const f=Array.prototype.slice.apply(Xr.childNodes[0].childNodes[0].cloneNode(!0).childNodes).filter(y=>{let{nodeType:S,data:x}=y;return S!==lJ&&x!==""}),d=Array.prototype.slice.apply(Xr.childNodes[0].childNodes[1].cloneNode(!0).childNodes);u.unmount();const h=[];Xr.innerHTML="";const p=document.createElement("span");Xr.appendChild(p);const m=document.createTextNode(i+a);p.appendChild(m),d.forEach(y=>{Xr.appendChild(y)});function v(y){p.insertBefore(y,m)}function g(y,S){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,b=arguments.length>3&&arguments[3]!==void 0?arguments[3]:S.length,C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;const A=Math.floor((x+b)/2),D=S.slice(0,A);if(y.textContent=D,x>=b-1)for(let E=b;E>=x;E-=1){const M=S.slice(0,E);if(y.textContent=M,c()||!M)return E===S.length?{finished:!1,vNode:S}:{finished:!0,vNode:M}}return c()?g(y,S,A,b,A):g(y,S,x,A,C)}function w(y){if(y.nodeType===sJ){const x=y.textContent||"",b=document.createTextNode(x);return v(b),g(b,x)}return{finished:!1,vNode:null}}return f.some(y=>{const{finished:S,vNode:x}=w(y);return x&&h.push(x),S}),{content:h,text:Xr.innerHTML,ellipsis:!0}};var dJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const hJ=()=>({prefixCls:String,direction:String,component:String}),pJ=De({name:"ATypography",inheritAttrs:!1,props:hJ(),setup(t,e){let{slots:n,attrs:r}=e;const{prefixCls:i,direction:o}=En("typography",t),[a,s]=f4(i);return()=>{var l;const u=_(_({},t),r),{prefixCls:c,direction:f,component:d="article"}=u,h=dJ(u,["prefixCls","direction","component"]);return a(k(d,Ee(Ee({},h),{},{class:He(i.value,{[`${i.value}-rtl`]:o.value==="rtl"},r.class,s.value)}),{default:()=>[(l=n.default)===null||l===void 0?void 0:l.call(n)]}))}}}),gi=pJ,mJ=()=>{const t=document.getSelection();if(!t.rangeCount)return function(){};let e=document.activeElement;const n=[];for(let r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null;break}return t.removeAllRanges(),function(){t.type==="Caret"&&t.removeAllRanges(),t.rangeCount||n.forEach(function(r){t.addRange(r)}),e&&e.focus()}},gJ=mJ,hD={"text/plain":"Text","text/html":"Url",default:"Text"},vJ="Copy to clipboard: #{key}, Enter";function yJ(t){const e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}function bJ(t,e){let n,r,i,o,a,s=!1;e||(e={});const l=e.debug||!1;try{if(r=gJ(),i=document.createRange(),o=document.getSelection(),a=document.createElement("span"),a.textContent=t,a.style.all="unset",a.style.position="fixed",a.style.top=0,a.style.clip="rect(0, 0, 0, 0)",a.style.whiteSpace="pre",a.style.webkitUserSelect="text",a.style.MozUserSelect="text",a.style.msUserSelect="text",a.style.userSelect="text",a.addEventListener("copy",function(c){if(c.stopPropagation(),e.format)if(c.preventDefault(),typeof c.clipboardData>"u"){l&&console.warn("unable to use e.clipboardData"),l&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();const f=hD[e.format]||hD.default;window.clipboardData.setData(f,t)}else c.clipboardData.clearData(),c.clipboardData.setData(e.format,t);e.onCopy&&(c.preventDefault(),e.onCopy(c.clipboardData))}),document.body.appendChild(a),i.selectNodeContents(a),o.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");s=!0}catch(u){l&&console.error("unable to copy using execCommand: ",u),l&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),s=!0}catch(c){l&&console.error("unable to copy using clipboardData: ",c),l&&console.error("falling back to prompt"),n=yJ("message"in e?e.message:vJ),window.prompt(n,t)}}finally{o&&(typeof o.removeRange=="function"?o.removeRange(i):o.removeAllRanges()),a&&document.body.removeChild(a),r()}return s}var xJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};const wJ=xJ;function pD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){SJ(t,i,n[i])})}return t}function SJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var kw=function(e,n){var r=pD({},e,n.attrs);return k(Hn,pD({},r,{icon:wJ}),null)};kw.displayName="CopyOutlined";kw.inheritAttrs=!1;const CJ=kw;var AJ={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const DJ=AJ;function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?Object(arguments[e]):{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){EJ(t,i,n[i])})}return t}function EJ(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fw=function(e,n){var r=mD({},e,n.attrs);return k(Hn,mD({},r,{icon:DJ}),null)};Fw.displayName="EditOutlined";Fw.inheritAttrs=!1;const MJ=Fw;var NJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const $J=wP("webkitLineClamp"),OJ=wP("textOverflow"),gD="...",Yd=()=>({editable:{type:[Boolean,Object],default:void 0},copyable:{type:[Boolean,Object],default:void 0},prefixCls:String,component:String,type:String,disabled:{type:Boolean,default:void 0},ellipsis:{type:[Boolean,Object],default:void 0},code:{type:Boolean,default:void 0},mark:{type:Boolean,default:void 0},underline:{type:Boolean,default:void 0},delete:{type:Boolean,default:void 0},strong:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},content:String,"onUpdate:content":Function}),TJ=De({compatConfig:{MODE:3},name:"TypographyBase",inheritAttrs:!1,props:Yd(),setup(t,e){let{slots:n,attrs:r,emit:i}=e;const{prefixCls:o,direction:a}=En("typography",t),s=Ht({copied:!1,ellipsisText:"",ellipsisContent:null,isEllipsis:!1,expanded:!1,clientRendered:!1,expandStr:"",copyStr:"",copiedStr:"",editStr:"",copyId:void 0,rafId:void 0,prevProps:void 0,originContent:""}),l=Te(),u=Te(),c=H(()=>{const $=t.ellipsis;return $?_({rows:1,expandable:!1},typeof $=="object"?$:null):{}});sn(()=>{s.clientRendered=!0,A()}),ln(()=>{clearTimeout(s.copyId),Rt.cancel(s.rafId)}),ze([()=>c.value.rows,()=>t.content],()=>{yn(()=>{b()})},{flush:"post",deep:!0}),Bn(()=>{t.content===void 0&&(Hr(!t.editable),Hr(!t.ellipsis))});function f(){var $;return t.ellipsis||t.editable?t.content:($=po(l.value))===null||$===void 0?void 0:$.innerText}function d($){const{onExpand:N}=c.value;s.expanded=!0,N==null||N($)}function h($){$.preventDefault(),s.originContent=t.content,x(!0)}function p($){m($),x(!1)}function m($){const{onChange:N}=w.value;$!==t.content&&(i("update:content",$),N==null||N($))}function v(){var $,N;(N=($=w.value).onCancel)===null||N===void 0||N.call($),x(!1)}function g($){$.preventDefault(),$.stopPropagation();const{copyable:N}=t,T=_({},typeof N=="object"?N:null);T.text===void 0&&(T.text=f()),bJ(T.text||""),s.copied=!0,yn(()=>{T.onCopy&&T.onCopy($),s.copyId=setTimeout(()=>{s.copied=!1},3e3)})}const w=H(()=>{const $=t.editable;return $?_({},typeof $=="object"?$:null):{editing:!1}}),[y,S]=vb(!1,{value:H(()=>w.value.editing)});function x($){const{onStart:N}=w.value;$&&N&&N(),S($)}ze(y,$=>{var N;$||(N=u.value)===null||N===void 0||N.focus()},{flush:"post"});function b($){if($){const{width:N,height:T}=$;if(!N||!T)return}Rt.cancel(s.rafId),s.rafId=Rt(()=>{A()})}const C=H(()=>{const{rows:$,expandable:N,suffix:T,onEllipsis:z,tooltip:I}=c.value;return T||I||t.editable||t.copyable||N||z?!1:$===1?OJ:$J}),A=()=>{const{ellipsisText:$,isEllipsis:N}=s,{rows:T,suffix:z,onEllipsis:I}=c.value;if(!T||T<0||!po(l.value)||s.expanded||t.content===void 0||C.value)return;const{content:q,text:X,ellipsis:V}=fJ(po(l.value),{rows:T,suffix:z},t.content,F(!0),gD);($!==X||s.isEllipsis!==V)&&(s.ellipsisText=X,s.ellipsisContent=q,s.isEllipsis=V,N!==V&&I&&I(V))};function D($,N){let{mark:T,code:z,underline:I,delete:q,strong:X,keyboard:V}=$,L=N;function ne(se,Y){if(!se)return;const ee=function(){return L}();L=k(Y,null,{default:()=>[ee]})}return ne(X,"strong"),ne(I,"u"),ne(q,"del"),ne(z,"code"),ne(T,"mark"),ne(V,"kbd"),L}function E($){const{expandable:N,symbol:T}=c.value;if(!N||!$&&(s.expanded||!s.isEllipsis))return null;const z=(n.ellipsisSymbol?n.ellipsisSymbol():T)||s.expandStr;return k("a",{key:"expand",class:`${o.value}-expand`,onClick:d,"aria-label":s.expandStr},[z])}function M(){if(!t.editable)return;const{tooltip:$,triggerType:N=["icon"]}=t.editable,T=n.editableIcon?n.editableIcon():k(MJ,{role:"button"},null),z=n.editableTooltip?n.editableTooltip():s.editStr,I=typeof z=="string"?z:"";return N.indexOf("icon")!==-1?k(El,{key:"edit",title:$===!1?"":z},{default:()=>[k(oD,{ref:u,class:`${o.value}-edit`,onClick:h,"aria-label":I},{default:()=>[T]})]}):null}function B(){if(!t.copyable)return;const{tooltip:$}=t.copyable,N=s.copied?s.copiedStr:s.copyStr,T=n.copyableTooltip?n.copyableTooltip({copied:s.copied}):N,z=typeof T=="string"?T:"",I=s.copied?k(_3,null,null):k(CJ,null,null),q=n.copyableIcon?n.copyableIcon({copied:!!s.copied}):I;return k(El,{key:"copy",title:$===!1?"":T},{default:()=>[k(oD,{class:[`${o.value}-copy`,{[`${o.value}-copy-success`]:s.copied}],onClick:g,"aria-label":z},{default:()=>[q]})]})}function P(){const{class:$,style:N}=r,{maxlength:T,autoSize:z,onEnd:I}=w.value;return k(aJ,{class:$,style:N,prefixCls:o.value,value:t.content,originContent:s.originContent,maxlength:T,autoSize:z,onSave:p,onChange:m,onCancel:v,onEnd:I,direction:a.value,component:t.component},{enterIcon:n.editableEnterIcon})}function F($){return[E($),M(),B()].filter(N=>N)}return()=>{var $;const{triggerType:N=["icon"]}=w.value,T=t.ellipsis||t.editable?t.content!==void 0?t.content:($=n.default)===null||$===void 0?void 0:$.call(n):n.default?n.default():t.content;return y.value?P():k(Ox,{componentName:"Text",children:z=>{const I=_(_({},t),r),{type:q,disabled:X,content:V,class:L,style:ne}=I,se=NJ(I,["type","disabled","content","class","style"]),{rows:Y,suffix:ee,tooltip:ie}=c.value,{edit:j,copy:W,copied:J,expand:oe}=z;s.editStr=j,s.copyStr=W,s.copiedStr=J,s.expandStr=oe;const de=In(se,["prefixCls","editable","copyable","ellipsis","mark","code","delete","underline","strong","keyboard","onUpdate:content"]),ge=C.value,U=Y===1&&ge,Z=Y&&Y>1&&ge;let fe=T,Q;if(Y&&s.isEllipsis&&!s.expanded&&!ge){const{title:ye}=se;let xe=ye||"";!ye&&(typeof T=="string"||typeof T=="number")&&(xe=String(T)),xe=xe==null?void 0:xe.slice(String(s.ellipsisContent||"").length),fe=k(gt,null,[za(s.ellipsisContent),k("span",{title:xe,"aria-hidden":"true"},[gD]),ee])}else fe=k(gt,null,[T,ee]);fe=D(t,fe);const re=ie&&Y&&s.isEllipsis&&!s.expanded&&!ge,ue=n.ellipsisTooltip?n.ellipsisTooltip():ie;return k(jd,{onResize:b,disabled:!Y},{default:()=>[k(gi,Ee({ref:l,class:[{[`${o.value}-${q}`]:q,[`${o.value}-disabled`]:X,[`${o.value}-ellipsis`]:Y,[`${o.value}-single-line`]:Y===1&&!s.isEllipsis,[`${o.value}-ellipsis-single-line`]:U,[`${o.value}-ellipsis-multiple-line`]:Z},L],style:_(_({},ne),{WebkitLineClamp:Z?Y:void 0}),"aria-label":Q,direction:a.value,onClick:N.indexOf("text")!==-1?h:()=>{}},de),{default:()=>[re?k(El,{title:ie===!0?T:ue},{default:()=>[k("span",null,[fe])]}):fe,F()]})]})}},null)}}}),Zd=TJ;var BJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const IJ=()=>In(_(_({},Yd()),{ellipsis:{type:Boolean,default:void 0}}),["component"]),hv=(t,e)=>{let{slots:n,attrs:r}=e;const i=_(_({},t),r),{ellipsis:o,rel:a}=i,s=BJ(i,["ellipsis","rel"]);Hr();const l=_(_({},s),{rel:a===void 0&&s.target==="_blank"?"noopener noreferrer":a,ellipsis:!!o,component:"a"});return delete l.navigate,k(Zd,l,n)};hv.displayName="ATypographyLink";hv.inheritAttrs=!1;hv.props=IJ();const Lm=hv,PJ=()=>In(Yd(),["component"]),pv=(t,e)=>{let{slots:n,attrs:r}=e;const i=_(_(_({},t),{component:"div"}),r);return k(Zd,i,n)};pv.displayName="ATypographyParagraph";pv.inheritAttrs=!1;pv.props=PJ();const hc=pv,kJ=()=>_(_({},In(Yd(),["component"])),{ellipsis:{type:[Boolean,Object],default:void 0}}),mv=(t,e)=>{let{slots:n,attrs:r}=e;const{ellipsis:i}=t;Hr();const o=_(_(_({},t),{ellipsis:i&&typeof i=="object"?In(i,["expandable","rows"]):i,component:"span"}),r);return k(Zd,o,n)};mv.displayName="ATypographyText";mv.inheritAttrs=!1;mv.props=kJ();const Yn=mv;var FJ=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};const RJ=MH(1,2,3,4,5),_J=()=>_(_({},In(Yd(),["component","strong"])),{level:Number}),gv=(t,e)=>{let{slots:n,attrs:r}=e;const{level:i=1}=t,o=FJ(t,["level"]);let a;RJ.includes(i)?a=`h${i}`:(Hr(),a="h1");const s=_(_(_({},o),{component:a}),r);return k(Zd,s,n)};gv.displayName="ATypographyTitle";gv.inheritAttrs=!1;gv.props=_J();const Rw=gv;gi.Text=Yn;gi.Title=Rw;gi.Paragraph=hc;gi.Link=Lm;gi.Base=Zd;gi.install=function(t){return t.component(gi.name,gi),t.component(gi.Text.displayName,Yn),t.component(gi.Title.displayName,Rw),t.component(gi.Paragraph.displayName,hc),t.component(gi.Link.displayName,Lm),t};const zJ={locale:"zh_CN",today:"今天",now:"此刻",backToToday:"返回今天",ok:"确定",timeSelect:"选择时间",dateSelect:"选择日期",weekSelect:"选择周",clear:"清除",month:"月",year:"年",previousMonth:"上个月 (翻页上键)",nextMonth:"下个月 (翻页下键)",monthSelect:"选择月份",yearSelect:"选择年份",decadeSelect:"选择年代",yearFormat:"YYYY年",dayFormat:"D日",dateFormat:"YYYY年M月D日",dateTimeFormat:"YYYY年M月D日 HH时mm分ss秒",previousYear:"上一年 (Control键加左方向键)",nextYear:"下一年 (Control键加右方向键)",previousDecade:"上一年代",nextDecade:"下一年代",previousCentury:"上一世纪",nextCentury:"下一世纪"},LJ=zJ,HJ={placeholder:"请选择时间",rangePlaceholder:["开始时间","结束时间"]},h4=HJ,p4={lang:_({placeholder:"请选择日期",yearPlaceholder:"请选择年份",quarterPlaceholder:"请选择季度",monthPlaceholder:"请选择月份",weekPlaceholder:"请选择周",rangePlaceholder:["开始日期","结束日期"],rangeYearPlaceholder:["开始年份","结束年份"],rangeMonthPlaceholder:["开始月份","结束月份"],rangeQuarterPlaceholder:["开始季度","结束季度"],rangeWeekPlaceholder:["开始周","结束周"]},LJ),timePickerLocale:_({},h4)};p4.lang.ok="确定";const vD=p4,li="${label}不是一个有效的${type}",VJ={locale:"zh-cn",Pagination:pQ,DatePicker:vD,TimePicker:h4,Calendar:vD,global:{placeholder:"请选择"},Table:{filterTitle:"筛选",filterConfirm:"确定",filterReset:"重置",filterEmptyText:"无筛选项",filterCheckall:"全选",filterSearchPlaceholder:"在筛选项中搜索",selectAll:"全选当页",selectInvert:"反选当页",selectNone:"清空所有",selectionAll:"全选所有",sortTitle:"排序",expand:"展开行",collapse:"关闭行",triggerDesc:"点击降序",triggerAsc:"点击升序",cancelSort:"取消排序"},Tour:{Next:"下一步",Previous:"上一步",Finish:"结束导览"},Modal:{okText:"确定",cancelText:"取消",justOkText:"知道了"},Popconfirm:{cancelText:"取消",okText:"确定"},Transfer:{searchPlaceholder:"请输入搜索内容",itemUnit:"项",itemsUnit:"项",remove:"删除",selectCurrent:"全选当页",removeCurrent:"删除当页",selectAll:"全选所有",removeAll:"删除全部",selectInvert:"反选当页"},Upload:{uploading:"文件上传中",removeFile:"删除文件",uploadError:"上传错误",previewFile:"预览文件",downloadFile:"下载文件"},Empty:{description:"暂无数据"},Icon:{icon:"图标"},Text:{edit:"编辑",copy:"复制",copied:"复制成功",expand:"展开"},PageHeader:{back:"返回"},Form:{optional:"（可选）",defaultValidateMessages:{default:"字段验证错误${label}",required:"请输入${label}",enum:"${label}必须是其中一个[${enum}]",whitespace:"${label}不能为空字符",date:{format:"${label}日期格式无效",parse:"${label}不能转换为日期",invalid:"${label}是一个无效日期"},types:{string:li,method:li,array:li,object:li,number:li,date:li,boolean:li,integer:li,float:li,regexp:li,email:li,url:li,hex:li},string:{len:"${label}须为${len}个字符",min:"${label}最少${min}个字符",max:"${label}最多${max}个字符",range:"${label}须在${min}-${max}字符之间"},number:{len:"${label}必须等于${len}",min:"${label}最小值为${min}",max:"${label}最大值为${max}",range:"${label}须在${min}-${max}之间"},array:{len:"须为${len}个${label}",min:"最少${min}个${label}",max:"最多${max}个${label}",range:"${label}数量须在${min}-${max}之间"},pattern:{mismatch:"${label}与模式不匹配${pattern}"}}},Image:{preview:"预览"},QRCode:{expired:"二维码已过期",refresh:"点击刷新",scanned:"已扫描"}},UJ=VJ,qJ={class:"inline-flex flex-row items-center space-x-2"},$n=De({name:"ContextMenuOnBoard",__name:"ContextMenuItemContent",props:{icon:{},title:{}},setup(t){return(e,n)=>(Ce(),Re("div",qJ,[e.icon?(Ce(),Re("span",{key:0,class:it(e.icon)},null,2)):et("",!0),we("span",null,Nt(e.title),1)]))}}),yD=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Pa=(()=>{if(typeof document>"u")return!1;const t=yD[0],e={};for(const n of yD)if((n==null?void 0:n[1])in document){for(const[i,o]of n.entries())e[t[i]]=o;return e}return!1})(),bD={change:Pa.fullscreenchange,error:Pa.fullscreenerror};let pi={request(t=document.documentElement,e){return new Promise((n,r)=>{const i=()=>{pi.off("change",i),n()};pi.on("change",i);const o=t[Pa.requestFullscreen](e);o instanceof Promise&&o.then(i).catch(r)})},exit(){return new Promise((t,e)=>{if(!pi.isFullscreen){t();return}const n=()=>{pi.off("change",n),t()};pi.on("change",n);const r=document[Pa.exitFullscreen]();r instanceof Promise&&r.then(n).catch(e)})},toggle(t,e){return pi.isFullscreen?pi.exit():pi.request(t,e)},onchange(t){pi.on("change",t)},onerror(t){pi.on("error",t)},on(t,e){const n=bD[t];n&&document.addEventListener(n,e,!1)},off(t,e){const n=bD[t];n&&document.removeEventListener(n,e,!1)},raw:Pa};Object.defineProperties(pi,{isFullscreen:{get:()=>!!document[Pa.fullscreenElement]},element:{enumerable:!0,get:()=>document[Pa.fullscreenElement]??void 0},isEnabled:{enumerable:!0,get:()=>!!document[Pa.fullscreenEnabled]}});Pa||(pi={isEnabled:!1});const du=pi,WJ={class:"absolute inset-0 flex flex-col items-center justify-center"},jJ=De({name:"ModalContentAbout",__name:"ModalContentAbout",setup(t){return(e,n)=>(Ce(),Re("div",WJ,[k(O(Rw),{level:4},{default:Ae(()=>[Ot(" CraftEditor ")]),_:1}),k(O(Yn),null,{default:Ae(()=>[Ot(" version: "+Nt(O(QT)),1)]),_:1})]))}}),GJ={class:"space-y-2"},XJ={class:"flex space-x-2"},KJ=De({name:"ModalContentBoxUpdateName",__name:"ModalContentBoxUpdateName",props:{box:{}},setup(t){const e=t,n=Rc(),{editorState:r}=Vn(),i=Te(e.box.props.name);function o(){r.draggableBoxUpdateName({id:e.box.id,name:i.value}),n==null||n.destroy()}return(a,s)=>(Ce(),Re("div",GJ,[we("div",XJ,[k(O(On),{value:i.value,"onUpdate:value":s[0]||(s[0]=l=>i.value=l),placeholder:"标识符",onPressEnter:s[1]||(s[1]=()=>o())},null,8,["value"]),k(O(Hi),{type:"primary",onClick:s[2]||(s[2]=()=>o())},{default:Ae(()=>[Ot(" 确定 ")]),_:1})]),k(O(hc),null,{default:Ae(()=>[Ot(" 通常不需要设置，除非需要在代码中使用，例如在渲染器 slot 中使用此信息区渲染内容 ")]),_:1})]))}}),YJ={class:"space-y-2"},ZJ={class:"flex space-x-2"},QJ=De({name:"ModalContentBoxUpdateTitle",__name:"ModalContentBoxUpdateTitle",props:{box:{}},setup(t){const e=t,n=Rc(),{editorState:r}=Vn(),i=Te(e.box.props.title);function o(){r.draggableBoxUpdateTitle({id:e.box.id,title:i.value}),n==null||n.destroy()}return(a,s)=>(Ce(),Re("div",YJ,[we("div",ZJ,[k(O(On),{value:i.value,"onUpdate:value":s[0]||(s[0]=l=>i.value=l),placeholder:"名称",onPressEnter:s[1]||(s[1]=()=>o())},null,8,["value"]),k(O(Hi),{type:"primary",onClick:s[2]||(s[2]=()=>o())},{default:Ae(()=>[Ot(" 确定 ")]),_:1})]),k(O(hc),null,{default:Ae(()=>[Ot(" 名称仅在编辑时方便识别，无实际作用 ")]),_:1}),k(O(hc),null,{default:Ae(()=>[Ot(" 可以是任何值，也可以重复 ")]),_:1})]))}}),Qd={};Qd.write=async t=>{await navigator.clipboard.writeText(t)};Qd.read=async()=>navigator.clipboard.readText();Qd.readSync=()=>{throw new Error("`.readSync()` is not supported in browsers!")};Qd.writeSync=()=>{throw new Error("`.writeSync()` is not supported in browsers!")};const JJ=Qd,m4=1024;let eee=0,ey=class{constructor(e,n){this.from=e,this.to=n}};class Bt{constructor(e={}){this.id=eee++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ri.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Bt.closedBy=new Bt({deserialize:t=>t.split(" ")});Bt.openedBy=new Bt({deserialize:t=>t.split(" ")});Bt.group=new Bt({deserialize:t=>t.split(" ")});Bt.contextHash=new Bt({perNode:!0});Bt.lookAhead=new Bt({perNode:!0});Bt.mounted=new Bt({perNode:!0});class Hm{constructor(e,n,r){this.tree=e,this.overlay=n,this.parser=r}static get(e){return e&&e.props&&e.props[Bt.mounted.id]}}const tee=Object.create(null);class ri{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):tee,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new ri(e.name||"",n,e.id,r);if(e.props){for(let o of e.props)if(Array.isArray(o)||(o=o(i)),o){if(o[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[o[0].id]=o[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Bt.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Bt.group),o=-1;o<(i?i.length:0);o++){let a=n[o<0?r.name:i[o]];if(a)return a}}}}ri.none=new ri("",Object.create(null),0,8);class _w{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let o of e){let a=o(r);a&&(i||(i=Object.assign({},r.props)),i[a[0].id]=a[1])}n.push(i?new ri(r.name,i,r.id,r.flags):r)}return new _w(n)}}const Uh=new WeakMap,xD=new WeakMap;var Qn;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays"})(Qn||(Qn={}));class Rn{constructor(e,n,r,i,o){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,o&&o.length){this.props=Object.create(null);for(let[a,s]of o)this.props[typeof a=="number"?a:a.id]=s}}toString(){let e=Hm.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new Ob(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Uh.get(this)||this.topNode,o=new Ob(i);return o.moveTo(e,n),Uh.set(this,o._tree),o}get topNode(){return new Ui(this,0,0,null)}resolve(e,n=0){let r=wd(Uh.get(this)||this.topNode,e,n,!1);return Uh.set(this,r),r}resolveInner(e,n=0){let r=wd(xD.get(this)||this.topNode,e,n,!0);return xD.set(this,r),r}resolveStack(e,n=0){return iee(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:o=this.length}=e,a=e.mode||0,s=(a&Qn.IncludeAnonymous)>0;for(let l=this.cursor(a|Qn.IncludeAnonymous);;){let u=!1;if(l.from<=o&&l.to>=i&&(!s&&l.type.isAnonymous||n(l)!==!1)){if(l.firstChild())continue;u=!0}for(;u&&r&&(s||!l.type.isAnonymous)&&r(l),!l.nextSibling();){if(!l.parent())return;u=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:Hw(ri.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Rn(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Rn(ri.none,n,r,i)))}static build(e){return oee(e)}}Rn.empty=new Rn(ri.none,[],[],0);class zw{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new zw(this.buffer,this.index)}}class Fs{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return ri.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],o=i.name;if(/\W/.test(o)&&!i.isError&&(o=JSON.stringify(o)),e+=4,r==e)return o;let a=[];for(;e<r;)a.push(this.childString(e)),e=this.buffer[e+3];return o+"("+a.join(",")+")"}findChild(e,n,r,i,o){let{buffer:a}=this,s=-1;for(let l=e;l!=n&&!(g4(o,i,a[l+1],a[l+2])&&(s=l,r>0));l=a[l+3]);return s}slice(e,n,r){let i=this.buffer,o=new Uint16Array(n-e),a=0;for(let s=e,l=0;s<n;){o[l++]=i[s++],o[l++]=i[s++]-r;let u=o[l++]=i[s++]-r;o[l++]=i[s++]-e,a=Math.max(a,u)}return new Fs(o,a,this.set)}}function g4(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function wd(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let a=!r&&t instanceof Ui&&t.index<0?null:t.parent;if(!a)return t;t=a}let o=r?0:Qn.IgnoreOverlays;if(r)for(let a=t,s=a.parent;s;a=s,s=a.parent)a instanceof Ui&&a.index<0&&((i=s.enter(e,n,o))===null||i===void 0?void 0:i.from)!=a.from&&(t=s);for(;;){let a=t.enter(e,n,o);if(!a)return t;t=a}}class v4{cursor(e=0){return new Ob(this,e)}getChild(e,n=null,r=null){let i=wD(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return wD(this,e,n,r)}resolve(e,n=0){return wd(this,e,n,!1)}resolveInner(e,n=0){return wd(this,e,n,!0)}matchContext(e){return $b(this,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Ui extends v4{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,o=0){for(let a=this;;){for(let{children:s,positions:l}=a._tree,u=n>0?s.length:-1;e!=u;e+=n){let c=s[e],f=l[e]+a.from;if(g4(i,r,f,f+c.length)){if(c instanceof Fs){if(o&Qn.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,n,r-f,i);if(d>-1)return new xs(new nee(a,c,e,f),null,d)}else if(o&Qn.IncludeAnonymous||!c.type.isAnonymous||Lw(c)){let d;if(!(o&Qn.IgnoreMounts)&&(d=Hm.get(c))&&!d.overlay)return new Ui(d.tree,f,e,a);let h=new Ui(c,f,e,a);return o&Qn.IncludeAnonymous||!h.type.isAnonymous?h:h.nextChild(n<0?c.children.length-1:0,n,r,i)}}}if(o&Qn.IncludeAnonymous||!a.type.isAnonymous||(a.index>=0?e=a.index+n:e=n<0?-1:a._parent._tree.children.length,a=a._parent,!a))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,n,r=0){let i;if(!(r&Qn.IgnoreOverlays)&&(i=Hm.get(this._tree))&&i.overlay){let o=e-this.from;for(let{from:a,to:s}of i.overlay)if((n>0?a<=o:a<o)&&(n<0?s>=o:s>o))return new Ui(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function wD(t,e,n,r){let i=t.cursor(),o=[];if(!i.firstChild())return o;if(n!=null){for(;!i.type.is(n);)if(!i.nextSibling())return o}for(;;){if(r!=null&&i.type.is(r))return o;if(i.type.is(e)&&o.push(i.node),!i.nextSibling())return r==null?o:[]}}function $b(t,e,n=e.length-1){for(let r=t.parent;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class nee{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class xs extends v4{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return o<0?null:new xs(this.context,this,o)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,n,r=0){if(r&Qn.ExcludeBuffers)return null;let{buffer:i}=this.context,o=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return o<0?null:new xs(this.context,this,o)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new xs(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new xs(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,o=r.buffer[this.index+3];if(o>i){let a=r.buffer[this.index+1];e.push(r.slice(i,o,a)),n.push(0)}return new Rn(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function y4(t){if(!t.length)return null;let e=0,n=t[0];for(let o=1;o<t.length;o++){let a=t[o];(a.from>n.from||a.to<n.to)&&(n=a,e=o)}let r=n instanceof Ui&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new ree(i,n)}class ree{constructor(e,n){this.heads=e,this.node=n}get next(){return y4(this.heads)}}function iee(t,e,n){let r=t.resolveInner(e,n),i=null;for(let o=r instanceof Ui?r:r.context.parent;o;o=o.parent)if(o.index<0){let a=o.parent;(i||(i=[r])).push(a.resolve(e,n)),o=a}else{let a=Hm.get(o.tree);if(a&&a.overlay&&a.overlay[0].from<=e&&a.overlay[a.overlay.length-1].to>=e){let s=new Ui(a.tree,a.overlay[0].from+o.from,-1,o);(i||(i=[r])).push(wd(s,e,n,!1))}}return i?y4(i):r}class Ob{get name(){return this.type.name}constructor(e,n=0){if(this.mode=n,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Ui)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Ui?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,o=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return o<0?!1:(this.stack.push(this.index),this.yieldBuf(o))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Qn.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Qn.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Qn.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let o=0;o<this.index;o++)if(i.buffer.buffer[o+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let o=n+e,a=e<0?-1:r._tree.children.length;o!=a;o+=e){let s=r._tree.children[o];if(this.mode&Qn.IncludeAnonymous||s instanceof Fs||!s.type.isAnonymous||Lw(s))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,o=this.stack.length;o>=0;){for(let a=e;a;a=a._parent)if(a.index==i){if(i==this.index)return a;n=a,r=o+1;break e}i=this.stack[--o]}for(let i=r;i<this.stack.length;i++)n=new xs(this.buffer,n,this.stack[i]);return this.bufferNode=new xs(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;i&&n&&n(this),i=this.type.isAnonymous,!this.nextSibling();){if(!r)return;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return $b(this.node,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,o=this.stack.length-1;i>=0;o--){if(o<0)return $b(this.node,e,i);let a=r[n.buffer[this.stack[o]]];if(!a.isAnonymous){if(e[i]&&e[i]!=a.name)return!1;i--}}return!0}}function Lw(t){return t.children.some(e=>e instanceof Fs||!e.type.isAnonymous||Lw(e))}function oee(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=m4,reused:o=[],minRepeatType:a=r.types.length}=t,s=Array.isArray(n)?new zw(n,n.length):n,l=r.types,u=0,c=0;function f(x,b,C,A,D,E){let{id:M,start:B,end:P,size:F}=s,$=c;for(;F<0;)if(s.next(),F==-1){let q=o[M];C.push(q),A.push(B-x);return}else if(F==-3){u=M;return}else if(F==-4){c=M;return}else throw new RangeError(`Unrecognized record size: ${F}`);let N=l[M],T,z,I=B-x;if(P-B<=i&&(z=v(s.pos-b,D))){let q=new Uint16Array(z.size-z.skip),X=s.pos-z.size,V=q.length;for(;s.pos>X;)V=g(z.start,q,V);T=new Fs(q,P-z.start,r),I=z.start-x}else{let q=s.pos-F;s.next();let X=[],V=[],L=M>=a?M:-1,ne=0,se=P;for(;s.pos>q;)L>=0&&s.id==L&&s.size>=0?(s.end<=se-i&&(p(X,V,B,ne,s.end,se,L,$),ne=X.length,se=s.end),s.next()):E>2500?d(B,q,X,V):f(B,q,X,V,L,E+1);if(L>=0&&ne>0&&ne<X.length&&p(X,V,B,ne,B,se,L,$),X.reverse(),V.reverse(),L>-1&&ne>0){let Y=h(N);T=Hw(N,X,V,0,X.length,0,P-B,Y,Y)}else T=m(N,X,V,P-B,$-P)}C.push(T),A.push(I)}function d(x,b,C,A){let D=[],E=0,M=-1;for(;s.pos>b;){let{id:B,start:P,end:F,size:$}=s;if($>4)s.next();else{if(M>-1&&P<M)break;M<0&&(M=F-i),D.push(B,P,F),E++,s.next()}}if(E){let B=new Uint16Array(E*4),P=D[D.length-2];for(let F=D.length-3,$=0;F>=0;F-=3)B[$++]=D[F],B[$++]=D[F+1]-P,B[$++]=D[F+2]-P,B[$++]=$;C.push(new Fs(B,D[2]-P,r)),A.push(P-x)}}function h(x){return(b,C,A)=>{let D=0,E=b.length-1,M,B;if(E>=0&&(M=b[E])instanceof Rn){if(!E&&M.type==x&&M.length==A)return M;(B=M.prop(Bt.lookAhead))&&(D=C[E]+M.length+B)}return m(x,b,C,A,D)}}function p(x,b,C,A,D,E,M,B){let P=[],F=[];for(;x.length>A;)P.push(x.pop()),F.push(b.pop()+C-D);x.push(m(r.types[M],P,F,E-D,B-E)),b.push(D-C)}function m(x,b,C,A,D=0,E){if(u){let M=[Bt.contextHash,u];E=E?[M].concat(E):[M]}if(D>25){let M=[Bt.lookAhead,D];E=E?[M].concat(E):[M]}return new Rn(x,b,C,A,E)}function v(x,b){let C=s.fork(),A=0,D=0,E=0,M=C.end-i,B={size:0,start:0,skip:0};e:for(let P=C.pos-x;C.pos>P;){let F=C.size;if(C.id==b&&F>=0){B.size=A,B.start=D,B.skip=E,E+=4,A+=4,C.next();continue}let $=C.pos-F;if(F<0||$<P||C.start<M)break;let N=C.id>=a?4:0,T=C.start;for(C.next();C.pos>$;){if(C.size<0)if(C.size==-3)N+=4;else break e;else C.id>=a&&(N+=4);C.next()}D=T,A+=F,E+=N}return(b<0||A==x)&&(B.size=A,B.start=D,B.skip=E),B.size>4?B:void 0}function g(x,b,C){let{id:A,start:D,end:E,size:M}=s;if(s.next(),M>=0&&A<a){let B=C;if(M>4){let P=s.pos-(M-4);for(;s.pos>P;)C=g(x,b,C)}b[--C]=B,b[--C]=E-x,b[--C]=D-x,b[--C]=A}else M==-3?u=A:M==-4&&(c=A);return C}let w=[],y=[];for(;s.pos>0;)f(t.start||0,t.bufferStart||0,w,y,-1,0);let S=(e=t.length)!==null&&e!==void 0?e:w.length?y[0]+w[0].length:0;return new Rn(l[t.topID],w.reverse(),y.reverse(),S)}const SD=new WeakMap;function Wp(t,e){if(!t.isAnonymous||e instanceof Fs||e.type!=t)return 1;let n=SD.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Rn)){n=1;break}n+=Wp(t,r)}SD.set(e,n)}return n}function Hw(t,e,n,r,i,o,a,s,l){let u=0;for(let p=r;p<i;p++)u+=Wp(t,e[p]);let c=Math.ceil(u*1.5/8),f=[],d=[];function h(p,m,v,g,w){for(let y=v;y<g;){let S=y,x=m[y],b=Wp(t,p[y]);for(y++;y<g;y++){let C=Wp(t,p[y]);if(b+C>=c)break;b+=C}if(y==S+1){if(b>c){let C=p[S];h(C.children,C.positions,0,C.children.length,m[S]+w);continue}f.push(p[S])}else{let C=m[y-1]+p[y-1].length-x;f.push(Hw(t,p,m,S,y,x,C,null,l))}d.push(x+w-o)}}return h(e,n,r,i,0),(s||l)(f,d,a)}class Ml{constructor(e,n,r,i,o=!1,a=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(o?1:0)|(a?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Ml(0,e.length,e,0,!1,r)];for(let o of n)o.to>e.length&&i.push(o);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],o=1,a=e.length?e[0]:null;for(let s=0,l=0,u=0;;s++){let c=s<n.length?n[s]:null,f=c?c.fromA:1e9;if(f-l>=r)for(;a&&a.from<f;){let d=a;if(l>=d.from||f<=d.to||u){let h=Math.max(d.from,l)-u,p=Math.min(d.to,f)-u;d=h>=p?null:new Ml(h,p,d.tree,d.offset+u,s>0,!!c)}if(d&&i.push(d),a.to>f)break;a=o<e.length?e[o++]:null}if(!c)break;l=c.toA,u=c.toA-c.toB}return i}}let b4=class{startParse(e,n,r){return typeof e=="string"&&(e=new aee(e)),r=r?r.length?r.map(i=>new ey(i.from,i.to)):[new ey(0,0)]:[new ey(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let o=i.advance();if(o)return o}}};class aee{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Bt({perNode:!0});var CD={};class Vm{constructor(e,n,r,i,o,a,s,l,u,c=0,f){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=o,this.score=a,this.buffer=s,this.bufferBase=l,this.curContext=u,this.lookAhead=c,this.parent=f}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new Vm(e,[],n,r,r,0,[],0,i?new AD(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:o}=this.p,a=o.dynamicPrecedence(i);if(a&&(this.score+=a),r==0){this.pushState(o.getGoto(this.state,i,!0),this.reducePos),i<o.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let s=this.stack.length-(r-1)*3-(e&262144?6:0),l=s?this.stack[s-2]:this.p.ranges[0].from,u=this.reducePos-l;u>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(l==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=u):this.p.lastBigReductionSize<u&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=l,this.p.lastBigReductionSize=u));let c=s?this.stack[s-1]:0,f=this.bufferBase+this.buffer.length-c;if(i<o.minRepeatTerm||e&131072){let d=o.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,l,d,f+4,!0)}if(e&262144)this.state=this.stack[s];else{let d=this.stack[s-3];this.state=o.getGoto(d,i,!0)}for(;this.stack.length>s;)this.stack.pop();this.reduceContext(i,l)}storeNode(e,n,r,i=4,o=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let a=this,s=this.buffer.length;if(s==0&&a.parent&&(s=a.bufferBase-a.parent.bufferBase,a=a.parent),s>0&&a.buffer[s-4]==0&&a.buffer[s-1]>-1){if(n==r)return;if(a.buffer[s-2]>=n){a.buffer[s-2]=r;return}}}if(!o||this.pos==r)this.buffer.push(e,n,r,i);else{let a=this.buffer.length;if(a>0&&this.buffer[a-4]!=0)for(;a>0&&this.buffer[a-2]>r;)this.buffer[a]=this.buffer[a-4],this.buffer[a+1]=this.buffer[a-3],this.buffer[a+2]=this.buffer[a-2],this.buffer[a+3]=this.buffer[a-1],a-=4,i>4&&(i-=4);this.buffer[a]=e,this.buffer[a+1]=n,this.buffer[a+2]=r,this.buffer[a+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if(e&262144)this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4);else{let o=e,{parser:a}=this.p;(i>this.pos||n<=a.maxNode)&&(this.pos=i,a.stateFlag(o,1)||(this.reducePos=i)),this.pushState(o,r),this.shiftContext(n,r),n<=a.maxNode&&this.buffer.push(n,r,i,4)}}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new Vm(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new see(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if(!(r&65536))return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let o=0,a;o<n.length;o+=2)(a=n[o+1])!=this.state&&this.p.parser.hasAction(a,e)&&i.push(n[o],a);if(this.stack.length<120)for(let o=0;i.length<8&&o<n.length;o+=2){let a=n[o+1];i.some((s,l)=>l&1&&s==a)||i.push(n[o],a)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let o=n[i+1];if(o==this.state)continue;let a=this.split();a.pushState(o,this.pos),a.storeNode(0,a.pos,a.pos,4,!0),a.shiftContext(n[i],this.pos),a.reducePos=this.pos,a.score-=200,r.push(a)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if(!(n&65536))return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,o=this.stack.length-r*3;if(o<0||e.getGoto(this.stack[o],i,!1)<0){let a=this.findForcedReduction();if(a==null)return!1;n=a}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,o)=>{if(!n.includes(i))return n.push(i),e.allActions(i,a=>{if(!(a&393216))if(a&65536){let s=(a>>19)-o;if(s>1){let l=a&65535,u=this.stack.length-s*3;if(u>=0&&e.getGoto(this.stack[u],l,!1)>=0)return s<<19|65536|l}}else{let s=r(a,o+1);if(s!=null)return s}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new AD(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class AD{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class see{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Um{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Um(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Um(this.stack,this.pos,this.index)}}function qh(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let o=0;for(;;){let a=t.charCodeAt(r++),s=!1;if(a==126){o=65535;break}a>=92&&a--,a>=34&&a--;let l=a-32;if(l>=46&&(l-=46,s=!0),o+=l,s)break;o*=46}n?n[i++]=o:n=new e(o)}return n}class jp{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const DD=new jp;class lee{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=DD,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,o=this.pos+e;for(;o<r.from;){if(!i)return null;let a=this.ranges[--i];o-=r.from-a.to,r=a}for(;n<0?o>r.to:o>=r.to;){if(i==this.ranges.length-1)return null;let a=this.ranges[++i];o+=a.from-r.to,r=a}return o}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let o=this.resolveOffset(e,1);if(o==null)return-1;if(r=o,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let a=this.rangeIndex,s=this.range;for(;s.to<=r;)s=this.ranges[++a];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>s.to&&(this.chunk2=this.chunk2.slice(0,s.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=DD,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class Uu{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;uee(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}Uu.prototype.contextual=Uu.prototype.fallback=Uu.prototype.extend=!1;Uu.prototype.fallback=Uu.prototype.extend=!1;function uee(t,e,n,r,i,o){let a=0,s=1<<r,{dialect:l}=n.p.parser;e:for(;s&t[a];){let u=t[a+1];for(let h=a+3;h<u;h+=2)if((t[h+1]&s)>0){let p=t[h];if(l.allows(p)&&(e.token.value==-1||e.token.value==p||cee(p,e.token.value,i,o))){e.acceptToken(p);break}}let c=e.next,f=0,d=t[a+2];if(e.next<0&&d>f&&t[u+d*3-3]==65535){a=t[u+d*3-1];continue e}for(;f<d;){let h=f+d>>1,p=u+h+(h<<1),m=t[p],v=t[p+1]||65536;if(c<m)d=h;else if(c>=v)f=h+1;else{a=t[p+2],e.advance();continue e}}break}}function ED(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function cee(t,e,n,r){let i=ED(n,r,e);return i<0||ED(n,r,t)<i}const ui=typeof process<"u"&&CD&&/\bparse\b/.test(CD.LOG);let ty=null;function MD(t,e,n){let r=t.cursor(Qn.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class fee{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?MD(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?MD(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let o=r.children[i],a=this.start[n]+r.positions[i];if(a>e)return this.nextStart=a,null;if(o instanceof Rn){if(a==e){if(a<this.safeFrom)return null;let s=a+o.length;if(s<=this.safeTo){let l=o.prop(Bt.lookAhead);if(!l||s+l<this.fragment.to)return o}}this.index[n]++,a+o.length>=Math.max(this.safeFrom,e)&&(this.trees.push(o),this.start.push(a),this.index.push(0))}else this.index[n]++,this.nextStart=a+o.length}}}class dee{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new jp)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:o}=i,a=i.stateSlot(e.state,3),s=e.curContext?e.curContext.hash:0,l=0;for(let u=0;u<o.length;u++){if(!(1<<u&a))continue;let c=o[u],f=this.tokens[u];if(!(r&&!c.fallback)&&((c.contextual||f.start!=e.pos||f.mask!=a||f.context!=s)&&(this.updateCachedToken(f,c,e),f.mask=a,f.context=s),f.lookAhead>f.end+25&&(l=Math.max(f.lookAhead,l)),f.value!=0)){let d=n;if(f.extended>-1&&(n=this.addActions(e,f.extended,f.end,n)),n=this.addActions(e,f.value,f.end,n),!c.extend&&(r=f,n>d))break}}for(;this.actions.length>n;)this.actions.pop();return l&&e.setLookAhead(l),!r&&e.pos==this.stream.end&&(r=new jp,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new jp,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:o}=r.p;for(let a=0;a<o.specialized.length;a++)if(o.specialized[a]==e.value){let s=o.specializers[a](this.stream.read(e.start,e.end),r);if(s>=0&&r.p.parser.dialect.allows(s>>1)){s&1?e.extended=s>>1:e.value=s>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let o=0;o<i;o+=3)if(this.actions[o]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:o}=e,{parser:a}=e.p,{data:s}=a;for(let l=0;l<2;l++)for(let u=a.stateSlot(o,l?2:1);;u+=3){if(s[u]==65535)if(s[u+1]==1)u=wa(s,u+2);else{i==0&&s[u+1]==2&&(i=this.putAction(wa(s,u+2),n,r,i));break}s[u]==n&&(i=this.putAction(wa(s,u+1),n,r,i))}return i}}class hee{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new lee(n,i),this.tokens=new dee(e,this.stream),this.topTerm=e.top[1];let{from:o}=i[0];this.stacks=[Vm.start(this,e.top[0],o)],this.fragments=r.length&&this.stream.end-o>e.bufferLength*4?new fee(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,o;if(this.bigReductionCount>300&&e.length==1){let[a]=e;for(;a.forceReduce()&&a.stack.length&&a.stack[a.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let a=0;a<e.length;a++){let s=e[a];for(;;){if(this.tokens.mainToken=null,s.pos>n)r.push(s);else{if(this.advanceStack(s,r,e))continue;{i||(i=[],o=[]),i.push(s);let l=this.tokens.getMainToken(s);o.push(l.value,l.end)}}break}}if(!r.length){let a=i&&mee(i);if(a)return ui&&console.log("Finish with "+this.stackID(a)),this.stackToTree(a);if(this.parser.strict)throw ui&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let a=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,o,r);if(a)return ui&&console.log("Force-finish "+this.stackID(a)),this.stackToTree(a.forceAll())}if(this.recovering){let a=this.recovering==1?1:this.recovering*3;if(r.length>a)for(r.sort((s,l)=>l.score-s.score);r.length>a;)r.pop();r.some(s=>s.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let a=0;a<r.length-1;a++){let s=r[a];for(let l=a+1;l<r.length;l++){let u=r[l];if(s.sameState(u)||s.buffer.length>500&&u.buffer.length>500)if((s.score-u.score||s.buffer.length-u.buffer.length)>0)r.splice(l--,1);else{r.splice(a--,1);continue e}}}r.length>12&&r.splice(12,r.length-12)}this.minStackPos=r[0].pos;for(let a=1;a<r.length;a++)r[a].pos<this.minStackPos&&(this.minStackPos=r[a].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:o}=this,a=ui?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let u=e.curContext&&e.curContext.tracker.strict,c=u?e.curContext.hash:0;for(let f=this.fragments.nodeAt(i);f;){let d=this.parser.nodeSet.types[f.type.id]==f.type?o.getGoto(e.state,f.type.id):-1;if(d>-1&&f.length&&(!u||(f.prop(Bt.contextHash)||0)==c))return e.useNode(f,d),ui&&console.log(a+this.stackID(e)+` (via reuse of ${o.getName(f.type.id)})`),!0;if(!(f instanceof Rn)||f.children.length==0||f.positions[0]>0)break;let h=f.children[0];if(h instanceof Rn&&f.positions[0]==0)f=h;else break}}let s=o.stateSlot(e.state,4);if(s>0)return e.reduce(s),ui&&console.log(a+this.stackID(e)+` (via always-reduce ${o.getName(s&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let u=0;u<l.length;){let c=l[u++],f=l[u++],d=l[u++],h=u==l.length||!r,p=h?e:e.split(),m=this.tokens.mainToken;if(p.apply(c,f,m?m.start:p.pos,d),ui&&console.log(a+this.stackID(p)+` (via ${c&65536?`reduce of ${o.getName(c&65535)}`:"shift"} for ${o.getName(f)} @ ${i}${p==e?"":", split"})`),h)return!0;p.pos>i?n.push(p):r.push(p)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return ND(e,n),!0}}runRecovery(e,n,r){let i=null,o=!1;for(let a=0;a<e.length;a++){let s=e[a],l=n[a<<1],u=n[(a<<1)+1],c=ui?this.stackID(s)+" -> ":"";if(s.deadEnd&&(o||(o=!0,s.restart(),ui&&console.log(c+this.stackID(s)+" (restarted)"),this.advanceFully(s,r))))continue;let f=s.split(),d=c;for(let h=0;f.forceReduce()&&h<10&&(ui&&console.log(d+this.stackID(f)+" (via force-reduce)"),!this.advanceFully(f,r));h++)ui&&(d=this.stackID(f)+" -> ");for(let h of s.recoverByInsert(l))ui&&console.log(c+this.stackID(h)+" (via recover-insert)"),this.advanceFully(h,r);this.stream.end>s.pos?(u==s.pos&&(u++,l=0),s.recoverByDelete(l,u),ui&&console.log(c+this.stackID(s)+` (via recover-delete ${this.parser.getName(l)})`),ND(s,r)):(!i||i.score<s.score)&&(i=s)}return i}stackToTree(e){return e.close(),Rn.build({buffer:Um.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(ty||(ty=new WeakMap)).get(e);return n||ty.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function ND(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class pee{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class qm extends b4{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let s=0;s<e.repeatNodeCount;s++)n.push("");let r=Object.keys(e.topRules).map(s=>e.topRules[s][1]),i=[];for(let s=0;s<n.length;s++)i.push([]);function o(s,l,u){i[s].push([l,l.deserialize(String(u))])}if(e.nodeProps)for(let s of e.nodeProps){let l=s[0];typeof l=="string"&&(l=Bt[l]);for(let u=1;u<s.length;){let c=s[u++];if(c>=0)o(c,l,s[u++]);else{let f=s[u+-c];for(let d=-c;d>0;d--)o(s[u++],l,f);u++}}}this.nodeSet=new _w(n.map((s,l)=>ri.define({name:l>=this.minRepeatTerm?void 0:s,id:l,props:i[l],top:r.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=m4;let a=qh(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let s=0;s<this.specializerSpecs.length;s++)this.specialized[s]=this.specializerSpecs[s].term;this.specializers=this.specializerSpecs.map($D),this.states=qh(e.states,Uint32Array),this.data=qh(e.stateData),this.goto=qh(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(s=>typeof s=="number"?new Uu(a,s):s),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new hee(this,e,n,r);for(let o of this.wrappers)i=o(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let o=i[n+1];;){let a=i[o++],s=a&1,l=i[o++];if(s&&r)return l;for(let u=o+(a>>1);o<u;o++)if(i[o]==e)return l;if(s)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let o=this.stateSlot(e,i?2:1),a;;o+=3){if((a=r[o])==65535)if(r[o+1]==1)a=r[o=wa(r,o+2)];else{if(r[o+1]==2)return wa(r,o+2);break}if(a==n||a==0)return wa(r,o+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let o=this.stateSlot(e,1);i==null;o+=3){if(this.data[o]==65535)if(this.data[o+1]==1)o=wa(this.data,o+2);else break;i=n(wa(this.data,o+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=wa(this.data,r+2);else break;if(!(this.data[r+2]&1)){let i=this.data[r+1];n.some((o,a)=>a&1&&o==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(qm.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(o=>o.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let o=e.specializers.find(s=>s.from==r.external);if(!o)return r;let a=Object.assign(Object.assign({},r),{external:o.to});return n.specializers[i]=$D(a),a})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let o of e.split(" ")){let a=n.indexOf(o);a>=0&&(r[a]=!0)}let i=null;for(let o=0;o<n.length;o++)if(!r[o])for(let a=this.dialects[n[o]],s;(s=this.data[a++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[s]=1;return new pee(e,r,i)}static deserialize(e){return new qm(e)}}function wa(t,e){return t[e]|t[e+1]<<16}function mee(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function $D(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}let gee=0;class qo{constructor(e,n,r){this.set=e,this.base=n,this.modified=r,this.id=gee++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let n=new qo([],null,[]);if(n.set.push(n),e)for(let r of e.set)n.set.push(r);return n}static defineModifier(){let e=new Wm;return n=>n.modified.indexOf(e)>-1?n:Wm.get(n.base||n,n.modified.concat(e).sort((r,i)=>r.id-i.id))}}let vee=0;class Wm{constructor(){this.instances=[],this.id=vee++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(s=>s.base==e&&yee(n,s.modified));if(r)return r;let i=[],o=new qo(i,e,n);for(let s of n)s.instances.push(o);let a=bee(n);for(let s of e.set)if(!s.modified.length)for(let l of a)i.push(Wm.get(s,l));return o}}function yee(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function bee(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function x4(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let o=[],a=2,s=i;for(let f=0;;){if(s=="..."&&f>0&&f+3==i.length){a=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(s);if(!d)throw new RangeError("Invalid path: "+i);if(o.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),f+=d[0].length,f==i.length)break;let h=i[f++];if(f==i.length&&h=="!"){a=0;break}if(h!="/")throw new RangeError("Invalid path: "+i);s=i.slice(f)}let l=o.length-1,u=o[l];if(!u)throw new RangeError("Invalid path: "+i);let c=new jm(r,a,l>0?o.slice(0,l):null);e[u]=c.sort(e[u])}}return w4.add(e)}const w4=new Bt;class jm{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}jm.empty=new jm([],2,null);function S4(t,e){let n=Object.create(null);for(let o of t)if(!Array.isArray(o.tag))n[o.tag.id]=o.class;else for(let a of o.tag)n[a.id]=o.class;let{scope:r,all:i=null}=e||{};return{style:o=>{let a=i;for(let s of o)for(let l of s.set){let u=n[l.id];if(u){a=a?a+" "+u:u;break}}return a},scope:r}}function xee(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function wee(t,e,n,r=0,i=t.length){let o=new See(r,Array.isArray(e)?e:[e],n);o.highlightRange(t.cursor(),r,i,"",o.highlighters),o.flush(i)}class See{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,o){let{type:a,from:s,to:l}=e;if(s>=r||l<=n)return;a.isTop&&(o=this.highlighters.filter(h=>!h.scope||h.scope(a)));let u=i,c=Cee(e)||jm.empty,f=xee(o,c.tags);if(f&&(u&&(u+=" "),u+=f,c.mode==1&&(i+=(i?" ":"")+f)),this.startSpan(Math.max(n,s),u),c.opaque)return;let d=e.tree&&e.tree.prop(Bt.mounted);if(d&&d.overlay){let h=e.node.enter(d.overlay[0].from+s,1),p=this.highlighters.filter(v=>!v.scope||v.scope(d.tree.type)),m=e.firstChild();for(let v=0,g=s;;v++){let w=v<d.overlay.length?d.overlay[v]:null,y=w?w.from+s:l,S=Math.max(n,g),x=Math.min(r,y);if(S<x&&m)for(;e.from<x&&(this.highlightRange(e,S,x,i,o),this.startSpan(Math.min(x,e.to),u),!(e.to>=y||!e.nextSibling())););if(!w||y>r)break;g=w.to+s,g>n&&(this.highlightRange(h.cursor(),Math.max(n,w.from+s),Math.min(r,g),"",p),this.startSpan(Math.min(r,g),u))}m&&e.parent()}else if(e.firstChild()){d&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,o),this.startSpan(Math.min(r,e.to),u)}while(e.nextSibling());e.parent()}}}function Cee(t){let e=t.type.prop(w4);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const Le=qo.define,Wh=Le(),ds=Le(),OD=Le(ds),TD=Le(ds),hs=Le(),jh=Le(hs),ny=Le(hs),zo=Le(),ll=Le(zo),Po=Le(),ko=Le(),Tb=Le(),yf=Le(Tb),Gh=Le(),Se={comment:Wh,lineComment:Le(Wh),blockComment:Le(Wh),docComment:Le(Wh),name:ds,variableName:Le(ds),typeName:OD,tagName:Le(OD),propertyName:TD,attributeName:Le(TD),className:Le(ds),labelName:Le(ds),namespace:Le(ds),macroName:Le(ds),literal:hs,string:jh,docString:Le(jh),character:Le(jh),attributeValue:Le(jh),number:ny,integer:Le(ny),float:Le(ny),bool:Le(hs),regexp:Le(hs),escape:Le(hs),color:Le(hs),url:Le(hs),keyword:Po,self:Le(Po),null:Le(Po),atom:Le(Po),unit:Le(Po),modifier:Le(Po),operatorKeyword:Le(Po),controlKeyword:Le(Po),definitionKeyword:Le(Po),moduleKeyword:Le(Po),operator:ko,derefOperator:Le(ko),arithmeticOperator:Le(ko),logicOperator:Le(ko),bitwiseOperator:Le(ko),compareOperator:Le(ko),updateOperator:Le(ko),definitionOperator:Le(ko),typeOperator:Le(ko),controlOperator:Le(ko),punctuation:Tb,separator:Le(Tb),bracket:yf,angleBracket:Le(yf),squareBracket:Le(yf),paren:Le(yf),brace:Le(yf),content:zo,heading:ll,heading1:Le(ll),heading2:Le(ll),heading3:Le(ll),heading4:Le(ll),heading5:Le(ll),heading6:Le(ll),contentSeparator:Le(zo),list:Le(zo),quote:Le(zo),emphasis:Le(zo),strong:Le(zo),link:Le(zo),monospace:Le(zo),strikethrough:Le(zo),inserted:Le(),deleted:Le(),changed:Le(),invalid:Le(),meta:Gh,documentMeta:Le(Gh),annotation:Le(Gh),processingInstruction:Le(Gh),definition:qo.defineModifier(),constant:qo.defineModifier(),function:qo.defineModifier(),standard:qo.defineModifier(),local:qo.defineModifier(),special:qo.defineModifier()};S4([{tag:Se.link,class:"tok-link"},{tag:Se.heading,class:"tok-heading"},{tag:Se.emphasis,class:"tok-emphasis"},{tag:Se.strong,class:"tok-strong"},{tag:Se.keyword,class:"tok-keyword"},{tag:Se.atom,class:"tok-atom"},{tag:Se.bool,class:"tok-bool"},{tag:Se.url,class:"tok-url"},{tag:Se.labelName,class:"tok-labelName"},{tag:Se.inserted,class:"tok-inserted"},{tag:Se.deleted,class:"tok-deleted"},{tag:Se.literal,class:"tok-literal"},{tag:Se.string,class:"tok-string"},{tag:Se.number,class:"tok-number"},{tag:[Se.regexp,Se.escape,Se.special(Se.string)],class:"tok-string2"},{tag:Se.variableName,class:"tok-variableName"},{tag:Se.local(Se.variableName),class:"tok-variableName tok-local"},{tag:Se.definition(Se.variableName),class:"tok-variableName tok-definition"},{tag:Se.special(Se.variableName),class:"tok-variableName2"},{tag:Se.definition(Se.propertyName),class:"tok-propertyName tok-definition"},{tag:Se.typeName,class:"tok-typeName"},{tag:Se.namespace,class:"tok-namespace"},{tag:Se.className,class:"tok-className"},{tag:Se.macroName,class:"tok-macroName"},{tag:Se.propertyName,class:"tok-propertyName"},{tag:Se.operator,class:"tok-operator"},{tag:Se.comment,class:"tok-comment"},{tag:Se.meta,class:"tok-meta"},{tag:Se.invalid,class:"tok-invalid"},{tag:Se.punctuation,class:"tok-punctuation"}]);const Aee=x4({String:Se.string,Number:Se.number,"True False":Se.bool,PropertyName:Se.propertyName,Null:Se.null,",":Se.separator,"[ ]":Se.squareBracket,"{ }":Se.brace}),Dee=qm.deserialize({version:14,states:"$bOVQPOOOOQO'#Cb'#CbOnQPO'#CeOvQPO'#CjOOQO'#Cp'#CpQOQPOOOOQO'#Cg'#CgO}QPO'#CfO!SQPO'#CrOOQO,59P,59PO![QPO,59PO!aQPO'#CuOOQO,59U,59UO!iQPO,59UOVQPO,59QOqQPO'#CkO!nQPO,59^OOQO1G.k1G.kOVQPO'#ClO!vQPO,59aOOQO1G.p1G.pOOQO1G.l1G.lOOQO,59V,59VOOQO-E6i-E6iOOQO,59W,59WOOQO-E6j-E6j",stateData:"#O~OcOS~OQSORSOSSOTSOWQO]ROePO~OVXOeUO~O[[O~PVOg^O~Oh_OVfX~OVaO~OhbO[iX~O[dO~Oh_OVfa~OhbO[ia~O",goto:"!kjPPPPPPkPPkqwPPk{!RPPP!XP!ePP!hXSOR^bQWQRf_TVQ_Q`WRg`QcZRicQTOQZRQe^RhbRYQR]R",nodeNames:"⚠ JsonText True False Null Number String } { Object Property PropertyName ] [ Array",maxTerm:25,nodeProps:[["openedBy",7,"{",12,"["],["closedBy",8,"}",13,"]"]],propSources:[Aee],skippedNodes:[0],repeatNodeCount:2,tokenData:"(|~RaXY!WYZ!W]^!Wpq!Wrs!]|}$u}!O$z!Q!R%T!R![&c![!]&t!}#O&y#P#Q'O#Y#Z'T#b#c'r#h#i(Z#o#p(r#q#r(w~!]Oc~~!`Wpq!]qr!]rs!xs#O!]#O#P!}#P;'S!];'S;=`$o<%lO!]~!}Oe~~#QXrs!]!P!Q!]#O#P!]#U#V!]#Y#Z!]#b#c!]#f#g!]#h#i!]#i#j#m~#pR!Q![#y!c!i#y#T#Z#y~#|R!Q![$V!c!i$V#T#Z$V~$YR!Q![$c!c!i$c#T#Z$c~$fR!Q![!]!c!i!]#T#Z!]~$rP;=`<%l!]~$zOh~~$}Q!Q!R%T!R![&c~%YRT~!O!P%c!g!h%w#X#Y%w~%fP!Q![%i~%nRT~!Q![%i!g!h%w#X#Y%w~%zR{|&T}!O&T!Q![&Z~&WP!Q![&Z~&`PT~!Q![&Z~&hST~!O!P%c!Q![&c!g!h%w#X#Y%w~&yOg~~'OO]~~'TO[~~'WP#T#U'Z~'^P#`#a'a~'dP#g#h'g~'jP#X#Y'm~'rOR~~'uP#i#j'x~'{P#`#a(O~(RP#`#a(U~(ZOS~~(^P#f#g(a~(dP#i#j(g~(jP#X#Y(m~(rOQ~~(wOW~~(|OV~",tokenizers:[0],topRules:{JsonText:[0,1]},tokenPrec:0});let Wn=class C4{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=pc(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Gp.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=pc(this,e,n);let r=[];return this.decompose(e,n,r,0),Gp.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new Qf(this),o=new Qf(e);for(let a=n,s=n;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(s+=i.value.length,i.done||s>=r)return!0}}iter(e=1){return new Qf(this,e)}iterRange(e,n=this.length){return new A4(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new D4(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?C4.empty:e.length<=32?new mo(e):Gp.from(mo.split(e,[]))}},mo=class Lo extends Wn{constructor(e,n=Eee(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.text[o],s=i+a.length;if((n?r:s)>=e)return new Mee(i,s,r,a);i=s+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new Lo(BD(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),s=Xp(o.text,a.text.slice(),0,o.length);if(s.length<=32)r.push(new Lo(s,a.length+o.length));else{let l=s.length>>1;r.push(new Lo(s.slice(0,l)),new Lo(s.slice(l)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof Lo))return super.replace(e,n,r);[e,n]=pc(this,e,n);let i=Xp(this.text,Xp(r.text,BD(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new Lo(i,o):Gp.from(Lo.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=pc(this,e,n);let i="";for(let o=0,a=0;o<=n&&a<this.text.length;a++){let s=this.text[a],l=o+s.length;o>e&&a&&(i+=r),e<l&&n>o&&(i+=s.slice(Math.max(0,e-o),n-o)),o=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new Lo(r,i)),r=[],i=-1);return i>-1&&n.push(new Lo(r,i)),n}},Gp=class wu extends Wn{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.children[o],s=i+a.length,l=r+a.lines-1;if((n?l:s)>=e)return a.lineInner(e,n,r,i);i=s+1,r=l+1}}decompose(e,n,r,i){for(let o=0,a=0;a<=n&&o<this.children.length;o++){let s=this.children[o],l=a+s.length;if(e<=l&&n>=a){let u=i&((a<=e?1:0)|(l>=n?2:0));a>=e&&l<=n&&!u?r.push(s):s.decompose(e-a,n-a,r,u)}a=l+1}}replace(e,n,r){if([e,n]=pc(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let a=this.children[i],s=o+a.length;if(e>=o&&n<=s){let l=a.replace(e-o,n-o,r),u=this.lines-a.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[i]=l,new wu(c,this.length-(n-e)+r.length)}return super.replace(o,s,l)}o=s+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=pc(this,e,n);let i="";for(let o=0,a=0;o<this.children.length&&a<=n;o++){let s=this.children[o],l=a+s.length;a>e&&o&&(i+=r),e<l&&n>a&&(i+=s.sliceString(e-a,n-a,r)),a=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof wu))return 0;let r=0,[i,o,a,s]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==a||o==s)return r;let l=this.children[i],u=e.children[o];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let p of e)p.flatten(h);return new mo(h,n)}let i=Math.max(32,r>>5),o=i<<1,a=i>>1,s=[],l=0,u=-1,c=[];function f(h){let p;if(h.lines>o&&h instanceof wu)for(let m of h.children)f(m);else h.lines>a&&(l>a||!l)?(d(),s.push(h)):h instanceof mo&&l&&(p=c[c.length-1])instanceof mo&&h.lines+p.lines<=32?(l+=h.lines,u+=h.length+1,c[c.length-1]=new mo(p.text.concat(h.text),p.length+1+h.length)):(l+h.lines>i&&d(),l+=h.lines,u+=h.length+1,c.push(h))}function d(){l!=0&&(s.push(c.length==1?c[0]:wu.from(c,u)),u=-1,l=c.length=0)}for(let h of e)f(h);return d(),s.length==1?s[0]:new wu(s,n)}};Wn.empty=new mo([""],0);function Eee(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Xp(t,e,n=0,r=1e9){for(let i=0,o=0,a=!0;o<t.length&&i<=r;o++){let s=t[o],l=i+s.length;l>=n&&(l>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),a?(e[e.length-1]+=s,a=!1):e.push(s)),i=l+1}return e}function BD(t,e,n){return Xp(t,[""],e,n)}let Qf=class{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof mo?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1,s=i instanceof mo?i.text.length:i.children.length;if(a==(n>0?s:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof mo){let l=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[a+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof mo?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}},A4=class{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new Qf(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}},D4=class{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}};typeof Symbol<"u"&&(Wn.prototype[Symbol.iterator]=function(){return this.iter()},Qf.prototype[Symbol.iterator]=A4.prototype[Symbol.iterator]=D4.prototype[Symbol.iterator]=function(){return this});let Mee=class{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}};function pc(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let qu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<qu.length;t++)qu[t]+=qu[t-1];function Nee(t){for(let e=1;e<qu.length;e+=2)if(qu[e]>t)return qu[e-1]<=t;return!1}function ID(t){return t>=127462&&t<=127487}const PD=8205;function aa(t,e,n=!0,r=!0){return(n?E4:$ee)(t,e,r)}function E4(t,e,n){if(e==t.length)return e;e&&M4(t.charCodeAt(e))&&N4(t.charCodeAt(e-1))&&e--;let r=$r(t,e);for(e+=ho(r);e<t.length;){let i=$r(t,e);if(r==PD||i==PD||n&&Nee(i))e+=ho(i),r=i;else if(ID(i)){let o=0,a=e-2;for(;a>=0&&ID($r(t,a));)o++,a-=2;if(o%2==0)break;e+=2}else break}return e}function $ee(t,e,n){for(;e>0;){let r=E4(t,e-2,n);if(r<e)return r;e--}return 0}function M4(t){return t>=56320&&t<57344}function N4(t){return t>=55296&&t<56320}function $r(t,e){let n=t.charCodeAt(e);if(!N4(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return M4(r)?(n-55296<<10)+(r-56320)+65536:n}function Vw(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function ho(t){return t<65536?1:2}const Bb=/\r\n?|\n/;var Ca=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Ca||(Ca={}));let Wu=class Kp{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],a=this.sections[n++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}iterChangedRanges(e,n=!1){Ib(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new Kp(e)}composeDesc(e){return this.empty?e:e.empty?this:$4(this,e)}mapDesc(e,n=!1){return e.empty?this:Pb(this,e,n)}mapPos(e,n=-1,r=Ca.Simple){let i=0,o=0;for(let a=0;a<this.sections.length;){let s=this.sections[a++],l=this.sections[a++],u=i+s;if(l<0){if(u>e)return o+(e-i);o+=s}else{if(r!=Ca.Simple&&u>=e&&(r==Ca.TrackDel&&i<e&&u>e||r==Ca.TrackBefore&&i<e||r==Ca.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!s)return e==i||n<0?o:o+l;o+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],a=this.sections[r++],s=i+o;if(a>=0&&i<=n&&s>=e)return i<e&&s>n?"cover":!0;i=s}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Kp(e)}static create(e){return new Kp(e)}},Ga=class us extends Wu{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ib(this,(n,r,i,o,a)=>e=e.replace(i,i+(r-n),a),!1),e}mapDesc(e,n=!1){return Pb(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let a=n[i],s=n[i+1];if(s>=0){n[i]=s,n[i+1]=a;let l=i>>1;for(;r.length<l;)r.push(Wn.empty);r.push(a?e.slice(o,o+a):Wn.empty)}o+=a}return new us(n,r)}compose(e){return this.empty?e:e.empty?this:$4(this,e,!0)}map(e,n=!1){return e.empty?this:Pb(this,e,n,!0)}iterChanges(e,n=!1){Ib(this,e,n)}get desc(){return Wu.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new Sd(this);e:for(let a=0,s=0;;){let l=a==e.length?1e9:e[a++];for(;s<l||s==l&&o.len==0;){if(o.done)break e;let c=Math.min(o.len,l-s);pr(i,c,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;pr(n,c,f),f>0&&ws(r,n,o.text),o.forward(c),s+=c}let u=e[a++];for(;s<u;){if(o.done)break e;let c=Math.min(o.len,u-s);pr(n,c,-1),pr(i,c,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(c),s+=c}}return{changes:new us(n,r),filtered:Wu.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],a=0,s=null;function l(c=!1){if(!c&&!i.length)return;a<n&&pr(i,n-a,-1);let f=new us(i,o);s=s?s.compose(f.map(s)):f,i=[],o=[],a=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof us){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),s=s?s.compose(c.map(s)):c}else{let{from:f,to:d=f,insert:h}=c;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let p=h?typeof h=="string"?Wn.of(h.split(r||Bb)):h:Wn.empty,m=p.length;if(f==d&&m==0)return;f<a&&l(),f>a&&pr(i,f-a,-1),pr(i,d-f,m),ws(o,i,p),a=d}}return u(e),l(!s),s}static empty(e){return new us(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,s)=>s&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Wn.empty);r[i]=Wn.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new us(n,r)}static createSet(e,n){return new us(e,n)}};function pr(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function ws(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Wn.empty);t.push(n)}}function Ib(t,e,n){let r=t.inserted;for(let i=0,o=0,a=0;a<t.sections.length;){let s=t.sections[a++],l=t.sections[a++];if(l<0)i+=s,o+=s;else{let u=i,c=o,f=Wn.empty;for(;u+=s,c+=l,l&&r&&(f=f.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)s=t.sections[a++],l=t.sections[a++];e(i,u,o,c,f),i=u,o=c}}}function Pb(t,e,n,r=!1){let i=[],o=r?[]:null,a=new Sd(t),s=new Sd(e);for(let l=-1;;)if(a.ins==-1&&s.ins==-1){let u=Math.min(a.len,s.len);pr(i,u,-1),a.forward(u),s.forward(u)}else if(s.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(s.len<a.len||s.len==a.len&&!n))){let u=s.len;for(pr(i,s.ins,-1);u;){let c=Math.min(a.len,u);a.ins>=0&&l<a.i&&a.len<=c&&(pr(i,0,a.ins),o&&ws(o,i,a.text),l=a.i),a.forward(c),u-=c}s.next()}else if(a.ins>=0){let u=0,c=a.len;for(;c;)if(s.ins==-1){let f=Math.min(c,s.len);u+=f,c-=f,s.forward(f)}else if(s.ins==0&&s.len<c)c-=s.len,s.next();else break;pr(i,u,l<a.i?a.ins:0),o&&l<a.i&&ws(o,i,a.text),l=a.i,a.forward(a.len-c)}else{if(a.done&&s.done)return o?Ga.createSet(i,o):Wu.create(i);throw new Error("Mismatched change set lengths")}}function $4(t,e,n=!1){let r=[],i=n?[]:null,o=new Sd(t),a=new Sd(e);for(let s=!1;;){if(o.done&&a.done)return i?Ga.createSet(r,i):Wu.create(r);if(o.ins==0)pr(r,o.len,0,s),o.next();else if(a.len==0&&!a.done)pr(r,0,a.ins,s),i&&ws(i,r,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,a.len),u=r.length;if(o.ins==-1){let c=a.ins==-1?-1:a.off?0:a.ins;pr(r,l,c,s),i&&c&&ws(i,r,a.text)}else a.ins==-1?(pr(r,o.off?0:o.len,l,s),i&&ws(i,r,o.textBit(l))):(pr(r,o.off?0:o.len,a.off?0:a.ins,s),i&&!a.off&&ws(i,r,a.text));s=(o.ins>l||a.ins>=0&&a.len>l)&&(s||r.length>u),o.forward2(l),a.forward(l)}}}}let Sd=class{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Wn.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Wn.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}},Xh=class kb{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new kb(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return Xe.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return Xe.range(this.anchor,r)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Xe.range(e.anchor,e.head)}static create(e,n,r){return new kb(e,n,r)}},Xe=class hi{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:hi.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let n=0;n<this.ranges.length;n++)if(!this.ranges[n].eq(e.ranges[n]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new hi([this.main],0)}addRange(e,n=!0){return hi.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,hi.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new hi(e.ranges.map(n=>Xh.fromJSON(n)),e.main)}static single(e,n=e){return new hi([hi.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return hi.normalized(e.slice(),n);r=o.to}return new hi(e,n)}static cursor(e,n=0,r,i){return Xh.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?Xh.create(n,e,48|o):Xh.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){let s=a.from,l=Math.max(o.to,a.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?hi.range(l,s):hi.range(s,l))}}return new hi(e,n)}};function O4(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Uw=0,fn=class T4{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Uw++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new T4(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:qw),!!e.static,e.enables)}of(e){return new Yp([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Yp(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Yp(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}};function qw(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}let Yp=class{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Uw++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,a=e[o]>>1,s=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||c.push(e[f.id]);return{create(f){return f.values[a]=r(f),1},update(f,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||Fb(f,c)){let h=r(f);if(s?!kD(h,f.values[a],i):!i(h,f.values[a]))return f.values[a]=h,1}return 0},reconfigure:(f,d)=>{let h,p=d.config.address[o];if(p!=null){let m=Gm(d,p);if(this.dependencies.every(v=>v instanceof fn?d.facet(v)===f.facet(v):v instanceof Ei?d.field(v,!1)==f.field(v,!1):!0)||(s?kD(h=r(f),m,i):i(h=r(f),m)))return f.values[a]=m,0}else h=r(f);return f.values[a]=h,1}}}};function kD(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Fb(t,e){let n=!1;for(let r of e)Jf(t,r)&1&&(n=!0);return n}function Oee(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),a=t[e.id]>>1;function s(l){let u=[];for(let c=0;c<r.length;c++){let f=Gm(l,r[c]);if(i[c]==2)for(let d of f)u.push(d);else u.push(f)}return e.combine(u)}return{create(l){for(let u of r)Jf(l,u);return l.values[a]=s(l),1},update(l,u){if(!Fb(l,o))return 0;let c=s(l);return e.compare(c,l.values[a])?0:(l.values[a]=c,1)},reconfigure(l,u){let c=Fb(l,r),f=u.config.facets[e.id],d=u.facet(e);if(f&&!c&&qw(n,f))return l.values[a]=d,0;let h=s(l);return e.compare(h,d)?(l.values[a]=d,0):(l.values[a]=h,1)}}}const FD=fn.define({static:!0});let Ei=class B4{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new B4(Uw++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(FD).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],a=this.updateF(o,i);return this.compareF(o,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,FD.of({field:this,create:e})]}get extension(){return this}};const hl={lowest:4,low:3,default:2,high:1,highest:0};function bf(t){return e=>new I4(e,t)}const Ww={highest:bf(hl.highest),high:bf(hl.high),default:bf(hl.default),low:bf(hl.low),lowest:bf(hl.lowest)};let I4=class{constructor(e,n){this.inner=e,this.prec=n}},jw=class P4{of(e){return new Rb(this,e)}reconfigure(e){return P4.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}},Rb=class{constructor(e,n){this.compartment=e,this.inner=n}},RD=class k4{constructor(e,n,r,i,o,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),a=new Map;for(let d of Tee(e,n,a))d instanceof Ei?i.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let s=Object.create(null),l=[],u=[];for(let d of i)s[d.id]=u.length<<1,u.push(h=>d.slot(h));let c=r==null?void 0:r.config.facets;for(let d in o){let h=o[d],p=h[0].facet,m=c&&c[d]||[];if(h.every(v=>v.type==0))if(s[p.id]=l.length<<1|1,qw(m,h))l.push(r.facet(p));else{let v=p.combine(h.map(g=>g.value));l.push(r&&p.compare(v,r.facet(p))?r.facet(p):v)}else{for(let v of h)v.type==0?(s[v.id]=l.length<<1|1,l.push(v.value)):(s[v.id]=u.length<<1,u.push(g=>v.dynamicSlot(g)));s[p.id]=u.length<<1,u.push(v=>Oee(v,p,h))}}let f=u.map(d=>d(s));return new k4(e,a,f,s,l,o)}};function Tee(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(a,s){let l=i.get(a);if(l!=null){if(l<=s)return;let u=r[l].indexOf(a);u>-1&&r[l].splice(u,1),a instanceof Rb&&n.delete(a.compartment)}if(i.set(a,s),Array.isArray(a))for(let u of a)o(u,s);else if(a instanceof Rb){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(a.compartment)||a.inner;n.set(a.compartment,u),o(u,s)}else if(a instanceof I4)o(a.inner,a.prec);else if(a instanceof Ei)r[s].push(a),a.provides&&o(a.provides,s);else if(a instanceof Yp)r[s].push(a),a.facet.extensions&&o(a.facet.extensions,hl.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(u,s)}}return o(t,hl.default),r.reduce((a,s)=>a.concat(s))}function Jf(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Gm(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const F4=fn.define(),_b=fn.define({combine:t=>t.some(e=>e),static:!0}),R4=fn.define({combine:t=>t.length?t[0]:void 0,static:!0}),_4=fn.define(),z4=fn.define(),L4=fn.define(),H4=fn.define({combine:t=>t.length?t[0]:!1});let Ws=class{constructor(e,n){this.type=e,this.value=n}static define(){return new Bee}},Bee=class{of(e){return new Ws(this,e)}},Iee=class{constructor(e){this.map=e}of(e){return new Lt(this,e)}},Lt=class V4{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new V4(this.type,n)}is(e){return this.type==e}static define(e={}){return new Iee(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}};Lt.reconfigure=Lt.define();Lt.appendConfig=Lt.define();let wi=class Bf{constructor(e,n,r,i,o,a){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&O4(r,n.newLength),o.some(s=>s.type==Bf.time)||(this.annotations=o.concat(Bf.time.of(Date.now())))}static create(e,n,r,i,o,a){return new Bf(e,n,r,i,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Bf.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}};wi.time=Ws.define();wi.userEvent=Ws.define();wi.addToHistory=Ws.define();wi.remote=Ws.define();function Pee(t,e){let n=[];for(let r=0,i=0;;){let o,a;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],a=t[r++];else if(i<e.length)o=e[i++],a=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function U4(t,e,n){var r;let i,o,a;return n?(i=e.changes,o=Ga.empty(e.changes.length),a=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Lt.mapEffects(t.effects,i).concat(Lt.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function zb(t,e,n){let r=e.selection,i=ju(e.annotations);return e.userEvent&&(i=i.concat(wi.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ga?e.changes:Ga.of(e.changes||[],n,t.facet(R4)),selection:r&&(r instanceof Xe?r:Xe.single(r.anchor,r.head)),effects:ju(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function q4(t,e,n){let r=zb(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let a=!!e[o].sequential;r=U4(r,zb(t,e[o],a?r.changes.newLength:t.doc.length),a)}let i=wi.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Fee(n?kee(i):i)}function kee(t){let e=t.startState,n=!0;for(let i of e.facet(_4)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:Pee(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=Ga.empty(e.doc.length);else{let a=t.changes.filter(n);i=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}t=wi.create(e,i,t.selection&&t.selection.map(o),Lt.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(z4);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof wi?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof wi?t=o[0]:t=q4(e,ju(o),!1)}return t}function Fee(t){let e=t.startState,n=e.facet(L4),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=U4(r,zb(e,o,t.changes.newLength),!0))}return r==t?t:wi.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Ree=[];function ju(t){return t==null?Ree:Array.isArray(t)?t:[t]}var xn=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(xn||(xn={}));const _ee=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Lb;try{Lb=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function zee(t){if(Lb)return Lb.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||_ee.test(n)))return!0}return!1}function Lee(t){return e=>{if(!/\S/.test(e))return xn.Space;if(zee(e))return xn.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return xn.Word;return xn.Other}}let Ln=class ao{constructor(e,n,r,i,o,a){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)Jf(this,s<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Jf(this,r),Gm(this,r)}update(...e){return q4(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let s of e.effects)s.is(jw.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(s.value.compartment,s.value.extension)):s.is(Lt.reconfigure)?(n=null,r=s.value):s.is(Lt.appendConfig)&&(n=null,r=ju(r).concat(s.value));let o;n?o=e.startState.values.slice():(n=RD.resolve(r,i,this),o=new ao(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let a=e.startState.facet(_b)?e.newSelection:e.newSelection.asSingle();new ao(n,e.newDoc,a,o,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:Xe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],a=ju(r.effects);for(let s=1;s<n.ranges.length;s++){let l=e(n.ranges[s]),u=this.changes(l.changes),c=u.map(i);for(let d=0;d<s;d++)o[d]=o[d].map(c);let f=i.mapDesc(u,!0);o.push(l.range.map(f)),i=i.compose(c),a=Lt.mapEffects(a,c).concat(Lt.mapEffects(ju(l.effects),f))}return{changes:i,selection:Xe.create(o,n.mainIndex),effects:a}}changes(e=[]){return e instanceof Ga?e:Ga.of(e,this.doc.length,this.facet(ao.lineSeparator))}toText(e){return Wn.of(e.split(this.facet(ao.lineSeparator)||Bb))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Jf(this,n),Gm(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof Ei&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let a=r[o],s=e[o];i.push(a.init(l=>a.spec.fromJSON(s,l)))}}return ao.create({doc:e.doc,selection:Xe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=RD.resolve(e.extensions||[],new Map),r=e.doc instanceof Wn?e.doc:Wn.of((e.doc||"").split(n.staticFacet(ao.lineSeparator)||Bb)),i=e.selection?e.selection instanceof Xe?e.selection:Xe.single(e.selection.anchor,e.selection.head):Xe.single(0);return O4(i,r.length),n.staticFacet(_b)||(i=i.asSingle()),new ao(n,r,i,n.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(ao.tabSize)}get lineBreak(){return this.facet(ao.lineSeparator)||`
`}get readOnly(){return this.facet(H4)}phrase(e,...n){for(let r of this.facet(ao.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(F4))for(let a of o(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){return Lee(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),a=e-r,s=e-r;for(;a>0;){let l=aa(n,a,!1);if(o(n.slice(l,a))!=xn.Word)break;a=l}for(;s<i;){let l=aa(n,s);if(o(n.slice(s,l))!=xn.Word)break;s=l}return a==s?null:Xe.range(a+r,s+r)}};Ln.allowMultipleSelections=_b;Ln.tabSize=fn.define({combine:t=>t.length?t[0]:4});Ln.lineSeparator=R4;Ln.readOnly=H4;Ln.phrases=fn.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Ln.languageData=F4;Ln.changeFilter=_4;Ln.transactionFilter=z4;Ln.transactionExtender=L4;jw.reconfigure=Lt.define();function Wl(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let a=i[o],s=r[o];if(s===void 0)r[o]=a;else if(!(s===a||a===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](s,a);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}let Cd=class{eq(e){return this==e}range(e,n=e){return Hb.create(e,n,this)}};Cd.prototype.startSide=Cd.prototype.endSide=0;Cd.prototype.point=!1;Cd.prototype.mapMode=Ca.TrackDel;let Hb=class W4{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new W4(e,n,r)}};function Vb(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}let Hee=class j4{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let a=i,s=o.length;;){if(a==s)return a;let l=a+s>>1,u=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==a)return u>=0?a:s;u>=0?s=l:a=l+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],a=-1,s=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,d,h;if(c==f){let p=n.mapPos(c,u.startSide,u.mapMode);if(p==null||(d=h=p,u.startSide!=u.endSide&&(h=n.mapPos(c,u.endSide),h<d)))continue}else if(d=n.mapPos(c,u.startSide),h=n.mapPos(f,u.endSide),d>h||d==h&&u.startSide>0&&u.endSide<=0)continue;(h-d||u.endSide-u.startSide)<0||(a<0&&(a=d),u.point&&(s=Math.max(s,h-d)),r.push(u),i.push(d-a),o.push(h-a))}return{mapped:r.length?new j4(i,o,r,s):null,pos:a}}},Rs=class Su{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new Su(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(Vb)),this.isEmpty)return n.length?Su.of(n):this;let s=new X4(this,null,-1).goto(0),l=0,u=[],c=new Ad;for(;s.value||l<n.length;)if(l<n.length&&(s.from-n[l].from||s.startSide-n[l].value.startSide)>=0){let f=n[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(s.chunkIndex)<n[l].from)&&(!a||i>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!a||i>s.to||o<s.from||a(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||u.push(Hb.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?Su.empty:this.nextLayer.update({add:u,filter:a,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let s=this.chunkPos[a],l=this.chunk[a],u=e.touchesRange(s,s+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(s));else if(u===!0){let{mapped:c,pos:f}=l.map(s,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}let o=this.nextLayer.map(e);return n.length==0?o:new Su(r,n,o||Su.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],a=this.chunk[i];if(n>=o&&e<=o+a.length&&a.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Ub.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Ub.from(e).goto(n)}static compare(e,n,r,i,o=-1){let a=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),s=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=_D(a,s,r),u=new xf(a,l,o),c=new xf(s,l,o);r.iterGaps((f,d,h)=>zD(u,f,c,d,h,i)),r.empty&&r.length==0&&zD(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),a=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let s=_D(o,a),l=new xf(o,s,0).goto(r),u=new xf(a,s,0).goto(r);for(;;){if(l.to!=u.to||!qb(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,o=-1){let a=new xf(e,null,o).goto(n),s=n,l=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point){let c=a.activeForPoint(a.to),f=a.pointFrom<n?c.length+1:Math.min(c.length,l);i.point(s,u,a.point,c,f,a.pointRank),l=Math.min(a.openEnd(u),c.length)}else u>s&&(i.span(s,u,a.active,l),l=a.openEnd(u));if(a.to>r)return l+(a.point&&a.to>r?1:0);s=a.to,a.next()}}static of(e,n=!1){let r=new Ad;for(let i of e instanceof Hb?[e]:n?Vee(e):e)r.add(i.from,i.to,i.value);return r.finish()}};Rs.empty=new Rs([],[],null,-1);function Vee(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(Vb(e,r)>0)return t.slice().sort(Vb);e=r}return t}Rs.empty.nextLayer=Rs.empty;let Ad=class G4{finishChunk(e){this.chunks.push(new Hee(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new G4)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(Rs.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=Rs.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}};function _D(t,e,n){let r=new Map;for(let o of t)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a]);let i=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let s=r.get(o.chunk[a]);s!=null&&(n?n.mapPos(s):s)==o.chunkPos[a]&&!(n!=null&&n.touchesRange(s,s+o.chunk[a].length))&&i.add(o.chunk[a])}return i}let X4=class{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}},Ub=class K4{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new X4(a,n,r,o));return i.length==1?i[0]:new K4(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)ry(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)ry(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),ry(this.heap,0)}}};function ry(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}let xf=class{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Ub.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Kh(this.active,e),Kh(this.activeTo,e),Kh(this.activeRank,e),this.minActive=LD(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&this.activeRank[n]<=o;)n++;Yh(this.active,n,r),Yh(this.activeTo,n,i),Yh(this.activeRank,n,o),e&&Yh(e,n,this.cursor.from),this.minActive=LD(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Kh(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}};function zD(t,e,n,r,i,o){t.goto(e),n.goto(r);let a=r+i,s=r,l=r-e;for(;;){let u=t.to+l-n.to||t.endSide-n.endSide,c=u<0?t.to+l:n.to,f=Math.min(c,a);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&qb(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(s,f,t.point,n.point):f>s&&!qb(t.active,n.active)&&o.compareRange(s,f,t.active,n.active),c>a)break;s=c,u<=0&&t.next(),u>=0&&n.next()}}function qb(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Kh(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Yh(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function LD(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function vv(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=aa(t,i));return r}class Jt{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=mc(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),Wo.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=mc(this,e,n);let r=[];return this.decompose(e,n,r,0),Wo.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new ed(this),o=new ed(e);for(let a=n,s=n;;){if(i.next(a),o.next(a),a=0,i.lineBreak!=o.lineBreak||i.done!=o.done||i.value!=o.value)return!1;if(s+=i.value.length,i.done||s>=r)return!0}}iter(e=1){return new ed(this,e)}iterRange(e,n=this.length){return new Y4(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new Z4(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Jt.empty:e.length<=32?new Tn(e):Wo.from(Tn.split(e,[]))}}class Tn extends Jt{constructor(e,n=Uee(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.text[o],s=i+a.length;if((n?r:s)>=e)return new qee(i,s,r,a);i=s+1,r++}}decompose(e,n,r,i){let o=e<=0&&n>=this.length?this:new Tn(HD(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let a=r.pop(),s=Zp(o.text,a.text.slice(),0,o.length);if(s.length<=32)r.push(new Tn(s,a.length+o.length));else{let l=s.length>>1;r.push(new Tn(s.slice(0,l)),new Tn(s.slice(l)))}}else r.push(o)}replace(e,n,r){if(!(r instanceof Tn))return super.replace(e,n,r);[e,n]=mc(this,e,n);let i=Zp(this.text,Zp(r.text,HD(this.text,0,e)),n),o=this.length+r.length-(n-e);return i.length<=32?new Tn(i,o):Wo.from(Tn.split(i,[]),o)}sliceString(e,n=this.length,r=`
`){[e,n]=mc(this,e,n);let i="";for(let o=0,a=0;o<=n&&a<this.text.length;a++){let s=this.text[a],l=o+s.length;o>e&&a&&(i+=r),e<l&&n>o&&(i+=s.slice(Math.max(0,e-o),n-o)),o=l+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let o of e)r.push(o),i+=o.length+1,r.length==32&&(n.push(new Tn(r,i)),r=[],i=-1);return i>-1&&n.push(new Tn(r,i)),n}}class Wo extends Jt{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let o=0;;o++){let a=this.children[o],s=i+a.length,l=r+a.lines-1;if((n?l:s)>=e)return a.lineInner(e,n,r,i);i=s+1,r=l+1}}decompose(e,n,r,i){for(let o=0,a=0;a<=n&&o<this.children.length;o++){let s=this.children[o],l=a+s.length;if(e<=l&&n>=a){let u=i&((a<=e?1:0)|(l>=n?2:0));a>=e&&l<=n&&!u?r.push(s):s.decompose(e-a,n-a,r,u)}a=l+1}}replace(e,n,r){if([e,n]=mc(this,e,n),r.lines<this.lines)for(let i=0,o=0;i<this.children.length;i++){let a=this.children[i],s=o+a.length;if(e>=o&&n<=s){let l=a.replace(e-o,n-o,r),u=this.lines-a.lines+l.lines;if(l.lines<u>>4&&l.lines>u>>6){let c=this.children.slice();return c[i]=l,new Wo(c,this.length-(n-e)+r.length)}return super.replace(o,s,l)}o=s+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=mc(this,e,n);let i="";for(let o=0,a=0;o<this.children.length&&a<=n;o++){let s=this.children[o],l=a+s.length;a>e&&o&&(i+=r),e<l&&n>a&&(i+=s.sliceString(e-a,n-a,r)),a=l+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof Wo))return 0;let r=0,[i,o,a,s]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,o+=n){if(i==a||o==s)return r;let l=this.children[i],u=e.children[o];if(l!=u)return r+l.scanIdentical(u,n);r+=l.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let h of e)r+=h.lines;if(r<32){let h=[];for(let p of e)p.flatten(h);return new Tn(h,n)}let i=Math.max(32,r>>5),o=i<<1,a=i>>1,s=[],l=0,u=-1,c=[];function f(h){let p;if(h.lines>o&&h instanceof Wo)for(let m of h.children)f(m);else h.lines>a&&(l>a||!l)?(d(),s.push(h)):h instanceof Tn&&l&&(p=c[c.length-1])instanceof Tn&&h.lines+p.lines<=32?(l+=h.lines,u+=h.length+1,c[c.length-1]=new Tn(p.text.concat(h.text),p.length+1+h.length)):(l+h.lines>i&&d(),l+=h.lines,u+=h.length+1,c.push(h))}function d(){l!=0&&(s.push(c.length==1?c[0]:Wo.from(c,u)),u=-1,l=c.length=0)}for(let h of e)f(h);return d(),s.length==1?s[0]:new Wo(s,n)}}Jt.empty=new Tn([""],0);function Uee(t){let e=-1;for(let n of t)e+=n.length+1;return e}function Zp(t,e,n=0,r=1e9){for(let i=0,o=0,a=!0;o<t.length&&i<=r;o++){let s=t[o],l=i+s.length;l>=n&&(l>r&&(s=s.slice(0,r-i)),i<n&&(s=s.slice(n-i)),a?(e[e.length-1]+=s,a=!1):e.push(s)),i=l+1}return e}function HD(t,e,n){return Zp(t,[""],e,n)}class ed{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Tn?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],o=this.offsets[r],a=o>>1,s=i instanceof Tn?i.text.length:i.children.length;if(a==(n>0?s:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((o&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Tn){let l=i.text[a+(n<0?-1:0)];if(this.offsets[r]+=n,l.length>Math.max(0,e))return this.value=e==0?l:n>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=i.children[a+(n<0?-1:0)];e>l.length?(e-=l.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(l),this.offsets.push(n>0?1:(l instanceof Tn?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Y4{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new ed(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Z4{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Jt.prototype[Symbol.iterator]=function(){return this.iter()},ed.prototype[Symbol.iterator]=Y4.prototype[Symbol.iterator]=Z4.prototype[Symbol.iterator]=function(){return this});class qee{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function mc(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}let Gu="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(t=>t?parseInt(t,36):1);for(let t=1;t<Gu.length;t++)Gu[t]+=Gu[t-1];function Wee(t){for(let e=1;e<Gu.length;e+=2)if(Gu[e]>t)return Gu[e-1]<=t;return!1}function VD(t){return t>=127462&&t<=127487}const UD=8205;function Yo(t,e,n=!0,r=!0){return(n?Q4:jee)(t,e,r)}function Q4(t,e,n){if(e==t.length)return e;e&&J4(t.charCodeAt(e))&&ek(t.charCodeAt(e-1))&&e--;let r=td(t,e);for(e+=Wb(r);e<t.length;){let i=td(t,e);if(r==UD||i==UD||n&&Wee(i))e+=Wb(i),r=i;else if(VD(i)){let o=0,a=e-2;for(;a>=0&&VD(td(t,a));)o++,a-=2;if(o%2==0)break;e+=2}else break}return e}function jee(t,e,n){for(;e>0;){let r=Q4(t,e-2,n);if(r<e)return r;e--}return 0}function J4(t){return t>=56320&&t<57344}function ek(t){return t>=55296&&t<56320}function td(t,e){let n=t.charCodeAt(e);if(!ek(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return J4(r)?(n-55296<<10)+(r-56320)+65536:n}function Wb(t){return t<65536?1:2}const jb=/\r\n?|\n/;var Qr=function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t}(Qr||(Qr={}));class ka{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let o=this.sections[n++],a=this.sections[n++];a<0?(e(r,i,o),i+=o):i+=a,r+=o}}iterChangedRanges(e,n=!1){Gb(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new ka(e)}composeDesc(e){return this.empty?e:e.empty?this:tk(this,e)}mapDesc(e,n=!1){return e.empty?this:Xb(this,e,n)}mapPos(e,n=-1,r=Qr.Simple){let i=0,o=0;for(let a=0;a<this.sections.length;){let s=this.sections[a++],l=this.sections[a++],u=i+s;if(l<0){if(u>e)return o+(e-i);o+=s}else{if(r!=Qr.Simple&&u>=e&&(r==Qr.TrackDel&&i<e&&u>e||r==Qr.TrackBefore&&i<e||r==Qr.TrackAfter&&u>e))return null;if(u>e||u==e&&n<0&&!s)return e==i||n<0?o:o+l;o+=l}i=u}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return o}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let o=this.sections[r++],a=this.sections[r++],s=i+o;if(a>=0&&i<=n&&s>=e)return i<e&&s>n?"cover":!0;i=s}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ka(e)}static create(e){return new ka(e)}}class Zn extends ka{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Gb(this,(n,r,i,o,a)=>e=e.replace(i,i+(r-n),a),!1),e}mapDesc(e,n=!1){return Xb(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,o=0;i<n.length;i+=2){let a=n[i],s=n[i+1];if(s>=0){n[i]=s,n[i+1]=a;let l=i>>1;for(;r.length<l;)r.push(Jt.empty);r.push(a?e.slice(o,o+a):Jt.empty)}o+=a}return new Zn(n,r)}compose(e){return this.empty?e:e.empty?this:tk(this,e,!0)}map(e,n=!1){return e.empty?this:Xb(this,e,n,!0)}iterChanges(e,n=!1){Gb(this,e,n)}get desc(){return ka.create(this.sections)}filter(e){let n=[],r=[],i=[],o=new Dd(this);e:for(let a=0,s=0;;){let l=a==e.length?1e9:e[a++];for(;s<l||s==l&&o.len==0;){if(o.done)break e;let c=Math.min(o.len,l-s);mr(i,c,-1);let f=o.ins==-1?-1:o.off==0?o.ins:0;mr(n,c,f),f>0&&Ss(r,n,o.text),o.forward(c),s+=c}let u=e[a++];for(;s<u;){if(o.done)break e;let c=Math.min(o.len,u-s);mr(n,c,-1),mr(i,c,o.ins==-1?-1:o.off==0?o.ins:0),o.forward(c),s+=c}}return{changes:new Zn(n,r),filtered:ka.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],o=[],a=0,s=null;function l(c=!1){if(!c&&!i.length)return;a<n&&mr(i,n-a,-1);let f=new Zn(i,o);s=s?s.compose(f.map(s)):f,i=[],o=[],a=0}function u(c){if(Array.isArray(c))for(let f of c)u(f);else if(c instanceof Zn){if(c.length!=n)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${n})`);l(),s=s?s.compose(c.map(s)):c}else{let{from:f,to:d=f,insert:h}=c;if(f>d||f<0||d>n)throw new RangeError(`Invalid change range ${f} to ${d} (in doc of length ${n})`);let p=h?typeof h=="string"?Jt.of(h.split(r||jb)):h:Jt.empty,m=p.length;if(f==d&&m==0)return;f<a&&l(),f>a&&mr(i,f-a,-1),mr(i,d-f,m),Ss(o,i,p),a=d}}return u(e),l(!s),s}static empty(e){return new Zn(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let o=e[i];if(typeof o=="number")n.push(o,-1);else{if(!Array.isArray(o)||typeof o[0]!="number"||o.some((a,s)=>s&&typeof a!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(o.length==1)n.push(o[0],0);else{for(;r.length<i;)r.push(Jt.empty);r[i]=Jt.of(o.slice(1)),n.push(o[0],r[i].length)}}}return new Zn(n,r)}static createSet(e,n){return new Zn(e,n)}}function mr(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function Ss(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Jt.empty);t.push(n)}}function Gb(t,e,n){let r=t.inserted;for(let i=0,o=0,a=0;a<t.sections.length;){let s=t.sections[a++],l=t.sections[a++];if(l<0)i+=s,o+=s;else{let u=i,c=o,f=Jt.empty;for(;u+=s,c+=l,l&&r&&(f=f.append(r[a-2>>1])),!(n||a==t.sections.length||t.sections[a+1]<0);)s=t.sections[a++],l=t.sections[a++];e(i,u,o,c,f),i=u,o=c}}}function Xb(t,e,n,r=!1){let i=[],o=r?[]:null,a=new Dd(t),s=new Dd(e);for(let l=-1;;)if(a.ins==-1&&s.ins==-1){let u=Math.min(a.len,s.len);mr(i,u,-1),a.forward(u),s.forward(u)}else if(s.ins>=0&&(a.ins<0||l==a.i||a.off==0&&(s.len<a.len||s.len==a.len&&!n))){let u=s.len;for(mr(i,s.ins,-1);u;){let c=Math.min(a.len,u);a.ins>=0&&l<a.i&&a.len<=c&&(mr(i,0,a.ins),o&&Ss(o,i,a.text),l=a.i),a.forward(c),u-=c}s.next()}else if(a.ins>=0){let u=0,c=a.len;for(;c;)if(s.ins==-1){let f=Math.min(c,s.len);u+=f,c-=f,s.forward(f)}else if(s.ins==0&&s.len<c)c-=s.len,s.next();else break;mr(i,u,l<a.i?a.ins:0),o&&l<a.i&&Ss(o,i,a.text),l=a.i,a.forward(a.len-c)}else{if(a.done&&s.done)return o?Zn.createSet(i,o):ka.create(i);throw new Error("Mismatched change set lengths")}}function tk(t,e,n=!1){let r=[],i=n?[]:null,o=new Dd(t),a=new Dd(e);for(let s=!1;;){if(o.done&&a.done)return i?Zn.createSet(r,i):ka.create(r);if(o.ins==0)mr(r,o.len,0,s),o.next();else if(a.len==0&&!a.done)mr(r,0,a.ins,s),i&&Ss(i,r,a.text),a.next();else{if(o.done||a.done)throw new Error("Mismatched change set lengths");{let l=Math.min(o.len2,a.len),u=r.length;if(o.ins==-1){let c=a.ins==-1?-1:a.off?0:a.ins;mr(r,l,c,s),i&&c&&Ss(i,r,a.text)}else a.ins==-1?(mr(r,o.off?0:o.len,l,s),i&&Ss(i,r,o.textBit(l))):(mr(r,o.off?0:o.len,a.off?0:a.ins,s),i&&!a.off&&Ss(i,r,a.text));s=(o.ins>l||a.ins>=0&&a.len>l)&&(s||r.length>u),o.forward2(l),a.forward(l)}}}}class Dd{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Jt.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Jt.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class yl{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new yl(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return qe.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return qe.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return qe.range(e.anchor,e.head)}static create(e,n,r){return new yl(e,n,r)}}class qe{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:qe.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new qe([this.main],0)}addRange(e,n=!0){return qe.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,qe.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new qe(e.ranges.map(n=>yl.fromJSON(n)),e.main)}static single(e,n=e){return new qe([qe.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let o=e[i];if(o.empty?o.from<=r:o.from<r)return qe.normalized(e.slice(),n);r=o.to}return new qe(e,n)}static cursor(e,n=0,r,i){return yl.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let o=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?yl.create(n,e,48|o):yl.create(e,n,(n>e?8:0)|o)}static normalized(e,n=0){let r=e[n];e.sort((i,o)=>i.from-o.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let o=e[i],a=e[i-1];if(o.empty?o.from<=a.to:o.from<a.to){let s=a.from,l=Math.max(o.to,a.to);i<=n&&n--,e.splice(--i,2,o.anchor>o.head?qe.range(l,s):qe.range(s,l))}}return new qe(e,n)}}function nk(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let Gw=0;class lt{constructor(e,n,r,i,o){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=Gw++,this.default=e([]),this.extensions=typeof o=="function"?o(this):o}get reader(){return this}static define(e={}){return new lt(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:Xw),!!e.static,e.enables)}of(e){return new Qp([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qp(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new Qp(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function Xw(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class Qp{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=Gw++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,o=this.id,a=e[o]>>1,s=this.type==2,l=!1,u=!1,c=[];for(let f of this.dependencies)f=="doc"?l=!0:f=="selection"?u=!0:((n=e[f.id])!==null&&n!==void 0?n:1)&1||c.push(e[f.id]);return{create(f){return f.values[a]=r(f),1},update(f,d){if(l&&d.docChanged||u&&(d.docChanged||d.selection)||Kb(f,c)){let h=r(f);if(s?!qD(h,f.values[a],i):!i(h,f.values[a]))return f.values[a]=h,1}return 0},reconfigure:(f,d)=>{let h,p=d.config.address[o];if(p!=null){let m=Km(d,p);if(this.dependencies.every(v=>v instanceof lt?d.facet(v)===f.facet(v):v instanceof js?d.field(v,!1)==f.field(v,!1):!0)||(s?qD(h=r(f),m,i):i(h=r(f),m)))return f.values[a]=m,0}else h=r(f);return f.values[a]=h,1}}}}function qD(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function Kb(t,e){let n=!1;for(let r of e)nd(t,r)&1&&(n=!0);return n}function Gee(t,e,n){let r=n.map(l=>t[l.id]),i=n.map(l=>l.type),o=r.filter(l=>!(l&1)),a=t[e.id]>>1;function s(l){let u=[];for(let c=0;c<r.length;c++){let f=Km(l,r[c]);if(i[c]==2)for(let d of f)u.push(d);else u.push(f)}return e.combine(u)}return{create(l){for(let u of r)nd(l,u);return l.values[a]=s(l),1},update(l,u){if(!Kb(l,o))return 0;let c=s(l);return e.compare(c,l.values[a])?0:(l.values[a]=c,1)},reconfigure(l,u){let c=Kb(l,r),f=u.config.facets[e.id],d=u.facet(e);if(f&&!c&&Xw(n,f))return l.values[a]=d,0;let h=s(l);return e.compare(h,d)?(l.values[a]=d,0):(l.values[a]=h,1)}}}const WD=lt.define({static:!0});class js{constructor(e,n,r,i,o){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=o,this.provides=void 0}static define(e){let n=new js(Gw++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(WD).find(r=>r.field==this);return((n==null?void 0:n.create)||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let o=r.values[n],a=this.updateF(o,i);return this.compareF(o,a)?0:(r.values[n]=a,1)},reconfigure:(r,i)=>i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}init(e){return[this,WD.of({field:this,create:e})]}get extension(){return this}}const pl={lowest:4,low:3,default:2,high:1,highest:0};function wf(t){return e=>new rk(e,t)}const Kw={highest:wf(pl.highest),high:wf(pl.high),default:wf(pl.default),low:wf(pl.low),lowest:wf(pl.lowest)};class rk{constructor(e,n){this.inner=e,this.prec=n}}class yv{of(e){return new Yb(this,e)}reconfigure(e){return yv.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Yb{constructor(e,n){this.compartment=e,this.inner=n}}class Xm{constructor(e,n,r,i,o,a){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=o,this.facets=a,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],o=Object.create(null),a=new Map;for(let d of Xee(e,n,a))d instanceof js?i.push(d):(o[d.facet.id]||(o[d.facet.id]=[])).push(d);let s=Object.create(null),l=[],u=[];for(let d of i)s[d.id]=u.length<<1,u.push(h=>d.slot(h));let c=r==null?void 0:r.config.facets;for(let d in o){let h=o[d],p=h[0].facet,m=c&&c[d]||[];if(h.every(v=>v.type==0))if(s[p.id]=l.length<<1|1,Xw(m,h))l.push(r.facet(p));else{let v=p.combine(h.map(g=>g.value));l.push(r&&p.compare(v,r.facet(p))?r.facet(p):v)}else{for(let v of h)v.type==0?(s[v.id]=l.length<<1|1,l.push(v.value)):(s[v.id]=u.length<<1,u.push(g=>v.dynamicSlot(g)));s[p.id]=u.length<<1,u.push(v=>Gee(v,p,h))}}let f=u.map(d=>d(s));return new Xm(e,a,f,s,l,o)}}function Xee(t,e,n){let r=[[],[],[],[],[]],i=new Map;function o(a,s){let l=i.get(a);if(l!=null){if(l<=s)return;let u=r[l].indexOf(a);u>-1&&r[l].splice(u,1),a instanceof Yb&&n.delete(a.compartment)}if(i.set(a,s),Array.isArray(a))for(let u of a)o(u,s);else if(a instanceof Yb){if(n.has(a.compartment))throw new RangeError("Duplicate use of compartment in extensions");let u=e.get(a.compartment)||a.inner;n.set(a.compartment,u),o(u,s)}else if(a instanceof rk)o(a.inner,a.prec);else if(a instanceof js)r[s].push(a),a.provides&&o(a.provides,s);else if(a instanceof Qp)r[s].push(a),a.facet.extensions&&o(a.facet.extensions,pl.default);else{let u=a.extension;if(!u)throw new Error(`Unrecognized extension value in extension set (${a}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);o(u,s)}}return o(t,pl.default),r.reduce((a,s)=>a.concat(s))}function nd(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function Km(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const ik=lt.define(),Zb=lt.define({combine:t=>t.some(e=>e),static:!0}),ok=lt.define({combine:t=>t.length?t[0]:void 0,static:!0}),ak=lt.define(),sk=lt.define(),lk=lt.define(),uk=lt.define({combine:t=>t.length?t[0]:!1});class Vc{constructor(e,n){this.type=e,this.value=n}static define(){return new Kee}}class Kee{of(e){return new Vc(this,e)}}class Yee{constructor(e){this.map=e}of(e){return new _n(this,e)}}class _n{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new _n(this.type,n)}is(e){return this.type==e}static define(e={}){return new Yee(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let o=i.map(n);o&&r.push(o)}return r}}_n.reconfigure=_n.define();_n.appendConfig=_n.define();class xr{constructor(e,n,r,i,o,a){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=o,this.scrollIntoView=a,this._doc=null,this._state=null,r&&nk(r,n.newLength),o.some(s=>s.type==xr.time)||(this.annotations=o.concat(xr.time.of(Date.now())))}static create(e,n,r,i,o,a){return new xr(e,n,r,i,o,a)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(xr.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}xr.time=Vc.define();xr.userEvent=Vc.define();xr.addToHistory=Vc.define();xr.remote=Vc.define();function Zee(t,e){let n=[];for(let r=0,i=0;;){let o,a;if(r<t.length&&(i==e.length||e[i]>=t[r]))o=t[r++],a=t[r++];else if(i<e.length)o=e[i++],a=e[i++];else return n;!n.length||n[n.length-1]<o?n.push(o,a):n[n.length-1]<a&&(n[n.length-1]=a)}}function ck(t,e,n){var r;let i,o,a;return n?(i=e.changes,o=Zn.empty(e.changes.length),a=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),o=t.changes.mapDesc(e.changes,!0),a=t.changes.compose(i)),{changes:a,selection:e.selection?e.selection.map(o):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:_n.mapEffects(t.effects,i).concat(_n.mapEffects(e.effects,o)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function Qb(t,e,n){let r=e.selection,i=Xu(e.annotations);return e.userEvent&&(i=i.concat(xr.userEvent.of(e.userEvent))),{changes:e.changes instanceof Zn?e.changes:Zn.of(e.changes||[],n,t.facet(ok)),selection:r&&(r instanceof qe?r:qe.single(r.anchor,r.head)),effects:Xu(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function fk(t,e,n){let r=Qb(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let o=1;o<e.length;o++){e[o].filter===!1&&(n=!1);let a=!!e[o].sequential;r=ck(r,Qb(t,e[o],a?r.changes.newLength:t.doc.length),a)}let i=xr.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Jee(n?Qee(i):i)}function Qee(t){let e=t.startState,n=!0;for(let i of e.facet(ak)){let o=i(t);if(o===!1){n=!1;break}Array.isArray(o)&&(n=n===!0?o:Zee(n,o))}if(n!==!0){let i,o;if(n===!1)o=t.changes.invertedDesc,i=Zn.empty(e.doc.length);else{let a=t.changes.filter(n);i=a.changes,o=a.filtered.mapDesc(a.changes).invertedDesc}t=xr.create(e,i,t.selection&&t.selection.map(o),_n.mapEffects(t.effects,o),t.annotations,t.scrollIntoView)}let r=e.facet(sk);for(let i=r.length-1;i>=0;i--){let o=r[i](t);o instanceof xr?t=o:Array.isArray(o)&&o.length==1&&o[0]instanceof xr?t=o[0]:t=fk(e,Xu(o),!1)}return t}function Jee(t){let e=t.startState,n=e.facet(lk),r=t;for(let i=n.length-1;i>=0;i--){let o=n[i](t);o&&Object.keys(o).length&&(r=ck(r,Qb(e,o,t.changes.newLength),!0))}return r==t?t:xr.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const ete=[];function Xu(t){return t==null?ete:Array.isArray(t)?t:[t]}var Ea=function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t}(Ea||(Ea={}));const tte=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Jb;try{Jb=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function nte(t){if(Jb)return Jb.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||tte.test(n)))return!0}return!1}function rte(t){return e=>{if(!/\S/.test(e))return Ea.Space;if(nte(e))return Ea.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return Ea.Word;return Ea.Other}}class pn{constructor(e,n,r,i,o,a){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=o,a&&(a._state=this);for(let s=0;s<this.config.dynamicSlots.length;s++)nd(this,s<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return nd(this,r),Km(this,r)}update(...e){return fk(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let s of e.effects)s.is(yv.reconfigure)?(n&&(i=new Map,n.compartments.forEach((l,u)=>i.set(u,l)),n=null),i.set(s.value.compartment,s.value.extension)):s.is(_n.reconfigure)?(n=null,r=s.value):s.is(_n.appendConfig)&&(n=null,r=Xu(r).concat(s.value));let o;n?o=e.startState.values.slice():(n=Xm.resolve(r,i,this),o=new pn(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(l,u)=>u.reconfigure(l,this),null).values);let a=e.startState.facet(Zb)?e.newSelection:e.newSelection.asSingle();new pn(n,e.newDoc,a,o,(s,l)=>l.update(s,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:qe.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),o=[r.range],a=Xu(r.effects);for(let s=1;s<n.ranges.length;s++){let l=e(n.ranges[s]),u=this.changes(l.changes),c=u.map(i);for(let d=0;d<s;d++)o[d]=o[d].map(c);let f=i.mapDesc(u,!0);o.push(l.range.map(f)),i=i.compose(c),a=_n.mapEffects(a,c).concat(_n.mapEffects(Xu(l.effects),f))}return{changes:i,selection:qe.create(o,n.mainIndex),effects:a}}changes(e=[]){return e instanceof Zn?e:Zn.of(e,this.doc.length,this.facet(pn.lineSeparator))}toText(e){return Jt.of(e.split(this.facet(pn.lineSeparator)||jb))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(nd(this,n),Km(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof js&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let o in r)if(Object.prototype.hasOwnProperty.call(e,o)){let a=r[o],s=e[o];i.push(a.init(l=>a.spec.fromJSON(s,l)))}}return pn.create({doc:e.doc,selection:qe.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=Xm.resolve(e.extensions||[],new Map),r=e.doc instanceof Jt?e.doc:Jt.of((e.doc||"").split(n.staticFacet(pn.lineSeparator)||jb)),i=e.selection?e.selection instanceof qe?e.selection:qe.single(e.selection.anchor,e.selection.head):qe.single(0);return nk(i,r.length),n.staticFacet(Zb)||(i=i.asSingle()),new pn(n,r,i,n.dynamicSlots.map(()=>null),(o,a)=>a.create(o),null)}get tabSize(){return this.facet(pn.tabSize)}get lineBreak(){return this.facet(pn.lineSeparator)||`
`}get readOnly(){return this.facet(uk)}phrase(e,...n){for(let r of this.facet(pn.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let o=+(i||1);return!o||o>n.length?r:n[o-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let o of this.facet(ik))for(let a of o(this,n,r))Object.prototype.hasOwnProperty.call(a,e)&&i.push(a[e]);return i}charCategorizer(e){return rte(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),o=this.charCategorizer(e),a=e-r,s=e-r;for(;a>0;){let l=Yo(n,a,!1);if(o(n.slice(l,a))!=Ea.Word)break;a=l}for(;s<i;){let l=Yo(n,s);if(o(n.slice(s,l))!=Ea.Word)break;s=l}return a==s?null:qe.range(a+r,s+r)}}pn.allowMultipleSelections=Zb;pn.tabSize=lt.define({combine:t=>t.length?t[0]:4});pn.lineSeparator=ok;pn.readOnly=uk;pn.phrases=lt.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});pn.languageData=ik;pn.changeFilter=ak;pn.transactionFilter=sk;pn.transactionExtender=lk;yv.reconfigure=_n.define();function Yw(t,e,n={}){let r={};for(let i of t)for(let o of Object.keys(i)){let a=i[o],s=r[o];if(s===void 0)r[o]=a;else if(!(s===a||a===void 0))if(Object.hasOwnProperty.call(n,o))r[o]=n[o](s,a);else throw new Error("Config merge conflict for field "+o)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class gc{eq(e){return this==e}range(e,n=e){return e1.create(e,n,this)}}gc.prototype.startSide=gc.prototype.endSide=0;gc.prototype.point=!1;gc.prototype.mapMode=Qr.TrackDel;let e1=class dk{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new dk(e,n,r)}};function t1(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class Zw{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let o=r?this.to:this.from;for(let a=i,s=o.length;;){if(a==s)return a;let l=a+s>>1,u=o[l]-e||(r?this.value[l].endSide:this.value[l].startSide)-n;if(l==a)return u>=0?a:s;u>=0?s=l:a=l+1}}between(e,n,r,i){for(let o=this.findIndex(n,-1e9,!0),a=this.findIndex(r,1e9,!1,o);o<a;o++)if(i(this.from[o]+e,this.to[o]+e,this.value[o])===!1)return!1}map(e,n){let r=[],i=[],o=[],a=-1,s=-1;for(let l=0;l<this.value.length;l++){let u=this.value[l],c=this.from[l]+e,f=this.to[l]+e,d,h;if(c==f){let p=n.mapPos(c,u.startSide,u.mapMode);if(p==null||(d=h=p,u.startSide!=u.endSide&&(h=n.mapPos(c,u.endSide),h<d)))continue}else if(d=n.mapPos(c,u.startSide),h=n.mapPos(f,u.endSide),d>h||d==h&&u.startSide>0&&u.endSide<=0)continue;(h-d||u.endSide-u.startSide)<0||(a<0&&(a=d),u.point&&(s=Math.max(s,h-d)),r.push(u),i.push(d-a),o.push(h-a))}return{mapped:r.length?new Zw(i,o,r,s):null,pos:a}}}class jt{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new jt(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:o=this.length}=e,a=e.filter;if(n.length==0&&!a)return this;if(r&&(n=n.slice().sort(t1)),this.isEmpty)return n.length?jt.of(n):this;let s=new hk(this,null,-1).goto(0),l=0,u=[],c=new Ed;for(;s.value||l<n.length;)if(l<n.length&&(s.from-n[l].from||s.startSide-n[l].value.startSide)>=0){let f=n[l++];c.addInner(f.from,f.to,f.value)||u.push(f)}else s.rangeIndex==1&&s.chunkIndex<this.chunk.length&&(l==n.length||this.chunkEnd(s.chunkIndex)<n[l].from)&&(!a||i>this.chunkEnd(s.chunkIndex)||o<this.chunkPos[s.chunkIndex])&&c.addChunk(this.chunkPos[s.chunkIndex],this.chunk[s.chunkIndex])?s.nextChunk():((!a||i>s.to||o<s.from||a(s.from,s.to,s.value))&&(c.addInner(s.from,s.to,s.value)||u.push(e1.create(s.from,s.to,s.value))),s.next());return c.finishInner(this.nextLayer.isEmpty&&!u.length?jt.empty:this.nextLayer.update({add:u,filter:a,filterFrom:i,filterTo:o}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let a=0;a<this.chunk.length;a++){let s=this.chunkPos[a],l=this.chunk[a],u=e.touchesRange(s,s+l.length);if(u===!1)i=Math.max(i,l.maxPoint),n.push(l),r.push(e.mapPos(s));else if(u===!0){let{mapped:c,pos:f}=l.map(s,e);c&&(i=Math.max(i,c.maxPoint),n.push(c),r.push(f))}}let o=this.nextLayer.map(e);return n.length==0?o:new jt(r,n,o||jt.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let o=this.chunkPos[i],a=this.chunk[i];if(n>=o&&e<=o+a.length&&a.between(o,e-o,n-o,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Md.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Md.from(e).goto(n)}static compare(e,n,r,i,o=-1){let a=e.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),s=n.filter(f=>f.maxPoint>0||!f.isEmpty&&f.maxPoint>=o),l=jD(a,s,r),u=new Sf(a,l,o),c=new Sf(s,l,o);r.iterGaps((f,d,h)=>GD(u,f,c,d,h,i)),r.empty&&r.length==0&&GD(u,0,c,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let o=e.filter(c=>!c.isEmpty&&n.indexOf(c)<0),a=n.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(o.length!=a.length)return!1;if(!o.length)return!0;let s=jD(o,a),l=new Sf(o,s,0).goto(r),u=new Sf(a,s,0).goto(r);for(;;){if(l.to!=u.to||!n1(l.active,u.active)||l.point&&(!u.point||!l.point.eq(u.point)))return!1;if(l.to>i)return!0;l.next(),u.next()}}static spans(e,n,r,i,o=-1){let a=new Sf(e,null,o).goto(n),s=n,l=a.openStart;for(;;){let u=Math.min(a.to,r);if(a.point){let c=a.activeForPoint(a.to),f=a.pointFrom<n?c.length+1:Math.min(c.length,l);i.point(s,u,a.point,c,f,a.pointRank),l=Math.min(a.openEnd(u),c.length)}else u>s&&(i.span(s,u,a.active,l),l=a.openEnd(u));if(a.to>r)return l+(a.point&&a.to>r?1:0);s=a.to,a.next()}}static of(e,n=!1){let r=new Ed;for(let i of e instanceof e1?[e]:n?ite(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return jt.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=jt.empty;i=i.nextLayer)n=new jt(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}jt.empty=new jt([],[],null,-1);function ite(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(t1(e,r)>0)return t.slice().sort(t1);e=r}return t}jt.empty.nextLayer=jt.empty;class Ed{finishChunk(e){this.chunks.push(new Zw(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Ed)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(jt.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=jt.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function jD(t,e,n){let r=new Map;for(let o of t)for(let a=0;a<o.chunk.length;a++)o.chunk[a].maxPoint<=0&&r.set(o.chunk[a],o.chunkPos[a]);let i=new Set;for(let o of e)for(let a=0;a<o.chunk.length;a++){let s=r.get(o.chunk[a]);s!=null&&(n?n.mapPos(s):s)==o.chunkPos[a]&&!(n!=null&&n.touchesRange(s,s+o.chunk[a].length))&&i.add(o.chunk[a])}return i}class hk{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Md{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let o=0;o<e.length;o++)for(let a=e[o];!a.isEmpty;a=a.nextLayer)a.maxPoint>=r&&i.push(new hk(a,n,r,o));return i.length==1?i[0]:new Md(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)iy(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)iy(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),iy(this.heap,0)}}}function iy(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class Sf{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Md.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Zh(this.active,e),Zh(this.activeTo,e),Zh(this.activeRank,e),this.minActive=XD(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:o}=this.cursor;for(;n<this.activeRank.length&&(o-this.activeRank[n]||i-this.activeTo[n])>0;)n++;Qh(this.active,n,r),Qh(this.activeTo,n,i),Qh(this.activeRank,n,o),e&&Qh(e,n,this.cursor.from),this.minActive=XD(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Zh(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function GD(t,e,n,r,i,o){t.goto(e),n.goto(r);let a=r+i,s=r,l=r-e;for(;;){let u=t.to+l-n.to||t.endSide-n.endSide,c=u<0?t.to+l:n.to,f=Math.min(c,a);if(t.point||n.point?t.point&&n.point&&(t.point==n.point||t.point.eq(n.point))&&n1(t.activeForPoint(t.to),n.activeForPoint(n.to))||o.comparePoint(s,f,t.point,n.point):f>s&&!n1(t.active,n.active)&&o.compareRange(s,f,t.active,n.active),c>a)break;s=c,u<=0&&t.next(),u>=0&&n.next()}}function n1(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!t[n].eq(e[n]))return!1;return!0}function Zh(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function Qh(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function XD(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function pk(t,e,n=t.length){let r=0;for(let i=0;i<n;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=Yo(t,i));return r}function r1(t,e,n,r){for(let i=0,o=0;;){if(o>=e)return i;if(i==t.length)break;o+=t.charCodeAt(i)==9?n-o%n:1,i=Yo(t,i)}return r===!0?-1:t.length}const i1="ͼ",KD=typeof Symbol>"u"?"__"+i1:Symbol.for(i1),o1=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),YD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class _s{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(a){return/^@/.test(a)?[a]:a.split(/,\s*/)}function o(a,s,l,u){let c=[],f=/^@(\w+)\b/.exec(a[0]),d=f&&f[1]=="keyframes";if(f&&s==null)return l.push(a[0]+";");for(let h in s){let p=s[h];if(/&/.test(h))o(h.split(/,\s*/).map(m=>a.map(v=>m.replace(/&/,v))).reduce((m,v)=>m.concat(v)),p,l);else if(p&&typeof p=="object"){if(!f)throw new RangeError("The value of a property ("+h+") should be a primitive value.");o(i(h),p,c,d)}else p!=null&&c.push(h.replace(/_.*/,"").replace(/[A-Z]/g,m=>"-"+m.toLowerCase())+": "+p+";")}(c.length||d)&&l.push((r&&!f&&!u?a.map(r):a).join(", ")+" {"+c.join(" ")+"}")}for(let a in e)o(i(a),e[a],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=YD[KD]||1;return YD[KD]=e+1,i1+e.toString(36)}static mount(e,n,r){let i=e[o1],o=r&&r.nonce;i?o&&i.setNonce(o):i=new ote(e,o),i.mount(Array.isArray(n)?n:[n])}}let ZD=new Map;class ote{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let o=ZD.get(r);if(o)return e.adoptedStyleSheets=[o.sheet,...e.adoptedStyleSheets],e[o1]=o;this.sheet=new i.CSSStyleSheet,e.adoptedStyleSheets=[this.sheet,...e.adoptedStyleSheets],ZD.set(r,this)}else{this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);let o=e.head||e;o.insertBefore(this.styleTag,o.firstChild)}this.modules=[],e[o1]=this}mount(e){let n=this.sheet,r=0,i=0;for(let o=0;o<e.length;o++){let a=e[o],s=this.modules.indexOf(a);if(s<i&&s>-1&&(this.modules.splice(s,1),i--,s=-1),s==-1){if(this.modules.splice(i++,0,a),n)for(let l=0;l<a.rules.length;l++)n.insertRule(a.rules[l],r++)}else{for(;i<s;)r+=this.modules[i++].rules.length;r+=a.rules.length,i++}}if(!n){let o="";for(let a=0;a<this.modules.length;a++)o+=this.modules[a].getRules()+`
`;this.styleTag.textContent=o}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var zs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Nd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},ate=typeof navigator<"u"&&/Mac/.test(navigator.platform),ste=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var ar=0;ar<10;ar++)zs[48+ar]=zs[96+ar]=String(ar);for(var ar=1;ar<=24;ar++)zs[ar+111]="F"+ar;for(var ar=65;ar<=90;ar++)zs[ar]=String.fromCharCode(ar+32),Nd[ar]=String.fromCharCode(ar);for(var oy in zs)Nd.hasOwnProperty(oy)||(Nd[oy]=zs[oy]);function lte(t){var e=ate&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ste&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Nd:zs)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function Ym(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function a1(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function ute(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Jp(t,e){if(!e.anchorNode)return!1;try{return a1(t,e.anchorNode)}catch{return!1}}function vc(t){return t.nodeType==3?Il(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function rd(t,e,n,r){return n?QD(t,e,n,r,-1)||QD(t,e,n,r,1):!1}function $d(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function QD(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Xa(t))){if(t.nodeName=="DIV")return!1;let o=t.parentNode;if(!o||o.nodeType!=1)return!1;e=$d(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Xa(t):0}else return!1}}function Xa(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function bv(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function cte(t){return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function mk(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function fte(t,e,n,r,i,o,a,s){let l=t.ownerDocument,u=l.defaultView||window;for(let c=t,f=!1;c&&!f;)if(c.nodeType==1){let d,h=c==l.body,p=1,m=1;if(h)d=cte(u);else{if(/^(fixed|sticky)$/.test(getComputedStyle(c).position)&&(f=!0),c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.assignedSlot||c.parentNode;continue}let w=c.getBoundingClientRect();({scaleX:p,scaleY:m}=mk(c,w)),d={left:w.left,right:w.left+c.clientWidth*p,top:w.top,bottom:w.top+c.clientHeight*m}}let v=0,g=0;if(i=="nearest")e.top<d.top?(g=-(d.top-e.top+a),n>0&&e.bottom>d.bottom+g&&(g=e.bottom-d.bottom+g+a)):e.bottom>d.bottom&&(g=e.bottom-d.bottom+a,n<0&&e.top-g<d.top&&(g=-(d.top+g-e.top+a)));else{let w=e.bottom-e.top,y=d.bottom-d.top;g=(i=="center"&&w<=y?e.top+w/2-y/2:i=="start"||i=="center"&&n<0?e.top-a:e.bottom-y+a)-d.top}if(r=="nearest"?e.left<d.left?(v=-(d.left-e.left+o),n>0&&e.right>d.right+v&&(v=e.right-d.right+v+o)):e.right>d.right&&(v=e.right-d.right+o,n<0&&e.left<d.left+v&&(v=-(d.left+v-e.left+o))):v=(r=="center"?e.left+(e.right-e.left)/2-(d.right-d.left)/2:r=="start"==s?e.left-o:e.right-(d.right-d.left)+o)-d.left,v||g)if(h)u.scrollBy(v,g);else{let w=0,y=0;if(g){let S=c.scrollTop;c.scrollTop+=g/m,y=(c.scrollTop-S)*m}if(v){let S=c.scrollLeft;c.scrollLeft+=v/p,w=(c.scrollLeft-S)*p}e={left:e.left-w,top:e.top-y,right:e.right-w,bottom:e.bottom-y},w&&Math.abs(w-v)<1&&(r="nearest"),y&&Math.abs(y-g)<1&&(i="nearest")}if(h)break;c=c.assignedSlot||c.parentNode}else if(c.nodeType==11)c=c.host;else break}function dte(t){let e=t.ownerDocument;for(let n=t.parentNode;n&&n!=e.body;)if(n.nodeType==1){if(n.scrollHeight>n.clientHeight||n.scrollWidth>n.clientWidth)return n;n=n.assignedSlot||n.parentNode}else if(n.nodeType==11)n=n.host;else break;return null}class hte{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Xa(n):0),r,Math.min(e.focusOffset,r?Xa(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let hu=null;function gk(t){if(t.setActive)return t.setActive();if(hu)return t.focus(hu);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(hu==null?{get preventScroll(){return hu={preventScroll:!0},!0}}:void 0),!hu){hu=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],o=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=o&&(r.scrollLeft=o)}}}let JD;function Il(t,e,n=e){let r=JD||(JD=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function Ku(t,e,n){let r={key:e,code:e,keyCode:n,which:n,cancelable:!0},i=new KeyboardEvent("keydown",r);i.synthetic=!0,t.dispatchEvent(i);let o=new KeyboardEvent("keyup",r);return o.synthetic=!0,t.dispatchEvent(o),i.defaultPrevented||o.defaultPrevented}function pte(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function vk(t){for(;t.attributes.length;)t.removeAttributeNode(t.attributes[0])}function mte(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Xa(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Xa(n))}else{if(n==t)return!0;r=$d(n),n=n.parentNode}}function yk(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}class yr{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new yr(e.parentNode,$d(e),n)}static after(e,n){return new yr(e.parentNode,$d(e)+1,n)}}const Qw=[];class mn{constructor(){this.parent=null,this.dom=null,this.flags=2}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let n=this.posAtStart;for(let r of this.children){if(r==e)return n;n+=r.length+r.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}sync(e,n){if(this.flags&2){let r=this.dom,i=null,o;for(let a of this.children){if(a.flags&7){if(!a.dom&&(o=i?i.nextSibling:r.firstChild)){let s=mn.get(o);(!s||!s.parent&&s.canReuseDOM(a))&&a.reuseDOM(o)}a.sync(e,n),a.flags&=-8}if(o=i?i.nextSibling:r.firstChild,n&&!n.written&&n.node==r&&o!=a.dom&&(n.written=!0),a.dom.parentNode==r)for(;o&&o!=a.dom;)o=eE(o);else r.insertBefore(a.dom,o);i=a.dom}for(o=i?i.nextSibling:r.firstChild,o&&n&&n.node==r&&(n.written=!0);o;)o=eE(o)}else if(this.flags&1)for(let r of this.children)r.flags&7&&(r.sync(e,n),r.flags&=-8)}reuseDOM(e){}localPosFromDOM(e,n){let r;if(e==this.dom)r=this.dom.childNodes[n];else{let i=Xa(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==this.dom)break;i==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?i=-1:i=1),e=o}i<0?r=e:r=e.nextSibling}if(r==this.dom.firstChild)return 0;for(;r&&!mn.get(r);)r=r.nextSibling;if(!r)return this.length;for(let i=0,o=0;;i++){let a=this.children[i];if(a.dom==r)return o;o+=a.length+a.breakAfter}}domBoundsAround(e,n,r=0){let i=-1,o=-1,a=-1,s=-1;for(let l=0,u=r,c=r;l<this.children.length;l++){let f=this.children[l],d=u+f.length;if(u<e&&d>n)return f.domBoundsAround(e,n,u);if(d>=e&&i==-1&&(i=l,o=u),u>n&&f.dom.parentNode==this.dom){a=l,s=c;break}c=d,u=d+f.breakAfter}return{from:o,to:s<0?r+this.length:s,startDOM:(i?this.children[i-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:a<this.children.length&&a>=0?this.children[a].dom:null}}markDirty(e=!1){this.flags|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let n=this.parent;n;n=n.parent){if(e&&(n.flags|=2),n.flags&1)return;n.flags|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.flags&7&&this.markParentsDirty(!0))}setDOM(e){this.dom!=e&&(this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this)}get rootView(){for(let e=this;;){let n=e.parent;if(!n)return e;e=n}}replaceChildren(e,n,r=Qw){this.markDirty();for(let i=e;i<n;i++){let o=this.children[i];o.parent==this&&r.indexOf(o)<0&&o.destroy()}this.children.splice(e,n-e,...r);for(let i=0;i<r.length;i++)r[i].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new bk(this.children,e,this.children.length)}childPos(e,n=1){return this.childCursor().findPos(e,n)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}get isWidget(){return!1}get isHidden(){return!1}merge(e,n,r,i,o,a){return!1}become(e){return!1}canReuseDOM(e){return e.constructor==this.constructor&&!((this.flags|e.flags)&8)}getSide(){return 0}destroy(){for(let e of this.children)e.parent==this&&e.destroy();this.parent=null}}mn.prototype.breakAfter=0;function eE(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class bk{constructor(e,n,r){this.children=e,this.pos=n,this.i=r,this.off=0}findPos(e,n=1){for(;;){if(e>this.pos||e==this.pos&&(n>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let r=this.children[--this.i];this.pos-=r.length+r.breakAfter}}}function xk(t,e,n,r,i,o,a,s,l){let{children:u}=t,c=u.length?u[e]:null,f=o.length?o[o.length-1]:null,d=f?f.breakAfter:a;if(!(e==r&&c&&!a&&!d&&o.length<2&&c.merge(n,i,o.length?f:null,n==0,s,l))){if(r<u.length){let h=u[r];h&&(i<h.length||h.breakAfter&&(f!=null&&f.breakAfter))?(e==r&&(h=h.split(i),i=0),!d&&f&&h.merge(0,i,f,!0,0,l)?o[o.length-1]=h:((i||h.children.length&&!h.children[0].length)&&h.merge(0,i,null,!1,0,l),o.push(h))):h!=null&&h.breakAfter&&(f?f.breakAfter=1:a=1),r++}for(c&&(c.breakAfter=a,n>0&&(!a&&o.length&&c.merge(n,c.length,o[0],!1,s,0)?c.breakAfter=o.shift().breakAfter:(n<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(n,c.length,null,!1,s,0),e++));e<r&&o.length;)if(u[r-1].become(o[o.length-1]))r--,o.pop(),l=o.length?0:s;else if(u[e].become(o[0]))e++,o.shift(),s=o.length?0:l;else break;!o.length&&e&&r<u.length&&!u[e-1].breakAfter&&u[r].merge(0,0,u[e-1],!1,s,l)&&e--,(e<r||o.length)&&t.replaceChildren(e,r,o)}}function wk(t,e,n,r,i,o){let a=t.childCursor(),{i:s,off:l}=a.findPos(n,1),{i:u,off:c}=a.findPos(e,-1),f=e-n;for(let d of r)f+=d.length;t.length+=f,xk(t,u,c,s,l,r,0,i,o)}let yi=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},s1=typeof document<"u"?document:{documentElement:{style:{}}};const l1=/Edge\/(\d+)/.exec(yi.userAgent),Sk=/MSIE \d/.test(yi.userAgent),u1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yi.userAgent),xv=!!(Sk||u1||l1),tE=!xv&&/gecko\/(\d+)/i.test(yi.userAgent),ay=!xv&&/Chrome\/(\d+)/.exec(yi.userAgent),nE="webkitFontSmoothing"in s1.documentElement.style,Ck=!xv&&/Apple Computer/.test(yi.vendor),rE=Ck&&(/Mobile\/\w+/.test(yi.userAgent)||yi.maxTouchPoints>2);var je={mac:rE||/Mac/.test(yi.platform),windows:/Win/.test(yi.platform),linux:/Linux|X11/.test(yi.platform),ie:xv,ie_version:Sk?s1.documentMode||6:u1?+u1[1]:l1?+l1[1]:0,gecko:tE,gecko_version:tE?+(/Firefox\/(\d+)/.exec(yi.userAgent)||[0,0])[1]:0,chrome:!!ay,chrome_version:ay?+ay[1]:0,ios:rE,android:/Android\b/.test(yi.userAgent),webkit:nE,safari:Ck,webkit_version:nE?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:s1.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const gte=256;class Ka extends mn{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e,n){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,n,r){return this.flags&8||r&&(!(r instanceof Ka)||this.length-(n-e)+r.length>gte||r.flags&8)?!1:(this.text=this.text.slice(0,e)+(r?r.text:"")+this.text.slice(n),this.markDirty(),!0)}split(e){let n=new Ka(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),n.flags|=this.flags&8,n}localPosFromDOM(e,n){return e==this.dom?n:n?this.text.length:0}domAtPos(e){return new yr(this.dom,e)}domBoundsAround(e,n,r){return{from:r,to:r+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,n){return vte(this.dom,e,n)}}class Ya extends mn{constructor(e,n=[],r=0){super(),this.mark=e,this.children=n,this.length=r;for(let i of n)i.setParent(this)}setAttrs(e){if(vk(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let n in this.mark.attrs)e.setAttribute(n,this.mark.attrs[n]);return e}canReuseDOM(e){return super.canReuseDOM(e)&&!((this.flags|e.flags)&8)}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.flags|=6)}sync(e,n){this.dom?this.flags&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e,n)}merge(e,n,r,i,o,a){return r&&(!(r instanceof Ya&&r.mark.eq(this.mark))||e&&o<=0||n<this.length&&a<=0)?!1:(wk(this,e,n,r?r.children.slice():[],o-1,a-1),this.markDirty(),!0)}split(e){let n=[],r=0,i=-1,o=0;for(let s of this.children){let l=r+s.length;l>e&&n.push(r<e?s.split(e-r):s),i<0&&r>=e&&(i=o),r=l,o++}let a=this.length-e;return this.length=e,i>-1&&(this.children.length=i,this.markDirty()),new Ya(this.mark,n,a)}domAtPos(e){return Ak(this,e)}coordsAt(e,n){return Ek(this,e,n)}}function vte(t,e,n){let r=t.nodeValue.length;e>r&&(e=r);let i=e,o=e,a=0;e==0&&n<0||e==r&&n>=0?je.chrome||je.gecko||(e?(i--,a=1):o<r&&(o++,a=-1)):n<0?i--:o<r&&o++;let s=Il(t,i,o).getClientRects();if(!s.length)return null;let l=s[(a?a<0:n>=0)?0:s.length-1];return je.safari&&!a&&l.width==0&&(l=Array.prototype.find.call(s,u=>u.width)||l),a?bv(l,a<0):l||null}class Cs extends mn{static create(e,n,r){return new Cs(e,n,r)}constructor(e,n,r){super(),this.widget=e,this.length=n,this.side=r,this.prevWidget=null}split(e){let n=Cs.create(this.widget,this.length-e,this.side);return this.length-=e,n}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}getSide(){return this.side}merge(e,n,r,i,o,a){return r&&(!(r instanceof Cs)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}become(e){return e instanceof Cs&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.compare(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return Jt.empty;let e=this;for(;e.parent;)e=e.parent;let{view:n}=e,r=n&&n.state.doc,i=this.posAtStart;return r?r.slice(i,i+this.length):Jt.empty}domAtPos(e){return(this.length?e==0:this.side>0)?yr.before(this.dom):yr.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,n){let r=this.widget.coordsAt(this.dom,e,n);if(r)return r;let i=this.dom.getClientRects(),o=null;if(!i.length)return null;let a=this.side?this.side<0:e>0;for(let s=a?i.length-1:0;o=i[s],!(e>0?s==0:s==i.length-1||o.top<o.bottom);s+=a?-1:1);return bv(o,!a)}get isEditable(){return!1}get isWidget(){return!0}get isHidden(){return this.widget.isHidden}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class yc extends mn{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof yc&&e.side==this.side}split(){return new yc(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return this.side>0?yr.before(this.dom):yr.after(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){return this.dom.getBoundingClientRect()}get overrideDOMText(){return Jt.empty}get isHidden(){return!0}}Ka.prototype.children=Cs.prototype.children=yc.prototype.children=Qw;function Ak(t,e){let n=t.dom,{children:r}=t,i=0;for(let o=0;i<r.length;i++){let a=r[i],s=o+a.length;if(!(s==o&&a.getSide()<=0)){if(e>o&&e<s&&a.dom.parentNode==n)return a.domAtPos(e-o);if(e<=o)break;o=s}}for(let o=i;o>0;o--){let a=r[o-1];if(a.dom.parentNode==n)return a.domAtPos(a.length)}for(let o=i;o<r.length;o++){let a=r[o];if(a.dom.parentNode==n)return a.domAtPos(0)}return new yr(n,0)}function Dk(t,e,n){let r,{children:i}=t;n>0&&e instanceof Ya&&i.length&&(r=i[i.length-1])instanceof Ya&&r.mark.eq(e.mark)?Dk(r,e.children[0],n-1):(i.push(e),e.setParent(t)),t.length+=e.length}function Ek(t,e,n){let r=null,i=-1,o=null,a=-1;function s(u,c){for(let f=0,d=0;f<u.children.length&&d<=c;f++){let h=u.children[f],p=d+h.length;p>=c&&(h.children.length?s(h,c-d):(!o||o.isHidden&&n>0)&&(p>c||d==p&&h.getSide()>0)?(o=h,a=c-d):(d<c||d==p&&h.getSide()<0&&!h.isHidden)&&(r=h,i=c-d)),d=p}}s(t,e);let l=(n<0?r:o)||r||o;return l?l.coordsAt(Math.max(0,l==r?i:a),n):yte(t)}function yte(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=vc(e);return n[n.length-1]||null}function c1(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const iE=Object.create(null);function Jw(t,e,n){if(t==e)return!0;t||(t=iE),e||(e=iE);let r=Object.keys(t),i=Object.keys(e);if(r.length-(n&&r.indexOf(n)>-1?1:0)!=i.length-(n&&i.indexOf(n)>-1?1:0))return!1;for(let o of r)if(o!=n&&(i.indexOf(o)==-1||t[o]!==e[o]))return!1;return!0}function f1(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function bte(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Un extends mn{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,n,r,i,o,a){if(r){if(!(r instanceof Un))return!1;this.dom||r.transferDOM(this)}return i&&this.setDeco(r?r.attrs:null),wk(this,e,n,r?r.children.slice():[],o,a),!0}split(e){let n=new Un;if(n.breakAfter=this.breakAfter,this.length==0)return n;let{i:r,off:i}=this.childPos(e);i&&(n.append(this.children[r].split(i),0),this.children[r].merge(i,this.children[r].length,null,!1,0,0),r++);for(let o=r;o<this.children.length;o++)n.append(this.children[o],0);for(;r>0&&this.children[r-1].length==0;)this.children[--r].destroy();return this.children.length=r,this.markDirty(),this.length=e,n}transferDOM(e){this.dom&&(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Jw(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,n){Dk(this,e,n)}addLineDeco(e){let n=e.spec.attributes,r=e.spec.class;n&&(this.attrs=c1(n,this.attrs||{})),r&&(this.attrs=c1({class:r},this.attrs||{}))}domAtPos(e){return Ak(this,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.flags|=6)}sync(e,n){var r;this.dom?this.flags&4&&(vk(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(f1(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e,n);let i=this.dom.lastChild;for(;i&&mn.get(i)instanceof Ya;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((r=mn.get(i))===null||r===void 0?void 0:r.isEditable)==!1&&(!je.ios||!this.children.some(o=>o instanceof Ka))){let o=document.createElement("BR");o.cmIgnore=!0,this.dom.appendChild(o)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0,n;for(let r of this.children){if(!(r instanceof Ka)||/[^ -~]/.test(r.text))return null;let i=vc(r.dom);if(i.length!=1)return null;e+=i[0].width,n=i[0].height}return e?{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length,textHeight:n}:null}coordsAt(e,n){let r=Ek(this,e,n);if(!this.children.length&&r&&this.parent){let{heightOracle:i}=this.parent.view.viewState,o=r.bottom-r.top;if(Math.abs(o-i.lineHeight)<2&&i.textHeight<o){let a=(o-i.textHeight)/2;return{top:r.top+a,bottom:r.bottom-a,left:r.left,right:r.left}}}return r}become(e){return!1}covers(){return!0}static find(e,n){for(let r=0,i=0;r<e.children.length;r++){let o=e.children[r],a=i+o.length;if(a>=n){if(o instanceof Un)return o;if(a>n)break}i=a+o.breakAfter}return null}}class Ns extends mn{constructor(e,n,r){super(),this.widget=e,this.length=n,this.deco=r,this.breakAfter=0,this.prevWidget=null}merge(e,n,r,i,o,a){return r&&(!(r instanceof Ns)||!this.widget.compare(r.widget)||e>0&&o<=0||n<this.length&&a<=0)?!1:(this.length=e+(r?r.length:0)+(this.length-n),!0)}domAtPos(e){return e==0?yr.before(this.dom):yr.after(this.dom,e==this.length)}split(e){let n=this.length-e;this.length=e;let r=new Ns(this.widget,n,this.deco);return r.breakAfter=this.breakAfter,r}get children(){return Qw}sync(e){(!this.dom||!this.widget.updateDOM(this.dom,e))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(e)),this.widget.editable||(this.dom.contentEditable="false"))}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):Jt.empty}domBoundsAround(){return null}become(e){return e instanceof Ns&&e.widget.constructor==this.widget.constructor?(e.widget.compare(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.deco=e.deco,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get isEditable(){return!1}get isWidget(){return!0}coordsAt(e,n){return this.widget.coordsAt(this.dom,e,n)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}covers(e){let{startSide:n,endSide:r}=this.deco;return n==r?!1:e<0?n<0:r>0}}class ns{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Fr=function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t}(Fr||(Fr={}));class st extends gc{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Jd(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Ls(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:o,end:a}=Mk(e,n);r=(o?n?-3e8:-1:5e8)-1,i=(a?n?2e8:1:-6e8)+1}return new Ls(e,r,i,n,e.widget||null,!0)}static line(e){return new eh(e)}static set(e,n=!1){return jt.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}st.none=jt.empty;class Jd extends st{constructor(e){let{start:n,end:r}=Mk(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){var n,r;return this==e||e instanceof Jd&&this.tagName==e.tagName&&(this.class||((n=this.attrs)===null||n===void 0?void 0:n.class))==(e.class||((r=e.attrs)===null||r===void 0?void 0:r.class))&&Jw(this.attrs,e.attrs,"class")}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Jd.prototype.point=!1;class eh extends st{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof eh&&this.spec.class==e.spec.class&&Jw(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}eh.prototype.mapMode=Qr.TrackBefore;eh.prototype.point=!0;class Ls extends st{constructor(e,n,r,i,o,a){super(n,r,o,e),this.block=i,this.isReplace=a,this.mapMode=i?n<=0?Qr.TrackBefore:Qr.TrackAfter:Qr.TrackDel}get type(){return this.startSide!=this.endSide?Fr.WidgetRange:this.startSide<=0?Fr.WidgetBefore:Fr.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Ls&&xte(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Ls.prototype.point=!0;function Mk(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function xte(t,e){return t==e||!!(t&&e&&t.compare(e))}function d1(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class id{constructor(e,n,r,i){this.doc=e,this.pos=n,this.end=r,this.disallowBlockEffectsFor=i,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.bufferMarks=[],this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=n}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!(e.breakAfter||e instanceof Ns&&e.deco.endSide<0)}getLine(){return this.curLine||(this.content.push(this.curLine=new Un),this.atCursorPos=!0),this.curLine}flushBuffer(e=this.bufferMarks){this.pendingBuffer&&(this.curLine.append(Jh(new yc(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer(),this.curLine=null,this.content.push(e)}finish(e){this.pendingBuffer&&e<=this.bufferMarks.length?this.flushBuffer():this.pendingBuffer=0,!this.posCovered()&&!(e&&this.content.length&&this.content[this.content.length-1]instanceof Ns)&&this.getLine()}buildText(e,n,r){for(;e>0;){if(this.textOff==this.text.length){let{value:o,lineBreak:a,done:s}=this.cursor.next(this.skip);if(this.skip=0,s)throw new Error("Ran out of text content when drawing inline views");if(a){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer(),this.curLine=null,this.atCursorPos=!0,e--;continue}else this.text=o,this.textOff=0}let i=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(n.slice(n.length-r)),this.getLine().append(Jh(new Ka(this.text.slice(this.textOff,this.textOff+i)),n),r),this.atCursorPos=!0,this.textOff+=i,e-=i,r=0}}span(e,n,r,i){this.buildText(n-e,r,i),this.pos=n,this.openStart<0&&(this.openStart=i)}point(e,n,r,i,o,a){if(this.disallowBlockEffectsFor[a]&&r instanceof Ls){if(r.block)throw new RangeError("Block decorations may not be specified via plugins");if(n>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let s=n-e;if(r instanceof Ls)if(r.block)r.startSide>0&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ns(r.widget||new oE("div"),s,r));else{let l=Cs.create(r.widget||new oE("span"),s,s?0:r.startSide),u=this.atCursorPos&&!l.isEditable&&o<=i.length&&(e<n||r.startSide>0),c=!l.isEditable&&(e<n||o>i.length||r.startSide<=0),f=this.getLine();this.pendingBuffer==2&&!u&&!l.isEditable&&(this.pendingBuffer=0),this.flushBuffer(i),u&&(f.append(Jh(new yc(1),i),o),o=i.length+Math.max(0,o-i.length)),f.append(Jh(l,i),o),this.atCursorPos=c,this.pendingBuffer=c?e<n||o>i.length?1:2:0,this.pendingBuffer&&(this.bufferMarks=i.slice())}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(r);s&&(this.textOff+s<=this.text.length?this.textOff+=s:(this.skip+=s-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=n),this.openStart<0&&(this.openStart=o)}static build(e,n,r,i,o){let a=new id(e,n,r,o);return a.openEnd=jt.spans(i,n,r,a),a.openStart<0&&(a.openStart=a.openEnd),a.finish(a.openEnd),a}}function Jh(t,e){for(let n of e)t=new Ya(n,[t],t.length);return t}class oE extends ns{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}var wn=function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t}(wn||(wn={}));const Pl=wn.LTR,eS=wn.RTL;function Nk(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const wte=Nk("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),Ste=Nk("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),h1=Object.create(null),Fo=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);h1[e]=n,h1[n]=-e}function $k(t){return t<=247?wte[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?Ste[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const Cte=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class As{get dir(){return this.level%2?eS:Pl}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let o=-1;for(let a=0;a<e.length;a++){let s=e[a];if(s.from<=n&&s.to>=n){if(s.level==r)return a;(o<0||(i!=0?i<0?s.from<n:s.to>n:e[o].level>s.level))&&(o=a)}}if(o<0)throw new RangeError("Index out of range");return o}}function Ok(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!Ok(r.inner,i.inner))return!1}return!0}const on=[];function Ate(t,e,n,r,i){for(let o=0;o<=r.length;o++){let a=o?r[o-1].to:e,s=o<r.length?r[o].from:n,l=o?256:i;for(let u=a,c=l,f=l;u<s;u++){let d=$k(t.charCodeAt(u));d==512?d=c:d==8&&f==4&&(d=16),on[u]=d==4?2:d,d&7&&(f=d),c=d}for(let u=a,c=l,f=l;u<s;u++){let d=on[u];if(d==128)u<s-1&&c==on[u+1]&&c&24?d=on[u]=c:on[u]=256;else if(d==64){let h=u+1;for(;h<s&&on[h]==64;)h++;let p=u&&c==8||h<n&&on[h]==8?f==1?1:8:256;for(let m=u;m<h;m++)on[m]=p;u=h-1}else d==8&&f==1&&(on[u]=1);c=d,d&7&&(f=d)}}}function Dte(t,e,n,r,i){let o=i==1?2:1;for(let a=0,s=0,l=0;a<=r.length;a++){let u=a?r[a-1].to:e,c=a<r.length?r[a].from:n;for(let f=u,d,h,p;f<c;f++)if(h=h1[d=t.charCodeAt(f)])if(h<0){for(let m=s-3;m>=0;m-=3)if(Fo[m+1]==-h){let v=Fo[m+2],g=v&2?i:v&4?v&1?o:i:0;g&&(on[f]=on[Fo[m]]=g),s=m;break}}else{if(Fo.length==189)break;Fo[s++]=f,Fo[s++]=d,Fo[s++]=l}else if((p=on[f])==2||p==1){let m=p==i;l=m?0:1;for(let v=s-3;v>=0;v-=3){let g=Fo[v+2];if(g&2)break;if(m)Fo[v+2]|=2;else{if(g&4)break;Fo[v+2]|=4}}}}}function Ete(t,e,n,r){for(let i=0,o=r;i<=n.length;i++){let a=i?n[i-1].to:t,s=i<n.length?n[i].from:e;for(let l=a;l<s;){let u=on[l];if(u==256){let c=l+1;for(;;)if(c==s){if(i==n.length)break;c=n[i++].to,s=i<n.length?n[i].from:e}else if(on[c]==256)c++;else break;let f=o==1,d=(c<e?on[c]:r)==1,h=f==d?f?1:2:r;for(let p=c,m=i,v=m?n[m-1].to:t;p>l;)p==v&&(p=n[--m].from,v=m?n[m-1].to:t),on[--p]=h;l=c}else o=u,l++}}}function p1(t,e,n,r,i,o,a){let s=r%2?2:1;if(r%2==i%2)for(let l=e,u=0;l<n;){let c=!0,f=!1;if(u==o.length||l<o[u].from){let m=on[l];m!=s&&(c=!1,f=m==16)}let d=!c&&s==1?[]:null,h=c?r:r+1,p=l;e:for(;;)if(u<o.length&&p==o[u].from){if(f)break e;let m=o[u];if(!c)for(let v=m.to,g=u+1;;){if(v==n)break e;if(g<o.length&&o[g].from==v)v=o[g++].to;else{if(on[v]==s)break e;break}}if(u++,d)d.push(m);else{m.from>l&&a.push(new As(l,m.from,h));let v=m.direction==Pl!=!(h%2);m1(t,v?r+1:r,i,m.inner,m.from,m.to,a),l=m.to}p=m.to}else{if(p==n||(c?on[p]!=s:on[p]==s))break;p++}d?p1(t,l,p,r+1,i,d,a):l<p&&a.push(new As(l,p,h)),l=p}else for(let l=n,u=o.length;l>e;){let c=!0,f=!1;if(!u||l>o[u-1].to){let m=on[l-1];m!=s&&(c=!1,f=m==16)}let d=!c&&s==1?[]:null,h=c?r:r+1,p=l;e:for(;;)if(u&&p==o[u-1].to){if(f)break e;let m=o[--u];if(!c)for(let v=m.from,g=u;;){if(v==e)break e;if(g&&o[g-1].to==v)v=o[--g].from;else{if(on[v-1]==s)break e;break}}if(d)d.push(m);else{m.to<l&&a.push(new As(m.to,l,h));let v=m.direction==Pl!=!(h%2);m1(t,v?r+1:r,i,m.inner,m.from,m.to,a),l=m.from}p=m.from}else{if(p==e||(c?on[p-1]!=s:on[p-1]==s))break;p--}d?p1(t,p,l,r+1,i,d,a):p<l&&a.push(new As(p,l,h)),l=p}}function m1(t,e,n,r,i,o,a){let s=e%2?2:1;Ate(t,i,o,r,s),Dte(t,i,o,r,s),Ete(i,o,r,s),p1(t,i,o,e,n,r,a)}function Mte(t,e,n){if(!t)return[new As(0,0,e==eS?1:0)];if(e==Pl&&!n.length&&!Cte.test(t))return Tk(t.length);if(n.length)for(;t.length>on.length;)on[on.length]=256;let r=[],i=e==Pl?0:1;return m1(t,i,i,n,0,t.length,r),r}function Tk(t){return[new As(0,t,0)]}let Bk="";function Nte(t,e,n,r,i){var o;let a=r.head-t.from,s=As.find(e,a,(o=r.bidiLevel)!==null&&o!==void 0?o:-1,r.assoc),l=e[s],u=l.side(i,n);if(a==u){let d=s+=i?1:-1;if(d<0||d>=e.length)return null;l=e[s=d],a=l.side(!i,n),u=l.side(i,n)}let c=Yo(t.text,a,l.forward(i,n));(c<l.from||c>l.to)&&(c=u),Bk=t.text.slice(Math.min(a,c),Math.max(a,c));let f=s==(i?e.length-1:0)?null:e[s+(i?1:-1)];return f&&c==u&&f.level+(i?0:1)<l.level?qe.cursor(f.side(!i,n)+t.from,f.forward(i,n)?1:-1,f.level):qe.cursor(c+t.from,l.forward(i,n)?-1:1,l.level)}function $te(t,e,n){for(let r=e;r<n;r++){let i=$k(t.charCodeAt(r));if(i==1)return Pl;if(i==2||i==4)return eS}return Pl}const Ik=lt.define(),Pk=lt.define(),kk=lt.define(),Fk=lt.define(),g1=lt.define(),Rk=lt.define(),_k=lt.define(),zk=lt.define({combine:t=>t.some(e=>e)}),Lk=lt.define({combine:t=>t.some(e=>e)});class Yu{constructor(e,n="nearest",r="nearest",i=5,o=5,a=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=o,this.isSnapshot=a}map(e){return e.empty?this:new Yu(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new Yu(qe.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const ep=_n.define({map:(t,e)=>t.map(e)});function qi(t,e,n){let r=t.facet(Fk);r.length?r[0](e):window.onerror?window.onerror(String(e),n,void 0,void 0,e):n?console.error(n+":",e):console.error(e)}const wv=lt.define({combine:t=>t.length?t[0]:!0});let Ote=0;const If=lt.define();class Pn{constructor(e,n,r,i,o){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.extension=o(this)}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:o,decorations:a}=n||{};return new Pn(Ote++,e,r,i,s=>{let l=[If.of(s)];return a&&l.push(Od.of(u=>{let c=u.plugin(s);return c?a(c):st.none})),o&&l.push(o(s)),l})}static fromClass(e,n){return Pn.define(r=>new e(r),n)}}class sy{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(qi(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(n){qi(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){qi(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Hk=lt.define(),tS=lt.define(),Od=lt.define(),Vk=lt.define(),nS=lt.define(),Uk=lt.define();function aE(t,e){let n=t.state.facet(Uk);if(!n.length)return n;let r=n.map(o=>o instanceof Function?o(t):o),i=[];return jt.spans(r,e.from,e.to,{point(){},span(o,a,s,l){let u=o-e.from,c=a-e.from,f=i;for(let d=s.length-1;d>=0;d--,l--){let h=s[d].spec.bidiIsolate,p;if(h==null&&(h=$te(e.text,u,c)),l>0&&f.length&&(p=f[f.length-1]).to==u&&p.direction==h)p.to=c,f=p.inner;else{let m={from:u,to:c,direction:h,inner:[]};f.push(m),f=m.inner}}}}),i}const qk=lt.define();function Wk(t){let e=0,n=0,r=0,i=0;for(let o of t.state.facet(qk)){let a=o(t);a&&(a.left!=null&&(e=Math.max(e,a.left)),a.right!=null&&(n=Math.max(n,a.right)),a.top!=null&&(r=Math.max(r,a.top)),a.bottom!=null&&(i=Math.max(i,a.bottom)))}return{left:e,right:n,top:r,bottom:i}}const Pf=lt.define();class Wi{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Wi(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,o=0,a=0,s=0;;i++){let l=i==e.length?null:e[i],u=a-s,c=l?l.fromB:1e9;for(;o<n.length&&n[o]<c;){let f=n[o],d=n[o+1],h=Math.max(s,f),p=Math.min(c,d);if(h<=p&&new Wi(h+u,p+u,h,p).addToSet(r),d>c)break;o+=2}if(!l)return r;new Wi(l.fromA,l.toA,l.fromB,l.toB).addToSet(r),a=l.toA,s=l.toB}}}class Zm{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Zn.empty(this.startState.doc.length);for(let o of r)this.changes=this.changes.compose(o.changes);let i=[];this.changes.iterChangedRanges((o,a,s,l)=>i.push(new Wi(o,a,s,l))),this.changedRanges=i}static create(e,n,r){return new Zm(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}class sE extends mn{get length(){return this.view.state.doc.length}constructor(e){super(),this.view=e,this.decorations=[],this.dynamicDecorationMap=[],this.domChanged=null,this.hasComposition=null,this.markedForComposition=new Set,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new Un],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new Wi(0,0,0,e.state.doc.length)],0,null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:u,toA:c})=>c<this.minWidthFrom||u>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0);let i=-1;this.view.inputState.composing>=0&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!Rte(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let o=i>-1?Bte(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){this.markedForComposition.clear();let{from:u,to:c}=this.hasComposition;r=new Wi(u,c,e.changes.mapPos(u,-1),e.changes.mapPos(c,1)).addToSet(r.slice())}this.hasComposition=o?{from:o.range.fromB,to:o.range.toB}:null,(je.ie||je.chrome)&&!o&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let a=this.decorations,s=this.updateDeco(),l=kte(a,s,e.changes);return r=Wi.extendWithRanges(r,l),!(this.flags&7)&&r.length==0?!1:(this.updateInner(r,e.startState.doc.length,o),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n,r){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,n,r);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=je.chrome||je.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(this.view,a),this.flags&=-8,a&&(a.written||i.selectionRange.focusNode!=a.node)&&(this.forceSelection=!0),this.dom.style.height=""}),this.markedForComposition.forEach(a=>a.flags&=-9);let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.children)a instanceof Ns&&a.widget instanceof lE&&o.push(a.dom);i.updateGaps(o)}updateChildren(e,n,r){let i=r?r.range.addToSet(e.slice()):e,o=this.childCursor(n);for(let a=i.length-1;;a--){let s=a>=0?i[a]:null;if(!s)break;let{fromA:l,toA:u,fromB:c,toB:f}=s,d,h,p,m;if(r&&r.range.fromB<f&&r.range.toB>c){let S=id.build(this.view.state.doc,c,r.range.fromB,this.decorations,this.dynamicDecorationMap),x=id.build(this.view.state.doc,r.range.toB,f,this.decorations,this.dynamicDecorationMap);h=S.breakAtStart,p=S.openStart,m=x.openEnd;let b=this.compositionView(r);x.breakAtStart?b.breakAfter=1:x.content.length&&b.merge(b.length,b.length,x.content[0],!1,x.openStart,0)&&(b.breakAfter=x.content[0].breakAfter,x.content.shift()),S.content.length&&b.merge(0,0,S.content[S.content.length-1],!0,0,S.openEnd)&&S.content.pop(),d=S.content.concat(b).concat(x.content)}else({content:d,breakAtStart:h,openStart:p,openEnd:m}=id.build(this.view.state.doc,c,f,this.decorations,this.dynamicDecorationMap));let{i:v,off:g}=o.findPos(u,1),{i:w,off:y}=o.findPos(l,-1);xk(this,w,y,v,g,d,h,p,m)}r&&this.fixCompositionDOM(r)}compositionView(e){let n=new Ka(e.text.nodeValue);n.flags|=8;for(let{deco:i}of e.marks)n=new Ya(i,[n],n.length);let r=new Un;return r.append(n,0),r}fixCompositionDOM(e){let n=(o,a)=>{a.flags|=8|(a.children.some(l=>l.flags&7)?1:0),this.markedForComposition.add(a);let s=mn.get(o);s&&s!=a&&(s.dom=null),a.setDOM(o)},r=this.childPos(e.range.fromB,1),i=this.children[r.i];n(e.line,i);for(let o=e.marks.length-1;o>=-1;o--)r=i.childPos(r.off,1),i=i.children[r.i],n(o>=0?e.marks[o].node:e.text,i)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let r=this.view.root.activeElement,i=r==this.dom,o=!i&&Jp(this.dom,this.view.observer.selectionRange)&&!(r&&this.dom.contains(r));if(!(i||n||o))return;let a=this.forceSelection;this.forceSelection=!1;let s=this.view.state.selection.main,l=this.moveToLine(this.domAtPos(s.anchor)),u=s.empty?l:this.moveToLine(this.domAtPos(s.head));if(je.gecko&&s.empty&&!this.hasComposition&&Tte(l)){let f=document.createTextNode("");this.view.observer.ignore(()=>l.node.insertBefore(f,l.node.childNodes[l.offset]||null)),l=u=new yr(f,0),a=!0}let c=this.view.observer.selectionRange;(a||!c.focusNode||(!rd(l.node,l.offset,c.anchorNode,c.anchorOffset)||!rd(u.node,u.offset,c.focusNode,c.focusOffset))&&!this.suppressWidgetCursorChange(c,s))&&(this.view.observer.ignore(()=>{je.android&&je.chrome&&this.dom.contains(c.focusNode)&&Fte(c.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let f=Ym(this.view.root);if(f)if(s.empty){if(je.gecko){let d=Ite(l.node,l.offset);if(d&&d!=3){let h=Gk(l.node,l.offset,d==1?1:-1);h&&(l=new yr(h.node,h.offset))}}f.collapse(l.node,l.offset),s.bidiLevel!=null&&f.caretBidiLevel!==void 0&&(f.caretBidiLevel=s.bidiLevel)}else if(f.extend){f.collapse(l.node,l.offset);try{f.extend(u.node,u.offset)}catch{}}else{let d=document.createRange();s.anchor>s.head&&([l,u]=[u,l]),d.setEnd(u.node,u.offset),d.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(d)}o&&this.view.root.activeElement==this.dom&&(this.dom.blur(),r&&r.focus())}),this.view.observer.setSelectionRange(l,u)),this.impreciseAnchor=l.precise?null:new yr(c.anchorNode,c.anchorOffset),this.impreciseHead=u.precise?null:new yr(c.focusNode,c.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&rd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=Ym(e.root),{anchorNode:i,anchorOffset:o}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let a=Un.find(this,n.head);if(!a)return;let s=a.posAtStart;if(n.head==s||n.head==s+a.length)return;let l=this.coordsAt(n.head,-1),u=this.coordsAt(n.head,1);if(!l||!u||l.bottom>u.top)return;let c=this.domAtPos(n.head+n.assoc);r.collapse(c.node,c.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let f=e.observer.selectionRange;e.docView.posFromDOM(f.anchorNode,f.anchorOffset)!=n.from&&r.collapse(i,o)}moveToLine(e){let n=this.dom,r;if(e.node!=n)return e;for(let i=e.offset;!r&&i<n.childNodes.length;i++){let o=mn.get(n.childNodes[i]);o instanceof Un&&(r=o.domAtPos(0))}for(let i=e.offset-1;!r&&i>=0;i--){let o=mn.get(n.childNodes[i]);o instanceof Un&&(r=o.domAtPos(o.length))}return r?new yr(r.node,r.offset,!0):e}nearest(e){for(let n=e;n;){let r=mn.get(n);if(r&&r.rootView==this)return r;n=n.parentNode}return null}posFromDOM(e,n){let r=this.nearest(e);if(!r)throw new RangeError("Trying to find position for a DOM position outside of the document");return r.localPosFromDOM(e,n)+r.posAtStart}domAtPos(e){let{i:n,off:r}=this.childCursor().findPos(e,-1);for(;n<this.children.length-1;){let i=this.children[n];if(r<i.length||i instanceof Un)break;n++,r=0}return this.children[n].domAtPos(r)}coordsAt(e,n){let r=null,i=0;for(let o=this.length,a=this.children.length-1;a>=0;a--){let s=this.children[a],l=o-s.breakAfter,u=l-s.length;if(l<e)break;u<=e&&(u<e||s.covers(-1))&&(l>e||s.covers(1))&&(!r||s instanceof Un&&!(r instanceof Un&&n>=0))&&(r=s,i=u),o=u}return r?r.coordsAt(e-i,n):null}coordsForChar(e){let{i:n,off:r}=this.childPos(e,1),i=this.children[n];if(!(i instanceof Un))return null;for(;i.children.length;){let{i:s,off:l}=i.childPos(r,1);for(;;s++){if(s==i.children.length)return null;if((i=i.children[s]).length)break}r=l}if(!(i instanceof Ka))return null;let o=Yo(i.text,r);if(o==r)return null;let a=Il(i.dom,r,o).getClientRects();for(let s=0;s<a.length;s++){let l=a[s];if(s==a.length-1||l.top<l.bottom&&l.left<l.right)return l}return null}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,o=this.view.contentDOM.clientWidth,a=o>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,s=-1,l=this.view.textDirection==wn.LTR;for(let u=0,c=0;c<this.children.length;c++){let f=this.children[c],d=u+f.length;if(d>i)break;if(u>=r){let h=f.dom.getBoundingClientRect();if(n.push(h.height),a){let p=f.dom.lastChild,m=p?vc(p):[];if(m.length){let v=m[m.length-1],g=l?v.right-h.left:h.right-v.left;g>s&&(s=g,this.minWidth=o,this.minWidthFrom=u,this.minWidthTo=d)}}}u=d+f.breakAfter}return n}textDirectionAt(e){let{i:n}=this.childPos(e,1);return getComputedStyle(this.children[n].dom).direction=="rtl"?wn.RTL:wn.LTR}measureTextSize(){for(let o of this.children)if(o instanceof Un){let a=o.measureTextSize();if(a)return a}let e=document.createElement("div"),n,r,i;return e.className="cm-line",e.style.width="99999px",e.style.position="absolute",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let o=vc(e.firstChild)[0];n=e.getBoundingClientRect().height,r=o?o.width/27:7,i=o?o.height:n,e.remove()}),{lineHeight:n,charWidth:r,textHeight:i}}childCursor(e=this.length){let n=this.children.length;return n&&(e-=this.children[--n].length),new bk(this.children,e,n)}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let o=i==n.viewports.length?null:n.viewports[i],a=o?o.from-1:this.length;if(a>r){let s=(n.lineBlockAt(a).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(st.replace({widget:new lE(s),block:!0,inclusive:!0,isBlockGap:!0}).range(r,a))}if(!o)break;r=o.to+1}return st.set(e)}updateDeco(){let e=this.view.state.facet(Od).map((i,o)=>(this.dynamicDecorationMap[o]=typeof i=="function")?i(this.view):i),n=!1,r=this.view.state.facet(Vk).map((i,o)=>{let a=typeof i=="function";return a&&(n=!0),a?i(this.view):i});r.length&&(this.dynamicDecorationMap[e.length]=n,e.push(jt.join(r)));for(let i=e.length;i<e.length+3;i++)this.dynamicDecorationMap[i]=!1;return this.decorations=[...e,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){if(e.isSnapshot){let u=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=u.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let o=Wk(this.view),a={left:r.left-o.left,top:r.top-o.top,right:r.right+o.right,bottom:r.bottom+o.bottom},{offsetWidth:s,offsetHeight:l}=this.view.scrollDOM;fte(this.view.scrollDOM,a,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,s),-s),Math.max(Math.min(e.yMargin,l),-l),this.view.textDirection==wn.LTR)}}function Tte(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}class lE extends ns{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}}function jk(t,e){let n=t.observer.selectionRange,r=n.focusNode&&Gk(n.focusNode,n.focusOffset,0);if(!r)return null;let i=e-r.offset;return{from:i,to:i+r.node.nodeValue.length,node:r.node}}function Bte(t,e,n){let r=jk(t,n);if(!r)return null;let{node:i,from:o,to:a}=r,s=i.nodeValue;if(/[\n\r]/.test(s)||t.state.doc.sliceString(r.from,r.to)!=s)return null;let l=e.invertedDesc,u=new Wi(l.mapPos(o),l.mapPos(a),o,a),c=[];for(let f=i.parentNode;;f=f.parentNode){let d=mn.get(f);if(d instanceof Ya)c.push({node:f,deco:d.mark});else{if(d instanceof Un||f.nodeName=="DIV"&&f.parentNode==t.contentDOM)return{range:u,text:i,marks:c,line:f};if(f!=t.contentDOM)c.push({node:f,deco:new Jd({inclusive:!0,attributes:bte(f),tagName:f.tagName.toLowerCase()})});else return null}}}function Gk(t,e,n){if(n<=0)for(let r=t,i=e;;){if(r.nodeType==3)return{node:r,offset:i};if(r.nodeType==1&&i>0)r=r.childNodes[i-1],i=Xa(r);else break}if(n>=0)for(let r=t,i=e;;){if(r.nodeType==3)return{node:r,offset:i};if(r.nodeType==1&&i<r.childNodes.length&&n>=0)r=r.childNodes[i],i=0;else break}return null}function Ite(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Pte=class{constructor(){this.changes=[]}compareRange(e,n){d1(e,n,this.changes)}comparePoint(e,n){d1(e,n,this.changes)}};function kte(t,e,n){let r=new Pte;return jt.compare(t,e,n,r),r.changes}function Fte(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Rte(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}function _te(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),o=e-i.from;if(i.length==0)return qe.cursor(e);o==0?n=1:o==i.length&&(n=-1);let a=o,s=o;n<0?a=Yo(i.text,o,!1):s=Yo(i.text,o);let l=r(i.text.slice(a,s));for(;a>0;){let u=Yo(i.text,a,!1);if(r(i.text.slice(u,a))!=l)break;a=u}for(;s<i.length;){let u=Yo(i.text,s);if(r(i.text.slice(s,u))!=l)break;s=u}return qe.range(a+i.from,s+i.from)}function zte(t,e){return e.left>t?e.left-t:Math.max(0,t-e.right)}function Lte(t,e){return e.top>t?e.top-t:Math.max(0,t-e.bottom)}function ly(t,e){return t.top<e.bottom-1&&t.bottom>e.top+1}function uE(t,e){return e<t.top?{top:e,left:t.left,right:t.right,bottom:t.bottom}:t}function cE(t,e){return e>t.bottom?{top:t.top,left:t.left,right:t.right,bottom:e}:t}function v1(t,e,n){let r,i,o,a,s=!1,l,u,c,f;for(let p=t.firstChild;p;p=p.nextSibling){let m=vc(p);for(let v=0;v<m.length;v++){let g=m[v];i&&ly(i,g)&&(g=uE(cE(g,i.bottom),i.top));let w=zte(e,g),y=Lte(n,g);if(w==0&&y==0)return p.nodeType==3?fE(p,e,n):v1(p,e,n);if(!r||a>y||a==y&&o>w){r=p,i=g,o=w,a=y;let S=y?n<g.top?-1:1:w?e<g.left?-1:1:0;s=!S||(S>0?v<m.length-1:v>0)}w==0?n>g.bottom&&(!c||c.bottom<g.bottom)?(l=p,c=g):n<g.top&&(!f||f.top>g.top)&&(u=p,f=g):c&&ly(c,g)?c=cE(c,g.bottom):f&&ly(f,g)&&(f=uE(f,g.top))}}if(c&&c.bottom>=n?(r=l,i=c):f&&f.top<=n&&(r=u,i=f),!r)return{node:t,offset:0};let d=Math.max(i.left,Math.min(i.right,e));if(r.nodeType==3)return fE(r,d,n);if(s&&r.contentEditable!="false")return v1(r,d,n);let h=Array.prototype.indexOf.call(t.childNodes,r)+(e>=(i.left+i.right)/2?1:0);return{node:t,offset:h}}function fE(t,e,n){let r=t.nodeValue.length,i=-1,o=1e9,a=0;for(let s=0;s<r;s++){let l=Il(t,s,s+1).getClientRects();for(let u=0;u<l.length;u++){let c=l[u];if(c.top==c.bottom)continue;a||(a=e-c.left);let f=(c.top>n?c.top-n:n-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&f<o){let d=e>=(c.left+c.right)/2,h=d;if((je.chrome||je.gecko)&&Il(t,s).getBoundingClientRect().left==c.right&&(h=!d),f<=0)return{node:t,offset:s+(h?1:0)};i=s+(h?1:0),o=f}}}return{node:t,offset:i>-1?i:a>0?t.nodeValue.length:0}}function Xk(t,e,n,r=-1){var i,o;let a=t.contentDOM.getBoundingClientRect(),s=a.top+t.viewState.paddingTop,l,{docHeight:u}=t.viewState,{x:c,y:f}=e,d=f-s;if(d<0)return 0;if(d>u)return t.state.doc.length;for(let S=t.viewState.heightOracle.textHeight/2,x=!1;l=t.elementAtHeight(d),l.type!=Fr.Text;)for(;d=r>0?l.bottom+S:l.top-S,!(d>=0&&d<=u);){if(x)return n?null:0;x=!0,r=-r}f=s+d;let h=l.from;if(h<t.viewport.from)return t.viewport.from==0?0:n?null:dE(t,a,l,c,f);if(h>t.viewport.to)return t.viewport.to==t.state.doc.length?t.state.doc.length:n?null:dE(t,a,l,c,f);let p=t.dom.ownerDocument,m=t.root.elementFromPoint?t.root:p,v=m.elementFromPoint(c,f);v&&!t.contentDOM.contains(v)&&(v=null),v||(c=Math.max(a.left+1,Math.min(a.right-1,c)),v=m.elementFromPoint(c,f),v&&!t.contentDOM.contains(v)&&(v=null));let g,w=-1;if(v&&((i=t.docView.nearest(v))===null||i===void 0?void 0:i.isEditable)!=!1){if(p.caretPositionFromPoint){let S=p.caretPositionFromPoint(c,f);S&&({offsetNode:g,offset:w}=S)}else if(p.caretRangeFromPoint){let S=p.caretRangeFromPoint(c,f);S&&({startContainer:g,startOffset:w}=S,(!t.contentDOM.contains(g)||je.safari&&Hte(g,w,c)||je.chrome&&Vte(g,w,c))&&(g=void 0))}}if(!g||!t.docView.dom.contains(g)){let S=Un.find(t.docView,h);if(!S)return d>l.top+l.height/2?l.to:l.from;({node:g,offset:w}=v1(S.dom,c,f))}let y=t.docView.nearest(g);if(!y)return null;if(y.isWidget&&((o=y.dom)===null||o===void 0?void 0:o.nodeType)==1){let S=y.dom.getBoundingClientRect();return e.y<S.top||e.y<=S.bottom&&e.x<=(S.left+S.right)/2?y.posAtStart:y.posAtEnd}else return y.localPosFromDOM(g,w)+y.posAtStart}function dE(t,e,n,r,i){let o=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let s=t.viewState.heightOracle.textHeight,l=Math.floor((i-n.top-(t.defaultLineHeight-s)*.5)/s);o+=l*t.viewState.heightOracle.lineLength}let a=t.state.sliceDoc(n.from,n.to);return n.from+r1(a,o,t.state.tabSize)}function Hte(t,e,n){let r;if(t.nodeType!=3||e!=(r=t.nodeValue.length))return!1;for(let i=t.nextSibling;i;i=i.nextSibling)if(i.nodeType!=1||i.nodeName!="BR")return!1;return Il(t,r-1,r).getBoundingClientRect().left>n}function Vte(t,e,n){if(e!=0)return!1;for(let i=t;;){let o=i.parentNode;if(!o||o.nodeType!=1||o.firstChild!=i)return!1;if(o.classList.contains("cm-line"))break;i=o}let r=t.nodeType==1?t.getBoundingClientRect():Il(t,0,Math.max(t.nodeValue.length,1)).getBoundingClientRect();return n-r.left>5}function y1(t,e){let n=t.lineBlockAt(e);if(Array.isArray(n.type)){for(let r of n.type)if(r.to>e||r.to==e&&(r.to==n.to||r.type==Fr.Text))return r}return n}function Ute(t,e,n,r){let i=y1(t,e.head),o=!r||i.type!=Fr.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(o){let a=t.dom.getBoundingClientRect(),s=t.textDirectionAt(i.from),l=t.posAtCoords({x:n==(s==wn.LTR)?a.right-1:a.left+1,y:(o.top+o.bottom)/2});if(l!=null)return qe.cursor(l,n?-1:1)}return qe.cursor(n?i.to:i.from,n?-1:1)}function hE(t,e,n,r){let i=t.state.doc.lineAt(e.head),o=t.bidiSpans(i),a=t.textDirectionAt(i.from);for(let s=e,l=null;;){let u=Nte(i,o,a,s,n),c=Bk;if(!u){if(i.number==(n?t.state.doc.lines:1))return s;c=`
`,i=t.state.doc.line(i.number+(n?1:-1)),o=t.bidiSpans(i),u=t.visualLineSide(i,!n)}if(l){if(!l(c))return s}else{if(!r)return u;l=r(c)}s=u}}function qte(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return o=>{let a=r(o);return i==Ea.Space&&(i=a),i==a}}function Wte(t,e,n,r){let i=e.head,o=n?1:-1;if(i==(n?t.state.doc.length:0))return qe.cursor(i,e.assoc);let a=e.goalColumn,s,l=t.contentDOM.getBoundingClientRect(),u=t.coordsAtPos(i,e.assoc||-1),c=t.documentTop;if(u)a==null&&(a=u.left-l.left),s=o<0?u.top:u.bottom;else{let h=t.viewState.lineBlockAt(i);a==null&&(a=Math.min(l.right-l.left,t.defaultCharacterWidth*(i-h.from))),s=(o<0?h.top:h.bottom)+c}let f=l.left+a,d=r??t.viewState.heightOracle.textHeight>>1;for(let h=0;;h+=10){let p=s+(d+h)*o,m=Xk(t,{x:f,y:p},!1,o);if(p<l.top||p>l.bottom||(o<0?m<i:m>i)){let v=t.docView.coordsForChar(m),g=!v||p<v.top?-1:1;return qe.cursor(m,g,void 0,a)}}}function em(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(o,a,s)=>{if(e>o&&e<a){let l=r||n||(e-o<a-e?-1:1);e=l<0?o:a,r=l}});if(!r)return e}}function uy(t,e,n){let r=em(t.state.facet(nS).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:qe.cursor(r,r<n.from?1:-1)}class jte{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,je.safari&&e.contentDOM.addEventListener("input",()=>null),je.gecko&&lne(e.contentDOM.ownerDocument)}handleEvent(e){!ene(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||this.runHandlers(e.type,e)}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=Gte(e),r=this.handlers,i=this.view.contentDOM;for(let o in n)if(o!="scroll"){let a=!n[o].handlers.length,s=r[o];s&&a!=!s.handlers.length&&(i.removeEventListener(o,this.handleEvent),s=null),s||i.addEventListener(o,this.handleEvent,{passive:a})}for(let o in r)o!="scroll"&&!n[o]&&i.removeEventListener(o,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(e.keyCode!=27&&Yk.indexOf(e.keyCode)<0&&(this.view.inputState.lastEscPress=0),je.android&&je.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return je.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=Kk.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||Xte.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(){let e=this.pendingIOSKey;return e?(this.pendingIOSKey=void 0,Ku(this.view.contentDOM,e.key,e.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:je.safari&&!je.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1:!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function pE(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){qi(n.state,i)}}}function Gte(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec;if(i&&i.domEventHandlers)for(let o in i.domEventHandlers){let a=i.domEventHandlers[o];a&&n(o).handlers.push(pE(r.value,a))}if(i&&i.domEventObservers)for(let o in i.domEventObservers){let a=i.domEventObservers[o];a&&n(o).observers.push(pE(r.value,a))}}for(let r in So)n(r).handlers.push(So[r]);for(let r in Co)n(r).observers.push(Co[r]);return e}const Kk=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Xte="dthko",Yk=[16,17,18,20,91,92,224,225],tp=6;function np(t){return Math.max(0,t)*.7+8}function Kte(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class Yte{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParent=dte(e.contentDOM),this.atoms=e.state.facet(nS).map(a=>a(e));let o=e.contentDOM.ownerDocument;o.addEventListener("mousemove",this.move=this.move.bind(this)),o.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(pn.allowMultipleSelections)&&Zte(e,n),this.dragging=Jte(e,n)&&eF(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){var n;if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&Kte(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let r=0,i=0,o=((n=this.scrollParent)===null||n===void 0?void 0:n.getBoundingClientRect())||{left:0,top:0,right:this.view.win.innerWidth,bottom:this.view.win.innerHeight},a=Wk(this.view);e.clientX-a.left<=o.left+tp?r=-np(o.left-e.clientX):e.clientX+a.right>=o.right-tp&&(r=np(e.clientX-o.right)),e.clientY-a.top<=o.top+tp?i=-np(o.top-e.clientY):e.clientY+a.bottom>=o.bottom-tp&&(i=np(e.clientY-o.bottom)),this.setScrollSpeed(r,i)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){this.scrollParent?(this.scrollParent.scrollLeft+=this.scrollSpeed.x,this.scrollParent.scrollTop+=this.scrollSpeed.y):this.view.win.scrollBy(this.scrollSpeed.x,this.scrollSpeed.y),this.dragging===!1&&this.select(this.lastEvent)}skipAtoms(e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],o=null;if(i.empty){let a=em(this.atoms,i.from,0);a!=i.from&&(o=qe.cursor(a,-1))}else{let a=em(this.atoms,i.from,-1),s=em(this.atoms,i.to,1);(a!=i.from||s!=i.to)&&(o=qe.range(i.from==i.anchor?a:s,i.from==i.head?a:s))}o&&(n||(n=e.ranges.slice()),n[r]=o)}return n?qe.create(n,e.mainIndex):e}select(e){let{view:n}=this,r=this.skipAtoms(this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function Zte(t,e){let n=t.state.facet(Ik);return n.length?n[0](e):je.mac?e.metaKey:e.ctrlKey}function Qte(t,e){let n=t.state.facet(Pk);return n.length?n[0](e):je.mac?!e.altKey:!e.ctrlKey}function Jte(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=Ym(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let o=0;o<i.length;o++){let a=i[o];if(a.left<=e.clientX&&a.right>=e.clientX&&a.top<=e.clientY&&a.bottom>=e.clientY)return!0}return!1}function ene(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=mn.get(n))&&r.ignoreEvent(e))return!1;return!0}const So=Object.create(null),Co=Object.create(null),Zk=je.ie&&je.ie_version<15||je.ios&&je.webkit_version<604;function tne(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),Qk(t,n.value)},50)}function Qk(t,e){let{state:n}=t,r,i=1,o=n.toText(e),a=o.lines==n.selection.ranges.length;if(b1!=null&&n.selection.ranges.every(l=>l.empty)&&b1==o.toString()){let l=-1;r=n.changeByRange(u=>{let c=n.doc.lineAt(u.from);if(c.from==l)return{range:u};l=c.from;let f=n.toText((a?o.line(i++).text:e)+n.lineBreak);return{changes:{from:c.from,insert:f},range:qe.cursor(u.from+f.length)}})}else a?r=n.changeByRange(l=>{let u=o.line(i++);return{changes:{from:l.from,to:l.to,insert:u.text},range:qe.cursor(l.from+u.length)}}):r=n.replaceSelection(o);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Co.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};So.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&(t.inputState.lastEscPress=Date.now()),!1);Co.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Co.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};So.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(kk))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=ine(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new Yte(t,e,n,r)),r&&t.observer.ignore(()=>gk(t.contentDOM));let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}return!1};function mE(t,e,n,r){if(r==1)return qe.cursor(e,n);if(r==2)return _te(t.state,e,n);{let i=Un.find(t.docView,e),o=t.state.doc.lineAt(i?i.posAtEnd:e),a=i?i.posAtStart:o.from,s=i?i.posAtEnd:o.to;return s<t.state.doc.length&&s==o.to&&s++,qe.range(a,s)}}let Jk=(t,e)=>t>=e.top&&t<=e.bottom,gE=(t,e,n)=>Jk(e,n)&&t>=n.left&&t<=n.right;function nne(t,e,n,r){let i=Un.find(t.docView,e);if(!i)return 1;let o=e-i.posAtStart;if(o==0)return 1;if(o==i.length)return-1;let a=i.coordsAt(o,-1);if(a&&gE(n,r,a))return-1;let s=i.coordsAt(o,1);return s&&gE(n,r,s)?1:a&&Jk(r,a)?-1:1}function vE(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:n,bias:nne(t,n,e.clientX,e.clientY)}}const rne=je.ie&&je.ie_version<=11;let yE=null,bE=0,xE=0;function eF(t){if(!rne)return t.detail;let e=yE,n=xE;return yE=t,xE=Date.now(),bE=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(bE+1)%3:1}function ine(t,e){let n=vE(t,e),r=eF(e),i=t.state.selection;return{update(o){o.docChanged&&(n.pos=o.changes.mapPos(n.pos),i=i.map(o.changes))},get(o,a,s){let l=vE(t,o),u,c=mE(t,l.pos,l.bias,r);if(n.pos!=l.pos&&!a){let f=mE(t,n.pos,n.bias,r),d=Math.min(f.from,c.from),h=Math.max(f.to,c.to);c=d<c.from?qe.range(d,h):qe.range(h,d)}return a?i.replaceRange(i.main.extend(c.from,c.to)):s&&r==1&&i.ranges.length>1&&(u=one(i,l.pos))?u:s?i.addRange(c):qe.create([c])}}}function one(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return qe.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}So.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.nearest(e.target);if(i&&i.isWidget){let o=i.posAtStart,a=o+i.length;(o>=n.to||a<=n.from)&&(n=qe.range(o,a))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",t.state.sliceDoc(n.from,n.to)),e.dataTransfer.effectAllowed="copyMove"),!1};So.dragend=t=>(t.inputState.draggedContent=null,!1);function wE(t,e,n,r){if(!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:o}=t.inputState,a=r&&o&&Qte(t,e)?{from:o.from,to:o.to}:null,s={from:i,insert:n},l=t.state.changes(a?[a,s]:s);t.focus(),t.dispatch({changes:l,selection:{anchor:l.mapPos(i,-1),head:l.mapPos(i,1)},userEvent:a?"move.drop":"input.drop"}),t.inputState.draggedContent=null}So.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,o=()=>{++i==n.length&&wE(t,e,r.filter(a=>a!=null).join(t.state.lineBreak),!1)};for(let a=0;a<n.length;a++){let s=new FileReader;s.onerror=o,s.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(s.result)||(r[a]=s.result),o()},s.readAsText(n[a])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return wE(t,e,r,!0),!0}return!1};So.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=Zk?null:e.clipboardData;return n?(Qk(t,n.getData("text/plain")||n.getData("text/uri-text")),!0):(tne(t),!1)};function ane(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function sne(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:o}of t.selection.ranges){let a=t.doc.lineAt(o);a.number>i&&(e.push(a.text),n.push({from:a.from,to:Math.min(t.doc.length,a.to+1)})),i=a.number}r=!0}return{text:e.join(t.lineBreak),ranges:n,linewise:r}}let b1=null;So.copy=So.cut=(t,e)=>{let{text:n,ranges:r,linewise:i}=sne(t.state);if(!n&&!i)return!1;b1=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let o=Zk?null:e.clipboardData;return o?(o.clearData(),o.setData("text/plain",n),!0):(ane(t,n),!1)};const tF=Vc.define();function nF(t,e){let n=[];for(let r of t.facet(_k)){let i=r(t,e);i&&n.push(i)}return n?t.update({effects:n,annotations:tF.of(!0)}):null}function rF(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=nF(t.state,e);n?t.dispatch(n):t.update([])}},10)}Co.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),rF(t)};Co.blur=t=>{t.observer.clearSelectionRange(),rF(t)};Co.compositionstart=Co.compositionupdate=t=>{t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0)};Co.compositionend=t=>{t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,je.chrome&&je.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50)};Co.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};So.beforeinput=(t,e)=>{var n;let r;if(je.chrome&&je.android&&(r=Kk.find(i=>i.inputType==e.inputType))&&(t.observer.delayAndroidKey(r.key,r.keyCode),r.key=="Backspace"||r.key=="Delete")){let i=((n=window.visualViewport)===null||n===void 0?void 0:n.height)||0;setTimeout(()=>{var o;(((o=window.visualViewport)===null||o===void 0?void 0:o.height)||0)>i+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return!1};const SE=new Set;function lne(t){SE.has(t)||(SE.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const CE=["pre-wrap","normal","pre-line","break-spaces"];class une{constructor(e){this.lineWrapping=e,this.doc=Jt.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30,this.heightChanged=!1}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return CE.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,o,a){let s=CE.indexOf(e)>-1,l=Math.round(n)!=Math.round(this.lineHeight)||this.lineWrapping!=s;if(this.lineWrapping=s,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=o,l){this.heightSamples={};for(let u=0;u<a.length;u++){let c=a[u];c<0?u++:this.heightSamples[Math.floor(c*10)]=!0}}return l}}class cne{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class jo{constructor(e,n,r,i,o){this.from=e,this.length=n,this.top=r,this.height=i,this._content=o}get type(){return typeof this._content=="number"?Fr.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Ls?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new jo(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var dn=function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t}(dn||(dn={}));const tm=.001;class Rr{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,n){this.height!=n&&(Math.abs(this.height-n)>tm&&(e.heightChanged=!0),this.height=n)}replace(e,n,r){return Rr.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let o=this,a=r.doc;for(let s=i.length-1;s>=0;s--){let{fromA:l,toA:u,fromB:c,toB:f}=i[s],d=o.lineAt(l,dn.ByPosNoHeight,r.setDoc(n),0,0),h=d.to>=u?d:o.lineAt(u,dn.ByPosNoHeight,r,0,0);for(f+=h.to-u,u=h.to;s>0&&d.from<=i[s-1].toA;)l=i[s-1].fromA,c=i[s-1].fromB,s--,l<d.from&&(d=o.lineAt(l,dn.ByPosNoHeight,r,0,0));c+=d.from-l,l=d.from;let p=rS.build(r.setDoc(a),e,c,f);o=o.replace(l,u,p)}return o.updateHeight(r,0)}static empty(){return new mi(0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,o=0;for(;;)if(n==r)if(i>o*2){let s=e[n-1];s.break?e.splice(--n,1,s.left,null,s.right):e.splice(--n,1,s.left,s.right),r+=1+s.break,i-=s.size}else if(o>i*2){let s=e[r];s.break?e.splice(r,1,s.left,null,s.right):e.splice(r,1,s.left,s.right),r+=2+s.break,o-=s.size}else break;else if(i<o){let s=e[n++];s&&(i+=s.size)}else{let s=e[--r];s&&(o+=s.size)}let a=0;return e[n-1]==null?(a=1,n--):e[n]==null&&(a=1,r++),new fne(Rr.of(e.slice(0,n)),a,Rr.of(e.slice(r)))}}Rr.prototype.size=1;class iF extends Rr{constructor(e,n,r){super(e,n),this.deco=r}blockAt(e,n,r,i){return new jo(i,this.length,r,this.height,this.deco||0)}lineAt(e,n,r,i,o){return this.blockAt(0,r,i,o)}forEachLine(e,n,r,i,o,a){e<=o+this.length&&n>=o&&a(this.blockAt(0,r,i,o))}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setHeight(e,i.heights[i.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class mi extends iF{constructor(e,n){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0}blockAt(e,n,r,i){return new jo(i,this.length,r,this.height,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof mi||i instanceof or&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof or?i=new mi(i.length,this.height):i.height=this.height,this.outdated||(i.outdated=!1),i):Rr.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setHeight(e,i.heights[i.index++]):(r||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class or extends Rr{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,o=i-r+1,a,s=0;if(e.lineWrapping){let l=Math.min(this.height,e.lineHeight*o);a=l/o,this.length>o+1&&(s=(this.height-l)/(this.length-o-1))}else a=this.height/o;return{firstLine:r,lastLine:i,perLine:a,perChar:s}}blockAt(e,n,r,i){let{firstLine:o,lastLine:a,perLine:s,perChar:l}=this.heightMetrics(n,i);if(n.lineWrapping){let u=i+Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length),c=n.doc.lineAt(u),f=s+c.length*l,d=Math.max(r,e-f/2);return new jo(c.from,c.length,d,f,0)}else{let u=Math.max(0,Math.min(a-o,Math.floor((e-r)/s))),{from:c,length:f}=n.doc.line(o+u);return new jo(c,f,r+s*u,s,0)}}lineAt(e,n,r,i,o){if(n==dn.ByHeight)return this.blockAt(e,r,i,o);if(n==dn.ByPosNoHeight){let{from:h,to:p}=r.doc.lineAt(e);return new jo(h,p-h,0,0,0)}let{firstLine:a,perLine:s,perChar:l}=this.heightMetrics(r,o),u=r.doc.lineAt(e),c=s+u.length*l,f=u.number-a,d=i+s*f+l*(u.from-o-f);return new jo(u.from,u.length,Math.max(i,Math.min(d,i+this.height-c)),c,0)}forEachLine(e,n,r,i,o,a){e=Math.max(e,o),n=Math.min(n,o+this.length);let{firstLine:s,perLine:l,perChar:u}=this.heightMetrics(r,o);for(let c=e,f=i;c<=n;){let d=r.doc.lineAt(c);if(c==e){let p=d.number-s;f+=l*p+u*(e-o-p)}let h=l+u*d.length;a(new jo(d.from,d.length,f,h,0)),f+=h,c=d.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let o=r[r.length-1];o instanceof or?r[r.length-1]=new or(o.length+i):r.push(null,new or(i-1))}if(e>0){let o=r[0];o instanceof or?r[0]=new or(e+o.length):r.unshift(new or(e-1),null)}return Rr.of(r)}decomposeLeft(e,n){n.push(new or(e-1),null)}decomposeRight(e,n){n.push(null,new or(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let o=n+this.length;if(i&&i.from<=n+this.length&&i.more){let a=[],s=Math.max(n,i.from),l=-1;for(i.from>n&&a.push(new or(i.from-n-1).updateHeight(e,n));s<=o&&i.more;){let c=e.doc.lineAt(s).length;a.length&&a.push(null);let f=i.heights[i.index++];l==-1?l=f:Math.abs(f-l)>=tm&&(l=-2);let d=new mi(c,f);d.outdated=!1,a.push(d),s+=c+1}s<=o&&a.push(null,new or(o-s).updateHeight(e,s));let u=Rr.of(a);return(l<0||Math.abs(u.height-this.height)>=tm||Math.abs(l-this.heightMetrics(e,n).perLine)>=tm)&&(e.heightChanged=!0),u}else(r||this.outdated)&&(this.setHeight(e,e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class fne extends Rr{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let o=r+this.left.height;return e<o?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,o,i+this.left.length+this.break)}lineAt(e,n,r,i,o){let a=i+this.left.height,s=o+this.left.length+this.break,l=n==dn.ByHeight?e<a:e<s,u=l?this.left.lineAt(e,n,r,i,o):this.right.lineAt(e,n,r,a,s);if(this.break||(l?u.to<s:u.from>s))return u;let c=n==dn.ByPosNoHeight?dn.ByPosNoHeight:dn.ByPos;return l?u.join(this.right.lineAt(s,c,r,a,s)):this.left.lineAt(s,c,r,i,o).join(u)}forEachLine(e,n,r,i,o,a){let s=i+this.left.height,l=o+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,n,r,i,o,a),n>=l&&this.right.forEachLine(e,n,r,s,l,a);else{let u=this.lineAt(l,dn.ByPos,r,i,o);e<u.from&&this.left.forEachLine(e,u.from-1,r,i,o,a),u.to>=e&&u.from<=n&&a(u),n>u.to&&this.right.forEachLine(u.to+1,n,r,s,l,a)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let o=[];e>0&&this.decomposeLeft(e,o);let a=o.length;for(let s of r)o.push(s);if(e>0&&AE(o,a-1),n<this.length){let s=o.length;this.decomposeRight(n,o),AE(o,s)}return Rr.of(o)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?Rr.of(this.break?[e,null,n]:[e,n]):(this.left=e,this.right=n,this.height=e.height+n.height,this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:o,right:a}=this,s=n+o.length+this.break,l=null;return i&&i.from<=n+o.length&&i.more?l=o=o.updateHeight(e,n,r,i):o.updateHeight(e,n,r),i&&i.from<=s+a.length&&i.more?l=a=a.updateHeight(e,s,r,i):a.updateHeight(e,s,r),l?this.balanced(o,a):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function AE(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof or&&(r=t[e+1])instanceof or&&t.splice(e-1,3,new or(n.length+1+r.length))}const dne=5;class rS{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof mi?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new mi(r-this.pos,-1)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,o=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let a=n-e;r.block?this.addBlock(new iF(a,i,r)):(a||o||i>=dne)&&this.addLineDeco(i,o,a)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new mi(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,n){let r=new or(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof mi)return e;let n=new mi(0,-1);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof mi)&&!this.isCovered?this.nodes.push(new mi(0,-1)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof mi&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let o=new rS(r,e);return jt.spans(n,r,i,o,0),o.finish(r)}}function hne(t,e,n){let r=new pne;return jt.compare(t,e,n,r,0),r.changes}class pne{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&d1(e,n,this.changes,5)}}function mne(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,o=Math.max(0,n.left),a=Math.min(i.innerWidth,n.right),s=Math.max(0,n.top),l=Math.min(i.innerHeight,n.bottom);for(let u=t.parentNode;u&&u!=r.body;)if(u.nodeType==1){let c=u,f=window.getComputedStyle(c);if((c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth)&&f.overflow!="visible"){let d=c.getBoundingClientRect();o=Math.max(o,d.left),a=Math.min(a,d.right),s=Math.max(s,d.top),l=u==t.parentNode?d.bottom:Math.min(l,d.bottom)}u=f.position=="absolute"||f.position=="fixed"?c.offsetParent:c.parentNode}else if(u.nodeType==11)u=u.host;else break;return{left:o-n.left,right:Math.max(o,a)-n.left,top:s-(n.top+e),bottom:Math.max(s,l)-(n.top+e)}}function gne(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class cy{constructor(e,n,r){this.from=e,this.to=n,this.size=r}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(i.from!=o.from||i.to!=o.to||i.size!=o.size)return!1}return!0}draw(e,n){return st.replace({widget:new vne(this.size*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class vne extends ns{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class DE{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!0,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=EE,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=wn.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(tS).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new une(n),this.stateDeco=e.facet(Od).filter(r=>typeof r!="function"),this.heightMap=Rr.empty().applyChanges(this.stateDeco,Jt.empty,this.heightOracle.setDoc(e.doc),[new Wi(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=st.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:o,to:a})=>i>=o&&i<=a)){let{from:o,to:a}=this.lineBlockAt(i);e.push(new rp(o,a))}}this.viewports=e.sort((r,i)=>r.from-i.from),this.scaler=this.heightMap.height<=7e6?EE:new xne(this.heightOracle,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:kf(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=this.state.facet(Od).filter(c=>typeof c!="function");let i=e.changedRanges,o=Wi.extendWithRanges(i,hne(r,this.stateDeco,e?e.changes:Zn.empty(this.state.doc.length))),a=this.heightMap.height,s=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),o),this.heightMap.height!=a&&(e.flags|=2),s?(this.scrollAnchorPos=e.changes.mapPos(s.from,-1),this.scrollAnchorHeight=s.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=this.heightMap.height);let l=o.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<l.from||n.range.head>l.to)||!this.viewportIsAppropriate(l))&&(l=this.getViewport(0,n));let u=!e.changes.empty||e.flags&2||l.from!=this.viewport.from||l.to!=this.viewport.to;this.viewport=l,this.updateForViewport(),u&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(Lk)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,o=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?wn.RTL:wn.LTR;let a=this.heightOracle.mustRefreshForWrapping(o),s=n.getBoundingClientRect(),l=a||this.mustMeasureContent||this.contentDOMHeight!=s.height;this.contentDOMHeight=s.height,this.mustMeasureContent=!1;let u=0,c=0;if(s.width&&s.height){let{scaleX:S,scaleY:x}=mk(n,s);(this.scaleX!=S||this.scaleY!=x)&&(this.scaleX=S,this.scaleY=x,u|=8,a=l=!0)}let f=(parseInt(r.paddingTop)||0)*this.scaleY,d=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=f||this.paddingBottom!=d)&&(this.paddingTop=f,this.paddingBottom=d,u|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(l=!0),this.editorWidth=e.scrollDOM.clientWidth,u|=8);let h=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=h&&(this.scrollAnchorHeight=-1,this.scrollTop=h),this.scrolledToBottom=yk(e.scrollDOM);let p=(this.printing?gne:mne)(n,this.paddingTop),m=p.top-this.pixelViewport.top,v=p.bottom-this.pixelViewport.bottom;this.pixelViewport=p;let g=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(g!=this.inView&&(this.inView=g,g&&(l=!0)),!this.inView&&!this.scrollTarget)return 0;let w=s.width;if((this.contentDOMWidth!=w||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=s.width,this.editorHeight=e.scrollDOM.clientHeight,u|=8),l){let S=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(S)&&(a=!0),a||i.lineWrapping&&Math.abs(w-this.contentDOMWidth)>i.charWidth){let{lineHeight:x,charWidth:b,textHeight:C}=e.docView.measureTextSize();a=x>0&&i.refresh(o,x,b,C,w/b,S),a&&(e.docView.minWidth=0,u|=8)}m>0&&v>0?c=Math.max(m,v):m<0&&v<0&&(c=Math.min(m,v)),i.heightChanged=!1;for(let x of this.viewports){let b=x.from==this.viewport.from?S:e.docView.measureVisibleLineHeights(x);this.heightMap=(a?Rr.empty().applyChanges(this.stateDeco,Jt.empty,this.heightOracle,[new Wi(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,a,new cne(x.from,b))}i.heightChanged&&(u|=2)}let y=!this.viewportIsAppropriate(this.viewport,c)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return y&&(this.viewport=this.getViewport(c,this.scrollTarget)),this.updateForViewport(),(u&2||y)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(a?[]:this.lineGaps,e)),u|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),u}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,o=this.heightOracle,{visibleTop:a,visibleBottom:s}=this,l=new rp(i.lineAt(a-r*1e3,dn.ByHeight,o,0,0).from,i.lineAt(s+(1-r)*1e3,dn.ByHeight,o,0,0).to);if(n){let{head:u}=n.range;if(u<l.from||u>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),f=i.lineAt(u,dn.ByPos,o,0,0),d;n.y=="center"?d=(f.top+f.bottom)/2-c/2:n.y=="start"||n.y=="nearest"&&u<l.from?d=f.top:d=f.bottom-c,l=new rp(i.lineAt(d-1e3/2,dn.ByHeight,o,0,0).from,i.lineAt(d+c+1e3/2,dn.ByHeight,o,0,0).to)}}return l}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new rp(this.heightMap.lineAt(r,dn.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,dn.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,dn.ByPos,this.heightOracle,0,0),{bottom:o}=this.heightMap.lineAt(n,dn.ByPos,this.heightOracle,0,0),{visibleTop:a,visibleBottom:s}=this;return(e==0||i<=a-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||o>=s+Math.max(10,Math.min(r,250)))&&i>a-2*1e3&&o<s+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new cy(n.mapPos(i.from),n.mapPos(i.to),i.size));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,o=i>>1,a=i<<1;if(this.defaultTextDirection!=wn.LTR&&!r)return[];let s=[],l=(u,c,f,d)=>{if(c-u<o)return;let h=this.state.selection.main,p=[h.from];h.empty||p.push(h.to);for(let v of p)if(v>u&&v<c){l(u,v-10,f,d),l(v+10,c,f,d);return}let m=bne(e,v=>v.from>=f.from&&v.to<=f.to&&Math.abs(v.from-u)<o&&Math.abs(v.to-c)<o&&!p.some(g=>v.from<g&&v.to>g));if(!m){if(c<f.to&&n&&r&&n.visibleRanges.some(v=>v.from<=c&&v.to>=c)){let v=n.moveToLineBoundary(qe.cursor(c),!1,!0).head;v>u&&(c=v)}m=new cy(u,c,this.gapSize(f,u,c,d))}s.push(m)};for(let u of this.viewportLines){if(u.length<a)continue;let c=yne(u.from,u.to,this.stateDeco);if(c.total<a)continue;let f=this.scrollTarget?this.scrollTarget.range.head:null,d,h;if(r){let p=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,m,v;if(f!=null){let g=op(c,f),w=((this.visibleBottom-this.visibleTop)/2+p)/u.height;m=g-w,v=g+w}else m=(this.visibleTop-u.top-p)/u.height,v=(this.visibleBottom-u.top+p)/u.height;d=ip(c,m),h=ip(c,v)}else{let p=c.total*this.heightOracle.charWidth,m=i*this.heightOracle.charWidth,v,g;if(f!=null){let w=op(c,f),y=((this.pixelViewport.right-this.pixelViewport.left)/2+m)/p;v=w-y,g=w+y}else v=(this.pixelViewport.left-m)/p,g=(this.pixelViewport.right+m)/p;d=ip(c,v),h=ip(c,g)}d>u.from&&l(u.from,d,u,c),h<u.to&&l(h,u.to,u,c)}return s}gapSize(e,n,r,i){let o=op(i,r)-op(i,n);return this.heightOracle.lineWrapping?e.height*o:i.total*this.heightOracle.charWidth*o}updateLineGaps(e){cy.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=st.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let n=[];jt.spans(e,this.viewport.from,this.viewport.to,{span(i,o){n.push({from:i,to:o})},point(){}},20);let r=n.length!=this.visibleRanges.length||this.visibleRanges.some((i,o)=>i.from!=n[o].from||i.to!=n[o].to);return this.visibleRanges=n,r?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||kf(this.heightMap.lineAt(e,dn.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return kf(this.heightMap.lineAt(this.scaler.fromDOM(e),dn.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return kf(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class rp{constructor(e,n){this.from=e,this.to=n}}function yne(t,e,n){let r=[],i=t,o=0;return jt.spans(n,t,e,{span(){},point(a,s){a>i&&(r.push({from:i,to:a}),o+=a-i),i=s}},20),i<e&&(r.push({from:i,to:e}),o+=e-i),{total:o,ranges:r}}function ip({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:o,to:a}=e[i],s=a-o;if(r<=s)return o+r;r-=s}}function op(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function bne(t,e){for(let n of t)if(e(n))return n}const EE={toDOM(t){return t},fromDOM(t){return t},scale:1};class xne{constructor(e,n,r){let i=0,o=0,a=0;this.viewports=r.map(({from:s,to:l})=>{let u=n.lineAt(s,dn.ByPos,e,0,0).top,c=n.lineAt(l,dn.ByPos,e,0,0).bottom;return i+=c-u,{from:s,to:l,top:u,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let s of this.viewports)s.domTop=a+(s.top-o)*this.scale,a=s.domBottom=s.domTop+(s.bottom-s.top),o=s.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.top)return i+(e-r)*this.scale;if(e<=o.bottom)return o.domTop+(e-o.top);r=o.bottom,i=o.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let o=n<this.viewports.length?this.viewports[n]:null;if(!o||e<o.domTop)return r+(e-i)/this.scale;if(e<=o.domBottom)return o.top+(e-o.domTop);r=o.bottom,i=o.domBottom}}}function kf(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new jo(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>kf(i,e)):t._content)}const ap=lt.define({combine:t=>t.join(" ")}),x1=lt.define({combine:t=>t.indexOf(!0)>-1}),w1=_s.newName(),oF=_s.newName(),aF=_s.newName(),sF={"&light":"."+oF,"&dark":"."+aF};function S1(t,e,n){return new _s(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const wne=S1("."+w1,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",insetInlineStart:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-highlightSpace:before":{content:"attr(data-display)",position:"absolute",pointerEvents:"none",color:"#888"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},sF),Ff="￿";class Sne{constructor(e,n){this.points=e,this.text="",this.lineSeparator=n.facet(pn.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=Ff}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let o=this.text.length;this.readNode(i);let a=i.nextSibling;if(a==n)break;let s=mn.get(i),l=mn.get(a);(s&&l?s.breakAfter:(s?s.breakAfter:ME(i))||ME(a)&&(i.nodeName!="BR"||i.cmIgnore)&&this.text.length>o)&&this.lineBreak(),i=a}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let o=-1,a=1,s;if(this.lineSeparator?(o=n.indexOf(this.lineSeparator,r),a=this.lineSeparator.length):(s=i.exec(n))&&(o=s.index,a=s[0].length),this.append(n.slice(r,o<0?n.length:o)),o<0)break;if(this.lineBreak(),a>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=a-1);r=o+a}}readNode(e){if(e.cmIgnore)return;let n=mn.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Cne(e,r.node,r.offset)?n:0))}}function Cne(t,e,n){for(;;){if(!e||n<Xa(e))return!1;if(e==t)return!0;n=$d(e)+1,e=e.parentNode}}function ME(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}class NE{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Ane{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="";let{impreciseHead:o,impreciseAnchor:a}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=e.docView.domBoundsAround(n,r,0))){let s=o||a?[]:Mne(e),l=new Sne(s,e.state);l.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=l.text,this.newSel=Nne(s,this.bounds.from)}else{let s=e.observer.selectionRange,l=o&&o.node==s.focusNode&&o.offset==s.focusOffset||!a1(e.contentDOM,s.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(s.focusNode,s.focusOffset),u=a&&a.node==s.anchorNode&&a.offset==s.anchorOffset||!a1(e.contentDOM,s.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(s.anchorNode,s.anchorOffset),c=e.viewport;if(je.ios&&e.state.selection.main.empty&&l!=u&&(c.from>0||c.to<e.state.doc.length)){let f=c.from-Math.min(l,u),d=c.to-Math.max(l,u);(f==0||f==1)&&(d==0||d==-1)&&(l=0,u=e.state.doc.length)}this.newSel=qe.single(u,l)}}}function lF(t,e){let n,{newSel:r}=e,i=t.state.selection.main,o=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:a,to:s}=e.bounds,l=i.from,u=null;(o===8||je.android&&e.text.length<s-a)&&(l=i.to,u="end");let c=Ene(t.state.doc.sliceString(a,s,Ff),e.text,l-a,u);c&&(je.chrome&&o==13&&c.toB==c.from+2&&e.text.slice(c.from,c.toB)==Ff+Ff&&c.toB--,n={from:a+c.from,to:a+c.toA,insert:Jt.of(e.text.slice(c.from,c.toB).split(Ff))})}else r&&(!t.hasFocus&&t.state.facet(wv)||r.main.eq(i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:(je.mac||je.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=qe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Jt.of([" "])}):je.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=qe.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Jt.of([" "])}),n){if(je.ios&&t.inputState.flushIOSKey()||je.android&&(n.from==i.from&&n.to==i.to&&n.insert.length==1&&n.insert.lines==2&&Ku(t.contentDOM,"Enter",13)||(n.from==i.from-1&&n.to==i.to&&n.insert.length==0||o==8&&n.insert.length<n.to-n.from&&n.to>i.head)&&Ku(t.contentDOM,"Backspace",8)||n.from==i.from&&n.to==i.to+1&&n.insert.length==0&&Ku(t.contentDOM,"Delete",46)))return!0;let a=n.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,l=()=>s||(s=Dne(t,n,r));return t.state.facet(Rk).some(u=>u(t,n.from,n.to,a,l))||t.dispatch(l()),!0}else if(r&&!r.main.eq(i)){let a=!1,s="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(a=!0),s=t.inputState.lastSelectionOrigin),t.dispatch({selection:r,scrollIntoView:a,userEvent:s}),!0}else return!1}function Dne(t,e,n){let r,i=t.state,o=i.selection.main;if(e.from>=o.from&&e.to<=o.to&&e.to-e.from>=(o.to-o.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let s=o.from<e.from?i.sliceDoc(o.from,e.from):"",l=o.to>e.to?i.sliceDoc(e.to,o.to):"";r=i.replaceSelection(t.state.toText(s+e.insert.sliceString(0,void 0,t.state.lineBreak)+l))}else{let s=i.changes(e),l=n&&n.main.to<=s.newLength?n.main:void 0;if(i.selection.ranges.length>1&&t.inputState.composing>=0&&e.to<=o.to&&e.to>=o.to-10){let u=t.state.sliceDoc(e.from,e.to),c,f=n&&jk(t,n.main.head);if(f){let p=e.insert.length-(e.to-e.from);c={from:f.from,to:f.to-p}}else c=t.state.doc.lineAt(o.head);let d=o.to-e.to,h=o.to-o.from;r=i.changeByRange(p=>{if(p.from==o.from&&p.to==o.to)return{changes:s,range:l||p.map(s)};let m=p.to-d,v=m-u.length;if(p.to-p.from!=h||t.state.sliceDoc(v,m)!=u||p.to>=c.from&&p.from<=c.to)return{range:p};let g=i.changes({from:v,to:m,insert:e.insert}),w=p.to-o.to;return{changes:g,range:l?qe.range(Math.max(0,l.anchor+w),Math.max(0,l.head+w)):p.map(g)}})}else r={changes:s,selection:l&&i.selection.replaceRange(l)}}let a="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,a+=".compose",t.inputState.compositionFirstChange&&(a+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:a,scrollIntoView:!0})}function Ene(t,e,n,r){let i=Math.min(t.length,e.length),o=0;for(;o<i&&t.charCodeAt(o)==e.charCodeAt(o);)o++;if(o==i&&t.length==e.length)return null;let a=t.length,s=e.length;for(;a>0&&s>0&&t.charCodeAt(a-1)==e.charCodeAt(s-1);)a--,s--;if(r=="end"){let l=Math.max(0,o-Math.min(a,s));n-=a+l-o}if(a<o&&t.length<e.length){let l=n<=o&&n>=a?o-n:0;o-=l,s=o+(s-a),a=o}else if(s<o){let l=n<=o&&n>=s?o-n:0;o-=l,a=o+(a-s),s=o}return{from:o,toA:a,toB:s}}function Mne(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:o}=t.observer.selectionRange;return n&&(e.push(new NE(n,r)),(i!=n||o!=r)&&e.push(new NE(i,o))),e}function Nne(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?qe.single(n+e,r+e):null}const $ne={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},fy=je.ie&&je.ie_version<=11;class One{constructor(e){this.view=e,this.active=!1,this.selectionRange=new hte,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(je.ie&&je.ie_version<=11||je.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),fy&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(wv)?r.root.activeElement!=this.dom:!Jp(r.dom,i))return;let o=i.anchorNode&&r.docView.nearest(i.anchorNode);if(o&&o.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(je.ie&&je.ie_version<=11||je.android&&je.chrome)&&!r.state.selection.main.empty&&i.focusNode&&rd(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=je.safari&&e.root.nodeType==11&&ute(this.dom.ownerDocument)==this.dom&&Tne(this.view)||Ym(e.root);if(!n||this.selectionRange.eq(n))return!1;let r=Jp(this.dom,n);return r&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&mte(this.dom,n)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(n),r&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,$ne),fy&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),fy&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let o=this.delayedAndroidKey;o&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=o.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&o.force&&Ku(this.dom,o.key,o.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let o of e){let a=this.readMutation(o);a&&(a.typeOver&&(i=!0),n==-1?{from:n,to:r}=a:(n=Math.min(a.from,n),r=Math.max(a.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&Jp(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let o=new Ane(this.view,e,n,r);return this.view.docView.domChanged={newSel:o.newSel?o.newSel.main:null},o}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=lF(this.view,n);return this.view.state==r&&this.view.update([]),i}readMutation(e){let n=this.view.docView.nearest(e.target);if(!n||n.ignoreMutation(e))return null;if(n.markDirty(e.type=="attributes"),e.type=="attributes"&&(n.flags|=4),e.type=="childList"){let r=$E(n,e.previousSibling||e.target.previousSibling,-1),i=$E(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey)}}function $E(t,e,n){for(;e;){let r=mn.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function Tne(t){let e=null;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(t.contentDOM.addEventListener("beforeinput",n,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",n,!0),!e)return null;let r=e.startContainer,i=e.startOffset,o=e.endContainer,a=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor);return rd(s.node,s.offset,o,a)&&([r,i,o,a]=[o,a,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:a}}class Ue{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:n}=e;this.dispatchTransactions=e.dispatchTransactions||n&&(r=>r.forEach(i=>n(i,this)))||(r=>this.update(r)),this.dispatch=this.dispatch.bind(this),this._root=e.root||pte(e.parent)||document,this.viewState=new DE(e.state||pn.create(e)),e.scrollTo&&e.scrollTo.is(ep)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(If).map(r=>new sy(r));for(let r of this.plugins)r.update(this);this.observer=new One(this),this.inputState=new jte(this),this.inputState.ensureHandlers(this.plugins),this.docView=new sE(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure()}dispatch(...e){let n=e.length==1&&e[0]instanceof xr?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,o=this.state;for(let d of e){if(d.startState!=o)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");o=d.state}if(this.destroyed){this.viewState.state=o;return}let a=this.hasFocus,s=0,l=null;e.some(d=>d.annotation(tF))?(this.inputState.notifiedFocused=a,s=1):a!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=a,l=nF(o,a),l||(s=1));let u=this.observer.delayedAndroidKey,c=null;if(u?(this.observer.clearDelayedAndroidKey(),c=this.observer.readChange(),(c&&!this.state.doc.eq(o.doc)||!this.state.selection.eq(o.selection))&&(c=null)):this.observer.clear(),o.facet(pn.phrases)!=this.state.facet(pn.phrases))return this.setState(o);i=Zm.create(this,o,e),i.flags|=s;let f=this.viewState.scrollTarget;try{this.updateState=2;for(let d of e){if(f&&(f=f.map(d.changes)),d.scrollIntoView){let{main:h}=d.state.selection;f=new Yu(h.empty?h:qe.cursor(h.head,h.head>h.anchor?-1:1))}for(let h of d.effects)h.is(ep)&&(f=h.value.clip(this.state))}this.viewState.update(i,f),this.bidiCache=Qm.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(Pf)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(d=>d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(ap)!=i.state.facet(ap)&&(this.viewState.mustMeasureContent=!0),(n||r||f||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!i.empty)for(let d of this.state.facet(g1))try{d(i)}catch(h){qi(this.state,h,"update listener")}(l||c)&&Promise.resolve().then(()=>{l&&this.state==l.startState&&this.dispatch(l),c&&!lF(this,c)&&u.force&&Ku(this.contentDOM,u.key,u.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new DE(e),this.plugins=e.facet(If).map(r=>new sy(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new sE(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(If),r=e.state.facet(If);if(n!=r){let i=[];for(let o of r){let a=n.indexOf(o);if(a<0)i.push(new sy(o));else{let s=this.plugins[a];s.mustUpdate=e,i.push(s)}}for(let o of this.plugins)o.mustUpdate!=e&&o.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:o,scrollAnchorHeight:a}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(a=-1),this.viewState.scrollAnchorHeight=-1;try{for(let s=0;;s++){if(a<0)if(yk(r))o=-1,a=this.viewState.heightMap.height;else{let h=this.viewState.scrollAnchorAt(i);o=h.from,a=h.top}this.updateState=1;let l=this.viewState.measure(this);if(!l&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(s>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let u=[];l&4||([this.measureRequests,u]=[u,this.measureRequests]);let c=u.map(h=>{try{return h.read(this)}catch(p){return qi(this.state,p),OE}}),f=Zm.create(this,this.state,[]),d=!1;f.flags|=l,n?n.flags|=l:n=f,this.updateState=2,f.empty||(this.updatePlugins(f),this.inputState.update(f),this.updateAttrs(),d=this.docView.update(f));for(let h=0;h<u.length;h++)if(c[h]!=OE)try{let p=u[h];p.write&&p.write(c[h],this)}catch(p){qi(this.state,p)}if(d&&this.docView.updateSelection(!0),!f.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,a=-1;continue}else{let p=(o<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(o).top)-a;if(p>1||p<-1){i=i+p,r.scrollTop=i/this.scaleY,a=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let s of this.state.facet(g1))s(n)}get themeClasses(){return w1+" "+(this.state.facet(x1)?aF:oF)+" "+this.state.facet(ap)}updateAttrs(){let e=TE(this,Hk,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(wv)?"true":"false",class:"cm-content",style:`${je.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),TE(this,tS,n);let r=this.observer.ignore(()=>{let i=f1(this.contentDOM,this.contentAttrs,n),o=f1(this.dom,this.editorAttrs,e);return i||o});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(Ue.announce)){n&&(this.announceDOM.textContent=""),n=!1;let o=this.announceDOM.appendChild(document.createElement("div"));o.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(Pf);let e=this.state.facet(Ue.cspNonce);_s.mount(this.root,this.styleModules.concat(wne).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.spec!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.spec==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return uy(this,e,hE(this,e,n,r))}moveByGroup(e,n){return uy(this,e,hE(this,e,n,r=>qte(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),o=r[n?r.length-1:0];return qe.cursor(o.side(n,i)+e.from,o.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return Ute(this,e,n,r)}moveVertically(e,n,r){return uy(this,e,Wte(this,e,n,r))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){return this.readMeasured(),Xk(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),o=this.bidiSpans(i),a=o[As.find(o,e-i.from,-1,n)];return bv(r,a.dir==wn.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(zk)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Bne)return Tk(e.length);let n=this.textDirectionAt(e.from),r;for(let o of this.bidiCache)if(o.from==e.from&&o.dir==n&&(o.fresh||Ok(o.isolates,r=aE(this,e))))return o.order;r||(r=aE(this,e));let i=Mte(e.text,n,r);return this.bidiCache.push(new Qm(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||je.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{gk(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return ep.of(new Yu(typeof e=="number"?qe.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return ep.of(new Yu(qe.cursor(r.from),"start","start",r.top-e,n,!0))}static domEventHandlers(e){return Pn.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Pn.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=_s.newName(),i=[ap.of(r),Pf.of(S1(`.${r}`,e))];return n&&n.dark&&i.push(x1.of(!0)),i}static baseTheme(e){return Kw.lowest(Pf.of(S1("."+w1,e,sF)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&mn.get(r)||mn.get(e);return((n=i==null?void 0:i.rootView)===null||n===void 0?void 0:n.view)||null}}Ue.styleModule=Pf;Ue.inputHandler=Rk;Ue.focusChangeEffect=_k;Ue.perLineTextDirection=zk;Ue.exceptionSink=Fk;Ue.updateListener=g1;Ue.editable=wv;Ue.mouseSelectionStyle=kk;Ue.dragMovesSelection=Pk;Ue.clickAddsSelectionRange=Ik;Ue.decorations=Od;Ue.outerDecorations=Vk;Ue.atomicRanges=nS;Ue.bidiIsolatedRanges=Uk;Ue.scrollMargins=qk;Ue.darkTheme=x1;Ue.cspNonce=lt.define({combine:t=>t.length?t[0]:""});Ue.contentAttributes=tS;Ue.editorAttributes=Hk;Ue.lineWrapping=Ue.contentAttributes.of({class:"cm-lineWrapping"});Ue.announce=_n.define();const Bne=4096,OE={};class Qm{constructor(e,n,r,i,o,a){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=o,this.order=a}static update(e,n){if(n.empty&&!e.some(o=>o.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:wn.LTR;for(let o=Math.max(0,e.length-10);o<e.length;o++){let a=e[o];a.dir==i&&!n.touchesRange(a.from,a.to)&&r.push(new Qm(n.mapPos(a.from,1),n.mapPos(a.to,-1),a.dir,a.isolates,!1,a.order))}return r}}function TE(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let o=r[i],a=typeof o=="function"?o(t):o;a&&c1(a,n)}return n}const Ine=je.mac?"mac":je.windows?"win":je.linux?"linux":"key";function Pne(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,o,a,s;for(let l=0;l<n.length-1;++l){const u=n[l];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))i=!0;else if(/^(c|ctrl|control)$/i.test(u))o=!0;else if(/^s(hift)?$/i.test(u))a=!0;else if(/^mod$/i.test(u))e=="mac"?s=!0:o=!0;else throw new Error("Unrecognized modifier name: "+u)}return i&&(r="Alt-"+r),o&&(r="Ctrl-"+r),s&&(r="Meta-"+r),a&&(r="Shift-"+r),r}function sp(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const kne=Kw.default(Ue.domEventHandlers({keydown(t,e){return cF(uF(e.state),t,e,"editor")}})),Sv=lt.define({enables:kne}),BE=new WeakMap;function uF(t){let e=t.facet(Sv),n=BE.get(e);return n||BE.set(e,n=_ne(e.reduce((r,i)=>r.concat(i),[]))),n}function Fne(t,e,n){return cF(uF(t.state),e,t,n)}let vs=null;const Rne=4e3;function _ne(t,e=Ine){let n=Object.create(null),r=Object.create(null),i=(a,s)=>{let l=r[a];if(l==null)r[a]=s;else if(l!=s)throw new Error("Key binding "+a+" is used both as a regular binding and as a multi-stroke prefix")},o=(a,s,l,u,c)=>{var f,d;let h=n[a]||(n[a]=Object.create(null)),p=s.split(/ (?!$)/).map(g=>Pne(g,e));for(let g=1;g<p.length;g++){let w=p.slice(0,g).join(" ");i(w,!0),h[w]||(h[w]={preventDefault:!0,stopPropagation:!1,run:[y=>{let S=vs={view:y,prefix:w,scope:a};return setTimeout(()=>{vs==S&&(vs=null)},Rne),!0}]})}let m=p.join(" ");i(m,!1);let v=h[m]||(h[m]={preventDefault:!1,stopPropagation:!1,run:((d=(f=h._any)===null||f===void 0?void 0:f.run)===null||d===void 0?void 0:d.slice())||[]});l&&v.run.push(l),u&&(v.preventDefault=!0),c&&(v.stopPropagation=!0)};for(let a of t){let s=a.scope?a.scope.split(" "):["editor"];if(a.any)for(let u of s){let c=n[u]||(n[u]=Object.create(null));c._any||(c._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in c)c[f].run.push(a.any)}let l=a[e]||a.key;if(l)for(let u of s)o(u,l,a.run,a.preventDefault,a.stopPropagation),a.shift&&o(u,"Shift-"+l,a.shift,a.preventDefault,a.stopPropagation)}return n}function cF(t,e,n,r){let i=lte(e),o=td(i,0),a=Wb(o)==i.length&&i!=" ",s="",l=!1,u=!1,c=!1;vs&&vs.view==n&&vs.scope==r&&(s=vs.prefix+" ",Yk.indexOf(e.keyCode)<0&&(u=!0,vs=null));let f=new Set,d=v=>{if(v){for(let g of v.run)if(!f.has(g)&&(f.add(g),g(n,e)))return v.stopPropagation&&(c=!0),!0;v.preventDefault&&(v.stopPropagation&&(c=!0),u=!0)}return!1},h=t[r],p,m;return h&&(d(h[s+sp(i,e,!a)])?l=!0:a&&(e.altKey||e.metaKey||e.ctrlKey)&&!(je.windows&&e.ctrlKey&&e.altKey)&&(p=zs[e.keyCode])&&p!=i?(d(h[s+sp(p,e,!0)])||e.shiftKey&&(m=Nd[e.keyCode])!=i&&m!=p&&d(h[s+sp(m,e,!1)]))&&(l=!0):a&&e.shiftKey&&d(h[s+sp(i,e,!0)])&&(l=!0),!l&&d(h._any)&&(l=!0)),u&&(l=!0),l&&c&&e.stopPropagation(),l}class th{constructor(e,n,r,i,o){this.className=e,this.left=n,this.top=r,this.width=i,this.height=o}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let o=fF(e);return[new th(n,i.left-o.left,i.top-o.top,null,i.bottom-i.top)]}else return zne(e,n,r)}}function fF(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==wn.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function IE(t,e,n){let r=qe.cursor(e);return{from:Math.max(n.from,t.moveToLineBoundary(r,!1,!0).from),to:Math.min(n.to,t.moveToLineBoundary(r,!0,!0).from),type:Fr.Text}}function zne(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),o=t.textDirection==wn.LTR,a=t.contentDOM,s=a.getBoundingClientRect(),l=fF(t),u=a.querySelector(".cm-line"),c=u&&window.getComputedStyle(u),f=s.left+(c?parseInt(c.paddingLeft)+Math.min(0,parseInt(c.textIndent)):0),d=s.right-(c?parseInt(c.paddingRight):0),h=y1(t,r),p=y1(t,i),m=h.type==Fr.Text?h:null,v=p.type==Fr.Text?p:null;if(m&&(t.lineWrapping||h.widgetLineBreaks)&&(m=IE(t,r,m)),v&&(t.lineWrapping||p.widgetLineBreaks)&&(v=IE(t,i,v)),m&&v&&m.from==v.from)return w(y(n.from,n.to,m));{let x=m?y(n.from,null,m):S(h,!1),b=v?y(null,n.to,v):S(p,!0),C=[];return(m||h).to<(v||p).from-(m&&v?1:0)||h.widgetLineBreaks>1&&x.bottom+t.defaultLineHeight/2<b.top?C.push(g(f,x.bottom,d,b.top)):x.bottom<b.top&&t.elementAtHeight((x.bottom+b.top)/2).type==Fr.Text&&(x.bottom=b.top=(x.bottom+b.top)/2),w(x).concat(C).concat(w(b))}function g(x,b,C,A){return new th(e,x-l.left,b-l.top-.01,C-x,A-b+.01)}function w({top:x,bottom:b,horizontal:C}){let A=[];for(let D=0;D<C.length;D+=2)A.push(g(C[D],x,C[D+1],b));return A}function y(x,b,C){let A=1e9,D=-1e9,E=[];function M(F,$,N,T,z){let I=t.coordsAtPos(F,F==C.to?-2:2),q=t.coordsAtPos(N,N==C.from?2:-2);!I||!q||(A=Math.min(I.top,q.top,A),D=Math.max(I.bottom,q.bottom,D),z==wn.LTR?E.push(o&&$?f:I.left,o&&T?d:q.right):E.push(!o&&T?f:q.left,!o&&$?d:I.right))}let B=x??C.from,P=b??C.to;for(let F of t.visibleRanges)if(F.to>B&&F.from<P)for(let $=Math.max(F.from,B),N=Math.min(F.to,P);;){let T=t.state.doc.lineAt($);for(let z of t.bidiSpans(T)){let I=z.from+T.from,q=z.to+T.from;if(I>=N)break;q>$&&M(Math.max(I,$),x==null&&I<=B,Math.min(q,N),b==null&&q>=P,z.dir)}if($=T.to+1,$>=N)break}return E.length==0&&M(B,x==null,P,b==null,t.textDirection),{top:A,bottom:D,horizontal:E}}function S(x,b){let C=s.top+(b?x.top:x.bottom);return{top:C,bottom:C,horizontal:[]}}}function Lne(t,e){return t.constructor==e.constructor&&t.eq(e)}class Hne{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(nm)!=e.state.facet(nm)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}setOrder(e){let n=0,r=e.facet(nm);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!Lne(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const nm=lt.define();function dF(t){return[Pn.define(e=>new Hne(e,t)),nm.of(t)]}const hF=!je.ios,Td=lt.define({combine(t){return Yw(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Vne(t={}){return[Td.of(t),Une,qne,Wne,Lk.of(!0)]}function pF(t){return t.startState.facet(Td)!=t.state.facet(Td)}const Une=dF({above:!0,markers(t){let{state:e}=t,n=e.facet(Td),r=[];for(let i of e.selection.ranges){let o=i==e.selection.main;if(i.empty?!o||hF:n.drawRangeCursor){let a=o?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",s=i.empty?i:qe.cursor(i.head,i.head>i.anchor?-1:1);for(let l of th.forRange(t,a,s))r.push(l)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=pF(t);return n&&PE(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){PE(e.state,t)},class:"cm-cursorLayer"});function PE(t,e){e.style.animationDuration=t.facet(Td).cursorBlinkRate+"ms"}const qne=dF({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:th.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||pF(t)},class:"cm-selectionLayer"}),C1={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};hF&&(C1[".cm-line"].caretColor="transparent !important",C1[".cm-content"]={caretColor:"transparent !important"});const Wne=Kw.highest(Ue.theme(C1)),mF=_n.define({map(t,e){return t==null?null:e.mapPos(t)}}),Rf=js.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(mF)?r.value:n,t)}}),jne=Pn.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(Rf);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(Rf)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(Rf),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(Rf)!=t&&this.view.dispatch({effects:mF.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Gne(){return[Rf,jne]}function kE(t,e,n,r,i){e.lastIndex=0;for(let o=t.iterRange(n,r),a=n,s;!o.next().done;a+=o.value.length)if(!o.lineBreak)for(;s=e.exec(o.value);)i(a+s.index,s)}function Xne(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:o}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),o=Math.min(t.state.doc.lineAt(o).to,o+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=o:r.push({from:i,to:o});return r}class Kne{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:o,maxLength:a=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(s,l,u,c)=>i(c,u,u+s[0].length,s,l);else if(typeof r=="function")this.addMatch=(s,l,u,c)=>{let f=r(s,l,u);f&&c(u,u+s[0].length,f)};else if(r)this.addMatch=(s,l,u,c)=>c(u,u+s[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=o,this.maxLength=a}createDeco(e){let n=new Ed,r=n.add.bind(n);for(let{from:i,to:o}of Xne(e,this.maxLength))kE(e.state.doc,this.regexp,i,o,(a,s)=>this.addMatch(s,e,a,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((o,a,s,l)=>{l>e.view.viewport.from&&s<e.view.viewport.to&&(r=Math.min(s,r),i=Math.max(l,i))}),e.viewportChanged||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let o of e.visibleRanges){let a=Math.max(o.from,r),s=Math.min(o.to,i);if(s>a){let l=e.state.doc.lineAt(a),u=l.to<s?e.state.doc.lineAt(s):l,c=Math.max(o.from,l.from),f=Math.min(o.to,u.to);if(this.boundary){for(;a>l.from;a--)if(this.boundary.test(l.text[a-1-l.from])){c=a;break}for(;s<u.to;s++)if(this.boundary.test(u.text[s-u.from])){f=s;break}}let d=[],h,p=(m,v,g)=>d.push(g.range(m,v));if(l==u)for(this.regexp.lastIndex=c-l.from;(h=this.regexp.exec(l.text))&&h.index<f-l.from;)this.addMatch(h,e,h.index+l.from,p);else kE(e.state.doc,this.regexp,c,f,(m,v)=>this.addMatch(v,e,m,p));n=n.update({filterFrom:c,filterTo:f,filter:(m,v)=>m<c||v>f,add:d})}}return n}}const A1=/x/.unicode!=null?"gu":"g",Yne=new RegExp(`[\0-\b
--­؜​‎‏\u2028\u2029‭‮⁦⁧⁩\uFEFF￹-￼]`,A1),Zne={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let dy=null;function Qne(){var t;if(dy==null&&typeof document<"u"&&document.body){let e=document.body.style;dy=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return dy||!1}const rm=lt.define({combine(t){let e=Yw(t,{render:null,specialChars:Yne,addSpecialChars:null});return(e.replaceTabs=!Qne())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,A1)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,A1)),e}});function Jne(t={}){return[rm.of(t),ere()]}let FE=null;function ere(){return FE||(FE=Pn.fromClass(class{constructor(t){this.view=t,this.decorations=st.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(rm)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Kne({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,o=td(e[0],0);if(o==9){let a=i.lineAt(r),s=n.state.tabSize,l=pk(a.text,s,r-a.from);return st.replace({widget:new ire((s-l%s)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[o]||(this.decorationCache[o]=st.replace({widget:new rre(t,o)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(rm);t.startState.facet(rm)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const tre="•";function nre(t){return t>=32?tre:t==10?"␤":String.fromCharCode(9216+t)}class rre extends ns{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=nre(this.code),r=e.state.phrase("Control character")+" "+(Zne[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let o=document.createElement("span");return o.textContent=n,o.title=r,o.setAttribute("aria-label",r),o.className="cm-specialChar",o}ignoreEvent(){return!1}}class ire extends ns{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function ore(){return sre}const are=st.line({class:"cm-activeLine"}),sre=Pn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(are.range(i.from)),e=i.from)}return st.set(n)}},{decorations:t=>t.decorations});class lre extends ns{constructor(e){super(),this.content=e}toDOM(){let e=document.createElement("span");return e.className="cm-placeholder",e.style.pointerEvents="none",e.appendChild(typeof this.content=="string"?document.createTextNode(this.content):this.content),typeof this.content=="string"?e.setAttribute("aria-label","placeholder "+this.content):e.setAttribute("aria-hidden","true"),e}coordsAt(e){let n=e.firstChild?vc(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=bv(n[0],r.direction!="rtl"),o=parseInt(r.lineHeight);return i.bottom-i.top>o*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+o}:i}ignoreEvent(){return!1}}function ure(t){return Pn.fromClass(class{constructor(e){this.view=e,this.placeholder=t?st.set([st.widget({widget:new lre(t),side:1}).range(0)]):st.none}get decorations(){return this.view.state.doc.length?st.none:this.placeholder}},{decorations:e=>e.decorations})}const D1=2e3;function cre(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),o=[];if(e.off>D1||n.off>D1||e.col<0||n.col<0){let a=Math.min(e.off,n.off),s=Math.max(e.off,n.off);for(let l=r;l<=i;l++){let u=t.doc.line(l);u.length<=s&&o.push(qe.range(u.from+a,u.to+s))}}else{let a=Math.min(e.col,n.col),s=Math.max(e.col,n.col);for(let l=r;l<=i;l++){let u=t.doc.line(l),c=r1(u.text,a,t.tabSize,!0);if(c<0)o.push(qe.cursor(u.to));else{let f=r1(u.text,s,t.tabSize);o.push(qe.range(u.from+c,u.from+f))}}}return o}function fre(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function RE(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,o=i>D1?-1:i==r.length?fre(t,e.clientX):pk(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:o,off:i}}function dre(t,e){let n=RE(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let o=i.changes.mapPos(i.startState.doc.line(n.line).from),a=i.state.doc.lineAt(o);n={line:a.number,col:n.col,off:Math.min(n.off,a.length)},r=r.map(i.changes)}},get(i,o,a){let s=RE(t,i);if(!s)return r;let l=cre(t.state,n,s);return l.length?a?qe.create(l.concat(r.ranges)):qe.create(l):r}}:null}function hre(t){let e=(t==null?void 0:t.eventFilter)||(n=>n.altKey&&n.button==0);return Ue.mouseSelectionStyle.of((n,r)=>e(r)?dre(n,r):null)}const pre={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},mre={style:"cursor: crosshair"};function gre(t={}){let[e,n]=pre[t.key||"Alt"],r=Pn.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,Ue.contentAttributes.of(i=>{var o;return!((o=i.plugin(r))===null||o===void 0)&&o.isDown?mre:null})]}const Cf="-10000px";class gF{constructor(e,n,r){this.facet=n,this.createTooltipView=r,this.input=e.state.facet(n),this.tooltips=this.input.filter(i=>i),this.tooltipViews=this.tooltips.map(r)}update(e,n){var r;let i=e.state.facet(this.facet),o=i.filter(l=>l);if(i===this.input){for(let l of this.tooltipViews)l.update&&l.update(e);return!1}let a=[],s=n?[]:null;for(let l=0;l<o.length;l++){let u=o[l],c=-1;if(u){for(let f=0;f<this.tooltips.length;f++){let d=this.tooltips[f];d&&d.create==u.create&&(c=f)}if(c<0)a[l]=this.createTooltipView(u),s&&(s[l]=!!u.above);else{let f=a[l]=this.tooltipViews[c];s&&(s[l]=n[c]),f.update&&f.update(e)}}}for(let l of this.tooltipViews)a.indexOf(l)<0&&(l.dom.remove(),(r=l.destroy)===null||r===void 0||r.call(l));return n&&(s.forEach((l,u)=>n[u]=l),n.length=s.length),this.input=i,this.tooltips=o,this.tooltipViews=a,!0}}function vre(t){let{win:e}=t;return{top:0,left:0,bottom:e.innerHeight,right:e.innerWidth}}const hy=lt.define({combine:t=>{var e,n,r;return{position:je.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||vre}}}),_E=new WeakMap,iS=Pn.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(hy);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new gF(t,oS,n=>this.createTooltip(n)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(hy);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t){let e=t.create(this.view);if(e.dom.classList.add("cm-tooltip"),t.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let n=document.createElement("div");n.className="cm-tooltip-arrow",e.dom.appendChild(n)}return e.dom.style.position=this.position,e.dom.style.top=Cf,e.dom.style.left="0px",this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var t,e;this.view.win.removeEventListener("resize",this.measureSoon);for(let n of this.manager.tooltipViews)n.dom.remove(),(t=n.destroy)===null||t===void 0||t.call(n);this.parent&&this.container.remove(),(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=this.view.dom.getBoundingClientRect(),e=1,n=1,r=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:i}=this.manager.tooltipViews[0];if(je.gecko)r=i.offsetParent!=this.container.ownerDocument.body;else if(i.style.top==Cf&&i.style.left=="0px"){let o=i.getBoundingClientRect();r=Math.abs(o.top+1e4)>1||Math.abs(o.left)>1}}if(r||this.position=="absolute")if(this.parent){let i=this.parent.getBoundingClientRect();i.width&&i.height&&(e=i.width/this.parent.offsetWidth,n=i.height/this.parent.offsetHeight)}else({scaleX:e,scaleY:n}=this.view.viewState);return{editor:t,parent:this.parent?this.container.getBoundingClientRect():t,pos:this.manager.tooltips.map((i,o)=>{let a=this.manager.tooltipViews[o];return a.getCoords?a.getCoords(i.pos):this.view.coordsAtPos(i.pos)}),size:this.manager.tooltipViews.map(({dom:i})=>i.getBoundingClientRect()),space:this.view.state.facet(hy).tooltipSpace(this.view),scaleX:e,scaleY:n,makeAbsolute:r}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let s of this.manager.tooltipViews)s.dom.style.position="absolute"}let{editor:n,space:r,scaleX:i,scaleY:o}=t,a=[];for(let s=0;s<this.manager.tooltips.length;s++){let l=this.manager.tooltips[s],u=this.manager.tooltipViews[s],{dom:c}=u,f=t.pos[s],d=t.size[s];if(!f||f.bottom<=Math.max(n.top,r.top)||f.top>=Math.min(n.bottom,r.bottom)||f.right<Math.max(n.left,r.left)-.1||f.left>Math.min(n.right,r.right)+.1){c.style.top=Cf;continue}let h=l.arrow?u.dom.querySelector(".cm-tooltip-arrow"):null,p=h?7:0,m=d.right-d.left,v=(e=_E.get(u))!==null&&e!==void 0?e:d.bottom-d.top,g=u.offset||bre,w=this.view.textDirection==wn.LTR,y=d.width>r.right-r.left?w?r.left:r.right-d.width:w?Math.min(f.left-(h?14:0)+g.x,r.right-m):Math.max(r.left,f.left-m+(h?14:0)-g.x),S=this.above[s];!l.strictSide&&(S?f.top-(d.bottom-d.top)-g.y<r.top:f.bottom+(d.bottom-d.top)+g.y>r.bottom)&&S==r.bottom-f.bottom>f.top-r.top&&(S=this.above[s]=!S);let x=(S?f.top-r.top:r.bottom-f.bottom)-p;if(x<v&&u.resize!==!1){if(x<this.view.defaultLineHeight){c.style.top=Cf;continue}_E.set(u,v),c.style.height=(v=x)/o+"px"}else c.style.height&&(c.style.height="");let b=S?f.top-v-p-g.y:f.bottom+p+g.y,C=y+m;if(u.overlap!==!0)for(let A of a)A.left<C&&A.right>y&&A.top<b+v&&A.bottom>b&&(b=S?A.top-v-2-p:A.bottom+p+2);if(this.position=="absolute"?(c.style.top=(b-t.parent.top)/o+"px",c.style.left=(y-t.parent.left)/i+"px"):(c.style.top=b/o+"px",c.style.left=y/i+"px"),h){let A=f.left+(w?g.x:-g.x)-(y+14-7);h.style.left=A/i+"px"}u.overlap!==!0&&a.push({left:y,top:b,right:C,bottom:b+v}),c.classList.toggle("cm-tooltip-above",S),c.classList.toggle("cm-tooltip-below",!S),u.positioned&&u.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=Cf}},{eventObservers:{scroll(){this.maybeMeasure()}}}),yre=Ue.baseTheme({".cm-tooltip":{zIndex:100,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),bre={x:0,y:0},oS=lt.define({enables:[iS,yre]}),Jm=lt.define();class Cv{static create(e){return new Cv(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new gF(e,Jm,n=>this.createHostedView(n))}createHostedView(e){let n=e.create(this.view);return n.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(n.dom),this.mounted&&n.mount&&n.mount(this.view),n}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const xre=oS.compute([Jm],t=>{let e=t.facet(Jm).filter(n=>n);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:Cv.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class wre{constructor(e,n,r,i,o){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=o,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.nearest(n.target);if(!r)return;let i,o=1;if(r instanceof Cs)i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let s=e.coordsAtPos(i);if(!s||n.y<s.top||n.y>s.bottom||n.x<s.left-e.defaultCharacterWidth||n.x>s.right+e.defaultCharacterWidth)return;let l=e.bidiSpans(e.state.doc.lineAt(i)).find(c=>c.from<=i&&c.to>=i),u=l&&l.dir==wn.RTL?-1:1;o=n.x<s.left?-u:u}let a=this.source(e,i,o);if(a!=null&&a.then){let s=this.pending={pos:i};a.then(l=>{this.pending==s&&(this.pending=null,l&&e.dispatch({effects:this.setHover.of(l)}))},l=>qi(e.state,l,"hover tooltip"))}else a&&e.dispatch({effects:this.setHover.of(a)})}get tooltip(){let e=this.view.plugin(iS),n=e?e.manager.tooltips.findIndex(r=>r.create==Cv.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:r,tooltip:i}=this;if(r&&i&&!Sre(i.dom,e)||this.pending){let{pos:o}=r||this.pending,a=(n=r==null?void 0:r.end)!==null&&n!==void 0?n:o;(o==a?this.view.posAtCoords(this.lastMove)!=o:!Cre(this.view,o,a,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of(null)})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of(null)})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const lp=4;function Sre(t,e){let n=t.getBoundingClientRect();return e.clientX>=n.left-lp&&e.clientX<=n.right+lp&&e.clientY>=n.top-lp&&e.clientY<=n.bottom+lp}function Cre(t,e,n,r,i,o){let a=t.scrollDOM.getBoundingClientRect(),s=t.documentTop+t.documentPadding.top+t.contentHeight;if(a.left>r||a.right<r||a.top>i||Math.min(a.bottom,s)<i)return!1;let l=t.posAtCoords({x:r,y:i},!1);return l>=e&&l<=n}function Are(t,e={}){let n=_n.define(),r=js.define({create(){return null},update(i,o){if(i&&(e.hideOnChange&&(o.docChanged||o.selection)||e.hideOn&&e.hideOn(o,i)))return null;if(i&&o.docChanged){let a=o.changes.mapPos(i.pos,-1,Qr.TrackDel);if(a==null)return null;let s=Object.assign(Object.create(null),i);s.pos=a,i.end!=null&&(s.end=o.changes.mapPos(i.end)),i=s}for(let a of o.effects)a.is(n)&&(i=a.value),a.is(Dre)&&(i=null);return i},provide:i=>Jm.from(i)});return[r,Pn.define(i=>new wre(i,t,r,n,e.hoverTime||300)),xre]}function vF(t,e){let n=t.plugin(iS);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const Dre=_n.define(),zE=lt.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function Bd(t,e){let n=t.plugin(yF),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const yF=Pn.fromClass(class{constructor(t){this.input=t.state.facet(Id),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(zE);this.top=new up(t,!0,e.topContainer),this.bottom=new up(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(zE);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new up(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new up(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(Id);if(n!=this.input){let r=n.filter(l=>l),i=[],o=[],a=[],s=[];for(let l of r){let u=this.specs.indexOf(l),c;u<0?(c=l(t.view),s.push(c)):(c=this.panels[u],c.update&&c.update(t)),i.push(c),(c.top?o:a).push(c)}this.specs=r,this.panels=i,this.top.sync(o),this.bottom.sync(a);for(let l of s)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>Ue.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class up{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=LE(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=LE(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function LE(t){let e=t.nextSibling;return t.remove(),e}const Id=lt.define({enables:yF});class Za extends gc{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Za.prototype.elementClass="";Za.prototype.toDOM=void 0;Za.prototype.mapMode=Qr.TrackBefore;Za.prototype.startSide=Za.prototype.endSide=-1;Za.prototype.point=!0;const im=lt.define(),Ere={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>jt.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},od=lt.define();function Mre(t){return[bF(),od.of(Object.assign(Object.assign({},Ere),t))]}const E1=lt.define({combine:t=>t.some(e=>e)});function bF(t){let e=[Nre];return t&&t.fixed===!1&&e.push(E1.of(!0)),e}const Nre=Pn.fromClass(class{constructor(t){this.view=t,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(od).map(e=>new VE(t,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!t.state.facet(E1),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}t.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(E1)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&this.dom.remove();let n=jt.iter(this.view.state.facet(im),this.view.viewport.from),r=[],i=this.gutters.map(o=>new $re(o,this.view.viewport,-this.view.documentPadding.top));for(let o of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(o.type)){let a=!0;for(let s of o.type)if(s.type==Fr.Text&&a){M1(n,r,s.from);for(let l of i)l.line(this.view,s,r);a=!1}else if(s.widget)for(let l of i)l.widget(this.view,s)}else if(o.type==Fr.Text){M1(n,r,o.from);for(let a of i)a.line(this.view,o,r)}else if(o.widget)for(let a of i)a.widget(this.view,o);for(let o of i)o.finish();t&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(t){let e=t.startState.facet(od),n=t.state.facet(od),r=t.docChanged||t.heightChanged||t.viewportChanged||!jt.eq(t.startState.facet(im),t.state.facet(im),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let o of n){let a=e.indexOf(o);a<0?i.push(new VE(this.view,o)):(this.gutters[a].update(t),i.push(this.gutters[a]))}for(let o of this.gutters)o.dom.remove(),i.indexOf(o)<0&&o.destroy();for(let o of i)this.dom.appendChild(o.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove()}},{provide:t=>Ue.scrollMargins.of(e=>{let n=e.plugin(t);return!n||n.gutters.length==0||!n.fixed?null:e.textDirection==wn.LTR?{left:n.dom.offsetWidth*e.scaleX}:{right:n.dom.offsetWidth*e.scaleX}})});function HE(t){return Array.isArray(t)?t:[t]}function M1(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class $re{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=jt.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,o=(n.top-this.height)/e.scaleY,a=n.height/e.scaleY;if(this.i==i.elements.length){let s=new xF(e,a,o,r);i.elements.push(s),i.dom.appendChild(s.dom)}else i.elements[this.i].update(e,a,o,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];M1(this.cursor,i,n.from),r.length&&(i=i.concat(r));let o=this.gutter.config.lineMarker(e,n,i);o&&i.unshift(o);let a=this.gutter;i.length==0&&!a.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n);r&&this.addElement(e,n,[r])}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class VE{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let o=i.target,a;if(o!=this.dom&&this.dom.contains(o)){for(;o.parentNode!=this.dom;)o=o.parentNode;let l=o.getBoundingClientRect();a=(l.top+l.bottom)/2}else a=i.clientY;let s=e.lineBlockAtHeight(a-e.documentTop);n.domEventHandlers[r](e,s,i)&&i.preventDefault()});this.markers=HE(n.markers(e)),n.initialSpacer&&(this.spacer=new xF(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=HE(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!jt.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class xF{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Ore(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let o=0,a=0;;){let s=a,l=o<n.length?n[o++]:null,u=!1;if(l){let c=l.elementClass;c&&(r+=" "+c);for(let f=a;f<this.markers.length;f++)if(this.markers[f].compare(l)){s=f,u=!0;break}}else s=this.markers.length;for(;a<s;){let c=this.markers[a++];if(c.toDOM){c.destroy(i);let f=i.nextSibling;i.remove(),i=f}}if(!l)break;l.toDOM&&(u?i=i.nextSibling:this.dom.insertBefore(l.toDOM(e),i)),u&&a++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Ore(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Tre=lt.define(),$u=lt.define({combine(t){return Yw(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let o=r[i],a=n[i];r[i]=o?(s,l,u)=>o(s,l,u)||a(s,l,u):a}return r}})}});class py extends Za{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function my(t,e){return t.state.facet($u).formatNumber(e,t.state)}const Bre=od.compute([$u],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Tre)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new py(my(e,e.state.doc.lineAt(n.from).number))},widgetMarker:()=>null,lineMarkerChange:e=>e.startState.facet($u)!=e.state.facet($u),initialSpacer(e){return new py(my(e,UE(e.state.doc.lines)))},updateSpacer(e,n){let r=my(n.view,UE(n.view.state.doc.lines));return r==e.number?e:new py(r)},domEventHandlers:t.facet($u).domEventHandlers}));function Ire(t={}){return[$u.of(t),bF(),Bre]}function UE(t){let e=9;for(;e<t;)e=e*10+9;return e}const Pre=new class extends Za{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},kre=im.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Pre.range(i)))}return jt.of(e)});function Fre(){return kre}var gy;const Ou=new Bt;function Rre(t){return fn.define({combine:t?e=>e.concat(t):void 0})}const _re=new Bt;class go{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Ln.prototype.hasOwnProperty("tree")||Object.defineProperty(Ln.prototype,"tree",{get(){return Cr(this)}}),this.parser=n,this.extension=[Hs.of(this),Ln.languageData.of((o,a,s)=>{let l=qE(o,a,s),u=l.type.prop(Ou);if(!u)return[];let c=o.facet(u),f=l.type.prop(_re);if(f){let d=l.resolve(a-l.from,s);for(let h of f)if(h.test(d,o)){let p=o.facet(h.facet);return h.type=="replace"?p:p.concat(c)}}return c})].concat(r)}isActiveAt(e,n,r=-1){return qE(e,n,r).type.prop(Ou)==this.data}findRegions(e){let n=e.facet(Hs);if((n==null?void 0:n.data)==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(o,a)=>{if(o.prop(Ou)==this.data){r.push({from:a,to:a+o.length});return}let s=o.prop(Bt.mounted);if(s){if(s.tree.prop(Ou)==this.data){if(s.overlay)for(let l of s.overlay)r.push({from:l.from+a,to:l.to+a});else r.push({from:a,to:a+o.length});return}else if(s.overlay){let l=r.length;if(i(s.tree,s.overlay[0].from+a),r.length>l)return}}for(let l=0;l<o.children.length;l++){let u=o.children[l];u instanceof Rn&&i(u,o.positions[l]+a)}};return i(Cr(e),0),r}get allowsNesting(){return!0}}go.setState=Lt.define();function qE(t,e,n){let r=t.facet(Hs),i=Cr(t).topNode;if(!r||r.allowsNesting)for(let o=i;o;o=o.enter(e,n,Qn.ExcludeBuffers))o.type.isTop&&(i=o);return i}class eg extends go{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=Rre(e.languageData);return new eg(n,e.parser.configure({props:[Ou.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new eg(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function Cr(t){let e=t.field(go.state,!1);return e?e.tree:Rn.empty}class zre{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let Af=null;class tg{constructor(e,n,r=[],i,o,a,s,l){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=o,this.viewport=a,this.skipped=s,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new tg(e,n,[],Rn.empty,0,r,[],null)}startParse(){return this.parser.startParse(new zre(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Rn.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Ml.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Ml.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=Af;Af=this;try{return e()}finally{Af=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=WE(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:o,viewport:a,skipped:s}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((u,c,f,d)=>l.push({fromA:u,toA:c,fromB:f,toB:d})),r=Ml.applyChanges(r,l),i=Rn.empty,o=0,a={from:e.mapPos(a.from,-1),to:e.mapPos(a.to,1)},this.skipped.length){s=[];for(let u of this.skipped){let c=e.mapPos(u.from,1),f=e.mapPos(u.to,-1);c<f&&s.push({from:c,to:f})}}}return new tg(this.parser,n,r,i,o,a,s,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:o}=this.skipped[r];i<e.to&&o>e.from&&(this.fragments=WE(this.fragments,i,o),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends b4{createParse(n,r,i){let o=i[0].from,a=i[i.length-1].to;return{parsedPos:o,advance(){let l=Af;if(l){for(let u of i)l.tempSkipped.push(u);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=a,new Rn(ri.none,[],[],a-o)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return Af}}function WE(t,e,n){return Ml.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class bc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new bc(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=tg.create(e.facet(Hs).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new bc(r)}}go.state=Ei.define({create:bc.init,update(t,e){for(let n of e.effects)if(n.is(go.setState))return n.value;return e.startState.facet(Hs)!=e.state.facet(Hs)?bc.init(e.state):t.apply(e)}});let wF=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(wF=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const vy=typeof navigator<"u"&&(!((gy=navigator.scheduling)===null||gy===void 0)&&gy.isInputPending)?()=>navigator.scheduling.isInputPending():null,Lre=Pn.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(go.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(go.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=wF(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,o=r.field(go.state);if(o.tree==o.context.tree&&o.context.isDone(i+1e5))return;let a=Date.now()+Math.min(this.chunkBudget,100,e&&!vy?Math.max(25,e.timeRemaining()-5):1e9),s=o.context.treeLen<i&&r.doc.length>i+1e3,l=o.context.work(()=>vy&&vy()||Date.now()>a,i+(s?0:1e5));this.chunkBudget-=Date.now()-n,(l||this.chunkBudget<=0)&&(o.context.takeTree(),this.view.dispatch({effects:go.setState.of(new bc(o.context))})),this.chunkBudget>0&&!(l&&!s)&&this.scheduleWork(),this.checkAsyncSchedule(o.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>qi(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Hs=fn.define({combine(t){return t.length?t[0]:null},enables:t=>[go.state,Lre,Ue.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class Hre{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const Vre=fn.define(),Av=fn.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function ng(t){let e=t.facet(Av);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function Pd(t,e){let n="",r=t.tabSize,i=t.facet(Av)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let o=0;o<e;o++)n+=i;return n}function aS(t,e){t instanceof Ln&&(t=new Dv(t));for(let r of t.state.facet(Vre)){let i=r(t,e);if(i!==void 0)return i}let n=Cr(t.state);return n.length>=e?Ure(t,n,e):null}class Dv{constructor(e,n={}){this.state=e,this.options=n,this.unit=ng(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:o}=this.options;return i!=null&&i>=r.from&&i<=r.to?o&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.countColumn(r,e-i),a=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return a>-1&&(o+=a-this.countColumn(r,r.search(/\S|$/))),o}countColumn(e,n=e.length){return vv(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),o=this.options.overrideIndentation;if(o){let a=o(i);if(a>-1)return a}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const SF=new Bt;function Ure(t,e,n){let r=e.resolveStack(n),i=r.node.enterUnfinishedNodesBefore(n);if(i!=r.node){let o=[];for(let a=i;a!=r.node;a=a.parent)o.push(a);for(let a=o.length-1;a>=0;a--)r={node:o[a],next:r}}return CF(r,t,n)}function CF(t,e,n){for(let r=t;r;r=r.next){let i=Wre(r.node);if(i)return i(sS.create(e,n,r))}return 0}function qre(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function Wre(t){let e=t.type.prop(SF);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Bt.closedBy))){let i=t.lastChild,o=i&&r.indexOf(i.name)>-1;return a=>Kre(a,!0,1,void 0,o&&!qre(a)?i.from:void 0)}return t.parent==null?jre:null}function jre(){return 0}class sS extends Dv{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new sS(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(Gre(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return CF(this.context.next,this.base,this.pos)}}function Gre(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function Xre(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,o=t.state.doc.lineAt(n.from),a=i==null||i<=o.from?o.to:Math.min(o.to,i);for(let s=n.to;;){let l=e.childAfter(s);if(!l||l==r)return null;if(!l.type.isSkipped)return l.from<a?n:null;s=l.to}}function Kre(t,e,n,r,i){let o=t.textAfter,a=o.match(/^\s*/)[0].length,s=r&&o.slice(a,a+r.length)==r||i==t.pos+a,l=e?Xre(t):null;return l?s?t.column(l.from):t.column(l.to):t.baseIndent+(s?0:t.unit*n)}function jE({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const Yre=200;function Zre(){return Ln.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+Yre)return t;let o=n.sliceString(i.from,r);if(!e.some(u=>u.test(o)))return t;let{state:a}=t,s=-1,l=[];for(let{head:u}of a.selection.ranges){let c=a.doc.lineAt(u);if(c.from==s)continue;s=c.from;let f=aS(a,c.from);if(f==null)continue;let d=/^\s*/.exec(c.text)[0],h=Pd(a,f);d!=h&&l.push({from:c.from,to:c.from+d.length,insert:h})}return l.length?[t,{changes:l,sequential:!0}]:t})}const Qre=fn.define(),AF=new Bt;function Jre(t){let e=t.firstChild,n=t.lastChild;return e&&e.to<n.from?{from:e.to,to:n.type.isError?t.to:n.from}:null}function eie(t,e,n){let r=Cr(t);if(r.length<n)return null;let i=r.resolveStack(n,1),o=null;for(let a=i;a;a=a.next){let s=a.node;if(s.to<=n||s.from>n)continue;if(o&&s.from<e)break;let l=s.type.prop(AF);if(l&&(s.to<r.length-50||r.length==t.doc.length||!tie(s))){let u=l(s,t);u&&u.from<=n&&u.from>=e&&u.to>n&&(o=u)}}return o}function tie(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function rg(t,e,n){for(let r of t.facet(Qre)){let i=r(t,e,n);if(i)return i}return eie(t,e,n)}function DF(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Ev=Lt.define({map:DF}),nh=Lt.define({map:DF});function EF(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const kl=Ei.define({create(){return st.none},update(t,e){t=t.map(e.changes);for(let n of e.effects)if(n.is(Ev)&&!nie(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(lS),i=r?st.replace({widget:new uie(r(e.state,n.value))}):GE;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(nh)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));if(e.selection){let n=!1,{head:r}=e.selection.main;t.between(r,r,(i,o)=>{i<r&&o>r&&(n=!0)}),n&&(t=t.update({filterFrom:r,filterTo:r,filter:(i,o)=>o<=r||i>=r}))}return t},provide:t=>Ue.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(GE.range(r,i))}return st.set(e,!0)}});function ig(t,e,n){var r;let i=null;return(r=t.field(kl,!1))===null||r===void 0||r.between(e,n,(o,a)=>{(!i||i.from>o)&&(i={from:o,to:a})}),i}function nie(t,e,n){let r=!1;return t.between(e,e,(i,o)=>{i==e&&o==n&&(r=!0)}),r}function MF(t,e){return t.field(kl,!1)?e:e.concat(Lt.appendConfig.of($F()))}const rie=t=>{for(let e of EF(t)){let n=rg(t.state,e.from,e.to);if(n)return t.dispatch({effects:MF(t.state,[Ev.of(n),NF(t,n)])}),!0}return!1},iie=t=>{if(!t.state.field(kl,!1))return!1;let e=[];for(let n of EF(t)){let r=ig(t.state,n.from,n.to);r&&e.push(nh.of(r),NF(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function NF(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return Ue.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const oie=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),o=rg(e,i.from,i.to);o&&n.push(Ev.of(o)),r=(o?t.lineBlockAt(o.to):i).to+1}return n.length&&t.dispatch({effects:MF(t.state,n)}),!!n.length},aie=t=>{let e=t.state.field(kl,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(nh.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},sie=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:rie},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:iie},{key:"Ctrl-Alt-[",run:oie},{key:"Ctrl-Alt-]",run:aie}],lie={placeholderDOM:null,preparePlaceholder:null,placeholderText:"…"},lS=fn.define({combine(t){return Wl(t,lie)}});function $F(t){let e=[kl,die];return t&&e.push(lS.of(t)),e}function OF(t,e){let{state:n}=t,r=n.facet(lS),i=a=>{let s=t.lineBlockAt(t.posAtDOM(a.target)),l=ig(t.state,s.from,s.to);l&&t.dispatch({effects:nh.of(l)}),a.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let o=document.createElement("span");return o.textContent=r.placeholderText,o.setAttribute("aria-label",n.phrase("folded code")),o.title=n.phrase("unfold"),o.className="cm-foldPlaceholder",o.onclick=i,o}const GE=st.replace({widget:new class extends ns{toDOM(t){return OF(t,null)}}});class uie extends ns{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return OF(e,this.value)}}const cie={openText:"⌄",closedText:"›",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class yy extends Za{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function fie(t={}){let e=Object.assign(Object.assign({},cie),t),n=new yy(e,!0),r=new yy(e,!1),i=Pn.fromClass(class{constructor(a){this.from=a.viewport.from,this.markers=this.buildMarkers(a)}update(a){(a.docChanged||a.viewportChanged||a.startState.facet(Hs)!=a.state.facet(Hs)||a.startState.field(kl,!1)!=a.state.field(kl,!1)||Cr(a.startState)!=Cr(a.state)||e.foldingChanged(a))&&(this.markers=this.buildMarkers(a.view))}buildMarkers(a){let s=new Ad;for(let l of a.viewportLineBlocks){let u=ig(a.state,l.from,l.to)?r:rg(a.state,l.from,l.to)?n:null;u&&s.add(l.from,l.from,u)}return s.finish()}}),{domEventHandlers:o}=e;return[i,Mre({class:"cm-foldGutter",markers(a){var s;return((s=a.plugin(i))===null||s===void 0?void 0:s.markers)||Rs.empty},initialSpacer(){return new yy(e,!1)},domEventHandlers:Object.assign(Object.assign({},o),{click:(a,s,l)=>{if(o.click&&o.click(a,s,l))return!0;let u=ig(a.state,s.from,s.to);if(u)return a.dispatch({effects:nh.of(u)}),!0;let c=rg(a.state,s.from,s.to);return c?(a.dispatch({effects:Ev.of(c)}),!0):!1}})}),$F()]}const die=Ue.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class rh{constructor(e,n){this.specs=e;let r;function i(s){let l=_s.newName();return(r||(r=Object.create(null)))["."+l]=s,l}const o=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,a=n.scope;this.scope=a instanceof go?s=>s.prop(Ou)==a.data:a?s=>s==a:void 0,this.style=S4(e.map(s=>({tag:s.tag,class:s.class||i(Object.assign({},s,{tag:null}))})),{all:o}).style,this.module=r?new _s(r):null,this.themeType=n.themeType}static define(e,n){return new rh(e,n||{})}}const N1=fn.define(),TF=fn.define({combine(t){return t.length?[t[0]]:null}});function by(t){let e=t.facet(N1);return e.length?e:t.facet(TF)}function BF(t,e){let n=[pie],r;return t instanceof rh&&(t.module&&n.push(Ue.styleModule.of(t.module)),r=t.themeType),e!=null&&e.fallback?n.push(TF.of(t)):r?n.push(N1.computeN([Ue.darkTheme],i=>i.facet(Ue.darkTheme)==(r=="dark")?[t]:[])):n.push(N1.of(t)),n}class hie{constructor(e){this.markCache=Object.create(null),this.tree=Cr(e.state),this.decorations=this.buildDeco(e,by(e.state))}update(e){let n=Cr(e.state),r=by(e.state),i=r!=by(e.startState);n.length<e.view.viewport.to&&!i&&n.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r))}buildDeco(e,n){if(!n||!this.tree.length)return st.none;let r=new Ad;for(let{from:i,to:o}of e.visibleRanges)wee(this.tree,n,(a,s,l)=>{r.add(a,s,this.markCache[l]||(this.markCache[l]=st.mark({class:l})))},i,o);return r.finish()}}const pie=Ww.high(Pn.fromClass(hie,{decorations:t=>t.decorations})),mie=rh.define([{tag:Se.meta,color:"#404740"},{tag:Se.link,textDecoration:"underline"},{tag:Se.heading,textDecoration:"underline",fontWeight:"bold"},{tag:Se.emphasis,fontStyle:"italic"},{tag:Se.strong,fontWeight:"bold"},{tag:Se.strikethrough,textDecoration:"line-through"},{tag:Se.keyword,color:"#708"},{tag:[Se.atom,Se.bool,Se.url,Se.contentSeparator,Se.labelName],color:"#219"},{tag:[Se.literal,Se.inserted],color:"#164"},{tag:[Se.string,Se.deleted],color:"#a11"},{tag:[Se.regexp,Se.escape,Se.special(Se.string)],color:"#e40"},{tag:Se.definition(Se.variableName),color:"#00f"},{tag:Se.local(Se.variableName),color:"#30a"},{tag:[Se.typeName,Se.namespace],color:"#085"},{tag:Se.className,color:"#167"},{tag:[Se.special(Se.variableName),Se.macroName],color:"#256"},{tag:Se.definition(Se.propertyName),color:"#00c"},{tag:Se.comment,color:"#940"},{tag:Se.invalid,color:"#f00"}]),gie=Ue.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),IF=1e4,PF="()[]{}",kF=fn.define({combine(t){return Wl(t,{afterCursor:!0,brackets:PF,maxScanDistance:IF,renderMatch:bie})}}),vie=st.mark({class:"cm-matchingBracket"}),yie=st.mark({class:"cm-nonmatchingBracket"});function bie(t){let e=[],n=t.matched?vie:yie;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const xie=Ei.define({create(){return st.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(kF);for(let i of e.state.selection.ranges){if(!i.empty)continue;let o=Zo(e.state,i.head,-1,r)||i.head>0&&Zo(e.state,i.head-1,1,r)||r.afterCursor&&(Zo(e.state,i.head,1,r)||i.head<e.state.doc.length&&Zo(e.state,i.head+1,-1,r));o&&(n=n.concat(r.renderMatch(o,e.state)))}return st.set(n,!0)},provide:t=>Ue.decorations.from(t)}),wie=[xie,gie];function Sie(t={}){return[kF.of(t),wie]}const Cie=new Bt;function $1(t,e,n){let r=t.prop(e<0?Bt.openedBy:Bt.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function O1(t){let e=t.type.prop(Cie);return e?e(t.node):t}function Zo(t,e,n,r={}){let i=r.maxScanDistance||IF,o=r.brackets||PF,a=Cr(t),s=a.resolveInner(e,n);for(let l=s;l;l=l.parent){let u=$1(l.type,n,o);if(u&&l.from<l.to){let c=O1(l);if(c&&(n>0?e>=c.from&&e<c.to:e>c.from&&e<=c.to))return Aie(t,e,n,l,c,u,o)}}return Die(t,e,n,a,s.type,i,o)}function Aie(t,e,n,r,i,o,a){let s=r.parent,l={from:i.from,to:i.to},u=0,c=s==null?void 0:s.cursor();if(c&&(n<0?c.childBefore(r.from):c.childAfter(r.to)))do if(n<0?c.to<=r.from:c.from>=r.to){if(u==0&&o.indexOf(c.type.name)>-1&&c.from<c.to){let f=O1(c);return{start:l,end:f?{from:f.from,to:f.to}:void 0,matched:!0}}else if($1(c.type,n,a))u++;else if($1(c.type,-n,a)){if(u==0){let f=O1(c);return{start:l,end:f&&f.from<f.to?{from:f.from,to:f.to}:void 0,matched:!1}}u--}}while(n<0?c.prevSibling():c.nextSibling());return{start:l,matched:!1}}function Die(t,e,n,r,i,o,a){let s=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),l=a.indexOf(s);if(l<0||l%2==0!=n>0)return null;let u={from:n<0?e-1:e,to:n>0?e+1:e},c=t.doc.iterRange(e,n>0?t.doc.length:0),f=0;for(let d=0;!c.next().done&&d<=o;){let h=c.value;n<0&&(d+=h.length);let p=e+d*n;for(let m=n>0?0:h.length-1,v=n>0?h.length:-1;m!=v;m+=n){let g=a.indexOf(h[m]);if(!(g<0||r.resolveInner(p+m,1).type!=i))if(g%2==0==n>0)f++;else{if(f==1)return{start:u,end:{from:p+m,to:p+m+1},matched:g>>1==l>>1};f--}}n>0&&(d+=h.length)}return c.done?{start:u,matched:!1}:null}const Eie=Object.create(null),XE=[ri.none],KE=[],YE=Object.create(null),Mie=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Mie[t]=Nie(Eie,e);function xy(t,e){KE.indexOf(t)>-1||(KE.push(t),console.warn(e))}function Nie(t,e){let n=[];for(let s of e.split(" ")){let l=[];for(let u of s.split(".")){let c=t[u]||Se[u];c?typeof c=="function"?l.length?l=l.map(c):xy(u,`Modifier ${u} used at start of tag`):l.length?xy(u,`Tag ${u} used as modifier`):l=Array.isArray(c)?c:[c]:xy(u,`Unknown highlighting tag ${u}`)}for(let u of l)n.push(u)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(s=>s.id),o=YE[i];if(o)return o.id;let a=YE[i]=ri.define({id:XE.length,name:r,props:[x4({[r]:n})]});return XE.push(a),a.id}const $ie=eg.define({name:"json",parser:Dee.configure({props:[SF.add({Object:jE({except:/^\s*\}/}),Array:jE({except:/^\s*\]/})}),AF.add({"Object Array":Jre})]}),languageData:{closeBrackets:{brackets:["[","{",'"']},indentOnInput:/^\s*[\}\]]$/}});function Oie(){return new Hre($ie)}var FF=t=>{var{theme:e,settings:n={},styles:r=[]}=t,i={".cm-gutters":{}},o={};n.background&&(o.backgroundColor=n.background),n.backgroundImage&&(o.backgroundImage=n.backgroundImage),n.foreground&&(o.color=n.foreground),(n.background||n.foreground)&&(i["&"]=o),n.fontFamily&&(i["&.cm-editor .cm-scroller"]={fontFamily:n.fontFamily}),n.gutterBackground&&(i[".cm-gutters"].backgroundColor=n.gutterBackground),n.gutterForeground&&(i[".cm-gutters"].color=n.gutterForeground),n.gutterBorder&&(i[".cm-gutters"].borderRightColor=n.gutterBorder),n.caret&&(i[".cm-content"]={caretColor:n.caret},i[".cm-cursor, .cm-dropCursor"]={borderLeftColor:n.caret});var a={};n.gutterActiveForeground&&(a.color=n.gutterActiveForeground),n.lineHighlight&&(i[".cm-activeLine"]={backgroundColor:n.lineHighlight},a.backgroundColor=n.lineHighlight),i[".cm-activeLineGutter"]=a,n.selection&&(i["&.cm-focused .cm-selectionBackground, & .cm-line::selection, & .cm-selectionLayer .cm-selectionBackground, .cm-content ::selection"]={background:n.selection+" !important"}),n.selectionMatch&&(i["& .cm-selectionMatch"]={backgroundColor:n.selectionMatch});var s=Ue.theme(i,{dark:e==="dark"}),l=rh.define(r),u=[s,BF(l)];return u},Tie={background:"#fff",foreground:"#24292e",selection:"#BBDFFF",selectionMatch:"#BBDFFF",gutterBackground:"#fff",gutterForeground:"#6e7781"},Bie=t=>{var{theme:e="light",settings:n={},styles:r=[]}=t||{};return FF({theme:e,settings:_({},Tie,n),styles:[{tag:[Se.standard(Se.tagName),Se.tagName],color:"#116329"},{tag:[Se.comment,Se.bracket],color:"#6a737d"},{tag:[Se.className,Se.propertyName],color:"#6f42c1"},{tag:[Se.variableName,Se.attributeName,Se.number,Se.operator],color:"#005cc5"},{tag:[Se.keyword,Se.typeName,Se.typeOperator,Se.typeName],color:"#d73a49"},{tag:[Se.string,Se.meta,Se.regexp],color:"#032f62"},{tag:[Se.name,Se.quote],color:"#22863a"},{tag:[Se.heading,Se.strong],color:"#24292e",fontWeight:"bold"},{tag:[Se.emphasis],color:"#24292e",fontStyle:"italic"},{tag:[Se.deleted],color:"#b31d28",backgroundColor:"ffeef0"},{tag:[Se.atom,Se.bool,Se.special(Se.variableName)],color:"#e36209"},{tag:[Se.url,Se.escape,Se.regexp,Se.link],color:"#032f62"},{tag:Se.link,textDecoration:"underline"},{tag:Se.strikethrough,textDecoration:"line-through"},{tag:Se.invalid,color:"#cb2431"},...r]})},Iie=Bie(),Pie={background:"#0d1117",foreground:"#c9d1d9",caret:"#c9d1d9",selection:"#003d73",selectionMatch:"#003d73",lineHighlight:"#36334280"},kie=t=>{var{theme:e="dark",settings:n={},styles:r=[]}=t||{};return FF({theme:e,settings:_({},Pie,n),styles:[{tag:[Se.standard(Se.tagName),Se.tagName],color:"#7ee787"},{tag:[Se.comment,Se.bracket],color:"#8b949e"},{tag:[Se.className,Se.propertyName],color:"#d2a8ff"},{tag:[Se.variableName,Se.attributeName,Se.number,Se.operator],color:"#79c0ff"},{tag:[Se.keyword,Se.typeName,Se.typeOperator,Se.typeName],color:"#ff7b72"},{tag:[Se.string,Se.meta,Se.regexp],color:"#a5d6ff"},{tag:[Se.name,Se.quote],color:"#7ee787"},{tag:[Se.heading,Se.strong],color:"#d2a8ff",fontWeight:"bold"},{tag:[Se.emphasis],color:"#d2a8ff",fontStyle:"italic"},{tag:[Se.deleted],color:"#ffdcd7",backgroundColor:"ffeef0"},{tag:[Se.atom,Se.bool,Se.special(Se.variableName)],color:"#ffab70"},{tag:Se.link,textDecoration:"underline"},{tag:Se.strikethrough,textDecoration:"line-through"},{tag:Se.invalid,color:"#f97583"},...r]})};kie();const Fie=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=cS(t.state,n.from);return r.line?Rie(t):r.block?zie(t):!1};function uS(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const Rie=uS(Vie,0),_ie=uS(RF,0),zie=uS((t,e)=>RF(t,e,Hie(e)),0);function cS(t,e){let n=t.languageDataAt("commentTokens",e);return n.length?n[0]:{}}const Df=50;function Lie(t,{open:e,close:n},r,i){let o=t.sliceDoc(r-Df,r),a=t.sliceDoc(i,i+Df),s=/\s*$/.exec(o)[0].length,l=/^\s*/.exec(a)[0].length,u=o.length-s;if(o.slice(u-e.length,u)==e&&a.slice(l,l+n.length)==n)return{open:{pos:r-s,margin:s&&1},close:{pos:i+l,margin:l&&1}};let c,f;i-r<=2*Df?c=f=t.sliceDoc(r,i):(c=t.sliceDoc(r,r+Df),f=t.sliceDoc(i-Df,i));let d=/^\s*/.exec(c)[0].length,h=/\s*$/.exec(f)[0].length,p=f.length-h-n.length;return c.slice(d,d+e.length)==e&&f.slice(p,p+n.length)==n?{open:{pos:r+d+e.length,margin:/\s/.test(c.charAt(d+e.length))?1:0},close:{pos:i-h-n.length,margin:/\s/.test(f.charAt(p-1))?1:0}}:null}function Hie(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to),o=e.length-1;o>=0&&e[o].to>r.from?e[o].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function RF(t,e,n=e.selection.ranges){let r=n.map(o=>cS(e,o.from).block);if(!r.every(o=>o))return null;let i=n.map((o,a)=>Lie(e,r[a],o.from,o.to));if(t!=2&&!i.every(o=>o))return{changes:e.changes(n.map((o,a)=>i[a]?[]:[{from:o.from,insert:r[a].open+" "},{from:o.to,insert:" "+r[a].close}]))};if(t!=1&&i.some(o=>o)){let o=[];for(let a=0,s;a<i.length;a++)if(s=i[a]){let l=r[a],{open:u,close:c}=s;o.push({from:u.pos-l.open.length,to:u.pos+u.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:o}}return null}function Vie(t,e,n=e.selection.ranges){let r=[],i=-1;for(let{from:o,to:a}of n){let s=r.length,l=1e9,u=cS(e,o).line;if(u){for(let c=o;c<=a;){let f=e.doc.lineAt(c);if(f.from>i&&(o==a||a>f.from)){i=f.from;let d=/^\s*/.exec(f.text)[0].length,h=d==f.length,p=f.text.slice(d,d+u.length)==u?d:-1;d<f.text.length&&d<l&&(l=d),r.push({line:f,comment:p,token:u,indent:d,empty:h,single:!1})}c=f.to+1}if(l<1e9)for(let c=s;c<r.length;c++)r[c].indent<r[c].line.text.length&&(r[c].indent=l);r.length==s+1&&(r[s].single=!0)}}if(t!=2&&r.some(o=>o.comment<0&&(!o.empty||o.single))){let o=[];for(let{line:s,token:l,indent:u,empty:c,single:f}of r)(f||!c)&&o.push({from:s.from+u,insert:l+" "});let a=e.changes(o);return{changes:a,selection:e.selection.map(a,1)}}else if(t!=1&&r.some(o=>o.comment>=0)){let o=[];for(let{line:a,comment:s,token:l}of r)if(s>=0){let u=a.from+s,c=u+l.length;a.text[c-a.from]==" "&&c++,o.push({from:u,to:c})}return{changes:o}}return null}const T1=Ws.define(),Uie=Ws.define(),qie=fn.define(),_F=fn.define({combine(t){return Wl(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),zF=Ei.define({create(){return Qo.empty},update(t,e){let n=e.state.facet(_F),r=e.annotation(T1);if(r){let l=ei.fromTransaction(e,r.selection),u=r.side,c=u==0?t.undone:t.done;return l?c=og(c,c.length,n.minDepth,l):c=VF(c,e.startState.selection),new Qo(u==0?r.rest:c,u==0?c:r.rest)}let i=e.annotation(Uie);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(wi.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let o=ei.fromTransaction(e),a=e.annotation(wi.time),s=e.annotation(wi.userEvent);return o?t=t.addChanges(o,a,s,n,e):e.selection&&(t=t.addSelection(e.startState.selection,a,s,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Qo(t.done.map(ei.fromJSON),t.undone.map(ei.fromJSON))}});function Wie(t={}){return[zF,_F.of(t),Ue.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?LF:e.inputType=="historyRedo"?B1:null;return r?(e.preventDefault(),r(n)):!1}})]}function Mv(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(zF,!1);if(!i)return!1;let o=i.pop(t,n,e);return o?(r(o),!0):!1}}const LF=Mv(0,!1),B1=Mv(1,!1),jie=Mv(0,!0),Gie=Mv(1,!0);class ei{constructor(e,n,r,i,o){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=o}setSelAfter(e){return new ei(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new ei(e.changes&&Ga.fromJSON(e.changes),[],e.mapped&&Wu.fromJSON(e.mapped),e.startSelection&&Xe.fromJSON(e.startSelection),e.selectionsAfter.map(Xe.fromJSON))}static fromTransaction(e,n){let r=zi;for(let i of e.startState.facet(qie)){let o=i(e);o.length&&(r=r.concat(o))}return!r.length&&e.changes.empty?null:new ei(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,zi)}static selection(e){return new ei(void 0,zi,void 0,void 0,e)}}function og(t,e,n,r){let i=e+1>n+20?e-n-1:0,o=t.slice(i,e);return o.push(r),o}function Xie(t,e){let n=[],r=!1;return t.iterChangedRanges((i,o)=>n.push(i,o)),e.iterChangedRanges((i,o,a,s)=>{for(let l=0;l<n.length;){let u=n[l++],c=n[l++];s>=u&&a<=c&&(r=!0)}}),r}function Kie(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function HF(t,e){return t.length?e.length?t.concat(e):t:e}const zi=[],Yie=200;function VF(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-Yie));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),og(t,t.length-1,1e9,n.setSelAfter(r)))}else return[ei.selection([e])]}function Zie(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function wy(t,e){if(!t.length)return t;let n=t.length,r=zi;for(;n;){let i=Qie(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let o=t.slice(0,n);return o[n-1]=i,o}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[ei.selection(r)]:zi}function Qie(t,e,n){let r=HF(t.selectionsAfter.length?t.selectionsAfter.map(s=>s.map(e)):zi,n);if(!t.changes)return ei.selection(r);let i=t.changes.map(e),o=e.mapDesc(t.changes,!0),a=t.mapped?t.mapped.composeDesc(o):o;return new ei(i,Lt.mapEffects(t.effects,e),a,t.startSelection.map(o),r)}const Jie=/^(input\.type|delete)($|\.)/;class Qo{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Qo(this.done,this.undone):this}addChanges(e,n,r,i,o){let a=this.done,s=a[a.length-1];return s&&s.changes&&!s.changes.empty&&e.changes&&(!r||Jie.test(r))&&(!s.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(o,Xie(s.changes,e.changes))||r=="input.type.compose")?a=og(a,a.length-1,i.minDepth,new ei(e.changes.compose(s.changes),HF(e.effects,s.effects),s.mapped,s.startSelection,zi)):a=og(a,a.length,i.minDepth,e),new Qo(a,zi,n,r)}addSelection(e,n,r,i){let o=this.done.length?this.done[this.done.length-1].selectionsAfter:zi;return o.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&Kie(o[o.length-1],e)?this:new Qo(VF(this.done,e),this.undone,n,r)}addMapping(e){return new Qo(wy(this.done,e),wy(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let o=i[i.length-1],a=o.selectionsAfter[0]||n.selection;if(r&&o.selectionsAfter.length)return n.update({selection:o.selectionsAfter[o.selectionsAfter.length-1],annotations:T1.of({side:e,rest:Zie(i),selection:a}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(o.changes){let s=i.length==1?zi:i.slice(0,i.length-1);return o.mapped&&(s=wy(s,o.mapped)),n.update({changes:o.changes,selection:o.startSelection,effects:o.effects,annotations:T1.of({side:e,rest:s,selection:a}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Qo.empty=new Qo(zi,zi);const eoe=[{key:"Mod-z",run:LF,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:B1,preventDefault:!0},{linux:"Ctrl-Shift-z",run:B1,preventDefault:!0},{key:"Mod-u",run:jie,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Gie,preventDefault:!0}];function Uc(t,e){return Xe.create(t.ranges.map(e),t.mainIndex)}function ua(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function Ao({state:t,dispatch:e},n){let r=Uc(t.selection,n);return r.eq(t.selection)?!1:(e(ua(t,r)),!0)}function Nv(t,e){return Xe.cursor(e?t.to:t.from)}function UF(t,e){return Ao(t,n=>n.empty?t.moveByChar(n,e):Nv(n,e))}function Dr(t){return t.textDirectionAt(t.state.selection.main.head)==wn.LTR}const qF=t=>UF(t,!Dr(t)),WF=t=>UF(t,Dr(t));function jF(t,e){return Ao(t,n=>n.empty?t.moveByGroup(n,e):Nv(n,e))}const toe=t=>jF(t,!Dr(t)),noe=t=>jF(t,Dr(t));function roe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function $v(t,e,n){let r=Cr(t).resolveInner(e.head),i=n?Bt.closedBy:Bt.openedBy;for(let l=e.head;;){let u=n?r.childAfter(l):r.childBefore(l);if(!u)break;roe(t,u,i)?r=u:l=n?u.to:u.from}let o=r.type.prop(i),a,s;return o&&(a=n?Zo(t,r.from,1):Zo(t,r.to,-1))&&a.matched?s=n?a.end.to:a.end.from:s=n?r.to:r.from,Xe.cursor(s,n?-1:1)}const ioe=t=>Ao(t,e=>$v(t.state,e,!Dr(t))),ooe=t=>Ao(t,e=>$v(t.state,e,Dr(t)));function GF(t,e){return Ao(t,n=>{if(!n.empty)return Nv(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const XF=t=>GF(t,!1),KF=t=>GF(t,!0);function YF(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let o of t.state.facet(Ue.scrollMargins)){let a=o(t);a!=null&&a.top&&(n=Math.max(a==null?void 0:a.top,n)),a!=null&&a.bottom&&(r=Math.max(a==null?void 0:a.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function ZF(t,e){let n=YF(t),{state:r}=t,i=Uc(r.selection,a=>a.empty?t.moveVertically(a,e,n.height):Nv(a,e));if(i.eq(r.selection))return!1;let o;if(n.selfScroll){let a=t.coordsAtPos(r.selection.main.head),s=t.scrollDOM.getBoundingClientRect(),l=s.top+n.marginTop,u=s.bottom-n.marginBottom;a&&a.top>l&&a.bottom<u&&(o=Ue.scrollIntoView(i.main.head,{y:"start",yMargin:a.top-l}))}return t.dispatch(ua(r,i),{effects:o}),!0}const ZE=t=>ZF(t,!1),I1=t=>ZF(t,!0);function Gs(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let o=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;o&&e.head!=r.from+o&&(i=Xe.cursor(r.from+o))}return i}const aoe=t=>Ao(t,e=>Gs(t,e,!0)),soe=t=>Ao(t,e=>Gs(t,e,!1)),loe=t=>Ao(t,e=>Gs(t,e,!Dr(t))),uoe=t=>Ao(t,e=>Gs(t,e,Dr(t))),coe=t=>Ao(t,e=>Xe.cursor(t.lineBlockAt(e.head).from,1)),foe=t=>Ao(t,e=>Xe.cursor(t.lineBlockAt(e.head).to,-1));function doe(t,e,n){let r=!1,i=Uc(t.selection,o=>{let a=Zo(t,o.head,-1)||Zo(t,o.head,1)||o.head>0&&Zo(t,o.head-1,1)||o.head<t.doc.length&&Zo(t,o.head+1,-1);if(!a||!a.end)return o;r=!0;let s=a.start.from==o.head?a.end.to:a.end.from;return n?Xe.range(o.anchor,s):Xe.cursor(s)});return r?(e(ua(t,i)),!0):!1}const hoe=({state:t,dispatch:e})=>doe(t,e,!1);function Qi(t,e){let n=Uc(t.state.selection,r=>{let i=e(r);return Xe.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(ua(t.state,n)),!0)}function QF(t,e){return Qi(t,n=>t.moveByChar(n,e))}const JF=t=>QF(t,!Dr(t)),eR=t=>QF(t,Dr(t));function tR(t,e){return Qi(t,n=>t.moveByGroup(n,e))}const poe=t=>tR(t,!Dr(t)),moe=t=>tR(t,Dr(t)),goe=t=>Qi(t,e=>$v(t.state,e,!Dr(t))),voe=t=>Qi(t,e=>$v(t.state,e,Dr(t)));function nR(t,e){return Qi(t,n=>t.moveVertically(n,e))}const rR=t=>nR(t,!1),iR=t=>nR(t,!0);function oR(t,e){return Qi(t,n=>t.moveVertically(n,e,YF(t).height))}const QE=t=>oR(t,!1),JE=t=>oR(t,!0),yoe=t=>Qi(t,e=>Gs(t,e,!0)),boe=t=>Qi(t,e=>Gs(t,e,!1)),xoe=t=>Qi(t,e=>Gs(t,e,!Dr(t))),woe=t=>Qi(t,e=>Gs(t,e,Dr(t))),Soe=t=>Qi(t,e=>Xe.cursor(t.lineBlockAt(e.head).from)),Coe=t=>Qi(t,e=>Xe.cursor(t.lineBlockAt(e.head).to)),eM=({state:t,dispatch:e})=>(e(ua(t,{anchor:0})),!0),tM=({state:t,dispatch:e})=>(e(ua(t,{anchor:t.doc.length})),!0),nM=({state:t,dispatch:e})=>(e(ua(t,{anchor:t.selection.main.anchor,head:0})),!0),rM=({state:t,dispatch:e})=>(e(ua(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Aoe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),Doe=({state:t,dispatch:e})=>{let n=Ov(t).map(({from:r,to:i})=>Xe.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:Xe.create(n),userEvent:"select"})),!0},Eoe=({state:t,dispatch:e})=>{let n=Uc(t.selection,r=>{var i;let o=Cr(t).resolveStack(r.from,1);for(let a=o;a;a=a.next){let{node:s}=a;if((s.from<r.from&&s.to>=r.to||s.to>r.to&&s.from<=r.from)&&(!((i=s.parent)===null||i===void 0)&&i.parent))return Xe.range(s.to,s.from)}return r});return e(ua(t,n)),!0},Moe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=Xe.create([n.main]):n.main.empty||(r=Xe.create([Xe.cursor(n.main.head)])),r?(e(ua(t,r)),!0):!1};function ih(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(o=>{let{from:a,to:s}=o;if(a==s){let l=e(o);l<a?(n="delete.backward",l=cp(t,l,!1)):l>a&&(n="delete.forward",l=cp(t,l,!0)),a=Math.min(a,l),s=Math.max(s,l)}else a=cp(t,a,!1),s=cp(t,s,!0);return a==s?{range:o}:{changes:{from:a,to:s},range:Xe.cursor(a,a<o.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?Ue.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function cp(t,e,n){if(t instanceof Ue)for(let r of t.state.facet(Ue.atomicRanges).map(i=>i(t)))r.between(e,e,(i,o)=>{i<e&&o>e&&(e=n?o:i)});return e}const aR=(t,e)=>ih(t,n=>{let r=n.from,{state:i}=t,o=i.doc.lineAt(r),a,s;if(!e&&r>o.from&&r<o.from+200&&!/[^ \t]/.test(a=o.text.slice(0,r-o.from))){if(a[a.length-1]=="	")return r-1;let l=vv(a,i.tabSize),u=l%ng(i)||ng(i);for(let c=0;c<u&&a[a.length-1-c]==" ";c++)r--;s=r}else s=aa(o.text,r-o.from,e,e)+o.from,s==r&&o.number!=(e?i.doc.lines:1)?s+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(o.text.slice(s-o.from,r-o.from))&&(s=aa(o.text,s-o.from,!1,!1)+o.from);return s}),P1=t=>aR(t,!1),sR=t=>aR(t,!0),lR=(t,e)=>ih(t,n=>{let r=n.head,{state:i}=t,o=i.doc.lineAt(r),a=i.charCategorizer(r);for(let s=null;;){if(r==(e?o.to:o.from)){r==n.head&&o.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let l=aa(o.text,r-o.from,e)+o.from,u=o.text.slice(Math.min(r,l)-o.from,Math.max(r,l)-o.from),c=a(u);if(s!=null&&c!=s)break;(u!=" "||r!=n.head)&&(s=c),r=l}return r}),uR=t=>lR(t,!1),Noe=t=>lR(t,!0),$oe=t=>ih(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Ooe=t=>ih(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),Toe=t=>ih(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Boe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Wn.of(["",""])},range:Xe.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Ioe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,o=t.doc.lineAt(i),a=i==o.from?i-1:aa(o.text,i-o.from,!1)+o.from,s=i==o.to?i+1:aa(o.text,i-o.from,!0)+o.from;return{changes:{from:a,to:s,insert:t.doc.slice(i,s).append(t.doc.slice(a,i))},range:Xe.cursor(s)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Ov(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),o=t.doc.lineAt(r.to);if(!r.empty&&r.to==o.from&&(o=t.doc.lineAt(r.to-1)),n>=i.number){let a=e[e.length-1];a.to=o.to,a.ranges.push(r)}else e.push({from:i.from,to:o.to,ranges:[r]});n=o.number+1}return e}function cR(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let o of Ov(t)){if(n?o.to==t.doc.length:o.from==0)continue;let a=t.doc.lineAt(n?o.to+1:o.from-1),s=a.length+1;if(n){r.push({from:o.to,to:a.to},{from:o.from,insert:a.text+t.lineBreak});for(let l of o.ranges)i.push(Xe.range(Math.min(t.doc.length,l.anchor+s),Math.min(t.doc.length,l.head+s)))}else{r.push({from:a.from,to:o.from},{from:o.to,insert:t.lineBreak+a.text});for(let l of o.ranges)i.push(Xe.range(l.anchor-s,l.head-s))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:Xe.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Poe=({state:t,dispatch:e})=>cR(t,e,!1),koe=({state:t,dispatch:e})=>cR(t,e,!0);function fR(t,e,n){if(t.readOnly)return!1;let r=[];for(let i of Ov(t))n?r.push({from:i.from,insert:t.doc.slice(i.from,i.to)+t.lineBreak}):r.push({from:i.to,insert:t.lineBreak+t.doc.slice(i.from,i.to)});return e(t.update({changes:r,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Foe=({state:t,dispatch:e})=>fR(t,e,!1),Roe=({state:t,dispatch:e})=>fR(t,e,!0),_oe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(Ov(e).map(({from:i,to:o})=>(i>0?i--:o<e.doc.length&&o++,{from:i,to:o}))),r=Uc(e.selection,i=>t.moveVertically(i,!0)).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function zoe(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=Cr(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),o;return r&&i&&r.to<=e&&i.from>=e&&(o=r.type.prop(Bt.closedBy))&&o.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const Loe=dR(!1),Hoe=dR(!0);function dR(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:o,to:a}=i,s=e.doc.lineAt(o),l=!t&&o==a&&zoe(e,o);t&&(o=a=(a<=s.to?s:e.doc.lineAt(a)).to);let u=new Dv(e,{simulateBreak:o,simulateDoubleBreak:!!l}),c=aS(u,o);for(c==null&&(c=vv(/^\s*/.exec(e.doc.lineAt(o).text)[0],e.tabSize));a<s.to&&/\s/.test(s.text[a-s.from]);)a++;l?{from:o,to:a}=l:o>s.from&&o<s.from+100&&!/\S/.test(s.text.slice(0,o))&&(o=s.from);let f=["",Pd(e,c)];return l&&f.push(Pd(e,u.lineIndent(s.from,-1))),{changes:{from:o,to:a,insert:Wn.of(f)},range:Xe.cursor(o+1+f[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function fS(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let a=r.from;a<=r.to;){let s=t.doc.lineAt(a);s.number>n&&(r.empty||r.to>s.from)&&(e(s,i,r),n=s.number),a=s.to+1}let o=t.changes(i);return{changes:i,range:Xe.range(o.mapPos(r.anchor,1),o.mapPos(r.head,1))}})}const Voe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new Dv(t,{overrideIndentation:o=>{let a=n[o];return a??-1}}),i=fS(t,(o,a,s)=>{let l=aS(r,o.from);if(l==null)return;/\S/.test(o.text)||(l=0);let u=/^\s*/.exec(o.text)[0],c=Pd(t,l);(u!=c||s.from<o.from+u.length)&&(n[o.from]=l,a.push({from:o.from,to:o.from+u.length,insert:c}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},hR=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(fS(t,(n,r)=>{r.push({from:n.from,insert:t.facet(Av)})}),{userEvent:"input.indent"})),!0),pR=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(fS(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let o=vv(i,t.tabSize),a=0,s=Pd(t,Math.max(0,o-ng(t)));for(;a<i.length&&a<s.length&&i.charCodeAt(a)==s.charCodeAt(a);)a++;r.push({from:n.from+a,to:n.from+i.length,insert:s.slice(a)})}),{userEvent:"delete.dedent"})),!0),Uoe=[{key:"Ctrl-b",run:qF,shift:JF,preventDefault:!0},{key:"Ctrl-f",run:WF,shift:eR},{key:"Ctrl-p",run:XF,shift:rR},{key:"Ctrl-n",run:KF,shift:iR},{key:"Ctrl-a",run:coe,shift:Soe},{key:"Ctrl-e",run:foe,shift:Coe},{key:"Ctrl-d",run:sR},{key:"Ctrl-h",run:P1},{key:"Ctrl-k",run:$oe},{key:"Ctrl-Alt-h",run:uR},{key:"Ctrl-o",run:Boe},{key:"Ctrl-t",run:Ioe},{key:"Ctrl-v",run:I1}],qoe=[{key:"ArrowLeft",run:qF,shift:JF,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:toe,shift:poe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:loe,shift:xoe,preventDefault:!0},{key:"ArrowRight",run:WF,shift:eR,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:noe,shift:moe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:uoe,shift:woe,preventDefault:!0},{key:"ArrowUp",run:XF,shift:rR,preventDefault:!0},{mac:"Cmd-ArrowUp",run:eM,shift:nM},{mac:"Ctrl-ArrowUp",run:ZE,shift:QE},{key:"ArrowDown",run:KF,shift:iR,preventDefault:!0},{mac:"Cmd-ArrowDown",run:tM,shift:rM},{mac:"Ctrl-ArrowDown",run:I1,shift:JE},{key:"PageUp",run:ZE,shift:QE},{key:"PageDown",run:I1,shift:JE},{key:"Home",run:soe,shift:boe,preventDefault:!0},{key:"Mod-Home",run:eM,shift:nM},{key:"End",run:aoe,shift:yoe,preventDefault:!0},{key:"Mod-End",run:tM,shift:rM},{key:"Enter",run:Loe},{key:"Mod-a",run:Aoe},{key:"Backspace",run:P1,shift:P1},{key:"Delete",run:sR},{key:"Mod-Backspace",mac:"Alt-Backspace",run:uR},{key:"Mod-Delete",mac:"Alt-Delete",run:Noe},{mac:"Mod-Backspace",run:Ooe},{mac:"Mod-Delete",run:Toe}].concat(Uoe.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),Woe=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:ioe,shift:goe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:ooe,shift:voe},{key:"Alt-ArrowUp",run:Poe},{key:"Shift-Alt-ArrowUp",run:Foe},{key:"Alt-ArrowDown",run:koe},{key:"Shift-Alt-ArrowDown",run:Roe},{key:"Escape",run:Moe},{key:"Mod-Enter",run:Hoe},{key:"Alt-l",mac:"Ctrl-l",run:Doe},{key:"Mod-i",run:Eoe,preventDefault:!0},{key:"Mod-[",run:pR},{key:"Mod-]",run:hR},{key:"Mod-Alt-\\",run:Voe},{key:"Shift-Mod-k",run:_oe},{key:"Shift-Mod-\\",run:hoe},{key:"Mod-/",run:Fie},{key:"Alt-A",run:_ie}].concat(qoe),joe={key:"Tab",run:hR,shift:pR};function un(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)mR(t,arguments[e]);return t}function mR(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)mR(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}const iM=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class xc{constructor(e,n,r=0,i=e.length,o,a){this.test=a,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=o?s=>o(iM(s)):iM,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return $r(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=Vw(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=ho(e);let i=this.normalize(n);for(let o=0,a=r;;o++){let s=i.charCodeAt(o),l=this.match(s,a);if(o==i.length-1){if(l)return this.value=l,this;break}a==r&&o<n.length&&n.charCodeAt(o)==s&&a++}}}match(e,n){let r=null;for(let i=0;i<this.matches.length;i+=2){let o=this.matches[i],a=!1;this.query.charCodeAt(o)==e&&(o==this.query.length-1?r={from:this.matches[i+1],to:n+1}:(this.matches[i]++,a=!0)),a||(this.matches.splice(i,2),i-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?r={from:n,to:n+1}:this.matches.push(1,n)),r&&this.test&&!this.test(r.from,r.to,this.buffer,this.bufferStart)&&(r=null),r}}typeof Symbol<"u"&&(xc.prototype[Symbol.iterator]=function(){return this});const gR={from:-1,to:-1,match:/.*/.exec("")},dS="gm"+(/x/.unicode==null?"":"u");class vR{constructor(e,n,r,i=0,o=e.length){if(this.text=e,this.to=o,this.curLine="",this.done=!1,this.value=gR,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new yR(e,n,r,i,o);this.re=new RegExp(n,dS+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.iter=e.iter();let a=e.lineAt(i);this.curLineStart=a.from,this.matchPos=ag(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=ag(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const Sy=new WeakMap;class Zu{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=Sy.get(e);if(!i||i.from>=r||i.to<=n){let s=new Zu(n,e.sliceString(n,r));return Sy.set(e,s),s}if(i.from==n&&i.to==r)return i;let{text:o,from:a}=i;return a>n&&(o=e.sliceString(n,a)+o,a=n),i.to<r&&(o+=e.sliceString(i.to,r)),Sy.set(e,new Zu(a,o)),new Zu(n,o.slice(n-a,r-a))}}class yR{constructor(e,n,r,i,o){this.text=e,this.to=o,this.done=!1,this.value=gR,this.matchPos=ag(e,i),this.re=new RegExp(n,dS+(r!=null&&r.ignoreCase?"i":"")),this.test=r==null?void 0:r.test,this.flat=Zu.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=ag(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=Zu.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(vR.prototype[Symbol.iterator]=yR.prototype[Symbol.iterator]=function(){return this});function Goe(t){try{return new RegExp(t,dS),!0}catch{return!1}}function ag(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}function k1(t){let e=String(t.state.doc.lineAt(t.state.selection.main.head).number),n=un("input",{class:"cm-textfield",name:"line",value:e}),r=un("form",{class:"cm-gotoLine",onkeydown:o=>{o.keyCode==27?(o.preventDefault(),t.dispatch({effects:sg.of(!1)}),t.focus()):o.keyCode==13&&(o.preventDefault(),i())},onsubmit:o=>{o.preventDefault(),i()}},un("label",t.state.phrase("Go to line"),": ",n)," ",un("button",{class:"cm-button",type:"submit"},t.state.phrase("go")));function i(){let o=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(n.value);if(!o)return;let{state:a}=t,s=a.doc.lineAt(a.selection.main.head),[,l,u,c,f]=o,d=c?+c.slice(1):0,h=u?+u:s.number;if(u&&f){let v=h/100;l&&(v=v*(l=="-"?-1:1)+s.number/a.doc.lines),h=Math.round(a.doc.lines*v)}else u&&l&&(h=h*(l=="-"?-1:1)+s.number);let p=a.doc.line(Math.max(1,Math.min(a.doc.lines,h))),m=Xe.cursor(p.from+Math.max(0,Math.min(d,p.length)));t.dispatch({effects:[sg.of(!1),Ue.scrollIntoView(m.from,{y:"center"})],selection:m}),t.focus()}return{dom:r}}const sg=Lt.define(),oM=Ei.define({create(){return!0},update(t,e){for(let n of e.effects)n.is(sg)&&(t=n.value);return t},provide:t=>Id.from(t,e=>e?k1:null)}),Xoe=t=>{let e=Bd(t,k1);if(!e){let n=[sg.of(!0)];t.state.field(oM,!1)==null&&n.push(Lt.appendConfig.of([oM,Koe])),t.dispatch({effects:n}),e=Bd(t,k1)}return e&&e.dom.querySelector("input").select(),!0},Koe=Ue.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),Yoe={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},bR=fn.define({combine(t){return Wl(t,Yoe,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function Zoe(t){let e=[nae,tae];return t&&e.push(bR.of(t)),e}const Qoe=st.mark({class:"cm-selectionMatch"}),Joe=st.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function aM(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=xn.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=xn.Word)}function eae(t,e,n,r){return t(e.sliceDoc(n,n+1))==xn.Word&&t(e.sliceDoc(r-1,r))==xn.Word}const tae=Pn.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(bR),{state:n}=t,r=n.selection;if(r.ranges.length>1)return st.none;let i=r.main,o,a=null;if(i.empty){if(!e.highlightWordAroundCursor)return st.none;let l=n.wordAt(i.head);if(!l)return st.none;a=n.charCategorizer(i.head),o=n.sliceDoc(l.from,l.to)}else{let l=i.to-i.from;if(l<e.minSelectionLength||l>200)return st.none;if(e.wholeWords){if(o=n.sliceDoc(i.from,i.to),a=n.charCategorizer(i.head),!(aM(a,n,i.from,i.to)&&eae(a,n,i.from,i.to)))return st.none}else if(o=n.sliceDoc(i.from,i.to).trim(),!o)return st.none}let s=[];for(let l of t.visibleRanges){let u=new xc(n.doc,o,l.from,l.to);for(;!u.next().done;){let{from:c,to:f}=u.value;if((!a||aM(a,n,c,f))&&(i.empty&&c<=i.from&&f>=i.to?s.push(Joe.range(c,f)):(c>=i.to||f<=i.from)&&s.push(Qoe.range(c,f)),s.length>e.maxMatches))return st.none}}return st.set(s)}},{decorations:t=>t.decorations}),nae=Ue.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),rae=({state:t,dispatch:e})=>{let{selection:n}=t,r=Xe.create(n.ranges.map(i=>t.wordAt(i.head)||Xe.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function iae(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),o=i&&i.from==n.from&&i.to==n.to;for(let a=!1,s=new xc(t.doc,e,r[r.length-1].to);;)if(s.next(),s.done){if(a)return null;s=new xc(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),a=!0}else{if(a&&r.some(l=>l.from==s.value.from))continue;if(o){let l=t.wordAt(s.value.from);if(!l||l.from!=s.value.from||l.to!=s.value.to)continue}return s.value}}const oae=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(o=>o.from===o.to))return rae({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(o=>t.sliceDoc(o.from,o.to)!=r))return!1;let i=iae(t,r);return i?(e(t.update({selection:t.selection.addRange(Xe.range(i.from,i.to),!1),effects:Ue.scrollIntoView(i.to)})),!0):!1},qc=fn.define({combine(t){return Wl(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new vae(e),scrollToMatch:e=>Ue.scrollIntoView(e)})}});class xR{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||Goe(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord}create(){return this.regexp?new uae(this):new sae(this)}getCursor(e,n=0,r){let i=e.doc?e:Ln.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Au(this,i,n,r):Cu(this,i,n,r)}}class wR{constructor(e){this.spec=e}}function Cu(t,e,n,r){return new xc(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:i=>i.toLowerCase(),t.wholeWord?aae(e.doc,e.charCategorizer(e.selection.main.head)):void 0)}function aae(t,e){return(n,r,i,o)=>((o>n||o+i.length<r)&&(o=Math.max(0,n-2),i=t.sliceString(o,Math.min(t.length,r+2))),(e(lg(i,n-o))!=xn.Word||e(ug(i,n-o))!=xn.Word)&&(e(ug(i,r-o))!=xn.Word||e(lg(i,r-o))!=xn.Word))}class sae extends wR{constructor(e){super(e)}nextMatch(e,n,r){let i=Cu(this.spec,e,r,e.doc.length).nextOverlapping();return i.done&&(i=Cu(this.spec,e,0,n).nextOverlapping()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let o=Math.max(n,i-1e4-this.spec.unquoted.length),a=Cu(this.spec,e,o,i),s=null;for(;!a.nextOverlapping().done;)s=a.value;if(s)return s;if(o==n)return null;i-=1e4}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Cu(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=Cu(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}function Au(t,e,n,r){return new vR(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:t.wholeWord?lae(e.charCategorizer(e.selection.main.head)):void 0},n,r)}function lg(t,e){return t.slice(aa(t,e,!1),e)}function ug(t,e){return t.slice(e,aa(t,e))}function lae(t){return(e,n,r)=>!r[0].length||(t(lg(r.input,r.index))!=xn.Word||t(ug(r.input,r.index))!=xn.Word)&&(t(ug(r.input,r.index+r[0].length))!=xn.Word||t(lg(r.input,r.index+r[0].length))!=xn.Word)}class uae extends wR{nextMatch(e,n,r){let i=Au(this.spec,e,r,e.doc.length).next();return i.done&&(i=Au(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let o=Math.max(n,r-i*1e4),a=Au(this.spec,e,o,r),s=null;for(;!a.next().done;)s=a.value;if(s&&(o==n||s.from>o+10))return s;if(o==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&\d+])/g,(n,r)=>r=="$"?"$":r=="&"?e.match[0]:r!="0"&&+r<e.match.length?e.match[r]:n)}matchAll(e,n){let r=Au(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let o=Au(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!o.next().done;)i(o.value.from,o.value.to)}}const kd=Lt.define(),hS=Lt.define(),$s=Ei.define({create(t){return new Cy(F1(t).create(),null)},update(t,e){for(let n of e.effects)n.is(kd)?t=new Cy(n.value.create(),t.panel):n.is(hS)&&(t=new Cy(t.query,n.value?pS:null));return t},provide:t=>Id.from(t,e=>e.panel)});class Cy{constructor(e,n){this.query=e,this.panel=n}}const cae=st.mark({class:"cm-searchMatch"}),fae=st.mark({class:"cm-searchMatch cm-searchMatch-selected"}),dae=Pn.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field($s))}update(t){let e=t.state.field($s);(e!=t.startState.field($s)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return st.none;let{view:n}=this,r=new Ad;for(let i=0,o=n.visibleRanges,a=o.length;i<a;i++){let{from:s,to:l}=o[i];for(;i<a-1&&l>o[i+1].from-2*250;)l=o[++i].to;t.highlight(n.state,s,l,(u,c)=>{let f=n.state.selection.ranges.some(d=>d.from==u&&d.to==c);r.add(u,c,f?fae:cae)})}return r.finish()}},{decorations:t=>t.decorations});function oh(t){return e=>{let n=e.state.field($s,!1);return n&&n.query.spec.valid?t(e,n):AR(e)}}const cg=oh((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=Xe.single(r.from,r.to),o=t.state.facet(qc);return t.dispatch({selection:i,effects:[mS(t,r),o.scrollToMatch(i.main,t)],userEvent:"select.search"}),CR(t),!0}),fg=oh((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let o=Xe.single(i.from,i.to),a=t.state.facet(qc);return t.dispatch({selection:o,effects:[mS(t,i),a.scrollToMatch(o.main,t)],userEvent:"select.search"}),CR(t),!0}),hae=oh((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:Xe.create(n.map(r=>Xe.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),pae=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,o=[],a=0;for(let s=new xc(t.doc,t.sliceDoc(r,i));!s.next().done;){if(o.length>1e3)return!1;s.value.from==r&&(a=o.length),o.push(Xe.range(s.value.from,s.value.to))}return e(t.update({selection:Xe.create(o,a),userEvent:"select.search.matches"})),!0},sM=oh((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let o=e.nextMatch(n,r,r);if(!o)return!1;let a=[],s,l,u=[];if(o.from==r&&o.to==i&&(l=n.toText(e.getReplacement(o)),a.push({from:o.from,to:o.to,insert:l}),o=e.nextMatch(n,o.from,o.to),u.push(Ue.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+"."))),o){let c=a.length==0||a[0].from>=o.to?0:o.to-o.from-l.length;s=Xe.single(o.from-c,o.to-c),u.push(mS(t,o)),u.push(n.facet(qc).scrollToMatch(s.main,t))}return t.dispatch({changes:a,selection:s,effects:u,userEvent:"input.replace"}),!0}),mae=oh((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:o,to:a}=i;return{from:o,to:a,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:Ue.announce.of(r),userEvent:"input.replace.all"}),!0});function pS(t){return t.state.facet(qc).createPanel(t)}function F1(t,e){var n,r,i,o,a;let s=t.selection.main,l=s.empty||s.to>s.from+100?"":t.sliceDoc(s.from,s.to);if(e&&!l)return e;let u=t.facet(qc);return new xR({search:((n=e==null?void 0:e.literal)!==null&&n!==void 0?n:u.literal)?l:l.replace(/\n/g,"\\n"),caseSensitive:(r=e==null?void 0:e.caseSensitive)!==null&&r!==void 0?r:u.caseSensitive,literal:(i=e==null?void 0:e.literal)!==null&&i!==void 0?i:u.literal,regexp:(o=e==null?void 0:e.regexp)!==null&&o!==void 0?o:u.regexp,wholeWord:(a=e==null?void 0:e.wholeWord)!==null&&a!==void 0?a:u.wholeWord})}function SR(t){let e=Bd(t,pS);return e&&e.dom.querySelector("[main-field]")}function CR(t){let e=SR(t);e&&e==t.root.activeElement&&e.select()}const AR=t=>{let e=t.state.field($s,!1);if(e&&e.panel){let n=SR(t);if(n&&n!=t.root.activeElement){let r=F1(t.state,e.query.spec);r.valid&&t.dispatch({effects:kd.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[hS.of(!0),e?kd.of(F1(t.state,e.query.spec)):Lt.appendConfig.of(bae)]});return!0},DR=t=>{let e=t.state.field($s,!1);if(!e||!e.panel)return!1;let n=Bd(t,pS);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:hS.of(!1)}),!0},gae=[{key:"Mod-f",run:AR,scope:"editor search-panel"},{key:"F3",run:cg,shift:fg,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:cg,shift:fg,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:DR,scope:"editor search-panel"},{key:"Mod-Shift-l",run:pae},{key:"Mod-Alt-g",run:Xoe},{key:"Mod-d",run:oae,preventDefault:!0}];class vae{constructor(e){this.view=e;let n=this.query=e.state.field($s).query.spec;this.commit=this.commit.bind(this),this.searchField=un("input",{value:n.search,placeholder:ci(e,"Find"),"aria-label":ci(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=un("input",{value:n.replace,placeholder:ci(e,"Replace"),"aria-label":ci(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=un("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=un("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=un("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,o,a){return un("button",{class:"cm-button",name:i,onclick:o,type:"button"},a)}this.dom=un("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>cg(e),[ci(e,"next")]),r("prev",()=>fg(e),[ci(e,"previous")]),r("select",()=>hae(e),[ci(e,"all")]),un("label",null,[this.caseField,ci(e,"match case")]),un("label",null,[this.reField,ci(e,"regexp")]),un("label",null,[this.wordField,ci(e,"by word")]),...e.state.readOnly?[]:[un("br"),this.replaceField,r("replace",()=>sM(e),[ci(e,"replace")]),r("replaceAll",()=>mae(e),[ci(e,"replace all")])],un("button",{name:"close",onclick:()=>DR(e),"aria-label":ci(e,"close"),type:"button"},["×"])])}commit(){let e=new xR({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:kd.of(e)}))}keydown(e){Fne(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?fg:cg)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),sM(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(kd)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(qc).top}}function ci(t,e){return t.state.phrase(e)}const fp=30,dp=/[\s\.,:;?!]/;function mS(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,o=Math.max(r.from,e-fp),a=Math.min(i,n+fp),s=t.state.sliceDoc(o,a);if(o!=r.from){for(let l=0;l<fp;l++)if(!dp.test(s[l+1])&&dp.test(s[l])){s=s.slice(l);break}}if(a!=i){for(let l=s.length-1;l>s.length-fp;l--)if(!dp.test(s[l-1])&&dp.test(s[l])){s=s.slice(0,l);break}}return Ue.announce.of(`${t.state.phrase("current match")}. ${s} ${t.state.phrase("on line")} ${r.number}.`)}const yae=Ue.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),bae=[$s,Ww.low(dae),yae];class ER{constructor(e,n,r){this.state=e,this.pos=n,this.explicit=r,this.abortListeners=[]}tokenBefore(e){let n=Cr(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),o=i.search(MR(e,!1));return o<0?null:{from:r+o,to:this.pos,text:i.slice(o)}}get aborted(){return this.abortListeners==null}addEventListener(e,n){e=="abort"&&this.abortListeners&&this.abortListeners.push(n)}}function lM(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function xae(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let o=1;o<i.length;o++)n[i[o]]=!0}let r=lM(e)+lM(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function wae(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:xae(e);return i=>{let o=i.matchBefore(r);return o||i.explicit?{from:o?o.from:i.pos,options:e,validFor:n}:null}}class uM{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Os(t){return t.selection.main.from}function MR(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",o=r[r.length-1]!="$";return!i&&!o?t:new RegExp(`${i?"^":""}(?:${r})${o?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const Sae=Ws.define();function Cae(t,e,n,r){let{main:i}=t.selection,o=n-i.from,a=r-i.from;return Object.assign(Object.assign({},t.changeByRange(s=>s!=i&&n!=r&&t.sliceDoc(s.from+o,s.from+a)!=t.sliceDoc(n,r)?{range:s}:{changes:{from:s.from+o,to:r==i.from?s.to:s.from+a,insert:e},range:Xe.cursor(s.from+o+e.length)})),{scrollIntoView:!0,userEvent:"input.complete"})}const cM=new WeakMap;function Aae(t){if(!Array.isArray(t))return t;let e=cM.get(t);return e||cM.set(t,e=wae(t)),e}const gS=Lt.define(),Fd=Lt.define();class Dae{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=$r(e,n),i=ho(r);this.chars.push(r);let o=e.slice(n,n+i),a=o.toUpperCase();this.folded.push($r(a==o?o.toLowerCase():a,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,!0}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return!1;let{chars:n,folded:r,any:i,precise:o,byWord:a}=this;if(n.length==1){let w=$r(e,0),y=ho(w),S=y==e.length?0:-100;if(w!=n[0])if(w==r[0])S+=-200;else return!1;return this.ret(S,[0,y])}let s=e.indexOf(this.pattern);if(s==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let l=n.length,u=0;if(s<0){for(let w=0,y=Math.min(e.length,200);w<y&&u<l;){let S=$r(e,w);(S==n[u]||S==r[u])&&(i[u++]=w),w+=ho(S)}if(u<l)return!1}let c=0,f=0,d=!1,h=0,p=-1,m=-1,v=/[a-z]/.test(e),g=!0;for(let w=0,y=Math.min(e.length,200),S=0;w<y&&f<l;){let x=$r(e,w);s<0&&(c<l&&x==n[c]&&(o[c++]=w),h<l&&(x==n[h]||x==r[h]?(h==0&&(p=w),m=w+1,h++):h=0));let b,C=x<255?x>=48&&x<=57||x>=97&&x<=122?2:x>=65&&x<=90?1:0:(b=Vw(x))!=b.toLowerCase()?1:b!=b.toUpperCase()?2:0;(!w||C==1&&v||S==0&&C!=0)&&(n[f]==x||r[f]==x&&(d=!0)?a[f++]=w:a.length&&(g=!1)),S=C,w+=ho(x)}return f==l&&a[0]==0&&g?this.result(-100+(d?-200:0),a,e):h==l&&p==0?this.ret(-200-e.length+(m==e.length?0:-100),[0,m]):s>-1?this.ret(-700-e.length,[s,s+this.pattern.length]):h==l?this.ret(-900-e.length,[p,m]):f==l?this.result(-100+(d?-200:0)+-700+(g?0:-1100),a,e):n.length==2?!1:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],o=0;for(let a of n){let s=a+(this.astral?ho($r(r,a)):1);o&&i[o-1]==a?i[o-1]=s:(i[o++]=a,i[o++]=s)}return this.ret(e-r.length,i)}}const br=fn.define({combine(t){return Wl(t,{activateOnTyping:!0,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Eae,compareCompletions:(e,n)=>e.label.localeCompare(n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>fM(e(r),n(r)),optionClass:(e,n)=>r=>fM(e(r),n(r)),addToOptions:(e,n)=>e.concat(n)})}});function fM(t,e){return t?e?t+" "+e:t:e}function Eae(t,e,n,r,i,o){let a=t.textDirection==wn.RTL,s=a,l=!1,u="top",c,f,d=e.left-i.left,h=i.right-e.right,p=r.right-r.left,m=r.bottom-r.top;if(s&&d<Math.min(p,h)?s=!1:!s&&h<Math.min(p,d)&&(s=!0),p<=(s?d:h))c=Math.max(i.top,Math.min(n.top,i.bottom-m))-e.top,f=Math.min(400,s?d:h);else{l=!0,f=Math.min(400,(a?e.right:i.right-e.left)-30);let w=i.bottom-e.bottom;w>=m||w>e.top?c=n.bottom-e.top:(u="bottom",c=e.bottom-n.top)}let v=(e.bottom-e.top)/o.offsetHeight,g=(e.right-e.left)/o.offsetWidth;return{style:`${u}: ${c/v}px; max-width: ${f/g}px`,class:"cm-completionInfo-"+(l?a?"left-narrow":"right-narrow":s?"left":"right")}}function Mae(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,o){let a=document.createElement("span");a.className="cm-completionLabel";let s=n.displayLabel||n.label,l=0;for(let u=0;u<o.length;){let c=o[u++],f=o[u++];c>l&&a.appendChild(document.createTextNode(s.slice(l,c)));let d=a.appendChild(document.createElement("span"));d.appendChild(document.createTextNode(s.slice(c,f))),d.className="cm-completionMatchedText",l=f}return l<s.length&&a.appendChild(document.createTextNode(s.slice(l))),a},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function Ay(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Nae{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:l=>this.placeInfo(l),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:o,selected:a}=i.open,s=e.state.facet(br);this.optionContent=Mae(s),this.optionClass=s.optionClass,this.tooltipClass=s.tooltipClass,this.range=Ay(o.length,a,s.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",l=>{let{options:u}=e.state.field(n).open;for(let c=l.target,f;c&&c!=this.dom;c=c.parentNode)if(c.nodeName=="LI"&&(f=/-(\d+)$/.exec(c.id))&&+f[1]<u.length){this.applyCompletion(e,u[+f[1]]),l.preventDefault();return}}),this.dom.addEventListener("focusout",l=>{let u=e.state.field(this.stateField,!1);u&&u.tooltip&&e.state.facet(br).closeOnBlur&&l.relatedTarget!=e.contentDOM&&e.dispatch({effects:Fd.of(null)})}),this.showOptions(o,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:o,selected:a,disabled:s}=r.open;(!i.open||i.open.options!=o)&&(this.range=Ay(o.length,a,e.state.facet(br).maxRenderedOptions),this.showOptions(o,r.id)),this.updateSel(),s!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!s)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;if((n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=Ay(n.options.length,n.selected,this.view.state.facet(br).maxRenderedOptions),this.showOptions(n.options,e.id)),this.updateSelectedOption(n.selected)){this.destroyInfo();let{completion:r}=n.options[n.selected],{info:i}=r;if(!i)return;let o=typeof i=="string"?document.createTextNode(i):i(r);if(!o)return;"then"in o?o.then(a=>{a&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(a,r)}).catch(a=>qi(this.view.state,a,"completion info")):this.addInfoPane(o,r)}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:o}=e;r.appendChild(i),this.infoDestroy=o||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&r.removeAttribute("aria-selected");return n&&Oae(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),o=this.space;if(!o){let a=this.dom.ownerDocument.defaultView||window;o={left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}}return i.top>Math.min(o.bottom,n.bottom)-10||i.bottom<Math.max(o.top,n.top)+10?null:this.view.state.facet(br).positionInfo(this.view,n,i,r,o,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions"));let o=null;for(let a=r.from;a<r.to;a++){let{completion:s,match:l}=e[a],{section:u}=s;if(u){let d=typeof u=="string"?u:u.name;if(d!=o&&(a>r.from||r.from==0))if(o=d,typeof u!="string"&&u.header)i.appendChild(u.header(u));else{let h=i.appendChild(document.createElement("completion-section"));h.textContent=d}}const c=i.appendChild(document.createElement("li"));c.id=n+"-"+a,c.setAttribute("role","option");let f=this.optionClass(s);f&&(c.className=f);for(let d of this.optionContent){let h=d(s,this.view.state,this.view,l);h&&c.appendChild(h)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function $ae(t,e){return n=>new Nae(n,t,e)}function Oae(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function dM(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Tae(t,e){let n=[],r=null,i=l=>{n.push(l);let{section:u}=l.completion;if(u){r||(r=[]);let c=typeof u=="string"?u:u.name;r.some(f=>f.name==c)||r.push(typeof u=="string"?{name:c}:u)}};for(let l of t)if(l.hasResult()){let u=l.result.getMatch;if(l.result.filter===!1)for(let c of l.result.options)i(new uM(c,l.source,u?u(c):[],1e9-n.length));else{let c=new Dae(e.sliceDoc(l.from,l.to));for(let f of l.result.options)if(c.match(f.label)){let d=f.displayLabel?u?u(f,c.matched):[]:c.matched;i(new uM(f,l.source,d,c.score+(f.boost||0)))}}}if(r){let l=Object.create(null),u=0,c=(f,d)=>{var h,p;return((h=f.rank)!==null&&h!==void 0?h:1e9)-((p=d.rank)!==null&&p!==void 0?p:1e9)||(f.name<d.name?-1:1)};for(let f of r.sort(c))u-=1e5,l[f.name]=u;for(let f of n){let{section:d}=f.completion;d&&(f.score+=l[typeof d=="string"?d:d.name])}}let o=[],a=null,s=e.facet(br).compareCompletions;for(let l of n.sort((u,c)=>c.score-u.score||s(u.completion,c.completion))){let u=l.completion;!a||a.label!=u.label||a.detail!=u.detail||a.type!=null&&u.type!=null&&a.type!=u.type||a.apply!=u.apply||a.boost!=u.boost?o.push(l):dM(l.completion)>dM(a)&&(o[o.length-1]=l),a=l.completion}return o}class Tu{constructor(e,n,r,i,o,a){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=o,this.disabled=a}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new Tu(this.options,hM(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,o){let a=Tae(e,n);if(!a.length)return i&&e.some(l=>l.state==1)?new Tu(i.options,i.attrs,i.tooltip,i.timestamp,i.selected,!0):null;let s=n.facet(br).selectOnOpen?0:-1;if(i&&i.selected!=s&&i.selected!=-1){let l=i.options[i.selected].completion;for(let u=0;u<a.length;u++)if(a[u].completion==l){s=u;break}}return new Tu(a,hM(r,s),{pos:e.reduce((l,u)=>u.hasResult()?Math.min(l,u.from):l,1e8),create:Fae,above:o.aboveCursor},i?i.timestamp:Date.now(),s,!1)}map(e){return new Tu(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected,this.disabled)}}class dg{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new dg(Pae,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(br),o=(r.override||n.languageDataAt("autocomplete",Os(n)).map(Aae)).map(s=>(this.active.find(u=>u.source==s)||new Zr(s,this.active.some(u=>u.state!=0)?1:0)).update(e,r));o.length==this.active.length&&o.every((s,l)=>s==this.active[l])&&(o=this.active);let a=this.open;a&&e.docChanged&&(a=a.map(e.changes)),e.selection||o.some(s=>s.hasResult()&&e.changes.touchesRange(s.from,s.to))||!Bae(o,this.active)?a=Tu.build(o,n,this.id,a,r):a&&a.disabled&&!o.some(s=>s.state==1)&&(a=null),!a&&o.every(s=>s.state!=1)&&o.some(s=>s.hasResult())&&(o=o.map(s=>s.hasResult()?new Zr(s.source,0):s));for(let s of e.effects)s.is($R)&&(a=a&&a.setSelected(s.value,this.id));return o==this.active&&a==this.open?this:new dg(o,this.id,a)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Iae}}function Bae(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult;)n++;for(;r<e.length&&!e[r].hasResult;)r++;let i=n==t.length,o=r==e.length;if(i||o)return i==o;if(t[n++].result!=e[r++].result)return!1}}const Iae={"aria-autocomplete":"list"};function hM(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Pae=[];function R1(t){return t.isUserEvent("input.type")?"input":t.isUserEvent("delete.backward")?"delete":null}class Zr{constructor(e,n,r=-1){this.source=e,this.state=n,this.explicitPos=r}hasResult(){return!1}update(e,n){let r=R1(e),i=this;r?i=i.handleUserEvent(e,r,n):e.docChanged?i=i.handleChange(e):e.selection&&i.state!=0&&(i=new Zr(i.source,0));for(let o of e.effects)if(o.is(gS))i=new Zr(i.source,1,o.value?Os(e.state):-1);else if(o.is(Fd))i=new Zr(i.source,0);else if(o.is(NR))for(let a of o.value)a.source==i.source&&(i=a);return i}handleUserEvent(e,n,r){return n=="delete"||!r.activateOnTyping?this.map(e.changes):new Zr(this.source,1)}handleChange(e){return e.changes.touchesRange(Os(e.startState))?new Zr(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Zr(this.source,this.state,e.mapPos(this.explicitPos))}}class Qu extends Zr{constructor(e,n,r,i,o){super(e,2,n),this.result=r,this.from=i,this.to=o}hasResult(){return!0}handleUserEvent(e,n,r){var i;let o=e.changes.mapPos(this.from),a=e.changes.mapPos(this.to,1),s=Os(e.state);if((this.explicitPos<0?s<=o:s<this.from)||s>a||n=="delete"&&Os(e.startState)==this.from)return new Zr(this.source,n=="input"&&r.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),u;return kae(this.result.validFor,e.state,o,a)?new Qu(this.source,l,this.result,o,a):this.result.update&&(u=this.result.update(this.result,o,a,new ER(e.state,s,l>=0)))?new Qu(this.source,l,u,u.from,(i=u.to)!==null&&i!==void 0?i:Os(e.state)):new Zr(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Zr(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Qu(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function kae(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):MR(t,!0).test(i)}const NR=Lt.define({map(t,e){return t.map(n=>n.map(e))}}),$R=Lt.define(),vi=Ei.define({create(){return dg.start()},update(t,e){return t.update(e)},provide:t=>[oS.from(t,e=>e.tooltip),Ue.contentAttributes.from(t,e=>e.attrs)]});function OR(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(vi).active.find(i=>i.source==e.source);return r instanceof Qu?(typeof n=="string"?t.dispatch(Object.assign(Object.assign({},Cae(t.state,n,r.from,r.to)),{annotations:Sae.of(e.completion)})):n(t,e.completion,r.from,r.to),!0):!1}const Fae=$ae(vi,OR);function hp(t,e="option"){return n=>{let r=n.state.field(vi,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(br).interactionDelay)return!1;let i=1,o;e=="page"&&(o=vF(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(o.dom.offsetHeight/o.dom.querySelector("li").offsetHeight)-1));let{length:a}=r.open.options,s=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:a-1;return s<0?s=e=="page"?0:a-1:s>=a&&(s=e=="page"?a-1:0),n.dispatch({effects:$R.of(s)}),!0}}const Rae=t=>{let e=t.state.field(vi,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(br).interactionDelay?!1:OR(t,e.open.options[e.open.selected])},_ae=t=>t.state.field(vi,!1)?(t.dispatch({effects:gS.of(!0)}),!0):!1,zae=t=>{let e=t.state.field(vi,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:Fd.of(null)}),!0)};class Lae{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const Hae=50,Vae=1e3,Uae=Pn.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of t.state.field(vi).active)e.state==1&&this.startQuery(e)}update(t){let e=t.state.field(vi);if(!t.selectionSet&&!t.docChanged&&t.startState.field(vi)==e)return;let n=t.transactions.some(r=>(r.selection||r.docChanged)&&!R1(r));for(let r=0;r<this.running.length;r++){let i=this.running[r];if(n||i.updates.length+t.transactions.length>Hae&&Date.now()-i.time>Vae){for(let o of i.context.abortListeners)try{o()}catch(a){qi(this.view.state,a)}i.context.abortListeners=null,this.running.splice(r--,1)}else i.updates.push(...t.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(r=>r.state==1&&!this.running.some(i=>i.active.source==r.source))?setTimeout(()=>this.startUpdate(),50):-1,this.composing!=0)for(let r of t.transactions)R1(r)=="input"?this.composing=2:this.composing==2&&r.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:t}=this.view,e=t.field(vi);for(let n of e.active)n.state==1&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n)}startQuery(t){let{state:e}=this.view,n=Os(e),r=new ER(e,n,t.explicitPos==n),i=new Lae(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(o=>{i.context.aborted||(i.done=o||null,this.scheduleAccept())},o=>{this.view.dispatch({effects:Fd.of(null)}),qi(this.view.state,o)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(br).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(br);for(let r=0;r<this.running.length;r++){let i=this.running[r];if(i.done===void 0)continue;if(this.running.splice(r--,1),i.done){let a=new Qu(i.active.source,i.active.explicitPos,i.done,i.done.from,(t=i.done.to)!==null&&t!==void 0?t:Os(i.updates.length?i.updates[0].startState:this.view.state));for(let s of i.updates)a=a.update(s,n);if(a.hasResult()){e.push(a);continue}}let o=this.view.state.field(vi).active.find(a=>a.source==i.active.source);if(o&&o.state==1)if(i.done==null){let a=new Zr(i.active.source,0);for(let s of i.updates)a=a.update(s,n);a.state!=1&&e.push(a)}else this.startQuery(o)}e.length&&this.view.dispatch({effects:NR.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(vi,!1);if(e&&e.tooltip&&this.view.state.facet(br).closeOnBlur){let n=e.open&&vF(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&this.view.dispatch({effects:Fd.of(null)})}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:gS.of(!1)}),20),this.composing=0}}}),qae=Ue.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"···"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'ƒ'"}},".cm-completionIcon-class":{"&:after":{content:"'○'"}},".cm-completionIcon-interface":{"&:after":{content:"'◌'"}},".cm-completionIcon-variable":{"&:after":{content:"'𝑥'"}},".cm-completionIcon-constant":{"&:after":{content:"'𝐶'"}},".cm-completionIcon-type":{"&:after":{content:"'𝑡'"}},".cm-completionIcon-enum":{"&:after":{content:"'∪'"}},".cm-completionIcon-property":{"&:after":{content:"'□'"}},".cm-completionIcon-keyword":{"&:after":{content:"'🔑︎'"}},".cm-completionIcon-namespace":{"&:after":{content:"'▢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Rd={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},bl=Lt.define({map(t,e){let n=e.mapPos(t,-1,Ca.TrackAfter);return n??void 0}}),vS=new class extends Cd{};vS.startSide=1;vS.endSide=-1;const TR=Ei.define({create(){return Rs.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(bl)&&(t=t.update({add:[vS.range(n.value,n.value+1)]}));return t}});function Wae(){return[Gae,TR]}const Dy="()[]{}<>";function BR(t){for(let e=0;e<Dy.length;e+=2)if(Dy.charCodeAt(e)==t)return Dy.charAt(e+1);return Vw(t<128?t:t+1)}function IR(t,e){return t.languageDataAt("closeBrackets",e)[0]||Rd}const jae=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Gae=Ue.inputHandler.of((t,e,n,r)=>{if((jae?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&ho($r(r,0))==1||e!=i.from||n!=i.to)return!1;let o=Yae(t.state,r);return o?(t.dispatch(o),!0):!1}),Xae=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=IR(t,t.selection.main.head).brackets||Rd.brackets,i=null,o=t.changeByRange(a=>{if(a.empty){let s=Zae(t.doc,a.head);for(let l of r)if(l==s&&Tv(t.doc,a.head)==BR($r(l,0)))return{changes:{from:a.head-l.length,to:a.head+l.length},range:Xe.cursor(a.head-l.length)}}return{range:i=a}});return i||e(t.update(o,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},Kae=[{key:"Backspace",run:Xae}];function Yae(t,e){let n=IR(t,t.selection.main.head),r=n.brackets||Rd.brackets;for(let i of r){let o=BR($r(i,0));if(e==i)return o==i?ese(t,i,r.indexOf(i+i+i)>-1,n):Qae(t,i,o,n.before||Rd.before);if(e==o&&PR(t,t.selection.main.from))return Jae(t,i,o)}return null}function PR(t,e){let n=!1;return t.field(TR).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function Tv(t,e){let n=t.sliceString(e,e+2);return n.slice(0,ho($r(n,0)))}function Zae(t,e){let n=t.sliceString(e-2,e);return ho($r(n,0))==n.length?n:n.slice(1)}function Qae(t,e,n,r){let i=null,o=t.changeByRange(a=>{if(!a.empty)return{changes:[{insert:e,from:a.from},{insert:n,from:a.to}],effects:bl.of(a.to+e.length),range:Xe.range(a.anchor+e.length,a.head+e.length)};let s=Tv(t.doc,a.head);return!s||/\s/.test(s)||r.indexOf(s)>-1?{changes:{insert:e+n,from:a.head},effects:bl.of(a.head+e.length),range:Xe.cursor(a.head+e.length)}:{range:i=a}});return i?null:t.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function Jae(t,e,n){let r=null,i=t.changeByRange(o=>o.empty&&Tv(t.doc,o.head)==n?{changes:{from:o.head,to:o.head+n.length,insert:n},range:Xe.cursor(o.head+n.length)}:r={range:o});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function ese(t,e,n,r){let i=r.stringPrefixes||Rd.stringPrefixes,o=null,a=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:bl.of(s.to+e.length),range:Xe.range(s.anchor+e.length,s.head+e.length)};let l=s.head,u=Tv(t.doc,l),c;if(u==e){if(pM(t,l))return{changes:{insert:e+e,from:l},effects:bl.of(l+e.length),range:Xe.cursor(l+e.length)};if(PR(t,l)){let d=n&&t.sliceDoc(l,l+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:l,to:l+d.length,insert:d},range:Xe.cursor(l+d.length)}}}else{if(n&&t.sliceDoc(l-2*e.length,l)==e+e&&(c=mM(t,l-2*e.length,i))>-1&&pM(t,c))return{changes:{insert:e+e+e+e,from:l},effects:bl.of(l+e.length),range:Xe.cursor(l+e.length)};if(t.charCategorizer(l)(u)!=xn.Word&&mM(t,l,i)>-1&&!tse(t,l,e,i))return{changes:{insert:e+e,from:l},effects:bl.of(l+e.length),range:Xe.cursor(l+e.length)}}return{range:o=s}});return o?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function pM(t,e){let n=Cr(t).resolveInner(e+1);return n.parent&&n.from==e}function tse(t,e,n,r){let i=Cr(t).resolveInner(e,-1),o=r.reduce((a,s)=>Math.max(a,s.length),0);for(let a=0;a<5;a++){let s=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+o)),l=s.indexOf(n);if(!l||l>-1&&r.indexOf(s.slice(0,l))>-1){let c=i.firstChild;for(;c&&c.from==i.from&&c.to-c.from>n.length+l;){if(t.sliceDoc(c.to-n.length,c.to)==n)return!1;c=c.firstChild}return!0}let u=i.to==e&&i.parent;if(!u)break;i=u}return!1}function mM(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=xn.Word)return e;for(let i of n){let o=e-i.length;if(t.sliceDoc(o,e)==i&&r(t.sliceDoc(o-1,o))!=xn.Word)return o}return-1}function nse(t={}){return[vi,br.of(t),Uae,rse,qae]}const kR=[{key:"Ctrl-Space",run:_ae},{key:"Escape",run:zae},{key:"ArrowDown",run:hp(!0)},{key:"ArrowUp",run:hp(!1)},{key:"PageDown",run:hp(!0,"page")},{key:"PageUp",run:hp(!1,"page")},{key:"Enter",run:Rae}],rse=Ww.highest(Sv.computeN([br],t=>t.facet(br).defaultKeymap?[kR]:[]));class ise{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class ml{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=e,o=r.facet(_R).markerFilter;o&&(i=o(i));let a=st.set(i.map(s=>s.from==s.to||s.from==s.to-1&&r.doc.lineAt(s.from).to==s.from?st.widget({widget:new hse(s),diagnostic:s}).range(s.from):st.mark({attributes:{class:"cm-lintRange cm-lintRange-"+s.severity+(s.markClass?" "+s.markClass:"")},diagnostic:s}).range(s.from,s.to)),!0);return new ml(a,n,wc(a))}}function wc(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,o,{spec:a})=>{if(!(e&&a.diagnostic!=e))return r=new ise(i,o,a.diagnostic),!1}),r}function ose(t,e){let n=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(r=>r.is(FR))||t.changes.touchesRange(n.from,n.to))}function ase(t,e){return t.field(xi,!1)?e:e.concat(Lt.appendConfig.of(gse))}const FR=Lt.define(),yS=Lt.define(),RR=Lt.define(),xi=Ei.define({create(){return new ml(st.none,null,null)},update(t,e){if(e.docChanged){let n=t.diagnostics.map(e.changes),r=null;if(t.selected){let i=e.changes.mapPos(t.selected.from,1);r=wc(n,t.selected.diagnostic,i)||wc(n,null,i)}t=new ml(n,t.panel,r)}for(let n of e.effects)n.is(FR)?t=ml.init(n.value,t.panel,e.state):n.is(yS)?t=new ml(t.diagnostics,n.value?Bv.open:null,t.selected):n.is(RR)&&(t=new ml(t.diagnostics,t.panel,n.value));return t},provide:t=>[Id.from(t,e=>e.panel),Ue.decorations.from(t,e=>e.diagnostics)]}),sse=st.mark({class:"cm-lintRange cm-lintRange-active"});function lse(t,e,n){let{diagnostics:r}=t.state.field(xi),i=[],o=2e8,a=0;r.between(e-(n<0?1:0),e+(n>0?1:0),(l,u,{spec:c})=>{e>=l&&e<=u&&(l==u||(e>l||n>0)&&(e<u||n<0))&&(i.push(c.diagnostic),o=Math.min(l,o),a=Math.max(u,a))});let s=t.state.facet(_R).tooltipFilter;return s&&(i=s(i)),i.length?{pos:o,end:a,above:t.state.doc.lineAt(o).to<a,create(){return{dom:use(t,i)}}}:null}function use(t,e){return un("ul",{class:"cm-tooltip-lint"},e.map(n=>LR(t,n,!1)))}const cse=t=>{let e=t.state.field(xi,!1);(!e||!e.panel)&&t.dispatch({effects:ase(t.state,[yS.of(!0)])});let n=Bd(t,Bv.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},gM=t=>{let e=t.state.field(xi,!1);return!e||!e.panel?!1:(t.dispatch({effects:yS.of(!1)}),!0)},fse=t=>{let e=t.state.field(xi,!1);if(!e)return!1;let n=t.state.selection.main,r=e.diagnostics.iter(n.to+1);return!r.value&&(r=e.diagnostics.iter(0),!r.value||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},dse=[{key:"Mod-Shift-m",run:cse,preventDefault:!0},{key:"F8",run:fse}],_R=fn.define({combine(t){return Object.assign({sources:t.map(e=>e.source)},Wl(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null},{needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n}))}});function zR(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(o=>o.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function LR(t,e,n){var r;let i=n?zR(e.actions):[];return un("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},un("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(r=e.actions)===null||r===void 0?void 0:r.map((o,a)=>{let s=!1,l=d=>{if(d.preventDefault(),s)return;s=!0;let h=wc(t.state.field(xi).diagnostics,e);h&&o.apply(t,h.from,h.to)},{name:u}=o,c=i[a]?u.indexOf(i[a]):-1,f=c<0?u:[u.slice(0,c),un("u",u.slice(c,c+1)),u.slice(c+1)];return un("button",{type:"button",class:"cm-diagnosticAction",onclick:l,onmousedown:l,"aria-label":` Action: ${u}${c<0?"":` (access key "${i[a]})"`}.`},f)}),e.source&&un("div",{class:"cm-diagnosticSource"},e.source))}class hse extends ns{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return un("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class vM{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=LR(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Bv{constructor(e){this.view=e,this.items=[];let n=i=>{if(i.keyCode==27)gM(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:o}=this.items[this.selectedIndex],a=zR(o.actions);for(let s=0;s<a.length;s++)if(a[s].toUpperCase().charCodeAt(0)==i.keyCode){let l=wc(this.view.state.field(xi).diagnostics,o);l&&o.actions[s].apply(e,l.from,l.to)}}else return;i.preventDefault()},r=i=>{for(let o=0;o<this.items.length;o++)this.items[o].dom.contains(i.target)&&this.moveSelection(o)};this.list=un("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=un("div",{class:"cm-panel-lint"},this.list,un("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>gM(this.view)},"×")),this.update()}get selectedIndex(){let e=this.view.state.field(xi).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(xi),r=0,i=!1,o=null;for(e.between(0,this.view.state.doc.length,(a,s,{spec:l})=>{let u=-1,c;for(let f=r;f<this.items.length;f++)if(this.items[f].diagnostic==l.diagnostic){u=f;break}u<0?(c=new vM(this.view,l.diagnostic),this.items.splice(r,0,c),i=!0):(c=this.items[u],u>r&&(this.items.splice(r,u-r),i=!0)),n&&c.diagnostic==n.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),o=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),r++});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new vM(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),o?(this.list.setAttribute("aria-activedescendant",o.id),this.view.requestMeasure({key:this,read:()=>({sel:o.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:a,panel:s})=>{let l=s.height/this.list.offsetHeight;a.top<s.top?this.list.scrollTop-=(s.top-a.top)/l:a.bottom>s.bottom&&(this.list.scrollTop+=(a.bottom-s.bottom)/l)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(xi),r=wc(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:RR.of(r)})}static open(e){return new Bv(e)}}function pse(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function pp(t){return pse(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const mse=Ue.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:pp("#d11")},".cm-lintRange-warning":{backgroundImage:pp("orange")},".cm-lintRange-info":{backgroundImage:pp("#999")},".cm-lintRange-hint":{backgroundImage:pp("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),gse=[xi,Ue.decorations.compute([xi],t=>{let{selected:e,panel:n}=t.field(xi);return!e||!n||e.from==e.to?st.none:st.set([sse.range(e.from,e.to)])}),Are(lse,{hideOn:ose}),mse],vse=[Ire(),Fre(),Jne(),Wie(),fie(),Vne(),Gne(),Ln.allowMultipleSelections.of(!0),Zre(),BF(mie,{fallback:!0}),Sie(),Wae(),nse(),hre(),gre(),ore(),Zoe(),Sv.of([...Kae,...Woe,...gae,...eoe,...sie,...kR,...dse])];/*!
* VueCodemirror v6.1.1
* Copyright (c) Surmon. All rights reserved.
* Released under the MIT License.
* Surmon
*/var yse=Object.freeze({autofocus:!1,disabled:!1,indentWithTab:!0,tabSize:2,placeholder:"",autoDestroy:!0,extensions:[vse]}),bse=Symbol("vue-codemirror-global-config"),Or,xse=function(t){var e=t.onUpdate,n=t.onChange,r=t.onFocus,i=t.onBlur,o=function(a,s){var l={};for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&s.indexOf(u)<0&&(l[u]=a[u]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function"){var c=0;for(u=Object.getOwnPropertySymbols(a);c<u.length;c++)s.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(a,u[c])&&(l[u[c]]=a[u[c]])}return l}(t,["onUpdate","onChange","onFocus","onBlur"]);return Ln.create({doc:o.doc,selection:o.selection,extensions:(Array.isArray(o.extensions)?o.extensions:[o.extensions]).concat([Ue.updateListener.of(function(a){e(a),a.docChanged&&n(a.state.doc.toString(),a),a.focusChanged&&(a.view.hasFocus?r(a):i(a))})])})},Du=function(t){var e=new jw;return{compartment:e,run:function(n){e.get(t.state)?t.dispatch({effects:e.reconfigure(n)}):t.dispatch({effects:Lt.appendConfig.of(e.of(n))})}}},yM=function(t,e){var n=Du(t),r=n.compartment,i=n.run;return function(o){var a=r.get(t.state);i(o??a!==e?e:[])}},mp={type:Boolean,default:void 0},wse={autofocus:mp,disabled:mp,indentWithTab:mp,tabSize:Number,placeholder:String,style:Object,autoDestroy:mp,phrases:Object,root:Object,extensions:Array,selection:Object},Sse={modelValue:{type:String,default:""}},Cse=Object.assign(Object.assign({},wse),Sse);(function(t){t.Change="change",t.Update="update",t.Focus="focus",t.Blur="blur",t.Ready="ready",t.ModelUpdate="update:modelValue"})(Or||(Or={}));var gl={};gl[Or.Change]=function(t,e){return!0},gl[Or.Update]=function(t){return!0},gl[Or.Focus]=function(t){return!0},gl[Or.Blur]=function(t){return!0},gl[Or.Ready]=function(t){return!0};var HR={};HR[Or.ModelUpdate]=gl[Or.Change];var Ase=Object.assign(Object.assign({},gl),HR),Dse=De({name:"VueCodemirror",props:Object.assign({},Cse),emits:Object.assign({},Ase),setup:function(t,e){var n=Be(),r=Be(),i=Be(),o=Object.assign(Object.assign({},yse),$t(bse,{})),a=H(function(){var s={};return Object.keys(za(t)).forEach(function(l){var u;l!=="modelValue"&&(s[l]=(u=t[l])!==null&&u!==void 0?u:o[l])}),s});return sn(function(){var s;r.value=xse({doc:t.modelValue,selection:a.value.selection,extensions:(s=o.extensions)!==null&&s!==void 0?s:[],onFocus:function(u){return e.emit(Or.Focus,u)},onBlur:function(u){return e.emit(Or.Blur,u)},onUpdate:function(u){return e.emit(Or.Update,u)},onChange:function(u,c){u!==t.modelValue&&(e.emit(Or.Change,u,c),e.emit(Or.ModelUpdate,u,c))}}),i.value=function(u){return new Ue(Object.assign({},u))}({state:r.value,parent:n.value,root:a.value.root});var l=function(u){var c=function(){return u.state.doc.toString()},f=Du(u).run,d=yM(u,[Ue.editable.of(!1),Ln.readOnly.of(!0)]),h=yM(u,Sv.of([joe])),p=Du(u).run,m=Du(u).run,v=Du(u).run,g=Du(u).run;return{focus:function(){return u.focus()},getDoc:c,setDoc:function(w){w!==c()&&u.dispatch({changes:{from:0,to:u.state.doc.length,insert:w}})},reExtensions:f,toggleDisabled:d,toggleIndentWithTab:h,setTabSize:function(w){p([Ln.tabSize.of(w),Av.of(" ".repeat(w))])},setPhrases:function(w){m([Ln.phrases.of(w)])},setPlaceholder:function(w){v(ure(w))},setStyle:function(w){w===void 0&&(w={}),g(Ue.theme({"&":Object.assign({},w)}))}}}(i.value);ze(function(){return t.modelValue},function(u){u!==l.getDoc()&&l.setDoc(u)}),ze(function(){return t.extensions},function(u){return l.reExtensions(u||[])},{immediate:!0}),ze(function(){return a.value.disabled},function(u){return l.toggleDisabled(u)},{immediate:!0}),ze(function(){return a.value.indentWithTab},function(u){return l.toggleIndentWithTab(u)},{immediate:!0}),ze(function(){return a.value.tabSize},function(u){return l.setTabSize(u)},{immediate:!0}),ze(function(){return a.value.phrases},function(u){return l.setPhrases(u||{})},{immediate:!0}),ze(function(){return a.value.placeholder},function(u){return l.setPlaceholder(u)},{immediate:!0}),ze(function(){return a.value.style},function(u){return l.setStyle(u)},{immediate:!0}),a.value.autofocus&&l.focus(),e.emit(Or.Ready,{state:r.value,view:i.value,container:n.value})}),ln(function(){a.value.autoDestroy&&i.value&&function(s){s.destroy()}(i.value)}),function(){return Wt("div",{class:"v-codemirror",style:{display:"contents"},ref:n})}}}),Ese=Dse;const Mse=De({name:"JsonViewer",__name:"JsonViewer",props:{data:{default:()=>({})}},setup(t){const n=Te(JSON.stringify(t.data,null,2)),r=[Oie(),Iie],i=Be();function o({view:a}){i.value=a}return(a,s)=>(Ce(),rt(O(Ese),{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=l=>n.value=l),class:"json-viewer",autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:r,onReady:o},null,8,["modelValue"]))}}),Nse={class:"absolute inset-0 flex flex-col"},$se={class:"relative grow"},Ose={class:"absolute inset-0"},Tse={class:"p-2"},Bse={class:"flex justify-end p-2 grow-0 bg-gray-50"},Ise=De({name:"ModalContentCode",__name:"ModalContentCode",setup(t){const e=Rc(),{editorState:n}=Vn();async function r(){await JJ.write(JSON.stringify(n.dataCurrent.value,null,2)),kP.success("复制成功"),n.editorSettingAutoCloseCodeAfterCopy.value&&(e==null||e.destroy())}return(i,o)=>(Ce(),Re("div",Nse,[we("div",$se,[we("div",Ose,[k(O(Ps),null,{default:Ae(()=>[we("div",Tse,[k(O(Mse),{data:O(n).dataCurrent.value},null,8,["data"])])]),_:1})])]),we("div",Bse,[k(O(Hi),{onClick:o[0]||(o[0]=()=>r())},{default:Ae(()=>[Ot(" 复制 ")]),_:1})])]))}}),Pse=De({name:"ModalContentComponentConfig",props:{componentId:{required:!0,type:String}},setup(t){const{editorState:e}=Vn(),n=aB({childrenKey:"children",handler:u=>u.meta.componentId===t.componentId,source:e.dataTree.value});if(!n)return()=>Wt("div","no component");const r=Ta(e.dataCurrent.value,n.key),i=e.components.value.find(u=>u.name===r.name),o=Te({...i==null?void 0:i.initialProps,...r.props});ze(o,()=>{r.props=o.value},{deep:!0});const a=n6(()=>i&&i.componentConfigAsync?i.componentConfigAsync():Promise.resolve(null)),s=i&&i.componentConfigSync,l=xz(KT((i==null?void 0:i.initialProps)||{},(u,c)=>f=>{o.value[c]=f}),(u,c)=>`onUpdate:${c}`);return()=>Wt(Ps,Wt(s||a,{...o.value,...l}))}}),kse={class:"space-y-2"},Fse={class:"flex space-x-2"},Rse=De({name:"ModalContentFileRename",__name:"ModalContentFileRename",setup(t){const e=Rc(),{editorState:n}=Vn(),r=Te(n.editorMetaName.value);function i(){n.editorMetaName.value=r.value,e==null||e.destroy()}return(o,a)=>(Ce(),Re("div",kse,[we("div",Fse,[k(O(On),{value:r.value,"onUpdate:value":a[0]||(a[0]=s=>r.value=s),placeholder:"文件名称",onPressEnter:a[1]||(a[1]=()=>i())},null,8,["value"]),k(O(Hi),{type:"primary",disabled:!O(Iz)(r.value),onClick:a[2]||(a[2]=()=>i())},{default:Ae(()=>[Ot(" 确定 ")]),_:1},8,["disabled"])]),k(O(hc),null,{default:Ae(()=>[Ot(" 请不要使用以下字符："+Nt(O(sB).join(" ")),1)]),_:1})]))}}),_se=De({name:"ModalContentPreviewRender",setup(){const{editorState:t}=Vn(),e={onClickBox:n=>{console.log("onClickBox",n)}};return()=>k("div",{class:"absolute inset-0"},[k(C6,r6({data:t.dataCurrent.value,components:t.components.value},e),{box:t.slots.box})])}}),zse={class:"grid grid-cols-3 gap-2 py-1"},Lse=["onClick"],Hse=we("span",{class:"text-2xl i-lucide-component"},null,-1),Vse=De({name:"ModalContentSelectComponent",__name:"ModalContentSelectComponent",emits:["select"],setup(t,{emit:e}){const n=e,{editorState:r}=Vn();function i(o){n("select",o)}return(o,a)=>(Ce(),Re("div",zse,[(Ce(!0),Re(gt,null,wo(O(r).components.value,s=>(Ce(),Re("div",{key:s.name,class:"flex flex-col items-center justify-center px-2 py-4 space-y-2 rounded cursor-pointer select-none active:bg-indigo-100 hover:ring-2 hover:ring-indigo-500 hover:bg-indigo-50 bg-gray-50",onClick:()=>i(s)},[Hse,we("span",null,Nt(s.title),1)],8,Lse))),128))]))}}),Use={class:"absolute inset-0"},qse={class:"absolute inset-y-0 left-0 w-36"},Wse={class:"px-2"},jse=["onClick"],Gse={class:"absolute inset-y-0 right-0 left-36"},Xse={key:0,class:"pr-2"},Kse=we("div",{class:"px-4 py-1 text-xs text-gray-800 rounded bg-gray-50"}," 辅助线 ",-1),Yse={class:"flex items-center justify-between h-10 px-4 rounded cursor-pointer select-none hover:bg-gray-50"},Zse={class:"flex items-center justify-between h-10 px-4 rounded cursor-pointer select-none hover:bg-gray-50"},Qse={class:"flex items-center justify-between h-10 px-4 rounded cursor-pointer select-none hover:bg-gray-50"},Jse={class:"flex items-center justify-between h-10 px-4 rounded cursor-pointer select-none hover:bg-gray-50"},ele={key:1,class:"pr-2"},tle=we("div",{class:"px-4 py-1 text-xs text-gray-800 rounded bg-gray-50"}," 边栏 ",-1),nle={class:"flex items-center justify-between h-10 px-4 rounded cursor-pointer select-none hover:bg-gray-50"},rle={class:"flex items-center justify-between h-10 px-4 rounded cursor-pointer select-none hover:bg-gray-50"},ile=we("div",{class:"px-4 py-1 text-xs text-gray-800 rounded bg-gray-50"}," 数据检查 ",-1),ole={class:"flex items-center justify-between h-10 px-4 rounded cursor-pointer select-none hover:bg-gray-50"},ale={key:2,class:"pr-2"},sle=we("div",{class:"px-4 py-1 text-xs text-gray-800 rounded bg-gray-50"}," 代码检查 ",-1),lle={class:"flex items-center justify-between h-10 px-4 rounded cursor-pointer select-none hover:bg-gray-50"},ule=De({name:"ModalContentSetting",__name:"ModalContentSetting",setup(t){const{editorState:e}=Vn(),n=[{label:"编辑器",value:"editor"},{label:"界面",value:"interface"},{label:"偏好",value:"preference"}],r=Te(n[0].value);return(i,o)=>(Ce(),Re("div",Use,[we("div",qse,[k(O(Ps),null,{default:Ae(()=>[we("div",Wse,[(Ce(),Re(gt,null,wo(n,a=>we("div",{key:a.value,class:it(["flex items-center h-10 pl-2 text-sm rounded cursor-pointer select-none active:scale-95",{"bg-indigo-500 text-white":r.value===a.value,"text-gray-500":r.value!==a.value}]),onClick:()=>r.value=a.value},Nt(a.label),11,jse)),64))])]),_:1})]),we("div",Gse,[k(O(Ps),null,{default:Ae(()=>[r.value==="editor"?(Ce(),Re("div",Xse,[Kse,we("div",Yse,[k(O(Yn),null,{default:Ae(()=>[Ot("吸附画布边缘")]),_:1}),k(O(ya),{checked:O(e).editorSettingPointsIncludeBoardEdge.value,"onUpdate:checked":o[0]||(o[0]=a=>O(e).editorSettingPointsIncludeBoardEdge.value=a),size:"small"},null,8,["checked"])]),we("div",Zse,[k(O(Yn),null,{default:Ae(()=>[Ot("吸附画布中心")]),_:1}),k(O(ya),{checked:O(e).editorSettingPointsIncludeBoardCenter.value,"onUpdate:checked":o[1]||(o[1]=a=>O(e).editorSettingPointsIncludeBoardCenter.value=a),size:"small"},null,8,["checked"])]),we("div",Qse,[k(O(Yn),null,{default:Ae(()=>[Ot("吸附容器边缘")]),_:1}),k(O(ya),{checked:O(e).editorSettingPointsIncludeBoxEdge.value,"onUpdate:checked":o[2]||(o[2]=a=>O(e).editorSettingPointsIncludeBoxEdge.value=a),size:"small"},null,8,["checked"])]),we("div",Jse,[k(O(Yn),null,{default:Ae(()=>[Ot("吸附容器中心")]),_:1}),k(O(ya),{checked:O(e).editorSettingPointsIncludeBoxCenter.value,"onUpdate:checked":o[3]||(o[3]=a=>O(e).editorSettingPointsIncludeBoxCenter.value=a),size:"small"},null,8,["checked"])])])):et("",!0),r.value==="interface"?(Ce(),Re("div",ele,[tle,we("div",nle,[k(O(Yn),null,{default:Ae(()=>[Ot("左侧边栏")]),_:1}),k(O(ya),{checked:O(e).editorSettingPanelActiveLayoutLeft.value,"onUpdate:checked":o[4]||(o[4]=a=>O(e).editorSettingPanelActiveLayoutLeft.value=a),size:"small"},null,8,["checked"])]),we("div",rle,[k(O(Yn),null,{default:Ae(()=>[Ot("右侧边栏")]),_:1}),k(O(ya),{checked:O(e).editorSettingPanelActiveLayoutRight.value,"onUpdate:checked":o[5]||(o[5]=a=>O(e).editorSettingPanelActiveLayoutRight.value=a),size:"small"},null,8,["checked"])]),ile,we("div",ole,[k(O(Yn),null,{default:Ae(()=>[Ot("状态信息")]),_:1}),k(O(ya),{checked:O(e).editorSettingPanelActiveStatus.value,"onUpdate:checked":o[6]||(o[6]=a=>O(e).editorSettingPanelActiveStatus.value=a),size:"small"},null,8,["checked"])])])):et("",!0),r.value==="preference"?(Ce(),Re("div",ale,[sle,we("div",lle,[k(O(Yn),null,{default:Ae(()=>[Ot("复制代码后自动关闭")]),_:1}),k(O(ya),{checked:O(e).editorSettingAutoCloseCodeAfterCopy.value,"onUpdate:checked":o[7]||(o[7]=a=>O(e).editorSettingAutoCloseCodeAfterCopy.value=a),size:"small"},null,8,["checked"])])])):et("",!0)]),_:1})])]))}}),cle={class:"grid grid-cols-3"},fle=["onClick"],dle={class:"text-lg font-medium"},hle={class:"text-sm text-gray-600"},ple=De({name:"ModalContentSizePreset",__name:"ModalContentSizePreset",setup(t){const e=Rc(),{editorState:n}=Vn();function r({width:i,height:o}){n.draggableBoardProps.width.value=i,n.draggableBoardProps.height.value=o,e==null||e.destroy()}return(i,o)=>(Ce(),Re("div",cle,[(Ce(!0),Re(gt,null,wo(O(P6),a=>(Ce(),Re("div",{key:a.label,class:"px-4 py-3 rounded-md cursor-pointer select-none hover:bg-gray-50 active:bg-gray-100",onClick:()=>r({width:a.width,height:a.height})},[we("div",dle,Nt(a.label),1),we("div",hle,Nt(a.width)+"x"+Nt(a.height),1)],8,fle))),128))]))}});function jl({editorState:t}){function e($){const N=t.draggableBoxes.value.find(T=>T.id===$);if(N)return N;throw new Error(`no box found by id: ${$}`)}function n({boxId:$}){const N=e($);io({contentVNode:Wt(QJ,{box:N}),wrapperVNode:Wt(ro,{center:!0,height:200,modal:!0,padding:!0,title:"重命名",width:300})})}function r({boxId:$}){const N=e($);io({contentVNode:Wt(KJ,{box:N}),wrapperVNode:Wt(ro,{center:!0,height:200,modal:!0,padding:!0,title:"设置标识符",width:300})})}function i({boxId:$}){const N=e($);t.draggableBoxMoveToTop(N.id),t.draggableBoxSelect(N.id)}function o({boxId:$}){const N=e($);t.draggableBoxMoveToBottom(N.id),t.draggableBoxSelect(N.id)}function a({offset:$,boxId:N}){const T=e(N);t.draggableBoxMoveTo(T.id,$),t.draggableBoxSelect(T.id)}function s({boxId:$}){const N=e($),T=t.draggableBoxCreate({height:N.height,width:N.width});T&&t.draggableBoxSelect(T.id)}function l({boxId:$}){const N=e($),T=zy({handler:(z,I)=>I==="id"?_l():z,source:N});T.top+=20,T.left+=20,t.draggableBoxCreateFromData(T),t.draggableBoxSelect(T.id)}function u({boxId:$}){const N=e($);t.draggableBoxRemove(N.id),t.draggableSceneStateCallback(T=>T.sceneSelectItemUnselect(N.id))}function c({boxId:$}){const N=e($);t.draggableSceneStateCallback(T=>{T.sceneGuideLineCreate({direction:"horizontal",position:N.top}),T.sceneGuideLineCreate({direction:"vertical",position:N.left}),T.sceneGuideLineCreate({direction:"horizontal",position:N.top+N.height}),T.sceneGuideLineCreate({direction:"vertical",position:N.left+N.width})})}function f({boxId:$}){const N=e($);t.draggableSceneStateCallback(T=>{T.sceneGuideLineCreate({direction:"horizontal",position:Math.round(N.top+N.height/2)}),T.sceneGuideLineCreate({direction:"vertical",position:Math.round(N.left+N.width/2)})})}function d($){t.draggableBoxSelect($)}function h($){t.draggableBoxHover($)}function p({boxId:$,disabled:N}){t.draggableBoxUpdateDisabled({disabled:N,id:$}),N?t.draggableBoardSelect():t.draggableBoxSelect($)}function m({boxId:$,visible:N}){t.draggableBoxUpdateVisible({id:$,visible:N}),t.draggableBoxSelect($)}function v(){const $=t.draggableBoxCreate({height:100,width:100});$&&t.draggableBoxSelect($.id)}function g(){io({contentVNode:Wt(jJ),wrapperVNode:Wt(ro,{center:!0,customBody:!0,height:150,modal:!0,padding:!0,title:"关于",width:200})})}function w(){io({contentVNode:Wt(Rse),wrapperVNode:Wt(ro,{center:!0,height:120,modal:!0,padding:!0,title:"修改文件名称",width:300})})}function y(){io({contentVNode:Wt(Ise),name:"modal.code",single:!0,wrapperVNode:Wt(ro,{center:!0,customBody:!0,height:500,padding:!0,resizable:!0,title:"源数据检查",width:500})})}function S(){io({contentVNode:Wt(_se),name:"modal.preview",single:!0,wrapperVNode:Wt(ro,{center:!0,customBody:!0,height:640,minHeight:120,minWidth:120,resizable:!0,title:"预览",width:360})})}function x(){io({contentVNode:Wt(ple),wrapperVNode:Wt(ro,{center:!0,height:600,modal:!0,padding:!0,title:"尺寸预设",width:800})})}function b(){const $=k6({boardHeight:720,boardWidth:360,boxes:[],lines:[],name:"Untitled",sceneLeft:40,sceneTop:40});t.dataCurrent.value=$}function C(){kz({filename:`${t.dataCurrent.value.meta.name}.json`,text:JSON.stringify(t.dataCurrent.value,null,2)})}function A({fullscreen:$}){t.editorFullscreen.value=$,du.isEnabled&&($?du.request():du.exit())}du.isEnabled&&du.on("change",()=>{t.editorFullscreen.value=du.isFullscreen});function D(){io({contentVNode:Wt(ule),wrapperVNode:Wt(ro,{center:!0,customBody:!0,height:400,title:"设置",width:400})})}function E(){t.draggableSceneStateCallback($=>{const N=t.draggableBoardProps;$.sceneGuideLineCreate({direction:"horizontal",position:0}),$.sceneGuideLineCreate({direction:"vertical",position:0}),$.sceneGuideLineCreate({direction:"horizontal",position:N.height.value}),$.sceneGuideLineCreate({direction:"vertical",position:N.width.value})})}function M(){t.draggableSceneStateCallback($=>{const N=t.draggableBoardProps;$.sceneGuideLineCreate({direction:"horizontal",position:Math.round(N.height.value/2)}),$.sceneGuideLineCreate({direction:"vertical",position:Math.round(N.width.value/2)})})}function B({slotPath:$}){const N=io({contentVNode:Wt(Vse,{onSelect:T=>{Ta(t.dataCurrent.value,$).push(eB({name:T.name,props:T.initialProps,slots:T.initialSlots})),N.destroy()}}),wrapperVNode:Wt(ro,{center:!0,height:400,modal:!0,padding:!0,title:"选择组件",width:400})})}function P({componentParentSlotPath:$,componentIndexInParentSlot:N}){if($){const T=Ta(t.dataCurrent.value,$);T&&T.splice(N,1)}}function F({componentPath:$}){const N=Ta(t.dataCurrent.value,$);io({contentVNode:Wt(Pse,{componentId:N.id}),wrapperVNode:Wt(ro,{center:!0,customBody:!0,height:400,modal:!0,resizable:!0,title:"设置",width:260})})}return{actionBoardSizeSelect:x,actionBoxCreate:v,actionBoxCreateSameAll:l,actionBoxCreateSameSize:s,actionBoxDelete:u,actionBoxDisabledSet:p,actionBoxHover:h,actionBoxIndexMoveTo:a,actionBoxIndexMoveToBottom:o,actionBoxIndexMoveToTop:i,actionBoxNameSet:r,actionBoxSelect:d,actionBoxTitleSet:n,actionBoxVisibleSet:m,actionComponentConfig:F,actionComponentDelete:P,actionComponentSelectAdd:B,actionEditorAbout:g,actionEditorFullScreenSet:A,actionEditorSetting:D,actionFileDownload:C,actionFileNew:b,actionFileRename:w,actionInspectCode:y,actionInspectPreview:S,actionLinesBoardCreateAround:E,actionLinesBoardCreateCenter:M,actionLinesBoxCreateAround:c,actionLinesBoxCreateCenter:f}}const mle=De({name:"ContextMenuOnBoard",__name:"ContextMenuOnBoard",setup(t){const{editorState:e}=Vn(),n=jl({editorState:e});return(r,i)=>(Ce(),rt(O(Vi),{class:"fix"},{default:Ae(()=>[k(O(nn),{onClick:i[0]||(i[0]=()=>O(n).actionBoxCreate())},{default:Ae(()=>[k(O($n),{icon:"i-lucide-plus-square",title:"新建容器"})]),_:1}),k(O(ta),{key:"line"},{title:Ae(()=>[k(O($n),{icon:"i-lucide-ruler",title:"参考线"})]),default:Ae(()=>[k(O(nn),{onClick:i[1]||(i[1]=()=>O(n).actionLinesBoardCreateAround())},{default:Ae(()=>[k(O($n),{icon:"i-lucide-ruler",title:"生成四边参考线"})]),_:1}),k(O(nn),{onClick:i[2]||(i[2]=()=>O(n).actionLinesBoardCreateCenter())},{default:Ae(()=>[k(O($n),{icon:"i-lucide-ruler",title:"生成中心参考线"})]),_:1})]),_:1})]),_:1}))}}),_1=De({name:"ContextMenuOnBox",__name:"ContextMenuOnBox",props:{boxId:{}},setup(t){const{editorState:e}=Vn(),n=jl({editorState:e});return(r,i)=>(Ce(),rt(O(Vi),{class:"fix"},{default:Ae(()=>[k(O(ta),{key:"copy"},{title:Ae(()=>[k(O($n),{icon:"i-lucide-copy-plus",title:"复制"})]),default:Ae(()=>[k(O(nn),{onClick:i[0]||(i[0]=()=>O(n).actionBoxCreateSameAll({boxId:r.boxId}))},{default:Ae(()=>[k(O($n),{title:"完整复制"})]),_:1}),k(O(nn),{onClick:i[1]||(i[1]=()=>O(n).actionBoxCreateSameSize({boxId:r.boxId}))},{default:Ae(()=>[k(O($n),{title:"创建同尺寸容器"})]),_:1})]),_:1}),k(O(ta),{key:"index"},{title:Ae(()=>[k(O($n),{icon:"i-lucide-layers",title:"层级"})]),default:Ae(()=>[k(O(nn),{onClick:i[2]||(i[2]=()=>O(n).actionBoxIndexMoveToTop({boxId:r.boxId}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-arrow-up-to-line",title:"移动到顶层"})]),_:1}),k(O(nn),{onClick:i[3]||(i[3]=()=>O(n).actionBoxIndexMoveTo({boxId:r.boxId,offset:1}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-arrow-up",title:"上移一层"})]),_:1}),k(O(nn),{onClick:i[4]||(i[4]=()=>O(n).actionBoxIndexMoveTo({boxId:r.boxId,offset:-1}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-arrow-down",title:"下移一层"})]),_:1}),k(O(nn),{onClick:i[5]||(i[5]=()=>O(n).actionBoxIndexMoveToBottom({boxId:r.boxId}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-arrow-down-to-line",title:"移动到底层"})]),_:1})]),_:1}),k(O(ta),{key:"line"},{title:Ae(()=>[k(O($n),{icon:"i-lucide-ruler",title:"参考线"})]),default:Ae(()=>[k(O(nn),{onClick:i[6]||(i[6]=()=>O(n).actionLinesBoxCreateAround({boxId:r.boxId}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-ruler",title:"生成四边参考线"})]),_:1}),k(O(nn),{onClick:i[7]||(i[7]=()=>O(n).actionLinesBoxCreateCenter({boxId:r.boxId}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-ruler",title:"生成中心参考线"})]),_:1})]),_:1}),k(O(nn),{onClick:i[8]||(i[8]=()=>O(n).actionBoxTitleSet({boxId:r.boxId}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-edit-3",title:"重命名"})]),_:1}),k(O(nn),{onClick:i[9]||(i[9]=()=>O(n).actionBoxNameSet({boxId:r.boxId}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-bookmark",title:"设置标识符"})]),_:1}),k(O(nn),{onClick:i[10]||(i[10]=o=>O(n).actionBoxDisabledSet({boxId:r.boxId,disabled:!0}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-lock",title:"锁定"})]),_:1}),k(O(nn),{onClick:i[11]||(i[11]=()=>O(n).actionBoxVisibleSet({boxId:r.boxId,visible:!1}))},{default:Ae(()=>[k(O($n),{icon:"i-lucide-eye-off",title:"隐藏"})]),_:1}),k(O(nn),{onClick:i[12]||(i[12]=()=>O(n).actionBoxDelete({boxId:r.boxId}))},{default:Ae(()=>[k(O($n),{class:"text-red-600",icon:"i-lucide-eraser",title:"删除"})]),_:1})]),_:1}))}}),wr={rowHeight:32},gle={class:"text-sm grow"},z1=De({name:"UiButton",__name:"UiButton",props:{icon:{default:""}},setup(t){const e=H(()=>({height:`${wr.rowHeight}px`})),n=H(()=>({height:`${wr.rowHeight}px`,width:`${wr.rowHeight}px`}));return(r,i)=>(Ce(),Re("div",{style:Ct(e.value),class:"flex flex-row items-center rounded-sm cursor-pointer select-none hover:ring-2 hover:ring-indigo-500"},[we("div",{style:Ct(n.value),class:"flex flex-row items-center justify-center shrink-0"},[vn(r.$slots,"prefix",{},()=>[r.icon?(Ce(),Re("span",{key:0,class:it(r.icon)},null,2)):et("",!0)])],4),we("div",gle,[vn(r.$slots,"default")])],4))}}),vle={class:"flex items-center justify-between pr-2 grow"},yle={class:"text-sm"},ble=De({name:"UiInputSwitch",__name:"UiInputSwitch",props:{value:{type:Boolean,default:!1},icon:{default:""},name:{default:""}},emits:["update:value"],setup(t,{emit:e}){const n=t,r=e,{value:i}=nr(n,r),o=H(()=>({height:`${wr.rowHeight}px`})),a=H(()=>({height:`${wr.rowHeight}px`,width:`${wr.rowHeight}px`}));return(s,l)=>(Ce(),Re("div",{style:Ct(o.value),class:"flex flex-row items-center rounded-sm cursor-pointer select-none ui-input-text hover:ring-2 hover:ring-indigo-500"},[we("div",{style:Ct(a.value),class:"flex flex-row items-center justify-center shrink-0"},[vn(s.$slots,"prefix",{},()=>[s.icon?(Ce(),Re("span",{key:0,class:it(s.icon)},null,2)):et("",!0)])],4),we("div",vle,[we("span",yle,Nt(s.name),1),k(O(ya),{checked:O(i),"onUpdate:checked":l[0]||(l[0]=u=>Uo(i)?i.value=u:null),size:"small"},null,8,["checked"])])],4))}});function jn(){return jn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jn.apply(this,arguments)}var VR={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function wt(t){return typeof t=="number"}function Et(t){return!t||typeof t!="object"||typeof t.constructor!="function"?!1:t.isBigNumber===!0&&typeof t.constructor.prototype=="object"&&t.constructor.prototype.isBigNumber===!0||typeof t.constructor.isDecimal=="function"&&t.constructor.isDecimal(t)===!0}function Fa(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isComplex===!0||!1}function ah(t){return t&&typeof t=="object"&&Object.getPrototypeOf(t).isFraction===!0||!1}function Fi(t){return t&&t.constructor.prototype.isUnit===!0||!1}function vr(t){return typeof t=="string"}var _t=Array.isArray;function Je(t){return t&&t.constructor.prototype.isMatrix===!0||!1}function Ki(t){return Array.isArray(t)||Je(t)}function hg(t){return t&&t.isDenseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function xl(t){return t&&t.isSparseMatrix&&t.constructor.prototype.isMatrix===!0||!1}function bS(t){return t&&t.constructor.prototype.isRange===!0||!1}function Iv(t){return t&&t.constructor.prototype.isIndex===!0||!1}function xle(t){return typeof t=="boolean"}function wle(t){return t&&t.constructor.prototype.isResultSet===!0||!1}function UR(t){return t&&t.constructor.prototype.isHelp===!0||!1}function Sle(t){return typeof t=="function"}function Cle(t){return t instanceof Date}function Ale(t){return t instanceof RegExp}function Pv(t){return!!(t&&typeof t=="object"&&t.constructor===Object&&!Fa(t)&&!ah(t))}function Dle(t){return t===null}function Ele(t){return t===void 0}function Fl(t){return t&&t.isAccessorNode===!0&&t.constructor.prototype.isNode===!0||!1}function ki(t){return t&&t.isArrayNode===!0&&t.constructor.prototype.isNode===!0||!1}function Mle(t){return t&&t.isAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Nle(t){return t&&t.isBlockNode===!0&&t.constructor.prototype.isNode===!0||!1}function $le(t){return t&&t.isConditionalNode===!0&&t.constructor.prototype.isNode===!0||!1}function Pt(t){return t&&t.isConstantNode===!0&&t.constructor.prototype.isNode===!0||!1}function L1(t){return Pt(t)||kn(t)&&t.args.length===1&&Pt(t.args[0])&&"-+~".includes(t.op)}function sh(t){return t&&t.isFunctionAssignmentNode===!0&&t.constructor.prototype.isNode===!0||!1}function Vs(t){return t&&t.isFunctionNode===!0&&t.constructor.prototype.isNode===!0||!1}function Wc(t){return t&&t.isIndexNode===!0&&t.constructor.prototype.isNode===!0||!1}function Xt(t){return t&&t.isNode===!0&&t.constructor.prototype.isNode===!0||!1}function kv(t){return t&&t.isObjectNode===!0&&t.constructor.prototype.isNode===!0||!1}function kn(t){return t&&t.isOperatorNode===!0&&t.constructor.prototype.isNode===!0||!1}function Qa(t){return t&&t.isParenthesisNode===!0&&t.constructor.prototype.isNode===!0||!1}function Ole(t){return t&&t.isRangeNode===!0&&t.constructor.prototype.isNode===!0||!1}function Tle(t){return t&&t.isRelationalNode===!0&&t.constructor.prototype.isNode===!0||!1}function er(t){return t&&t.isSymbolNode===!0&&t.constructor.prototype.isNode===!0||!1}function qR(t){return t&&t.constructor.prototype.isChain===!0||!1}function en(t){var e=typeof t;return e==="object"?t===null?"null":Et(t)?"BigNumber":t.constructor&&t.constructor.name?t.constructor.name:"Object":e}function ct(t){var e=typeof t;if(e==="number"||e==="string"||e==="boolean"||t===null||t===void 0)return t;if(typeof t.clone=="function")return t.clone();if(Array.isArray(t))return t.map(function(n){return ct(n)});if(t instanceof Date)return new Date(t.valueOf());if(Et(t))return t;if(Pv(t))return Ble(t,ct);throw new TypeError("Cannot clone: unknown type of value (value: ".concat(t,")"))}function Ble(t,e){var n={};for(var r in t)Ve(t,r)&&(n[r]=e(t[r]));return n}function WR(t,e){for(var n in e)Ve(e,n)&&(t[n]=e[n]);return t}function Rl(t,e){var n,r,i;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(r=0,i=t.length;r<i;r++)if(!Rl(t[r],e[r]))return!1;return!0}else{if(typeof t=="function")return t===e;if(t instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in t)if(!(n in e)||!Rl(t[n],e[n]))return!1;for(n in e)if(!(n in t))return!1;return!0}else return t===e}}function Ile(t,e,n){var r=!0,i;Object.defineProperty(t,e,{get:function(){return r&&(i=n(),r=!1),i},set:function(a){i=a,r=!1},configurable:!0,enumerable:!0})}function Ve(t,e){return t&&Object.hasOwnProperty.call(t,e)}function Ple(t,e){for(var n={},r=0;r<e.length;r++){var i=e[r],o=t[i];o!==void 0&&(n[i]=o)}return n}var kle=["Matrix","Array"],Fle=["number","BigNumber","Fraction"],Oe=function(e){if(e)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(VR)};jn(Oe,VR,{MATRIX_OPTIONS:kle,NUMBER_OPTIONS:Fle});function bM(){return!0}function Pi(){return!1}function pu(){}const xM="Argument is not a typed-function.";function jR(){function t(G){return typeof G=="object"&&G!==null&&G.constructor===Object}const e=[{name:"number",test:function(G){return typeof G=="number"}},{name:"string",test:function(G){return typeof G=="string"}},{name:"boolean",test:function(G){return typeof G=="boolean"}},{name:"Function",test:function(G){return typeof G=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(G){return G instanceof Date}},{name:"RegExp",test:function(G){return G instanceof RegExp}},{name:"Object",test:t},{name:"null",test:function(G){return G===null}},{name:"undefined",test:function(G){return G===void 0}}],n={name:"any",test:bM,isAny:!0};let r,i,o=0,a={createCount:0};function s(G){const te=r.get(G);if(te)return te;let he='Unknown type "'+G+'"';const ce=G.toLowerCase();let pe;for(pe of i)if(pe.toLowerCase()===ce){he+='. Did you mean "'+pe+'" ?';break}throw new TypeError(he)}function l(G){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"any";const he=te?s(te).index:i.length,ce=[];for(let me=0;me<G.length;++me){if(!G[me]||typeof G[me].name!="string"||typeof G[me].test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");const $e=G[me].name;if(r.has($e))throw new TypeError('Duplicate type name "'+$e+'"');ce.push($e),r.set($e,{name:$e,test:G[me].test,isAny:G[me].isAny,index:he+me,conversionsTo:[]})}const pe=i.slice(he);i=i.slice(0,he).concat(ce).concat(pe);for(let me=he+ce.length;me<i.length;++me)r.get(i[me]).index=me}function u(){r=new Map,i=[],o=0,l([n],!1)}u(),l(e);function c(){let G;for(G of i)r.get(G).conversionsTo=[];o=0}function f(G){const te=i.filter(he=>{const ce=r.get(he);return!ce.isAny&&ce.test(G)});return te.length?te:["any"]}function d(G){return G&&typeof G=="function"&&"_typedFunctionData"in G}function h(G,te,he){if(!d(G))throw new TypeError(xM);const ce=he&&he.exact,pe=Array.isArray(te)?te.join(","):te,me=S(pe),$e=v(me);if(!ce||$e in G.signatures){const ft=G._typedFunctionData.signatureMap.get($e);if(ft)return ft}const Ne=me.length;let Me;if(ce){Me=[];let ft;for(ft in G.signatures)Me.push(G._typedFunctionData.signatureMap.get(ft))}else Me=G._typedFunctionData.signatures;for(let ft=0;ft<Ne;++ft){const vt=me[ft],We=[];let Kt;for(Kt of Me){const R=A(Kt.params,ft);if(!(!R||vt.restParam&&!R.restParam)){if(!R.hasAny){const le=y(R);if(vt.types.some(be=>!le.has(be.name)))continue}We.push(Kt)}}if(Me=We,Me.length===0)break}let Ie;for(Ie of Me)if(Ie.params.length<=Ne)return Ie;throw new TypeError("Signature not found (signature: "+(G.name||"unnamed")+"("+v(me,", ")+"))")}function p(G,te,he){return h(G,te,he).implementation}function m(G,te){const he=s(te);if(he.test(G))return G;const ce=he.conversionsTo;if(ce.length===0)throw new Error("There are no conversions to "+te+" defined.");for(let pe=0;pe<ce.length;pe++)if(s(ce[pe].from).test(G))return ce[pe].convert(G);throw new Error("Cannot convert "+G+" to "+te)}function v(G){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:",";return G.map(he=>he.name).join(te)}function g(G){const te=G.indexOf("...")===0,ce=(te?G.length>3?G.slice(3):"any":G).split("|").map(Ne=>s(Ne.trim()));let pe=!1,me=te?"...":"";return{types:ce.map(function(Ne){return pe=Ne.isAny||pe,me+=Ne.name+"|",{name:Ne.name,typeIndex:Ne.index,test:Ne.test,isAny:Ne.isAny,conversion:null,conversionIndex:-1}}),name:me.slice(0,-1),hasAny:pe,hasConversion:!1,restParam:te}}function w(G){const te=G.types.map($e=>$e.name),he=T(te);let ce=G.hasAny,pe=G.name;const me=he.map(function($e){const Ne=s($e.from);return ce=Ne.isAny||ce,pe+="|"+$e.from,{name:$e.from,typeIndex:Ne.index,test:Ne.test,isAny:Ne.isAny,conversion:$e,conversionIndex:$e.index}});return{types:G.types.concat(me),name:pe,hasAny:ce,hasConversion:me.length>0,restParam:G.restParam}}function y(G){return G.typeSet||(G.typeSet=new Set,G.types.forEach(te=>G.typeSet.add(te.name))),G.typeSet}function S(G){const te=[];if(typeof G!="string")throw new TypeError("Signatures must be strings");const he=G.trim();if(he==="")return te;const ce=he.split(",");for(let pe=0;pe<ce.length;++pe){const me=g(ce[pe].trim());if(me.restParam&&pe!==ce.length-1)throw new SyntaxError('Unexpected rest parameter "'+ce[pe]+'": only allowed for the last parameter');if(me.types.length===0)return null;te.push(me)}return te}function x(G){const te=j(G);return te?te.restParam:!1}function b(G){if(!G||G.types.length===0)return bM;if(G.types.length===1)return s(G.types[0].name).test;if(G.types.length===2){const te=s(G.types[0].name).test,he=s(G.types[1].name).test;return function(pe){return te(pe)||he(pe)}}else{const te=G.types.map(function(he){return s(he.name).test});return function(ce){for(let pe=0;pe<te.length;pe++)if(te[pe](ce))return!0;return!1}}}function C(G){let te,he,ce;if(x(G)){te=ie(G).map(b);const pe=te.length,me=b(j(G)),$e=function(Ne){for(let Me=pe;Me<Ne.length;Me++)if(!me(Ne[Me]))return!1;return!0};return function(Me){for(let Ie=0;Ie<te.length;Ie++)if(!te[Ie](Me[Ie]))return!1;return $e(Me)&&Me.length>=pe+1}}else return G.length===0?function(me){return me.length===0}:G.length===1?(he=b(G[0]),function(me){return he(me[0])&&me.length===1}):G.length===2?(he=b(G[0]),ce=b(G[1]),function(me){return he(me[0])&&ce(me[1])&&me.length===2}):(te=G.map(b),function(me){for(let $e=0;$e<te.length;$e++)if(!te[$e](me[$e]))return!1;return me.length===te.length})}function A(G,te){return te<G.length?G[te]:x(G)?j(G):null}function D(G,te){const he=A(G,te);return he?y(he):new Set}function E(G){return G.conversion===null||G.conversion===void 0}function M(G,te){const he=new Set;return G.forEach(ce=>{const pe=D(ce.params,te);let me;for(me of pe)he.add(me)}),he.has("any")?["any"]:Array.from(he)}function B(G,te,he){let ce,pe;const me=G||"unnamed";let $e=he,Ne;for(Ne=0;Ne<te.length;Ne++){const vt=[];if($e.forEach(We=>{const Kt=A(We.params,Ne),R=b(Kt);(Ne<We.params.length||x(We.params))&&R(te[Ne])&&vt.push(We)}),vt.length===0){if(pe=M($e,Ne),pe.length>0){const We=f(te[Ne]);return ce=new TypeError("Unexpected type of argument in function "+me+" (expected: "+pe.join(" or ")+", actual: "+We.join(" | ")+", index: "+Ne+")"),ce.data={category:"wrongType",fn:me,index:Ne,actual:We,expected:pe},ce}}else $e=vt}const Me=$e.map(function(vt){return x(vt.params)?1/0:vt.params.length});if(te.length<Math.min.apply(null,Me))return pe=M($e,Ne),ce=new TypeError("Too few arguments in function "+me+" (expected: "+pe.join(" or ")+", index: "+te.length+")"),ce.data={category:"tooFewArgs",fn:me,index:te.length,expected:pe},ce;const Ie=Math.max.apply(null,Me);if(te.length>Ie)return ce=new TypeError("Too many arguments in function "+me+" (expected: "+Ie+", actual: "+te.length+")"),ce.data={category:"tooManyArgs",fn:me,index:te.length,expectedLength:Ie},ce;const ft=[];for(let vt=0;vt<te.length;++vt)ft.push(f(te[vt]).join("|"));return ce=new TypeError('Arguments of type "'+ft.join(", ")+'" do not match any of the defined signatures of function '+me+"."),ce.data={category:"mismatch",actual:ft},ce}function P(G){let te=i.length+1;for(let he=0;he<G.types.length;he++)E(G.types[he])&&(te=Math.min(te,G.types[he].typeIndex));return te}function F(G){let te=o+1;for(let he=0;he<G.types.length;he++)E(G.types[he])||(te=Math.min(te,G.types[he].conversionIndex));return te}function $(G,te){if(G.hasAny){if(!te.hasAny)return 1}else if(te.hasAny)return-1;if(G.restParam){if(!te.restParam)return 1}else if(te.restParam)return-1;if(G.hasConversion){if(!te.hasConversion)return 1}else if(te.hasConversion)return-1;const he=P(G)-P(te);if(he<0)return-1;if(he>0)return 1;const ce=F(G)-F(te);return ce<0?-1:ce>0?1:0}function N(G,te){const he=G.params,ce=te.params,pe=j(he),me=j(ce),$e=x(he),Ne=x(ce);if($e&&pe.hasAny){if(!Ne||!me.hasAny)return 1}else if(Ne&&me.hasAny)return-1;let Me=0,Ie=0,ft;for(ft of he)ft.hasAny&&++Me,ft.hasConversion&&++Ie;let vt=0,We=0;for(ft of ce)ft.hasAny&&++vt,ft.hasConversion&&++We;if(Me!==vt)return Me-vt;if($e&&pe.hasConversion){if(!Ne||!me.hasConversion)return 1}else if(Ne&&me.hasConversion)return-1;if(Ie!==We)return Ie-We;if($e){if(!Ne)return 1}else if(Ne)return-1;const Kt=(he.length-ce.length)*($e?-1:1);if(Kt!==0)return Kt;const R=[];let le=0;for(let ke=0;ke<he.length;++ke){const Qe=$(he[ke],ce[ke]);R.push(Qe),le+=Qe}if(le!==0)return le;let be;for(be of R)if(be!==0)return be;return 0}function T(G){if(G.length===0)return[];const te=G.map(s);G.length>1&&te.sort((pe,me)=>pe.index-me.index);let he=te[0].conversionsTo;if(G.length===1)return he;he=he.concat([]);const ce=new Set(G);for(let pe=1;pe<te.length;++pe){let me;for(me of te[pe].conversionsTo)ce.has(me.from)||(he.push(me),ce.add(me.from))}return he}function z(G,te){let he=te;if(G.some(pe=>pe.hasConversion)){const pe=x(G),me=G.map(I);he=function(){const Ne=[],Me=pe?arguments.length-1:arguments.length;for(let Ie=0;Ie<Me;Ie++)Ne[Ie]=me[Ie](arguments[Ie]);return pe&&(Ne[Me]=arguments[Me].map(me[Me])),te.apply(this,Ne)}}let ce=he;if(x(G)){const pe=G.length-1;ce=function(){return he.apply(this,W(arguments,0,pe).concat([W(arguments,pe)]))}}return ce}function I(G){let te,he,ce,pe;const me=[],$e=[];switch(G.types.forEach(function(Ne){Ne.conversion&&(me.push(s(Ne.conversion.from).test),$e.push(Ne.conversion.convert))}),$e.length){case 0:return function(Me){return Me};case 1:return te=me[0],ce=$e[0],function(Me){return te(Me)?ce(Me):Me};case 2:return te=me[0],he=me[1],ce=$e[0],pe=$e[1],function(Me){return te(Me)?ce(Me):he(Me)?pe(Me):Me};default:return function(Me){for(let Ie=0;Ie<$e.length;Ie++)if(me[Ie](Me))return $e[Ie](Me);return Me}}}function q(G){function te(he,ce,pe){if(ce<he.length){const me=he[ce];let $e=[];if(me.restParam){const Ne=me.types.filter(E);Ne.length<me.types.length&&$e.push({types:Ne,name:"..."+Ne.map(Me=>Me.name).join("|"),hasAny:Ne.some(Me=>Me.isAny),hasConversion:!1,restParam:!0}),$e.push(me)}else $e=me.types.map(function(Ne){return{types:[Ne],name:Ne.name,hasAny:Ne.isAny,hasConversion:Ne.conversion,restParam:!1}});return oe($e,function(Ne){return te(he,ce+1,pe.concat([Ne]))})}else return[pe]}return te(G,0,[])}function X(G,te){const he=Math.max(G.length,te.length);for(let Ne=0;Ne<he;Ne++){const Me=D(G,Ne),Ie=D(te,Ne);let ft=!1,vt;for(vt of Ie)if(Me.has(vt)){ft=!0;break}if(!ft)return!1}const ce=G.length,pe=te.length,me=x(G),$e=x(te);return me?$e?ce===pe:pe>=ce:$e?ce>=pe:ce===pe}function V(G){return G.map(te=>fe(te)?U(te.referToSelf.callback):Z(te)?ge(te.referTo.references,te.referTo.callback):te)}function L(G,te,he){const ce=[];let pe;for(pe of G){let me=he[pe];if(typeof me!="number")throw new TypeError('No definition for referenced signature "'+pe+'"');if(me=te[me],typeof me!="function")return!1;ce.push(me)}return ce}function ne(G,te,he){const ce=V(G),pe=new Array(ce.length).fill(!1);let me=!0;for(;me;){me=!1;let $e=!0;for(let Ne=0;Ne<ce.length;++Ne){if(pe[Ne])continue;const Me=ce[Ne];if(fe(Me))ce[Ne]=Me.referToSelf.callback(he),ce[Ne].referToSelf=Me.referToSelf,pe[Ne]=!0,$e=!1;else if(Z(Me)){const Ie=L(Me.referTo.references,ce,te);Ie?(ce[Ne]=Me.referTo.callback.apply(this,Ie),ce[Ne].referTo=Me.referTo,pe[Ne]=!0,$e=!1):me=!0}}if($e&&me)throw new SyntaxError("Circular reference detected in resolving typed.referTo")}return ce}function se(G){const te=/\bthis(\(|\.signatures\b)/;Object.keys(G).forEach(he=>{const ce=G[he];if(te.test(ce.toString()))throw new SyntaxError("Using `this` to self-reference a function is deprecated since typed-function@3. Use typed.referTo and typed.referToSelf instead.")})}function Y(G,te){if(a.createCount++,Object.keys(te).length===0)throw new SyntaxError("No signatures provided");a.warnAgainstDeprecatedThis&&se(te);const he=[],ce=[],pe={},me=[];let $e;for($e in te){if(!Object.prototype.hasOwnProperty.call(te,$e))continue;const qt=S($e);if(!qt)continue;he.forEach(function(df){if(X(df,qt))throw new TypeError('Conflicting signatures "'+v(df)+'" and "'+v(qt)+'".')}),he.push(qt);const Gr=ce.length;ce.push(te[$e]);const G8=qt.map(w);let Ah;for(Ah of q(G8)){const df=v(Ah);me.push({params:Ah,name:df,fn:Gr}),Ah.every(X8=>!X8.hasConversion)&&(pe[df]=Gr)}}me.sort(N);const Ne=ne(ce,pe,ss);let Me;for(Me in pe)Object.prototype.hasOwnProperty.call(pe,Me)&&(pe[Me]=Ne[pe[Me]]);const Ie=[],ft=new Map;for(Me of me)ft.has(Me.name)||(Me.fn=Ne[Me.fn],Ie.push(Me),ft.set(Me.name,Me));const vt=Ie[0]&&Ie[0].params.length<=2&&!x(Ie[0].params),We=Ie[1]&&Ie[1].params.length<=2&&!x(Ie[1].params),Kt=Ie[2]&&Ie[2].params.length<=2&&!x(Ie[2].params),R=Ie[3]&&Ie[3].params.length<=2&&!x(Ie[3].params),le=Ie[4]&&Ie[4].params.length<=2&&!x(Ie[4].params),be=Ie[5]&&Ie[5].params.length<=2&&!x(Ie[5].params),ke=vt&&We&&Kt&&R&&le&&be;for(let qt=0;qt<Ie.length;++qt)Ie[qt].test=C(Ie[qt].params);const Qe=vt?b(Ie[0].params[0]):Pi,dt=We?b(Ie[1].params[0]):Pi,Sn=Kt?b(Ie[2].params[0]):Pi,no=R?b(Ie[3].params[0]):Pi,Bo=le?b(Ie[4].params[0]):Pi,vh=be?b(Ie[5].params[0]):Pi,$i=vt?b(Ie[0].params[1]):Pi,nl=We?b(Ie[1].params[1]):Pi,as=Kt?b(Ie[2].params[1]):Pi,Io=R?b(Ie[3].params[1]):Pi,rl=le?b(Ie[4].params[1]):Pi,iu=be?b(Ie[5].params[1]):Pi;for(let qt=0;qt<Ie.length;++qt)Ie[qt].implementation=z(Ie[qt].params,Ie[qt].fn);const uf=vt?Ie[0].implementation:pu,ou=We?Ie[1].implementation:pu,s0=Kt?Ie[2].implementation:pu,l0=R?Ie[3].implementation:pu,yh=le?Ie[4].implementation:pu,il=be?Ie[5].implementation:pu,cf=vt?Ie[0].params.length:-1,bh=We?Ie[1].params.length:-1,xh=Kt?Ie[2].params.length:-1,wh=R?Ie[3].params.length:-1,Sh=le?Ie[4].params.length:-1,u0=be?Ie[5].params.length:-1,c0=ke?6:0,f0=Ie.length,Ch=Ie.map(qt=>qt.test),ff=Ie.map(qt=>qt.implementation),ha=function(){for(let Gr=c0;Gr<f0;Gr++)if(Ch[Gr](arguments))return ff[Gr].apply(this,arguments);return a.onMismatch(G,arguments,Ie)};function ss(qt,Gr){return arguments.length===cf&&Qe(qt)&&$i(Gr)?uf.apply(this,arguments):arguments.length===bh&&dt(qt)&&nl(Gr)?ou.apply(this,arguments):arguments.length===xh&&Sn(qt)&&as(Gr)?s0.apply(this,arguments):arguments.length===wh&&no(qt)&&Io(Gr)?l0.apply(this,arguments):arguments.length===Sh&&Bo(qt)&&rl(Gr)?yh.apply(this,arguments):arguments.length===u0&&vh(qt)&&iu(Gr)?il.apply(this,arguments):ha.apply(this,arguments)}try{Object.defineProperty(ss,"name",{value:G})}catch{}return ss.signatures=pe,ss._typedFunctionData={signatures:Ie,signatureMap:ft},ss}function ee(G,te,he){throw B(G,te,he)}function ie(G){return W(G,0,G.length-1)}function j(G){return G[G.length-1]}function W(G,te,he){return Array.prototype.slice.call(G,te,he)}function J(G,te){for(let he=0;he<G.length;he++)if(te(G[he]))return G[he]}function oe(G,te){return Array.prototype.concat.apply([],G.map(te))}function de(){const G=ie(arguments).map(he=>v(S(he))),te=j(arguments);if(typeof te!="function")throw new TypeError("Callback function expected as last argument");return ge(G,te)}function ge(G,te){return{referTo:{references:G,callback:te}}}function U(G){if(typeof G!="function")throw new TypeError("Callback function expected as first argument");return{referToSelf:{callback:G}}}function Z(G){return G&&typeof G.referTo=="object"&&Array.isArray(G.referTo.references)&&typeof G.referTo.callback=="function"}function fe(G){return G&&typeof G.referToSelf=="object"&&typeof G.referToSelf.callback=="function"}function Q(G,te){if(!G)return te;if(te&&te!==G){const he=new Error("Function names do not match (expected: "+G+", actual: "+te+")");throw he.data={actual:te,expected:G},he}return G}function re(G){let te;for(const he in G)Object.prototype.hasOwnProperty.call(G,he)&&(d(G[he])||typeof G[he].signature=="string")&&(te=Q(te,G[he].name));return te}function ue(G,te){let he;for(he in te)if(Object.prototype.hasOwnProperty.call(te,he)){if(he in G&&te[he]!==G[he]){const ce=new Error('Signature "'+he+'" is defined twice');throw ce.data={signature:he,sourceFunction:te[he],destFunction:G[he]},ce}G[he]=te[he]}}const ye=a;a=function(G){const te=typeof G=="string",he=te?1:0;let ce=te?G:"";const pe={};for(let me=he;me<arguments.length;++me){const $e=arguments[me];let Ne={},Me;if(typeof $e=="function"?(Me=$e.name,typeof $e.signature=="string"?Ne[$e.signature]=$e:d($e)&&(Ne=$e.signatures)):t($e)&&(Ne=$e,te||(Me=re($e))),Object.keys(Ne).length===0){const Ie=new TypeError("Argument to 'typed' at index "+me+" is not a (typed) function, nor an object with signatures as keys and functions as values.");throw Ie.data={index:me,argument:$e},Ie}te||(ce=Q(ce,Me)),ue(pe,Ne)}return Y(ce||"",pe)},a.create=jR,a.createCount=ye.createCount,a.onMismatch=ee,a.throwMismatchError=ee,a.createError=B,a.clear=u,a.clearConversions=c,a.addTypes=l,a._findType=s,a.referTo=de,a.referToSelf=U,a.convert=m,a.findSignature=h,a.find=p,a.isTypedFunction=d,a.warnAgainstDeprecatedThis=!0,a.addType=function(G,te){let he="any";te!==!1&&r.has("Object")&&(he="Object"),a.addTypes([G],he)};function xe(G){if(!G||typeof G.from!="string"||typeof G.to!="string"||typeof G.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");if(G.to===G.from)throw new SyntaxError('Illegal to define conversion from "'+G.from+'" to itself.')}return a.addConversion=function(G){xe(G);const te=s(G.to);if(te.conversionsTo.every(function(he){return he.from!==G.from}))te.conversionsTo.push({from:G.from,convert:G.convert,index:o++});else throw new Error('There is already a conversion from "'+G.from+'" to "'+te.name+'"')},a.addConversions=function(G){G.forEach(a.addConversion)},a.removeConversion=function(G){xe(G);const te=s(G.to),he=J(te.conversionsTo,pe=>pe.from===G.from);if(!he)throw new Error("Attempt to remove nonexistent conversion from "+G.from+" to "+G.to);if(he.convert!==G.convert)throw new Error("Conversion to remove does not match existing conversion");const ce=te.conversionsTo.indexOf(he);te.conversionsTo.splice(ce,1)},a.resolve=function(G,te){if(!d(G))throw new TypeError(xM);const he=G._typedFunctionData.signatures;for(let ce=0;ce<he.length;++ce)if(he[ce].test(te))return he[ce];return null},a}const Bu=jR();function Ge(t){return typeof t=="boolean"?!0:isFinite(t)?t===Math.round(t):!1}var Ds=Math.sign||function(t){return t>0?1:t<0?-1:0},Rle=Math.log2||function(e){return Math.log(e)/Math.LN2},_le=Math.log10||function(e){return Math.log(e)/Math.LN10},zle=Math.log1p||function(t){return Math.log(t+1)},Lle=Math.cbrt||function(e){if(e===0)return e;var n=e<0,r;return n&&(e=-e),isFinite(e)?(r=Math.exp(Math.log(e)/3),r=(e/(r*r)+2*r)/3):r=e,n?-r:r},Hle=Math.expm1||function(e){return e>=2e-4||e<=-2e-4?Math.exp(e)-1:e+e*e/2+e*e*e/6};function Ey(t,e,n){var r={2:"0b",8:"0o",16:"0x"},i=r[e],o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ge(n))throw new Error("size must be an integer");if(t>2**(n-1)-1||t<-(2**(n-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!Ge(t))throw new Error("Value must be an integer");t<0&&(t=t+2**n),o="i".concat(n)}var a="";return t<0&&(t=-t,a="-"),"".concat(a).concat(i).concat(t.toString(e)).concat(o)}function Nl(t,e){if(typeof e=="function")return e(t);if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(isNaN(t))return"NaN";var n="auto",r,i;if(e&&(e.notation&&(n=e.notation),wt(e)?r=e:wt(e.precision)&&(r=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return GR(t,r);case"exponential":return XR(t,r);case"engineering":return Vle(t,r);case"bin":return Ey(t,2,i);case"oct":return Ey(t,8,i);case"hex":return Ey(t,16,i);case"auto":return Ule(t,r,e&&e).replace(/((\.\d*?)(0+))($|e)/,function(){var o=arguments[2],a=arguments[4];return o!=="."?o+a:a});default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Fv(t){var e=String(t).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number "+t);var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1;var a=r.replace(".","").replace(/^0*/,function(s){return i-=s.length,""}).replace(/0*$/,"").split("").map(function(s){return parseInt(s)});return a.length===0&&(a.push(0),i++),{sign:n,coefficients:a,exponent:i}}function Vle(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Fv(t),r=Rv(n,e),i=r.exponent,o=r.coefficients,a=i%3===0?i:i<0?i-3-i%3:i-i%3;if(wt(e))for(;e>o.length||i-a+1>o.length;)o.push(0);else for(var s=Math.abs(i-a)-(o.length-1),l=0;l<s;l++)o.push(0);for(var u=Math.abs(i-a),c=1;u>0;)c++,u--;var f=o.slice(c).join(""),d=wt(e)&&f.length||f.match(/[1-9]/)?"."+f:"",h=o.slice(0,c).join("")+d+"e"+(i>=0?"+":"")+a.toString();return r.sign+h}function GR(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Fv(t),r=typeof e=="number"?Rv(n,n.exponent+1+e):n,i=r.coefficients,o=r.exponent+1,a=o+(e||0);return i.length<a&&(i=i.concat(Ju(a-i.length))),o<0&&(i=Ju(-o+1).concat(i),o=1),o<i.length&&i.splice(o,0,o===0?"0.":"."),r.sign+i.join("")}function XR(t,e){if(isNaN(t)||!isFinite(t))return String(t);var n=Fv(t),r=e?Rv(n,e):n,i=r.coefficients,o=r.exponent;i.length<e&&(i=i.concat(Ju(e-i.length)));var a=i.shift();return r.sign+a+(i.length>0?"."+i.join(""):"")+"e"+(o>=0?"+":"")+o}function Ule(t,e,n){if(isNaN(t)||!isFinite(t))return String(t);var r=n&&n.lowerExp!==void 0?n.lowerExp:-3,i=n&&n.upperExp!==void 0?n.upperExp:5,o=Fv(t),a=e?Rv(o,e):o;if(a.exponent<r||a.exponent>=i)return XR(t,e);var s=a.coefficients,l=a.exponent;s.length<e&&(s=s.concat(Ju(e-s.length))),s=s.concat(Ju(l-s.length+1+(s.length<e?e-s.length:0))),s=Ju(-l).concat(s);var u=l>0?l:0;return u<s.length-1&&s.splice(u+1,0,"."),a.sign+s.join("")}function Rv(t,e){for(var n={sign:t.sign,coefficients:t.coefficients,exponent:t.exponent},r=n.coefficients;e<=0;)r.unshift(0),n.exponent++,e++;if(r.length>e){var i=r.splice(e,r.length-e);if(i[0]>=5){var o=e-1;for(r[o]++;r[o]===10;)r.pop(),o===0&&(r.unshift(0),n.exponent++,o++),o--,r[o]++}}return n}function Ju(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}function qle(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var Wle=Number.EPSILON||2220446049250313e-31;function Di(t,e,n){if(n==null)return t===e;if(t===e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var r=Math.abs(t-e);return r<=Wle?!0:r<=Math.max(Math.abs(t),Math.abs(e))*n}return!1}var jle=Math.acosh||function(t){return Math.log(Math.sqrt(t*t-1)+t)},Gle=Math.asinh||function(t){return Math.log(Math.sqrt(t*t+1)+t)},Xle=Math.atanh||function(t){return Math.log((1+t)/(1-t))/2},Kle=Math.cosh||function(t){return(Math.exp(t)+Math.exp(-t))/2},Yle=Math.sinh||function(t){return(Math.exp(t)-Math.exp(-t))/2},Zle=Math.tanh||function(t){var e=Math.exp(2*t);return(e-1)/(e+1)};function Qle(t,e){var n=t>0?!0:t<0?!1:1/t===1/0,r=e>0?!0:e<0?!1:1/e===1/0;return n^r?-t:t}function My(t,e,n){var r=t.constructor,i=new r(2),o="";if(n){if(n<1)throw new Error("size must be in greater than 0");if(!Ge(n))throw new Error("size must be an integer");if(t.greaterThan(i.pow(n-1).sub(1))||t.lessThan(i.pow(n-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(n-1,", 2^").concat(n-1,"-1]"));if(!t.isInteger())throw new Error("Value must be an integer");t.lessThan(0)&&(t=t.add(i.pow(n))),o="i".concat(n)}switch(e){case 2:return"".concat(t.toBinary()).concat(o);case 8:return"".concat(t.toOctal()).concat(o);case 16:return"".concat(t.toHexadecimal()).concat(o);default:throw new Error("Base ".concat(e," not supported "))}}function Jle(t,e){if(typeof e=="function")return e(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var n="auto",r,i;if(e!==void 0&&(e.notation&&(n=e.notation),typeof e=="number"?r=e:e.precision!==void 0&&(r=e.precision),e.wordSize&&(i=e.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(n){case"fixed":return tue(t,r);case"exponential":return wM(t,r);case"engineering":return eue(t,r);case"bin":return My(t,2,i);case"oct":return My(t,8,i);case"hex":return My(t,16,i);case"auto":{var o=e&&e.lowerExp!==void 0?e.lowerExp:-3,a=e&&e.upperExp!==void 0?e.upperExp:5;if(t.isZero())return"0";var s,l=t.toSignificantDigits(r),u=l.e;return u>=o&&u<a?s=l.toFixed():s=wM(t,r),s.replace(/((\.\d*?)(0+))($|e)/,function(){var c=arguments[2],f=arguments[4];return c!=="."?c+f:f})}default:throw new Error('Unknown notation "'+n+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function eue(t,e){var n=t.e,r=n%3===0?n:n<0?n-3-n%3:n-n%3,i=t.mul(Math.pow(10,-r)),o=i.toPrecision(e);if(o.indexOf("e")!==-1){var a=t.constructor;o=new a(o).toFixed()}return o+"e"+(n>=0?"+":"")+r.toString()}function wM(t,e){return e!==void 0?t.toExponential(e-1):t.toExponential()}function tue(t,e){return t.toFixed(e)}function nue(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e}function xt(t,e){var n=rue(t,e);return e&&typeof e=="object"&&"truncate"in e&&n.length>e.truncate?n.substring(0,e.truncate-3)+"...":n}function rue(t,e){if(typeof t=="number")return Nl(t,e);if(Et(t))return Jle(t,e);if(iue(t))return!e||e.fraction!=="decimal"?t.s*t.n+"/"+t.d:t.toString();if(Array.isArray(t))return KR(t,e);if(vr(t))return Iu(t);if(typeof t=="function")return t.syntax?String(t.syntax):"function";if(t&&typeof t=="object"){if(typeof t.format=="function")return t.format(e);if(t&&t.toString(e)!=={}.toString())return t.toString(e);var n=Object.keys(t).map(r=>Iu(r)+": "+xt(t[r],e));return"{"+n.join(", ")+"}"}return String(t)}function Iu(t){for(var e=String(t),n="",r=0;r<e.length;){var i=e.charAt(r);n+=i in SM?SM[i]:i,r++}return'"'+n+'"'}var SM={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};function _i(t){var e=String(t);return e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),e}function KR(t,e){if(Array.isArray(t)){for(var n="[",r=t.length,i=0;i<r;i++)i!==0&&(n+=", "),n+=KR(t[i],e);return n+="]",n}else return xt(t,e)}function iue(t){return t&&typeof t=="object"&&typeof t.s=="number"&&typeof t.n=="number"&&typeof t.d=="number"||!1}function H1(t,e){if(!vr(t))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+en(t)+", index: 0)");if(!vr(e))throw new TypeError("Unexpected type of argument in function compareText (expected: string or Array or Matrix, actual: "+en(e)+", index: 1)");return t===e?0:t>e?1:-1}function St(t,e,n){if(!(this instanceof St))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=e,this.relation=n,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(e)?"["+e.join(", ")+"]":e)+")",this.stack=new Error().stack}St.prototype=new RangeError;St.prototype.constructor=RangeError;St.prototype.name="DimensionError";St.prototype.isDimensionError=!0;function Do(t,e,n){if(!(this instanceof Do))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=e):(this.min=e,this.max=n),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Do.prototype=new RangeError;Do.prototype.constructor=RangeError;Do.prototype.name="IndexError";Do.prototype.isIndexError=!0;function mt(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e}function YR(t,e,n){var r,i=t.length;if(i!==e[n])throw new St(i,e[n]);if(n<e.length-1){var o=n+1;for(r=0;r<i;r++){var a=t[r];if(!Array.isArray(a))throw new St(e.length-1,e.length,"<");YR(t[r],e,o)}}else for(r=0;r<i;r++)if(Array.isArray(t[r]))throw new St(e.length+1,e.length,">")}function CM(t,e){var n=e.length===0;if(n){if(Array.isArray(t))throw new St(t.length,0)}else YR(t,e,0)}function pg(t,e){var n=t.isMatrix?t._size:mt(t),r=e._sourceSize;r.forEach((i,o)=>{if(i!==null&&i!==n[o])throw new St(i,n[o])})}function Yt(t,e){if(t!==void 0){if(!wt(t)||!Ge(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||typeof e=="number"&&t>=e)throw new Do(t,e)}}function Sc(t){for(var e=0;e<t._dimensions.length;++e){var n=t._dimensions[e];if(n._data&&_t(n._data)){if(n._size[0]===0)return!0}else if(n.isRange){if(n.start===n.end)return!0}else if(vr(n)&&n.length===0)return!0}return!1}function Cc(t,e,n){if(!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new Error("Resizing to scalar is not supported");e.forEach(function(i){if(!wt(i)||!Ge(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(e)+")")}),(wt(t)||Et(t))&&(t=[t]);var r=n!==void 0?n:0;return V1(t,e,0,r),t}function V1(t,e,n,r){var i,o,a=t.length,s=e[n],l=Math.min(a,s);if(t.length=s,n<e.length-1){var u=n+1;for(i=0;i<l;i++)o=t[i],Array.isArray(o)||(o=[o],t[i]=o),V1(o,e,u,r);for(i=l;i<s;i++)o=[],t[i]=o,V1(o,e,u,r)}else{for(i=0;i<l;i++)for(;Array.isArray(t[i]);)t[i]=t[i][0];for(i=l;i<s;i++)t[i]=r}}function xS(t,e){var n=kt(t),r=n.length;if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(e.length===0)throw new St(0,r,"!=");e=wS(e,r);var i=ZR(e);if(r!==i)throw new St(i,r,"!=");try{return oue(n,e)}catch(o){throw o instanceof St?new St(i,r,"!="):o}}function wS(t,e){var n=ZR(t),r=t.slice(),i=-1,o=t.indexOf(i),a=t.indexOf(i,o+1)>=0;if(a)throw new Error("More than one wildcard in sizes");var s=o>=0,l=e%n===0;if(s)if(l)r[o]=-e/n;else throw new Error("Could not replace wildcard, since "+e+" is no multiple of "+-n);return r}function ZR(t){return t.reduce((e,n)=>e*n,1)}function oue(t,e){for(var n=t,r,i=e.length-1;i>0;i--){var o=e[i];r=[];for(var a=n.length/o,s=0;s<a;s++)r.push(n.slice(s*o,(s+1)*o));n=r}return n}function mg(t,e){for(var n=e||mt(t);Array.isArray(t)&&t.length===1;)t=t[0],n.shift();for(var r=n.length;n[r-1]===1;)r--;return r<n.length&&(t=QR(t,r,0),n.length=r),t}function QR(t,e,n){var r,i;if(n<e){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=QR(t[r],e,o)}else for(;Array.isArray(t);)t=t[0];return t}function JR(t,e,n,r){var i=r||mt(t);if(n)for(var o=0;o<n;o++)t=[t],i.unshift(1);for(t=e5(t,e,0);i.length<e;)i.push(1);return t}function e5(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=e5(t[r],e,o)}else for(var a=n;a<e;a++)t=[t];return t}function kt(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function n(r){Array.isArray(r)?r.forEach(n):e.push(r)}),e}function Ra(t,e){return Array.prototype.map.call(t,e)}function _v(t,e){Array.prototype.forEach.call(t,e)}function t5(t,e){if(mt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,e)}function gg(t,e){if(mt(t).length!==1)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(t,n=>e.test(n))}function AM(t,e){return Array.prototype.join.call(t,e)}function Ac(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;var e=[],n=0;e[0]={value:t[0],identifier:0};for(var r=1;r<t.length;r++)t[r]===t[r-1]?n++:n=0,e.push({value:t[r],identifier:n});return e}function vg(t){if(!Array.isArray(t))throw new TypeError("Array input expected");if(t.length===0)return t;for(var e=[],n=0;n<t.length;n++)e.push(t[n].value);return e}function _d(t,e){for(var n,r=0,i=0;i<t.length;i++){var o=t[i],a=Array.isArray(o);if(i===0&&a&&(r=o.length),a&&o.length!==r)return;var s=a?_d(o,e):e(o);if(n===void 0)n=s;else if(n!==s)return"mixed"}return n}function n5(t,e,n,r){if(r<n){if(t.length!==e.length)throw new St(t.length,e.length);for(var i=[],o=0;o<t.length;o++)i[o]=n5(t[o],e[o],n,r+1);return i}else return t.concat(e)}function r5(){var t=Array.prototype.slice.call(arguments,0,-1),e=Array.prototype.slice.call(arguments,-1);if(t.length===1)return t[0];if(t.length>1)return t.slice(1).reduce(function(n,r){return n5(n,r,e,0)},t[0]);throw new Error("Wrong number of arguments in function concat")}function aue(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=e.map(d=>d.length),i=Math.max(...r),o=new Array(i).fill(null),a=0;a<e.length;a++)for(var s=e[a],l=r[a],u=0;u<l;u++){var c=i-l+u;s[u]>o[c]&&(o[c]=s[u])}for(var f=0;f<e.length;f++)yg(e[f],o);return o}function yg(t,e){for(var n=e.length,r=t.length,i=0;i<r;i++){var o=n-r+i;if(t[i]<e[o]&&t[i]>1||t[i]>e[o])throw new Error("shape missmatch: missmatch is found in arg with shape (".concat(t,") not possible to broadcast dimension ").concat(r," with size ").concat(t[i]," to size ").concat(e[o]))}}function DM(t,e){var n=mt(t);if(Rl(n,e))return t;yg(n,e);var r=aue(n,e),i=r.length,o=[...Array(i-n.length).fill(1),...n],a=lue(t);n.length<i&&(a=xS(a,o),n=mt(a));for(var s=0;s<i;s++)n[s]<r[s]&&(a=sue(a,r[s],s),n=mt(a));return a}function sue(t,e,n){return r5(...Array(e).fill(t),n)}function lue(t){return jn([],t)}function K(t,e,n,r){function i(o){var a=Ple(o,e.map(fue));return uue(t,e,o),n(a)}return i.isFactory=!0,i.fn=t,i.dependencies=e.slice().sort(),r&&(i.meta=r),i}function uue(t,e,n){var r=e.filter(o=>!cue(o)).every(o=>n[o]!==void 0);if(!r){var i=e.filter(o=>n[o]===void 0);throw new Error('Cannot create function "'.concat(t,'", ')+"some dependencies are missing: ".concat(i.map(o=>'"'.concat(o,'"')).join(", "),"."))}}function cue(t){return t&&t[0]==="?"}function fue(t){return t&&t[0]==="?"?t.slice(1):t}function _r(t,e){if(o5(t)&&i5(t,e))return t[e];throw typeof t[e]=="function"&&SS(t,e)?new Error('Cannot access method "'+e+'" as a property'):new Error('No access to property "'+e+'"')}function Dc(t,e,n){if(o5(t)&&i5(t,e))return t[e]=n,n;throw new Error('No access to property "'+e+'"')}function due(t,e){return e in t}function i5(t,e){return!t||typeof t!="object"?!1:Ve(pue,e)?!0:!(e in Object.prototype||e in Function.prototype)}function hue(t,e){if(!SS(t,e))throw new Error('No access to method "'+e+'"');return t[e]}function SS(t,e){return t==null||typeof t[e]!="function"||Ve(t,e)&&Object.getPrototypeOf&&e in Object.getPrototypeOf(t)?!1:Ve(mue,e)?!0:!(e in Object.prototype||e in Function.prototype)}function o5(t){return typeof t=="object"&&t&&t.constructor===Object}var pue={length:!0,name:!0},mue={toString:!0,valueOf:!0,toLocaleString:!0};class CS{constructor(e){this.wrappedObject=e}keys(){return Object.keys(this.wrappedObject)}get(e){return _r(this.wrappedObject,e)}set(e,n){return Dc(this.wrappedObject,e,n),this}has(e){return due(this.wrappedObject,e)}}function Ec(){return new Map}function ec(t){if(!t)return Ec();if(AS(t))return t;if(Pv(t))return new CS(t);throw new Error("createMap can create maps from objects or Maps")}function gue(t){if(t instanceof CS)return t.wrappedObject;var e={};for(var n of t.keys()){var r=t.get(n);Dc(e,n,r)}return e}function AS(t){return t?t instanceof Map||t instanceof CS||typeof t.set=="function"&&typeof t.get=="function"&&typeof t.keys=="function"&&typeof t.has=="function":!1}function EM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i of n)if(i){if(AS(i))for(var o of i.keys())t.set(o,i.get(o));else if(Pv(i))for(var a of Object.keys(i))t.set(a,i[a])}return t}var a5=function(){return a5=Bu.create,Bu},vue=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],yue=K("typed",vue,function(e){var{BigNumber:n,Complex:r,DenseMatrix:i,Fraction:o}=e,a=a5();return a.clear(),a.addTypes([{name:"number",test:wt},{name:"Complex",test:Fa},{name:"BigNumber",test:Et},{name:"Fraction",test:ah},{name:"Unit",test:Fi},{name:"identifier",test:s=>vr&&/^(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE3F\uDE40\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDF02\uDF04-\uDF10\uDF12-\uDF33\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD887][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2F\uDC41-\uDC46]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD32\uDD50-\uDD52\uDD55\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E\uDF25-\uDF2A]|\uD838[\uDC30-\uDC6D\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDCD0-\uDCEB\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF39\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD888[\uDC00-\uDFAF])*$/.test(s)},{name:"string",test:vr},{name:"Chain",test:qR},{name:"Array",test:_t},{name:"Matrix",test:Je},{name:"DenseMatrix",test:hg},{name:"SparseMatrix",test:xl},{name:"Range",test:bS},{name:"Index",test:Iv},{name:"boolean",test:xle},{name:"ResultSet",test:wle},{name:"Help",test:UR},{name:"function",test:Sle},{name:"Date",test:Cle},{name:"RegExp",test:Ale},{name:"null",test:Dle},{name:"undefined",test:Ele},{name:"AccessorNode",test:Fl},{name:"ArrayNode",test:ki},{name:"AssignmentNode",test:Mle},{name:"BlockNode",test:Nle},{name:"ConditionalNode",test:$le},{name:"ConstantNode",test:Pt},{name:"FunctionNode",test:Vs},{name:"FunctionAssignmentNode",test:sh},{name:"IndexNode",test:Wc},{name:"Node",test:Xt},{name:"ObjectNode",test:kv},{name:"OperatorNode",test:kn},{name:"ParenthesisNode",test:Qa},{name:"RangeNode",test:Ole},{name:"RelationalNode",test:Tle},{name:"SymbolNode",test:er},{name:"Map",test:AS},{name:"Object",test:Pv}]),a.addConversions([{from:"number",to:"BigNumber",convert:function(l){if(n||Ny(l),qle(l)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+l+"). Use function bignumber(x) to convert to BigNumber.");return new n(l)}},{from:"number",to:"Complex",convert:function(l){return r||gp(l),new r(l,0)}},{from:"BigNumber",to:"Complex",convert:function(l){return r||gp(l),new r(l.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(l){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(l){return r||gp(l),new r(l.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(l){o||$y(l);var u=new o(l);if(u.valueOf()!==l)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+l+"). Use function fraction(x) to convert to Fraction.");return u}},{from:"string",to:"number",convert:function(l){var u=Number(l);if(isNaN(u))throw new Error('Cannot convert "'+l+'" to a number');return u}},{from:"string",to:"BigNumber",convert:function(l){n||Ny(l);try{return new n(l)}catch{throw new Error('Cannot convert "'+l+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(l){o||$y(l);try{return new o(l)}catch{throw new Error('Cannot convert "'+l+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(l){r||gp(l);try{return new r(l)}catch{throw new Error('Cannot convert "'+l+'" to Complex')}}},{from:"boolean",to:"number",convert:function(l){return+l}},{from:"boolean",to:"BigNumber",convert:function(l){return n||Ny(l),new n(+l)}},{from:"boolean",to:"Fraction",convert:function(l){return o||$y(l),new o(+l)}},{from:"boolean",to:"string",convert:function(l){return String(l)}},{from:"Array",to:"Matrix",convert:function(l){return i||bue(),new i(l)}},{from:"Matrix",to:"Array",convert:function(l){return l.valueOf()}}]),a.onMismatch=(s,l,u)=>{var c=a.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Ki(l[0])&&u.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=c.data,f}throw c},a.onMismatch=(s,l,u)=>{var c=a.createError(s,l,u);if(["wrongType","mismatch"].includes(c.data.category)&&l.length===1&&Ki(l[0])&&u.some(d=>!d.params.includes(","))){var f=new TypeError("Function '".concat(s,"' doesn't apply to matrices. To call it ")+"elementwise on a matrix 'M', try 'map(M, ".concat(s,")'."));throw f.data=c.data,f}throw c},a});function Ny(t){throw new Error("Cannot convert value ".concat(t," into a BigNumber: no class 'BigNumber' provided"))}function gp(t){throw new Error("Cannot convert value ".concat(t," into a Complex number: no class 'Complex' provided"))}function bue(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function $y(t){throw new Error("Cannot convert value ".concat(t," into a Fraction, no class 'Fraction' provided."))}var xue="ResultSet",wue=[],Sue=K(xue,wue,()=>{function t(e){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");this.entries=e||[]}return t.prototype.type="ResultSet",t.prototype.isResultSet=!0,t.prototype.valueOf=function(){return this.entries},t.prototype.toString=function(){return"["+this.entries.join(", ")+"]"},t.prototype.toJSON=function(){return{mathjs:"ResultSet",entries:this.entries}},t.fromJSON=function(e){return new t(e.entries)},t},{isClass:!0});/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Pu=9e15,Xs=1e9,U1="0123456789abcdef",bg="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",xg="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",q1={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Pu,maxE:Pu,crypto:!1},s5,Ma,ht=!0,zv="[DecimalError] ",Us=zv+"Invalid argument: ",l5=zv+"Precision limit exceeded",u5=zv+"crypto unavailable",c5="[object Decimal]",Ar=Math.floor,qn=Math.pow,Cue=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,Aue=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Due=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,f5=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,bo=1e7,nt=7,Eue=9007199254740991,Mue=bg.length-1,W1=xg.length-1,Pe={toStringTag:c5};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),Ze(t)};Pe.ceil=function(){return Ze(new this.constructor(this),this.e+1,2)};Pe.clampedTo=Pe.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(Us+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)};Pe.comparedTo=Pe.cmp=function(t){var e,n,r,i,o=this,a=o.d,s=(t=new o.constructor(t)).d,l=o.s,u=t.s;if(!a||!s)return!l||!u?NaN:l!==u?l:a===s?0:!a^l<0?1:-1;if(!a[0]||!s[0])return a[0]?l:s[0]?-u:0;if(l!==u)return l;if(o.e!==t.e)return o.e>t.e^l<0?1:-1;for(r=a.length,i=s.length,e=0,n=r<i?r:i;e<n;++e)if(a[e]!==s[e])return a[e]>s[e]^l<0?1:-1;return r===i?0:r>i^l<0?1:-1};Pe.cosine=Pe.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+nt,r.rounding=1,n=Nue(r,g5(r,n)),r.precision=t,r.rounding=e,Ze(Ma==2||Ma==3?n.neg():n,t,e,!0)):new r(1):new r(NaN)};Pe.cubeRoot=Pe.cbrt=function(){var t,e,n,r,i,o,a,s,l,u,c=this,f=c.constructor;if(!c.isFinite()||c.isZero())return new f(c);for(ht=!1,o=c.s*qn(c.s*c,1/3),!o||Math.abs(o)==1/0?(n=lr(c.d),t=c.e,(o=(t-n.length+1)%3)&&(n+=o==1||o==-2?"0":"00"),o=qn(n,1/3),t=Ar((t+1)/3)-(t%3==(t<0?-1:2)),o==1/0?n="5e"+t:(n=o.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new f(n),r.s=c.s):r=new f(o.toString()),a=(t=f.precision)+3;;)if(s=r,l=s.times(s).times(s),u=l.plus(c),r=an(u.plus(c).times(s),u.plus(l),a+2,1),lr(s.d).slice(0,a)===(n=lr(r.d)).slice(0,a))if(n=n.slice(a-3,a+1),n=="9999"||!i&&n=="4999"){if(!i&&(Ze(s,t+1,0),s.times(s).times(s).eq(c))){r=s;break}a+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(Ze(r,t+1,1),e=!r.times(r).times(r).eq(c));break}return ht=!0,Ze(r,t,f.rounding,e)};Pe.decimalPlaces=Pe.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-Ar(this.e/nt))*nt,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};Pe.dividedBy=Pe.div=function(t){return an(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.divToInt=function(t){var e=this,n=e.constructor;return Ze(an(e,new n(t),0,1,1),n.precision,n.rounding)};Pe.equals=Pe.eq=function(t){return this.cmp(t)===0};Pe.floor=function(){return Ze(new this.constructor(this),this.e+1,3)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){var e=this.cmp(t);return e==1||e===0};Pe.hyperbolicCosine=Pe.cosh=function(){var t,e,n,r,i,o=this,a=o.constructor,s=new a(1);if(!o.isFinite())return new a(o.s?1/0:NaN);if(o.isZero())return s;n=a.precision,r=a.rounding,a.precision=n+Math.max(o.e,o.sd())+4,a.rounding=1,i=o.d.length,i<32?(t=Math.ceil(i/3),e=(1/Hv(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),o=Mc(a,1,o.times(e),new a(1),!0);for(var l,u=t,c=new a(8);u--;)l=o.times(o),o=s.minus(l.times(c.minus(l.times(c))));return Ze(o,a.precision=n,a.rounding=r,!0)};Pe.hyperbolicSine=Pe.sinh=function(){var t,e,n,r,i=this,o=i.constructor;if(!i.isFinite()||i.isZero())return new o(i);if(e=o.precision,n=o.rounding,o.precision=e+Math.max(i.e,i.sd())+4,o.rounding=1,r=i.d.length,r<3)i=Mc(o,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:t|0,i=i.times(1/Hv(5,t)),i=Mc(o,2,i,i,!0);for(var a,s=new o(5),l=new o(16),u=new o(20);t--;)a=i.times(i),i=i.times(s.plus(a.times(l.times(a).plus(u))))}return o.precision=e,o.rounding=n,Ze(i,e,n,!0)};Pe.hyperbolicTangent=Pe.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,an(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)};Pe.inverseCosine=Pe.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,o=n.rounding;return r!==-1?r===0?e.isNeg()?vo(n,i,o):new n(0):new n(NaN):e.isZero()?vo(n,i+4,o).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=vo(n,i+4,o).times(.5),n.precision=i,n.rounding=o,t.minus(e))};Pe.inverseHyperbolicCosine=Pe.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,ht=!1,n=n.times(n).minus(1).sqrt().plus(n),ht=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)};Pe.inverseHyperbolicSine=Pe.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,ht=!1,n=n.times(n).plus(1).sqrt().plus(n),ht=!0,r.precision=t,r.rounding=e,n.ln())};Pe.inverseHyperbolicTangent=Pe.atanh=function(){var t,e,n,r,i=this,o=i.constructor;return i.isFinite()?i.e>=0?new o(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=o.precision,e=o.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?Ze(new o(i),t,e,!0):(o.precision=n=r-i.e,i=an(i.plus(1),new o(1).minus(i),n+t,1),o.precision=t+4,o.rounding=1,i=i.ln(),o.precision=t,o.rounding=e,i.times(.5))):new o(NaN)};Pe.inverseSine=Pe.asin=function(){var t,e,n,r,i=this,o=i.constructor;return i.isZero()?new o(i):(e=i.abs().cmp(1),n=o.precision,r=o.rounding,e!==-1?e===0?(t=vo(o,n+4,r).times(.5),t.s=i.s,t):new o(NaN):(o.precision=n+6,o.rounding=1,i=i.div(new o(1).minus(i.times(i)).sqrt().plus(1)).atan(),o.precision=n,o.rounding=r,i.times(2)))};Pe.inverseTangent=Pe.atan=function(){var t,e,n,r,i,o,a,s,l,u=this,c=u.constructor,f=c.precision,d=c.rounding;if(u.isFinite()){if(u.isZero())return new c(u);if(u.abs().eq(1)&&f+4<=W1)return a=vo(c,f+4,d).times(.25),a.s=u.s,a}else{if(!u.s)return new c(NaN);if(f+4<=W1)return a=vo(c,f+4,d).times(.5),a.s=u.s,a}for(c.precision=s=f+10,c.rounding=1,n=Math.min(28,s/nt+2|0),t=n;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(ht=!1,e=Math.ceil(s/nt),r=1,l=u.times(u),a=new c(u),i=u;t!==-1;)if(i=i.times(l),o=a.minus(i.div(r+=2)),i=i.times(l),a=o.plus(i.div(r+=2)),a.d[e]!==void 0)for(t=e;a.d[t]===o.d[t]&&t--;);return n&&(a=a.times(2<<n-1)),ht=!0,Ze(a,c.precision=f,c.rounding=d,!0)};Pe.isFinite=function(){return!!this.d};Pe.isInteger=Pe.isInt=function(){return!!this.d&&Ar(this.e/nt)>this.d.length-2};Pe.isNaN=function(){return!this.s};Pe.isNegative=Pe.isNeg=function(){return this.s<0};Pe.isPositive=Pe.isPos=function(){return this.s>0};Pe.isZero=function(){return!!this.d&&this.d[0]===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,n,r,i,o,a,s,l,u=this,c=u.constructor,f=c.precision,d=c.rounding,h=5;if(t==null)t=new c(10),e=!0;else{if(t=new c(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new c(NaN);e=t.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new c(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)o=!0;else{for(i=n[0];i%10===0;)i/=10;o=i!==1}if(ht=!1,s=f+h,a=Es(u,s),r=e?wg(c,s+10):Es(t,s),l=an(a,r,s,1),zd(l.d,i=f,d))do if(s+=10,a=Es(u,s),r=e?wg(c,s+10):Es(t,s),l=an(a,r,s,1),!o){+lr(l.d).slice(i+1,i+15)+1==1e14&&(l=Ze(l,f+1,0));break}while(zd(l.d,i+=10,d));return ht=!0,Ze(l,f,d)};Pe.minus=Pe.sub=function(t){var e,n,r,i,o,a,s,l,u,c,f,d,h=this,p=h.constructor;if(t=new p(t),!h.d||!t.d)return!h.s||!t.s?t=new p(NaN):h.d?t.s=-t.s:t=new p(t.d||h.s!==t.s?h:NaN),t;if(h.s!=t.s)return t.s=-t.s,h.plus(t);if(u=h.d,d=t.d,s=p.precision,l=p.rounding,!u[0]||!d[0]){if(d[0])t.s=-t.s;else if(u[0])t=new p(h);else return new p(l===3?-0:0);return ht?Ze(t,s,l):t}if(n=Ar(t.e/nt),c=Ar(h.e/nt),u=u.slice(),o=c-n,o){for(f=o<0,f?(e=u,o=-o,a=d.length):(e=d,n=c,a=u.length),r=Math.max(Math.ceil(s/nt),a)+2,o>r&&(o=r,e.length=1),e.reverse(),r=o;r--;)e.push(0);e.reverse()}else{for(r=u.length,a=d.length,f=r<a,f&&(a=r),r=0;r<a;r++)if(u[r]!=d[r]){f=u[r]<d[r];break}o=0}for(f&&(e=u,u=d,d=e,t.s=-t.s),a=u.length,r=d.length-a;r>0;--r)u[a++]=0;for(r=d.length;r>o;){if(u[--r]<d[r]){for(i=r;i&&u[--i]===0;)u[i]=bo-1;--u[i],u[r]+=bo}u[r]-=d[r]}for(;u[--a]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=Lv(u,n),ht?Ze(t,s,l):t):new p(l===3?-0:0)};Pe.modulo=Pe.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?Ze(new r(n),r.precision,r.rounding):(ht=!1,r.modulo==9?(e=an(n,t.abs(),0,3,1),e.s*=t.s):e=an(n,t,0,r.modulo,1),e=e.times(t),ht=!0,n.minus(e))};Pe.naturalExponential=Pe.exp=function(){return j1(this)};Pe.naturalLogarithm=Pe.ln=function(){return Es(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s,Ze(t)};Pe.plus=Pe.add=function(t){var e,n,r,i,o,a,s,l,u,c,f=this,d=f.constructor;if(t=new d(t),!f.d||!t.d)return!f.s||!t.s?t=new d(NaN):f.d||(t=new d(t.d||f.s===t.s?f:NaN)),t;if(f.s!=t.s)return t.s=-t.s,f.minus(t);if(u=f.d,c=t.d,s=d.precision,l=d.rounding,!u[0]||!c[0])return c[0]||(t=new d(f)),ht?Ze(t,s,l):t;if(o=Ar(f.e/nt),r=Ar(t.e/nt),u=u.slice(),i=o-r,i){for(i<0?(n=u,i=-i,a=c.length):(n=c,r=o,a=u.length),o=Math.ceil(s/nt),a=o>a?o+1:a+1,i>a&&(i=a,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(a=u.length,i=c.length,a-i<0&&(i=a,n=c,c=u,u=n),e=0;i;)e=(u[--i]=u[i]+c[i]+e)/bo|0,u[i]%=bo;for(e&&(u.unshift(e),++r),a=u.length;u[--a]==0;)u.pop();return t.d=u,t.e=Lv(u,r),ht?Ze(t,s,l):t};Pe.precision=Pe.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Us+t);return n.d?(e=d5(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};Pe.round=function(){var t=this,e=t.constructor;return Ze(new e(t),t.e+1,e.rounding)};Pe.sine=Pe.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+nt,r.rounding=1,n=Oue(r,g5(r,n)),r.precision=t,r.rounding=e,Ze(Ma>2?n.neg():n,t,e,!0)):new r(NaN)};Pe.squareRoot=Pe.sqrt=function(){var t,e,n,r,i,o,a=this,s=a.d,l=a.e,u=a.s,c=a.constructor;if(u!==1||!s||!s[0])return new c(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);for(ht=!1,u=Math.sqrt(+a),u==0||u==1/0?(e=lr(s),(e.length+l)%2==0&&(e+="0"),u=Math.sqrt(e),l=Ar((l+1)/2)-(l<0||l%2),u==1/0?e="5e"+l:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+l),r=new c(e)):r=new c(u.toString()),n=(l=c.precision)+3;;)if(o=r,r=o.plus(an(a,o,n+2,1)).times(.5),lr(o.d).slice(0,n)===(e=lr(r.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!i&&e=="4999"){if(!i&&(Ze(o,l+1,0),o.times(o).eq(a))){r=o;break}n+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(Ze(r,l+1,1),t=!r.times(r).eq(a));break}return ht=!0,Ze(r,l,c.rounding,t)};Pe.tangent=Pe.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=an(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,Ze(Ma==2||Ma==4?n.neg():n,t,e,!0)):new r(NaN)};Pe.times=Pe.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,d=c.d,h=(t=new f(t)).d;if(t.s*=c.s,!d||!d[0]||!h||!h[0])return new f(!t.s||d&&!d[0]&&!h||h&&!h[0]&&!d?NaN:!d||!h?t.s/0:t.s*0);for(n=Ar(c.e/nt)+Ar(t.e/nt),l=d.length,u=h.length,l<u&&(o=d,d=h,h=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+h[r]*d[i-r-1]+e,o[i--]=s%bo|0,e=s/bo|0;o[i]=(o[i]+e)%bo|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=Lv(o,n),ht?Ze(t,f.precision,f.rounding):t};Pe.toBinary=function(t,e){return DS(this,2,t,e)};Pe.toDecimalPlaces=Pe.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(ii(t,0,Xs),e===void 0?e=r.rounding:ii(e,0,8),Ze(n,t+n.e+1,e))};Pe.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=sa(r,!0):(ii(t,0,Xs),e===void 0?e=i.rounding:ii(e,0,8),r=Ze(new i(r),t+1,e),n=sa(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n};Pe.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?n=sa(i):(ii(t,0,Xs),e===void 0?e=o.rounding:ii(e,0,8),r=Ze(new o(i),t+i.e+1,e),n=sa(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};Pe.toFraction=function(t){var e,n,r,i,o,a,s,l,u,c,f,d,h=this,p=h.d,m=h.constructor;if(!p)return new m(h);if(u=n=new m(1),r=l=new m(0),e=new m(r),o=e.e=d5(p)-h.e-1,a=o%nt,e.d[0]=qn(10,a<0?nt+a:a),t==null)t=o>0?e:u;else{if(s=new m(t),!s.isInt()||s.lt(u))throw Error(Us+s);t=s.gt(e)?o>0?e:u:s}for(ht=!1,s=new m(lr(p)),c=m.precision,m.precision=o=p.length*nt*2;f=an(s,e,0,1,1),i=n.plus(f.times(r)),i.cmp(t)!=1;)n=r,r=i,i=u,u=l.plus(f.times(i)),l=i,i=e,e=s.minus(f.times(i)),s=i;return i=an(t.minus(n),r,0,1,1),l=l.plus(i.times(u)),n=n.plus(i.times(r)),l.s=u.s=h.s,d=an(u,r,o,1).minus(h).abs().cmp(an(l,n,o,1).minus(h).abs())<1?[u,r]:[l,n],m.precision=c,ht=!0,d};Pe.toHexadecimal=Pe.toHex=function(t,e){return DS(this,16,t,e)};Pe.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),t==null){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),e===void 0?e=r.rounding:ii(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(ht=!1,n=an(n,t,0,e,1).times(t),ht=!0,Ze(n)):(t.s=n.s,n=t),n};Pe.toNumber=function(){return+this};Pe.toOctal=function(t,e){return DS(this,8,t,e)};Pe.toPower=Pe.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=+(t=new l(t));if(!s.d||!t.d||!s.d[0]||!t.d[0])return new l(qn(+s,u));if(s=new l(s),s.eq(1))return s;if(r=l.precision,o=l.rounding,t.eq(1))return Ze(s,r,o);if(e=Ar(t.e/nt),e>=t.d.length-1&&(n=u<0?-u:u)<=Eue)return i=h5(l,s,n,r),t.s<0?new l(1).div(i):Ze(i,r,o);if(a=s.s,a<0){if(e<t.d.length-1)return new l(NaN);if(t.d[e]&1||(a=1),s.e==0&&s.d[0]==1&&s.d.length==1)return s.s=a,s}return n=qn(+s,u),e=n==0||!isFinite(n)?Ar(u*(Math.log("0."+lr(s.d))/Math.LN10+s.e+1)):new l(n+"").e,e>l.maxE+1||e<l.minE-1?new l(e>0?a/0:0):(ht=!1,l.rounding=s.s=1,n=Math.min(12,(e+"").length),i=j1(t.times(Es(s,r+n)),r),i.d&&(i=Ze(i,r+5,1),zd(i.d,r,o)&&(e=r+10,i=Ze(j1(t.times(Es(s,e+n)),e),e+5,1),+lr(i.d).slice(r+1,r+15)+1==1e14&&(i=Ze(i,r+1,0)))),i.s=a,ht=!0,l.rounding=o,Ze(i,r,o))};Pe.toPrecision=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=sa(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(ii(t,1,Xs),e===void 0?e=i.rounding:ii(e,0,8),r=Ze(new i(r),t,e),n=sa(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n};Pe.toSignificantDigits=Pe.toSD=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(ii(t,1,Xs),e===void 0?e=r.rounding:ii(e,0,8)),Ze(new r(n),t,e)};Pe.toString=function(){var t=this,e=t.constructor,n=sa(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};Pe.truncated=Pe.trunc=function(){return Ze(new this.constructor(this),this.e+1,1)};Pe.valueOf=Pe.toJSON=function(){var t=this,e=t.constructor,n=sa(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function lr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=nt-r.length,n&&(o+=ps(n)),o+=r;a=t[e],r=a+"",n=nt-r.length,n&&(o+=ps(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}function ii(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Us+t)}function zd(t,e,n,r){var i,o,a,s;for(o=t[0];o>=10;o/=10)--e;return--e<0?(e+=nt,i=0):(i=Math.ceil((e+1)/nt),e%=nt),o=qn(10,nt-e),s=t[i]%o|0,r==null?e<3?(e==0?s=s/100|0:e==1&&(s=s/10|0),a=n<4&&s==99999||n>3&&s==49999||s==5e4||s==0):a=(n<4&&s+1==o||n>3&&s+1==o/2)&&(t[i+1]/o/100|0)==qn(10,e-2)-1||(s==o/2||s==0)&&(t[i+1]/o/100|0)==0:e<4?(e==0?s=s/1e3|0:e==1?s=s/100|0:e==2&&(s=s/10|0),a=(r||n<4)&&s==9999||!r&&n>3&&s==4999):a=((r||n<4)&&s+1==o||!r&&n>3&&s+1==o/2)&&(t[i+1]/o/1e3|0)==qn(10,e-3)-1,a}function om(t,e,n){for(var r,i=[0],o,a=0,s=t.length;a<s;){for(o=i.length;o--;)i[o]*=e;for(i[0]+=U1.indexOf(t.charAt(a++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function Nue(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/Hv(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=Mc(t,1,e.times(i),new t(1));for(var o=n;o--;){var a=e.times(e);e=a.times(a).minus(a).times(8).plus(1)}return t.precision-=n,e}var an=function(){function t(r,i,o){var a,s=0,l=r.length;for(r=r.slice();l--;)a=r[l]*i+s,r[l]=a%o|0,s=a/o|0;return s&&r.unshift(s),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o,a){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*a+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a,s,l){var u,c,f,d,h,p,m,v,g,w,y,S,x,b,C,A,D,E,M,B,P=r.constructor,F=r.s==i.s?1:-1,$=r.d,N=i.d;if(!$||!$[0]||!N||!N[0])return new P(!r.s||!i.s||($?N&&$[0]==N[0]:!N)?NaN:$&&$[0]==0||!N?F*0:F/0);for(l?(h=1,c=r.e-i.e):(l=bo,h=nt,c=Ar(r.e/h)-Ar(i.e/h)),M=N.length,D=$.length,g=new P(F),w=g.d=[],f=0;N[f]==($[f]||0);f++);if(N[f]>($[f]||0)&&c--,o==null?(b=o=P.precision,a=P.rounding):s?b=o+(r.e-i.e)+1:b=o,b<0)w.push(1),p=!0;else{if(b=b/h+2|0,f=0,M==1){for(d=0,N=N[0],b++;(f<D||d)&&b--;f++)C=d*l+($[f]||0),w[f]=C/N|0,d=C%N|0;p=d||f<D}else{for(d=l/(N[0]+1)|0,d>1&&(N=t(N,d,l),$=t($,d,l),M=N.length,D=$.length),A=M,y=$.slice(0,M),S=y.length;S<M;)y[S++]=0;B=N.slice(),B.unshift(0),E=N[0],N[1]>=l/2&&++E;do d=0,u=e(N,y,M,S),u<0?(x=y[0],M!=S&&(x=x*l+(y[1]||0)),d=x/E|0,d>1?(d>=l&&(d=l-1),m=t(N,d,l),v=m.length,S=y.length,u=e(m,y,v,S),u==1&&(d--,n(m,M<v?B:N,v,l))):(d==0&&(u=d=1),m=N.slice()),v=m.length,v<S&&m.unshift(0),n(y,m,S,l),u==-1&&(S=y.length,u=e(N,y,M,S),u<1&&(d++,n(y,M<S?B:N,S,l))),S=y.length):u===0&&(d++,y=[0]),w[f++]=d,u&&y[0]?y[S++]=$[A]||0:(y=[$[A]],S=1);while((A++<D||y[0]!==void 0)&&b--);p=y[0]!==void 0}w[0]||w.shift()}if(h==1)g.e=c,s5=p;else{for(f=1,d=w[0];d>=10;d/=10)f++;g.e=f+c*h-1,Ze(g,s?o+g.e+1:o,a,p)}return g}}();function Ze(t,e,n,r){var i,o,a,s,l,u,c,f,d,h=t.constructor;e:if(e!=null){if(f=t.d,!f)return t;for(i=1,s=f[0];s>=10;s/=10)i++;if(o=e-i,o<0)o+=nt,a=e,c=f[d=0],l=c/qn(10,i-a-1)%10|0;else if(d=Math.ceil((o+1)/nt),s=f.length,d>=s)if(r){for(;s++<=d;)f.push(0);c=l=0,i=1,o%=nt,a=o-nt+1}else break e;else{for(c=s=f[d],i=1;s>=10;s/=10)i++;o%=nt,a=o-nt+i,l=a<0?0:c/qn(10,i-a-1)%10|0}if(r=r||e<0||f[d+1]!==void 0||(a<0?c:c%qn(10,i-a-1)),u=n<4?(l||r)&&(n==0||n==(t.s<0?3:2)):l>5||l==5&&(n==4||r||n==6&&(o>0?a>0?c/qn(10,i-a):0:f[d-1])%10&1||n==(t.s<0?8:7)),e<1||!f[0])return f.length=0,u?(e-=t.e+1,f[0]=qn(10,(nt-e%nt)%nt),t.e=-e||0):f[0]=t.e=0,t;if(o==0?(f.length=d,s=1,d--):(f.length=d+1,s=qn(10,nt-o),f[d]=a>0?(c/qn(10,i-a)%qn(10,a)|0)*s:0),u)for(;;)if(d==0){for(o=1,a=f[0];a>=10;a/=10)o++;for(a=f[0]+=s,s=1;a>=10;a/=10)s++;o!=s&&(t.e++,f[0]==bo&&(f[0]=1));break}else{if(f[d]+=s,f[d]!=bo)break;f[d--]=0,s=1}for(o=f.length;f[--o]===0;)f.pop()}return ht&&(t.e>h.maxE?(t.d=null,t.e=NaN):t.e<h.minE&&(t.e=0,t.d=[0])),t}function sa(t,e,n){if(!t.isFinite())return m5(t);var r,i=t.e,o=lr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+ps(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(t.e<0?"e":"e+")+t.e):i<0?(o="0."+ps(-i-1)+o,n&&(r=n-a)>0&&(o+=ps(r))):i>=a?(o+=ps(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+ps(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=ps(r))),o}function Lv(t,e){var n=t[0];for(e*=nt;n>=10;n/=10)e++;return e}function wg(t,e,n){if(e>Mue)throw ht=!0,n&&(t.precision=n),Error(l5);return Ze(new t(bg),e,1,!0)}function vo(t,e,n){if(e>W1)throw Error(l5);return Ze(new t(xg),e,n,!0)}function d5(t){var e=t.length-1,n=e*nt+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function ps(t){for(var e="";t--;)e+="0";return e}function h5(t,e,n,r){var i,o=new t(1),a=Math.ceil(r/nt+4);for(ht=!1;;){if(n%2&&(o=o.times(e),NM(o.d,a)&&(i=!0)),n=Ar(n/2),n===0){n=o.d.length-1,i&&o.d[n]===0&&++o.d[n];break}e=e.times(e),NM(e.d,a)}return ht=!0,o}function MM(t){return t.d[t.d.length-1]&1}function p5(t,e,n){for(var r,i=new t(e[0]),o=0;++o<e.length;)if(r=new t(e[o]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function j1(t,e){var n,r,i,o,a,s,l,u=0,c=0,f=0,d=t.constructor,h=d.rounding,p=d.precision;if(!t.d||!t.d[0]||t.e>17)return new d(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:NaN);for(e==null?(ht=!1,l=p):l=e,s=new d(.03125);t.e>-2;)t=t.times(s),f+=5;for(r=Math.log(qn(2,f))/Math.LN10*2+5|0,l+=r,n=o=a=new d(1),d.precision=l;;){if(o=Ze(o.times(t),l,1),n=n.times(++c),s=a.plus(an(o,n,l,1)),lr(s.d).slice(0,l)===lr(a.d).slice(0,l)){for(i=f;i--;)a=Ze(a.times(a),l,1);if(e==null)if(u<3&&zd(a.d,l-r,h,u))d.precision=l+=10,n=o=s=new d(1),c=0,u++;else return Ze(a,d.precision=p,h,ht=!0);else return d.precision=p,a}a=s}}function Es(t,e){var n,r,i,o,a,s,l,u,c,f,d,h=1,p=10,m=t,v=m.d,g=m.constructor,w=g.rounding,y=g.precision;if(m.s<0||!v||!v[0]||!m.e&&v[0]==1&&v.length==1)return new g(v&&!v[0]?-1/0:m.s!=1?NaN:v?0:m);if(e==null?(ht=!1,c=y):c=e,g.precision=c+=p,n=lr(v),r=n.charAt(0),Math.abs(o=m.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=lr(m.d),r=n.charAt(0),h++;o=m.e,r>1?(m=new g("0."+n),o++):m=new g(r+"."+n.slice(1))}else return u=wg(g,c+2,y).times(o+""),m=Es(new g(r+"."+n.slice(1)),c-p).plus(u),g.precision=y,e==null?Ze(m,y,w,ht=!0):m;for(f=m,l=a=m=an(m.minus(1),m.plus(1),c,1),d=Ze(m.times(m),c,1),i=3;;){if(a=Ze(a.times(d),c,1),u=l.plus(an(a,new g(i),c,1)),lr(u.d).slice(0,c)===lr(l.d).slice(0,c))if(l=l.times(2),o!==0&&(l=l.plus(wg(g,c+2,y).times(o+""))),l=an(l,new g(h),c,1),e==null)if(zd(l.d,c-p,w,s))g.precision=c+=p,u=a=m=an(f.minus(1),f.plus(1),c,1),d=Ze(m.times(m),c,1),i=s=1;else return Ze(l,g.precision=y,w,ht=!0);else return g.precision=y,l;l=u,i+=2}}function m5(t){return String(t.s*t.s/0)}function G1(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%nt,n<0&&(r+=nt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=nt;r<i;)t.d.push(+e.slice(r,r+=nt));e=e.slice(r),r=nt-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),ht&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function $ue(t,e){var n,r,i,o,a,s,l,u,c;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),f5.test(e))return G1(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(Aue.test(e))n=16,e=e.toLowerCase();else if(Cue.test(e))n=2;else if(Due.test(e))n=8;else throw Error(Us+e);for(o=e.search(/p/i),o>0?(l=+e.slice(o+1),e=e.substring(2,o)):e=e.slice(2),o=e.indexOf("."),a=o>=0,r=t.constructor,a&&(e=e.replace(".",""),s=e.length,o=s-o,i=h5(r,new r(n),o,o*2)),u=om(e,n,bo),c=u.length-1,o=c;u[o]===0;--o)u.pop();return o<0?new r(t.s*0):(t.e=Lv(u,c),t.d=u,ht=!1,a&&(t=an(t,i,s*4)),l&&(t=t.times(Math.abs(l)<54?qn(2,l):qs.pow(2,l))),ht=!0,t)}function Oue(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:Mc(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:n|0,e=e.times(1/Hv(5,n)),e=Mc(t,2,e,e);for(var i,o=new t(5),a=new t(16),s=new t(20);n--;)i=e.times(e),e=e.times(o.plus(i.times(a.times(i).minus(s))));return e}function Mc(t,e,n,r,i){var o,a,s,l,u=t.precision,c=Math.ceil(u/nt);for(ht=!1,l=n.times(n),s=new t(r);;){if(a=an(s.times(l),new t(e++*e++),u,1),s=i?r.plus(a):r.minus(a),r=an(a.times(l),new t(e++*e++),u,1),a=s.plus(r),a.d[c]!==void 0){for(o=c;a.d[o]===s.d[o]&&o--;);if(o==-1)break}o=s,s=r,r=a,a=o}return ht=!0,a.d.length=c+1,a}function Hv(t,e){for(var n=t;--e;)n*=t;return n}function g5(t,e){var n,r=e.s<0,i=vo(t,t.precision,1),o=i.times(.5);if(e=e.abs(),e.lte(o))return Ma=r?4:1,e;if(n=e.divToInt(i),n.isZero())Ma=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(o))return Ma=MM(n)?r?2:3:r?4:1,e;Ma=MM(n)?r?1:4:r?3:2}return e.minus(i).abs()}function DS(t,e,n,r){var i,o,a,s,l,u,c,f,d,h=t.constructor,p=n!==void 0;if(p?(ii(n,1,Xs),r===void 0?r=h.rounding:ii(r,0,8)):(n=h.precision,r=h.rounding),!t.isFinite())c=m5(t);else{for(c=sa(t),a=c.indexOf("."),p?(i=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):i=e,a>=0&&(c=c.replace(".",""),d=new h(1),d.e=c.length-a,d.d=om(sa(d),10,i),d.e=d.d.length),f=om(c,10,i),o=l=f.length;f[--l]==0;)f.pop();if(!f[0])c=p?"0p+0":"0";else{if(a<0?o--:(t=new h(t),t.d=f,t.e=o,t=an(t,d,n,r,0,i),f=t.d,o=t.e,u=s5),a=f[n],s=i/2,u=u||f[n+1]!==void 0,u=r<4?(a!==void 0||u)&&(r===0||r===(t.s<0?3:2)):a>s||a===s&&(r===4||u||r===6&&f[n-1]&1||r===(t.s<0?8:7)),f.length=n,u)for(;++f[--n]>i-1;)f[n]=0,n||(++o,f.unshift(1));for(l=f.length;!f[l-1];--l);for(a=0,c="";a<l;a++)c+=U1.charAt(f[a]);if(p){if(l>1)if(e==16||e==8){for(a=e==16?4:3,--l;l%a;l++)c+="0";for(f=om(c,i,e),l=f.length;!f[l-1];--l);for(a=1,c="1.";a<l;a++)c+=U1.charAt(f[a])}else c=c.charAt(0)+"."+c.slice(1);c=c+(o<0?"p":"p+")+o}else if(o<0){for(;++o;)c="0"+c;c="0."+c}else if(++o>l)for(o-=l;o--;)c+="0";else o<l&&(c=c.slice(0,o)+"."+c.slice(o))}c=(e==16?"0x":e==2?"0b":e==8?"0o":"")+c}return t.s<0?"-"+c:c}function NM(t,e){if(t.length>e)return t.length=e,!0}function Tue(t){return new this(t).abs()}function Bue(t){return new this(t).acos()}function Iue(t){return new this(t).acosh()}function Pue(t,e){return new this(t).plus(e)}function kue(t){return new this(t).asin()}function Fue(t){return new this(t).asinh()}function Rue(t){return new this(t).atan()}function _ue(t){return new this(t).atanh()}function zue(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,o=r+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=vo(this,o,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?vo(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=vo(this,o,1).times(.5),n.s=t.s):e.s<0?(this.precision=o,this.rounding=1,n=this.atan(an(t,e,o,1)),e=vo(this,o,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(an(t,e,o,1)),n}function Lue(t){return new this(t).cbrt()}function Hue(t){return Ze(t=new this(t),t.e+1,2)}function Vue(t,e,n){return new this(t).clamp(e,n)}function Uue(t){if(!t||typeof t!="object")throw Error(zv+"Object expected");var e,n,r,i=t.defaults===!0,o=["precision",1,Xs,"rounding",0,8,"toExpNeg",-Pu,0,"toExpPos",0,Pu,"maxE",0,Pu,"minE",-Pu,0,"modulo",0,9];for(e=0;e<o.length;e+=3)if(n=o[e],i&&(this[n]=q1[n]),(r=t[n])!==void 0)if(Ar(r)===r&&r>=o[e+1]&&r<=o[e+2])this[n]=r;else throw Error(Us+n+": "+r);if(n="crypto",i&&(this[n]=q1[n]),(r=t[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(u5);else this[n]=!1;else throw Error(Us+n+": "+r);return this}function que(t){return new this(t).cos()}function Wue(t){return new this(t).cosh()}function v5(t){var e,n,r;function i(o){var a,s,l,u=this;if(!(u instanceof i))return new i(o);if(u.constructor=i,$M(o)){u.s=o.s,ht?!o.d||o.e>i.maxE?(u.e=NaN,u.d=null):o.e<i.minE?(u.e=0,u.d=[0]):(u.e=o.e,u.d=o.d.slice()):(u.e=o.e,u.d=o.d?o.d.slice():o.d);return}if(l=typeof o,l==="number"){if(o===0){u.s=1/o<0?-1:1,u.e=0,u.d=[0];return}if(o<0?(o=-o,u.s=-1):u.s=1,o===~~o&&o<1e7){for(a=0,s=o;s>=10;s/=10)a++;ht?a>i.maxE?(u.e=NaN,u.d=null):a<i.minE?(u.e=0,u.d=[0]):(u.e=a,u.d=[o]):(u.e=a,u.d=[o]);return}else if(o*0!==0){o||(u.s=NaN),u.e=NaN,u.d=null;return}return G1(u,o.toString())}else if(l!=="string")throw Error(Us+o);return(s=o.charCodeAt(0))===45?(o=o.slice(1),u.s=-1):(s===43&&(o=o.slice(1)),u.s=1),f5.test(o)?G1(u,o):$ue(u,o)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=Uue,i.clone=v5,i.isDecimal=$M,i.abs=Tue,i.acos=Bue,i.acosh=Iue,i.add=Pue,i.asin=kue,i.asinh=Fue,i.atan=Rue,i.atanh=_ue,i.atan2=zue,i.cbrt=Lue,i.ceil=Hue,i.clamp=Vue,i.cos=que,i.cosh=Wue,i.div=jue,i.exp=Gue,i.floor=Xue,i.hypot=Kue,i.ln=Yue,i.log=Zue,i.log10=Jue,i.log2=Que,i.max=ece,i.min=tce,i.mod=nce,i.mul=rce,i.pow=ice,i.random=oce,i.round=ace,i.sign=sce,i.sin=lce,i.sinh=uce,i.sqrt=cce,i.sub=fce,i.sum=dce,i.tan=hce,i.tanh=pce,i.trunc=mce,t===void 0&&(t={}),t&&t.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jue(t,e){return new this(t).div(e)}function Gue(t){return new this(t).exp()}function Xue(t){return Ze(t=new this(t),t.e+1,3)}function Kue(){var t,e,n=new this(0);for(ht=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return ht=!0,new this(1/0);n=e}return ht=!0,n.sqrt()}function $M(t){return t instanceof qs||t&&t.toStringTag===c5||!1}function Yue(t){return new this(t).ln()}function Zue(t,e){return new this(t).log(e)}function Que(t){return new this(t).log(2)}function Jue(t){return new this(t).log(10)}function ece(){return p5(this,arguments,"lt")}function tce(){return p5(this,arguments,"gt")}function nce(t,e){return new this(t).mod(e)}function rce(t,e){return new this(t).mul(e)}function ice(t,e){return new this(t).pow(e)}function oce(t){var e,n,r,i,o=0,a=new this(1),s=[];if(t===void 0?t=this.precision:ii(t,1,Xs),r=Math.ceil(t/nt),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));o<r;)i=e[o],i>=429e7?e[o]=crypto.getRandomValues(new Uint32Array(1))[0]:s[o++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);o<r;)i=e[o]+(e[o+1]<<8)+(e[o+2]<<16)+((e[o+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,o):(s.push(i%1e7),o+=4);o=r/4}else throw Error(u5);else for(;o<r;)s[o++]=Math.random()*1e7|0;for(r=s[--o],t%=nt,r&&t&&(i=qn(10,nt-t),s[o]=(r/i|0)*i);s[o]===0;o--)s.pop();if(o<0)n=0,s=[0];else{for(n=-1;s[0]===0;n-=nt)s.shift();for(r=1,i=s[0];i>=10;i/=10)r++;r<nt&&(n-=nt-r)}return a.e=n,a.d=s,a}function ace(t){return Ze(t=new this(t),t.e+1,this.rounding)}function sce(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function lce(t){return new this(t).sin()}function uce(t){return new this(t).sinh()}function cce(t){return new this(t).sqrt()}function fce(t,e){return new this(t).sub(e)}function dce(){var t=0,e=arguments,n=new this(e[t]);for(ht=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return ht=!0,Ze(n,this.precision,this.rounding)}function hce(t){return new this(t).tan()}function pce(t){return new this(t).tanh()}function mce(t){return Ze(t=new this(t),t.e+1,1)}Pe[Symbol.for("nodejs.util.inspect.custom")]=Pe.toString;Pe[Symbol.toStringTag]="Decimal";var qs=Pe.constructor=v5(q1);bg=new qs(bg);xg=new qs(xg);var gce="BigNumber",vce=["?on","config"],yce=K(gce,vce,t=>{var{on:e,config:n}=t,r=qs.clone({precision:n.precision,modulo:qs.EUCLID});return r.prototype=Object.create(r.prototype),r.prototype.type="BigNumber",r.prototype.isBigNumber=!0,r.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},r.fromJSON=function(i){return new r(i.value)},e&&e("config",function(i,o){i.precision!==o.precision&&r.config({precision:i.precision})}),r},{isClass:!0}),y5={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(t,e){(function(n){var r=Math.cosh||function(f){return Math.abs(f)<1e-9?1-f:(Math.exp(f)+Math.exp(-f))*.5},i=Math.sinh||function(f){return Math.abs(f)<1e-9?f:(Math.exp(f)-Math.exp(-f))*.5},o=function(f){var d=Math.PI/4;if(-d>f||f>d)return Math.cos(f)-1;var h=f*f;return h*(h*(h*(h*(h*(h*(h*(h/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},a=function(f,d){var h=Math.abs(f),p=Math.abs(d);return h<3e3&&p<3e3?Math.sqrt(h*h+p*p):(h<p?(h=p,p=f/d):p=d/f,h*Math.sqrt(1+p*p))},s=function(){throw SyntaxError("Invalid Param")};function l(f,d){var h=Math.abs(f),p=Math.abs(d);return f===0?Math.log(p):d===0?Math.log(h):h<3e3&&p<3e3?Math.log(f*f+d*d)*.5:(f=f/2,d=d/2,.5*Math.log(f*f+d*d)+Math.LN2)}var u=function(f,d){var h={re:0,im:0};if(f==null)h.re=h.im=0;else if(d!==void 0)h.re=f,h.im=d;else switch(typeof f){case"object":if("im"in f&&"re"in f)h.re=f.re,h.im=f.im;else if("abs"in f&&"arg"in f){if(!Number.isFinite(f.abs)&&Number.isFinite(f.arg))return c.INFINITY;h.re=f.abs*Math.cos(f.arg),h.im=f.abs*Math.sin(f.arg)}else if("r"in f&&"phi"in f){if(!Number.isFinite(f.r)&&Number.isFinite(f.phi))return c.INFINITY;h.re=f.r*Math.cos(f.phi),h.im=f.r*Math.sin(f.phi)}else f.length===2?(h.re=f[0],h.im=f[1]):s();break;case"string":h.im=h.re=0;var p=f.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),m=1,v=0;p===null&&s();for(var g=0;g<p.length;g++){var w=p[g];w===" "||w==="	"||w===`
`||(w==="+"?m++:w==="-"?v++:w==="i"||w==="I"?(m+v===0&&s(),p[g+1]!==" "&&!isNaN(p[g+1])?(h.im+=parseFloat((v%2?"-":"")+p[g+1]),g++):h.im+=parseFloat((v%2?"-":"")+"1"),m=v=0):((m+v===0||isNaN(w))&&s(),p[g+1]==="i"||p[g+1]==="I"?(h.im+=parseFloat((v%2?"-":"")+w),g++):h.re+=parseFloat((v%2?"-":"")+w),m=v=0))}m+v>0&&s();break;case"number":h.im=0,h.re=f;break;default:s()}return isNaN(h.re)||isNaN(h.im),h};function c(f,d){if(!(this instanceof c))return new c(f,d);var h=u(f,d);this.re=h.re,this.im=h.im}c.prototype={re:0,im:0,sign:function(){var f=this.abs();return new c(this.re/f,this.im/f)},add:function(f,d){var h=new c(f,d);return this.isInfinite()&&h.isInfinite()?c.NAN:this.isInfinite()||h.isInfinite()?c.INFINITY:new c(this.re+h.re,this.im+h.im)},sub:function(f,d){var h=new c(f,d);return this.isInfinite()&&h.isInfinite()?c.NAN:this.isInfinite()||h.isInfinite()?c.INFINITY:new c(this.re-h.re,this.im-h.im)},mul:function(f,d){var h=new c(f,d);return this.isInfinite()&&h.isZero()||this.isZero()&&h.isInfinite()?c.NAN:this.isInfinite()||h.isInfinite()?c.INFINITY:h.im===0&&this.im===0?new c(this.re*h.re,0):new c(this.re*h.re-this.im*h.im,this.re*h.im+this.im*h.re)},div:function(f,d){var h=new c(f,d);if(this.isZero()&&h.isZero()||this.isInfinite()&&h.isInfinite())return c.NAN;if(this.isInfinite()||h.isZero())return c.INFINITY;if(this.isZero()||h.isInfinite())return c.ZERO;f=this.re,d=this.im;var p=h.re,m=h.im,v,g;return m===0?new c(f/p,d/p):Math.abs(p)<Math.abs(m)?(g=p/m,v=p*g+m,new c((f*g+d)/v,(d*g-f)/v)):(g=m/p,v=m*g+p,new c((f+d*g)/v,(d-f*g)/v))},pow:function(f,d){var h=new c(f,d);if(f=this.re,d=this.im,h.isZero())return c.ONE;if(h.im===0){if(d===0&&f>0)return new c(Math.pow(f,h.re),0);if(f===0)switch((h.re%4+4)%4){case 0:return new c(Math.pow(d,h.re),0);case 1:return new c(0,Math.pow(d,h.re));case 2:return new c(-Math.pow(d,h.re),0);case 3:return new c(0,-Math.pow(d,h.re))}}if(f===0&&d===0&&h.re>0&&h.im>=0)return c.ZERO;var p=Math.atan2(d,f),m=l(f,d);return f=Math.exp(h.re*m-h.im*p),d=h.im*m+h.re*p,new c(f*Math.cos(d),f*Math.sin(d))},sqrt:function(){var f=this.re,d=this.im,h=this.abs(),p,m;if(f>=0){if(d===0)return new c(Math.sqrt(f),0);p=.5*Math.sqrt(2*(h+f))}else p=Math.abs(d)/Math.sqrt(2*(h-f));return f<=0?m=.5*Math.sqrt(2*(h-f)):m=Math.abs(d)/Math.sqrt(2*(h+f)),new c(p,d<0?-m:m)},exp:function(){var f=Math.exp(this.re);return this.im,new c(f*Math.cos(this.im),f*Math.sin(this.im))},expm1:function(){var f=this.re,d=this.im;return new c(Math.expm1(f)*Math.cos(d)+o(d),Math.exp(f)*Math.sin(d))},log:function(){var f=this.re,d=this.im;return new c(l(f,d),Math.atan2(d,f))},abs:function(){return a(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var f=this.re,d=this.im;return new c(Math.sin(f)*r(d),Math.cos(f)*i(d))},cos:function(){var f=this.re,d=this.im;return new c(Math.cos(f)*r(d),-Math.sin(f)*i(d))},tan:function(){var f=2*this.re,d=2*this.im,h=Math.cos(f)+r(d);return new c(Math.sin(f)/h,i(d)/h)},cot:function(){var f=2*this.re,d=2*this.im,h=Math.cos(f)-r(d);return new c(-Math.sin(f)/h,i(d)/h)},sec:function(){var f=this.re,d=this.im,h=.5*r(2*d)+.5*Math.cos(2*f);return new c(Math.cos(f)*r(d)/h,Math.sin(f)*i(d)/h)},csc:function(){var f=this.re,d=this.im,h=.5*r(2*d)-.5*Math.cos(2*f);return new c(Math.sin(f)*r(d)/h,-Math.cos(f)*i(d)/h)},asin:function(){var f=this.re,d=this.im,h=new c(d*d-f*f+1,-2*f*d).sqrt(),p=new c(h.re-d,h.im+f).log();return new c(p.im,-p.re)},acos:function(){var f=this.re,d=this.im,h=new c(d*d-f*f+1,-2*f*d).sqrt(),p=new c(h.re-d,h.im+f).log();return new c(Math.PI/2-p.im,p.re)},atan:function(){var f=this.re,d=this.im;if(f===0){if(d===1)return new c(0,1/0);if(d===-1)return new c(0,-1/0)}var h=f*f+(1-d)*(1-d),p=new c((1-d*d-f*f)/h,-2*f/h).log();return new c(-.5*p.im,.5*p.re)},acot:function(){var f=this.re,d=this.im;if(d===0)return new c(Math.atan2(1,f),0);var h=f*f+d*d;return h!==0?new c(f/h,-d/h).atan():new c(f!==0?f/0:0,d!==0?-d/0:0).atan()},asec:function(){var f=this.re,d=this.im;if(f===0&&d===0)return new c(0,1/0);var h=f*f+d*d;return h!==0?new c(f/h,-d/h).acos():new c(f!==0?f/0:0,d!==0?-d/0:0).acos()},acsc:function(){var f=this.re,d=this.im;if(f===0&&d===0)return new c(Math.PI/2,1/0);var h=f*f+d*d;return h!==0?new c(f/h,-d/h).asin():new c(f!==0?f/0:0,d!==0?-d/0:0).asin()},sinh:function(){var f=this.re,d=this.im;return new c(i(f)*Math.cos(d),r(f)*Math.sin(d))},cosh:function(){var f=this.re,d=this.im;return new c(r(f)*Math.cos(d),i(f)*Math.sin(d))},tanh:function(){var f=2*this.re,d=2*this.im,h=r(f)+Math.cos(d);return new c(i(f)/h,Math.sin(d)/h)},coth:function(){var f=2*this.re,d=2*this.im,h=r(f)-Math.cos(d);return new c(i(f)/h,-Math.sin(d)/h)},csch:function(){var f=this.re,d=this.im,h=Math.cos(2*d)-r(2*f);return new c(-2*i(f)*Math.cos(d)/h,2*r(f)*Math.sin(d)/h)},sech:function(){var f=this.re,d=this.im,h=Math.cos(2*d)+r(2*f);return new c(2*r(f)*Math.cos(d)/h,-2*i(f)*Math.sin(d)/h)},asinh:function(){var f=this.im;this.im=-this.re,this.re=f;var d=this.asin();return this.re=-this.im,this.im=f,f=d.re,d.re=-d.im,d.im=f,d},acosh:function(){var f=this.acos();if(f.im<=0){var d=f.re;f.re=-f.im,f.im=d}else{var d=f.im;f.im=-f.re,f.re=d}return f},atanh:function(){var f=this.re,d=this.im,h=f>1&&d===0,p=1-f,m=1+f,v=p*p+d*d,g=v!==0?new c((m*p-d*d)/v,(d*p+m*d)/v):new c(f!==-1?f/0:0,d!==0?d/0:0),w=g.re;return g.re=l(g.re,g.im)/2,g.im=Math.atan2(g.im,w)/2,h&&(g.im=-g.im),g},acoth:function(){var f=this.re,d=this.im;if(f===0&&d===0)return new c(0,Math.PI/2);var h=f*f+d*d;return h!==0?new c(f/h,-d/h).atanh():new c(f!==0?f/0:0,d!==0?-d/0:0).atanh()},acsch:function(){var f=this.re,d=this.im;if(d===0)return new c(f!==0?Math.log(f+Math.sqrt(f*f+1)):1/0,0);var h=f*f+d*d;return h!==0?new c(f/h,-d/h).asinh():new c(f!==0?f/0:0,d!==0?-d/0:0).asinh()},asech:function(){var f=this.re,d=this.im;if(this.isZero())return c.INFINITY;var h=f*f+d*d;return h!==0?new c(f/h,-d/h).acosh():new c(f!==0?f/0:0,d!==0?-d/0:0).acosh()},inverse:function(){if(this.isZero())return c.INFINITY;if(this.isInfinite())return c.ZERO;var f=this.re,d=this.im,h=f*f+d*d;return new c(f/h,-d/h)},conjugate:function(){return new c(this.re,-this.im)},neg:function(){return new c(-this.re,-this.im)},ceil:function(f){return f=Math.pow(10,f||0),new c(Math.ceil(this.re*f)/f,Math.ceil(this.im*f)/f)},floor:function(f){return f=Math.pow(10,f||0),new c(Math.floor(this.re*f)/f,Math.floor(this.im*f)/f)},round:function(f){return f=Math.pow(10,f||0),new c(Math.round(this.re*f)/f,Math.round(this.im*f)/f)},equals:function(f,d){var h=new c(f,d);return Math.abs(h.re-this.re)<=c.EPSILON&&Math.abs(h.im-this.im)<=c.EPSILON},clone:function(){return new c(this.re,this.im)},toString:function(){var f=this.re,d=this.im,h="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(f)<c.EPSILON&&(f=0),Math.abs(d)<c.EPSILON&&(d=0),d===0?h+f:(f!==0?(h+=f,h+=" ",d<0?(d=-d,h+="-"):h+="+",h+=" "):d<0&&(d=-d,h+="-"),d!==1&&(h+=d),h+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},c.ZERO=new c(0,0),c.ONE=new c(1,0),c.I=new c(0,1),c.PI=new c(Math.PI,0),c.E=new c(Math.E,0),c.INFINITY=new c(1/0,1/0),c.NAN=new c(NaN,NaN),c.EPSILON=1e-15,Object.defineProperty(c,"__esModule",{value:!0}),c.default=c,c.Complex=c,t.exports=c})()})(y5);var bce=y5.exports;const ir=Ud(bce);var xce="Complex",wce=[],Sce=K(xce,wce,()=>(Object.defineProperty(ir,"name",{value:"Complex"}),ir.prototype.constructor=ir,ir.prototype.type="Complex",ir.prototype.isComplex=!0,ir.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},ir.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},ir.prototype.format=function(t){var e="",n=this.im,r=this.re,i=Nl(this.re,t),o=Nl(this.im,t),a=wt(t)?t:t?t.precision:null;if(a!==null){var s=Math.pow(10,-a);Math.abs(r/n)<s&&(r=0),Math.abs(n/r)<s&&(n=0)}return n===0?e=i:r===0?n===1?e="i":n===-1?e="-i":e=o+"i":n<0?n===-1?e=i+" - i":e=i+" - "+o.substring(1)+"i":n===1?e=i+" + i":e=i+" + "+o+"i",e},ir.fromPolar=function(t){switch(arguments.length){case 1:{var e=arguments[0];if(typeof e=="object")return ir(e);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var n=arguments[0],r=arguments[1];if(wt(n)){if(Fi(r)&&r.hasBase("ANGLE")&&(r=r.toNumber("rad")),wt(r))return new ir({r:n,phi:r});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},ir.prototype.valueOf=ir.prototype.toString,ir.fromJSON=function(t){return new ir(t)},ir.compare=function(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0},ir),{isClass:!0}),b5={exports:{}};/**
 * @license Fraction.js v4.3.0 20/08/2023
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2023, Robert Eisele (robert@raw.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(t,e){(function(n){var r=2e3,i={s:1,n:0,d:1};function o(g,w){if(isNaN(g=parseInt(g,10)))throw m();return g*w}function a(g,w){if(w===0)throw p();var y=Object.create(h.prototype);y.s=g<0?-1:1,g=g<0?-g:g;var S=d(g,w);return y.n=g/S,y.d=w/S,y}function s(g){for(var w={},y=g,S=2,x=4;x<=y;){for(;y%S===0;)y/=S,w[S]=(w[S]||0)+1;x+=1+2*S++}return y!==g?y>1&&(w[y]=(w[y]||0)+1):w[g]=(w[g]||0)+1,w}var l=function(g,w){var y=0,S=1,x=1,b=0,C=0,A=0,D=1,E=1,M=0,B=1,P=1,F=1,$=1e7,N;if(g!=null)if(w!==void 0){if(y=g,S=w,x=y*S,y%1!==0||S%1!==0)throw v()}else switch(typeof g){case"object":{if("d"in g&&"n"in g)y=g.n,S=g.d,"s"in g&&(y*=g.s);else if(0 in g)y=g[0],1 in g&&(S=g[1]);else throw m();x=y*S;break}case"number":{if(g<0&&(x=g,g=-g),g%1===0)y=g;else if(g>0){for(g>=1&&(E=Math.pow(10,Math.floor(1+Math.log(g)/Math.LN10)),g/=E);B<=$&&F<=$;)if(N=(M+P)/(B+F),g===N){B+F<=$?(y=M+P,S=B+F):F>B?(y=P,S=F):(y=M,S=B);break}else g>N?(M+=P,B+=F):(P+=M,F+=B),B>$?(y=P,S=F):(y=M,S=B);y*=E}else(isNaN(g)||isNaN(w))&&(S=y=NaN);break}case"string":{if(B=g.match(/\d+|./g),B===null)throw m();if(B[M]==="-"?(x=-1,M++):B[M]==="+"&&M++,B.length===M+1?C=o(B[M++],x):B[M+1]==="."||B[M]==="."?(B[M]!=="."&&(b=o(B[M++],x)),M++,(M+1===B.length||B[M+1]==="("&&B[M+3]===")"||B[M+1]==="'"&&B[M+3]==="'")&&(C=o(B[M],x),D=Math.pow(10,B[M].length),M++),(B[M]==="("&&B[M+2]===")"||B[M]==="'"&&B[M+2]==="'")&&(A=o(B[M+1],x),E=Math.pow(10,B[M+1].length)-1,M+=3)):B[M+1]==="/"||B[M+1]===":"?(C=o(B[M],x),D=o(B[M+2],1),M+=3):B[M+3]==="/"&&B[M+1]===" "&&(b=o(B[M],x),C=o(B[M+2],x),D=o(B[M+4],1),M+=5),B.length<=M){S=D*E,x=y=A+S*b+E*C;break}}default:throw m()}if(S===0)throw p();i.s=x<0?-1:1,i.n=Math.abs(y),i.d=Math.abs(S)};function u(g,w,y){for(var S=1;w>0;g=g*g%y,w>>=1)w&1&&(S=S*g%y);return S}function c(g,w){for(;w%2===0;w/=2);for(;w%5===0;w/=5);if(w===1)return 0;for(var y=10%w,S=1;y!==1;S++)if(y=y*10%w,S>r)return 0;return S}function f(g,w,y){for(var S=1,x=u(10,y,w),b=0;b<300;b++){if(S===x)return b;S=S*10%w,x=x*10%w}return 0}function d(g,w){if(!g)return w;if(!w)return g;for(;;){if(g%=w,!g)return w;if(w%=g,!w)return g}}function h(g,w){if(l(g,w),this instanceof h)g=d(i.d,i.n),this.s=i.s,this.n=i.n/g,this.d=i.d/g;else return a(i.s*i.n,i.d)}var p=function(){return new Error("Division by Zero")},m=function(){return new Error("Invalid argument")},v=function(){return new Error("Parameters must be integer")};h.prototype={s:1,n:0,d:1,abs:function(){return a(this.n,this.d)},neg:function(){return a(-this.s*this.n,this.d)},add:function(g,w){return l(g,w),a(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(g,w){return l(g,w),a(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(g,w){return l(g,w),a(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(g,w){return l(g,w),a(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return a(this.s*this.n,this.d)},mod:function(g,w){if(isNaN(this.n)||isNaN(this.d))return new h(NaN);if(g===void 0)return a(this.s*this.n%this.d,1);if(l(g,w),i.n===0&&this.d===0)throw p();return a(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(g,w){return l(g,w),a(d(i.n,this.n)*d(i.d,this.d),i.d*this.d)},lcm:function(g,w){return l(g,w),i.n===0&&this.n===0?a(0,1):a(i.n*this.n,d(i.n,this.n)*d(i.d,this.d))},ceil:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):a(Math.ceil(g*this.s*this.n/this.d),g)},floor:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):a(Math.floor(g*this.s*this.n/this.d),g)},round:function(g){return g=Math.pow(10,g||0),isNaN(this.n)||isNaN(this.d)?new h(NaN):a(Math.round(g*this.s*this.n/this.d),g)},inverse:function(){return a(this.s*this.d,this.n)},pow:function(g,w){if(l(g,w),i.d===1)return i.s<0?a(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):a(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var y=s(this.n),S=s(this.d),x=1,b=1;for(var C in y)if(C!=="1"){if(C==="0"){x=0;break}if(y[C]*=i.n,y[C]%i.d===0)y[C]/=i.d;else return null;x*=Math.pow(C,y[C])}for(var C in S)if(C!=="1"){if(S[C]*=i.n,S[C]%i.d===0)S[C]/=i.d;else return null;b*=Math.pow(C,S[C])}return i.s<0?a(b,x):a(x,b)},equals:function(g,w){return l(g,w),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(g,w){l(g,w);var y=this.s*this.n*i.d-i.s*i.n*this.d;return(0<y)-(y<0)},simplify:function(g){if(isNaN(this.n)||isNaN(this.d))return this;g=g||.001;for(var w=this.abs(),y=w.toContinued(),S=1;S<y.length;S++){for(var x=a(y[S-1],1),b=S-2;b>=0;b--)x=x.inverse().add(y[b]);if(Math.abs(x.sub(w).valueOf())<g)return x.mul(this.s)}return this},divisible:function(g,w){return l(g,w),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(g){var w,y="",S=this.n,x=this.d;return this.s<0&&(y+="-"),x===1?y+=S:(g&&(w=Math.floor(S/x))>0&&(y+=w,y+=" ",S%=x),y+=S,y+="/",y+=x),y},toLatex:function(g){var w,y="",S=this.n,x=this.d;return this.s<0&&(y+="-"),x===1?y+=S:(g&&(w=Math.floor(S/x))>0&&(y+=w,S%=x),y+="\\frac{",y+=S,y+="}{",y+=x,y+="}"),y},toContinued:function(){var g,w=this.n,y=this.d,S=[];if(isNaN(w)||isNaN(y))return S;do S.push(Math.floor(w/y)),g=w%y,w=y,y=g;while(w!==1);return S},toString:function(g){var w=this.n,y=this.d;if(isNaN(w)||isNaN(y))return"NaN";g=g||15;var S=c(w,y),x=f(w,y,S),b=this.s<0?"-":"";if(b+=w/y|0,w%=y,w*=10,w&&(b+="."),S){for(var C=x;C--;)b+=w/y|0,w%=y,w*=10;b+="(";for(var C=S;C--;)b+=w/y|0,w%=y,w*=10;b+=")"}else for(var C=g;w&&C--;)b+=w/y|0,w%=y,w*=10;return b}},Object.defineProperty(h,"__esModule",{value:!0}),h.default=h,h.Fraction=h,t.exports=h})()})(b5);var Cce=b5.exports;const ga=Ud(Cce);var Ace="Fraction",Dce=[],Ece=K(Ace,Dce,()=>(Object.defineProperty(ga,"name",{value:"Fraction"}),ga.prototype.constructor=ga,ga.prototype.type="Fraction",ga.prototype.isFraction=!0,ga.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},ga.fromJSON=function(t){return new ga(t)},ga),{isClass:!0}),Mce="Range",Nce=[],$ce=K(Mce,Nce,()=>{function t(e,n,r){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator");var i=e!=null,o=n!=null,a=r!=null;if(i){if(Et(e))e=e.toNumber();else if(typeof e!="number")throw new TypeError("Parameter start must be a number")}if(o){if(Et(n))n=n.toNumber();else if(typeof n!="number")throw new TypeError("Parameter end must be a number")}if(a){if(Et(r))r=r.toNumber();else if(typeof r!="number")throw new TypeError("Parameter step must be a number")}this.start=i?parseFloat(e):0,this.end=o?parseFloat(n):0,this.step=a?parseFloat(r):1}return t.prototype.type="Range",t.prototype.isRange=!0,t.parse=function(e){if(typeof e!="string")return null;var n=e.split(":"),r=n.map(function(o){return parseFloat(o)}),i=r.some(function(o){return isNaN(o)});if(i)return null;switch(r.length){case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[2],r[1]);default:return null}},t.prototype.clone=function(){return new t(this.start,this.end,this.step)},t.prototype.size=function(){var e=0,n=this.start,r=this.step,i=this.end,o=i-n;return Ds(r)===Ds(o)?e=Math.ceil(o/r):o===0&&(e=0),isNaN(e)&&(e=0),[e]},t.prototype.min=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start:this.start+(e-1)*this.step},t.prototype.max=function(){var e=this.size()[0];if(e>0)return this.step>0?this.start+(e-1)*this.step:this.start},t.prototype.forEach=function(e){var n=this.start,r=this.step,i=this.end,o=0;if(r>0)for(;n<i;)e(n,[o],this),n+=r,o++;else if(r<0)for(;n>i;)e(n,[o],this),n+=r,o++},t.prototype.map=function(e){var n=[];return this.forEach(function(r,i,o){n[i[0]]=e(r,i,o)}),n},t.prototype.toArray=function(){var e=[];return this.forEach(function(n,r){e[r[0]]=n}),e},t.prototype.valueOf=function(){return this.toArray()},t.prototype.format=function(e){var n=Nl(this.start,e);return this.step!==1&&(n+=":"+Nl(this.step,e)),n+=":"+Nl(this.end,e),n},t.prototype.toString=function(){return this.format()},t.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},t.fromJSON=function(e){return new t(e.start,e.end,e.step)},t},{isClass:!0}),Oce="Matrix",Tce=[],Bce=K(Oce,Tce,()=>{function t(){if(!(this instanceof t))throw new SyntaxError("Constructor must be called with the new operator")}return t.prototype.type="Matrix",t.prototype.isMatrix=!0,t.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},t.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},t.prototype.create=function(e,n){throw new Error("Cannot invoke create on a Matrix interface")},t.prototype.subset=function(e,n,r){throw new Error("Cannot invoke subset on a Matrix interface")},t.prototype.get=function(e){throw new Error("Cannot invoke get on a Matrix interface")},t.prototype.set=function(e,n,r){throw new Error("Cannot invoke set on a Matrix interface")},t.prototype.resize=function(e,n){throw new Error("Cannot invoke resize on a Matrix interface")},t.prototype.reshape=function(e,n){throw new Error("Cannot invoke reshape on a Matrix interface")},t.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},t.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},t.prototype.map=function(e,n){throw new Error("Cannot invoke map on a Matrix interface")},t.prototype.forEach=function(e){throw new Error("Cannot invoke forEach on a Matrix interface")},t.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},t.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},t.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},t.prototype.format=function(e){throw new Error("Cannot invoke format on a Matrix interface")},t.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},t},{isClass:!0});function Ice(t){var e=0,n=1,r=Object.create(null),i=Object.create(null),o=0,a=function(l){var u=i[l];if(u&&(delete r[u],delete i[l],--e,n===u)){if(!e){o=0,n=1;return}for(;!Object.prototype.hasOwnProperty.call(r,++n););}};return t=Math.abs(t),{hit:function(l){var u=i[l],c=++o;if(r[c]=l,i[l]=c,!u)return++e,e<=t?void 0:(l=r[n],a(l),l);if(delete r[u],n===u)for(;!Object.prototype.hasOwnProperty.call(r,++n););},delete:a,clear:function(){e=o=0,n=1,r=Object.create(null),i=Object.create(null)}}}function lh(t){var{hasher:e,limit:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return n=n??Number.POSITIVE_INFINITY,e=e??JSON.stringify,function r(){typeof r.cache!="object"&&(r.cache={values:new Map,lru:Ice(n||Number.POSITIVE_INFINITY)});for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var a=e(i);if(r.cache.values.has(a))return r.cache.lru.hit(a),r.cache.values.get(a);var s=t.apply(t,i);return r.cache.values.set(a,s),r.cache.values.delete(r.cache.lru.hit(a)),s}}function x5(t){return Object.keys(t.signatures||{}).reduce(function(e,n){var r=(n.match(/,/g)||[]).length+1;return Math.max(e,r)},-1)}var Pce="DenseMatrix",kce=["Matrix"],Fce=K(Pce,kce,t=>{var{Matrix:e}=t;function n(c,f){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(f&&!vr(f))throw new Error("Invalid datatype: "+f);if(Je(c))c.type==="DenseMatrix"?(this._data=ct(c._data),this._size=ct(c._size),this._datatype=f||c._datatype):(this._data=c.toArray(),this._size=c.size(),this._datatype=f||c._datatype);else if(c&&_t(c.data)&&_t(c.size))this._data=c.data,this._size=c.size,CM(this._data,this._size),this._datatype=f||c.datatype;else if(_t(c))this._data=u(c),this._size=mt(this._data),CM(this._data,this._size),this._datatype=f;else{if(c)throw new TypeError("Unsupported type of data ("+en(c)+")");this._data=[],this._size=[0],this._datatype=f}}n.prototype=new e,n.prototype.createDenseMatrix=function(c,f){return new n(c,f)},Object.defineProperty(n,"name",{value:"DenseMatrix"}),n.prototype.constructor=n,n.prototype.type="DenseMatrix",n.prototype.isDenseMatrix=!0,n.prototype.getDataType=function(){return _d(this._data,en)},n.prototype.storage=function(){return"dense"},n.prototype.datatype=function(){return this._datatype},n.prototype.create=function(c,f){return new n(c,f)},n.prototype.subset=function(c,f,d){switch(arguments.length){case 1:return r(this,c);case 2:case 3:return o(this,c,f,d);default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.get=function(c){if(!_t(c))throw new TypeError("Array expected");if(c.length!==this._size.length)throw new St(c.length,this._size.length);for(var f=0;f<c.length;f++)Yt(c[f],this._size[f]);for(var d=this._data,h=0,p=c.length;h<p;h++){var m=c[h];Yt(m,d.length),d=d[m]}return d},n.prototype.set=function(c,f,d){if(!_t(c))throw new TypeError("Array expected");if(c.length<this._size.length)throw new St(c.length,this._size.length,"<");var h,p,m,v=c.map(function(w){return w+1});l(this,v,d);var g=this._data;for(h=0,p=c.length-1;h<p;h++)m=c[h],Yt(m,g.length),g=g[m];return m=c[c.length-1],Yt(m,g.length),g[m]=f,this};function r(c,f){if(!Iv(f))throw new TypeError("Invalid index");var d=f.isScalar();if(d)return c.get(f.min());var h=f.size();if(h.length!==c._size.length)throw new St(h.length,c._size.length);for(var p=f.min(),m=f.max(),v=0,g=c._size.length;v<g;v++)Yt(p[v],c._size[v]),Yt(m[v],c._size[v]);return new n(i(c._data,f,h.length,0),c._datatype)}function i(c,f,d,h){var p=h===d-1,m=f.dimension(h);return p?m.map(function(v){return Yt(v,c.length),c[v]}).valueOf():m.map(function(v){Yt(v,c.length);var g=c[v];return i(g,f,d,h+1)}).valueOf()}function o(c,f,d,h){if(!f||f.isIndex!==!0)throw new TypeError("Invalid index");var p=f.size(),m=f.isScalar(),v;if(Je(d)?(v=d.size(),d=d.valueOf()):v=mt(d),m){if(v.length!==0)throw new TypeError("Scalar expected");c.set(f.min(),d,h)}else{if(!Rl(v,p))try{v.length===0?d=DM([d],p):d=DM(d,p),v=mt(d)}catch{}if(p.length<c._size.length)throw new St(p.length,c._size.length,"<");if(v.length<p.length){for(var g=0,w=0;p[g]===1&&v[g]===1;)g++;for(;p[g]===1;)w++,g++;d=JR(d,p.length,w,v)}if(!Rl(p,v))throw new St(p,v,">");var y=f.max().map(function(b){return b+1});l(c,y,h);var S=p.length,x=0;a(c._data,f,d,S,x)}return c}function a(c,f,d,h,p){var m=p===h-1,v=f.dimension(p);m?v.forEach(function(g,w){Yt(g),c[g]=d[w[0]]}):v.forEach(function(g,w){Yt(g),a(c[g],f,d[w[0]],h,p+1)})}n.prototype.resize=function(c,f,d){if(!Ki(c))throw new TypeError("Array or Matrix expected");var h=c.valueOf().map(m=>Array.isArray(m)&&m.length===1?m[0]:m),p=d?this.clone():this;return s(p,h,f)};function s(c,f,d){if(f.length===0){for(var h=c._data;_t(h);)h=h[0];return h}return c._size=f.slice(0),c._data=Cc(c._data,c._size,d),c}n.prototype.reshape=function(c,f){var d=f?this.clone():this;d._data=xS(d._data,c);var h=d._size.reduce((p,m)=>p*m);return d._size=wS(c,h),d};function l(c,f,d){for(var h=c._size.slice(0),p=!1;h.length<f.length;)h.push(0),p=!0;for(var m=0,v=f.length;m<v;m++)f[m]>h[m]&&(h[m]=f[m],p=!0);p&&s(c,h,d)}n.prototype.clone=function(){var c=new n({data:ct(this._data),size:ct(this._size),datatype:this._datatype});return c},n.prototype.size=function(){return this._size.slice(0)},n.prototype.map=function(c){var f=this,d=x5(c),h=function v(g,w){return _t(g)?g.map(function(y,S){return v(y,w.concat(S))}):d===1?c(g):d===2?c(g,w):c(g,w,f)},p=h(this._data,[]),m=this._datatype!==void 0?_d(p,en):void 0;return new n(p,m)},n.prototype.forEach=function(c){var f=this,d=function h(p,m){_t(p)?p.forEach(function(v,g){h(v,m.concat(g))}):c(p,m,f)};d(this._data,[])},n.prototype[Symbol.iterator]=function*(){var c=function*f(d,h){if(_t(d))for(var p=0;p<d.length;p++)yield*f(d[p],h.concat(p));else yield{value:d,index:h}};yield*c(this._data,[])},n.prototype.rows=function(){var c=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var d=this._data;for(var h of d)c.push(new n([h],this._datatype));return c},n.prototype.columns=function(){var c=this,f=[],d=this.size();if(d.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var h=this._data,p=function(g){var w=h.map(y=>[y[g]]);f.push(new n(w,c._datatype))},m=0;m<d[1];m++)p(m);return f},n.prototype.toArray=function(){return ct(this._data)},n.prototype.valueOf=function(){return this._data},n.prototype.format=function(c){return xt(this._data,c)},n.prototype.toString=function(){return xt(this._data)},n.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.prototype.diagonal=function(c){if(c){if(Et(c)&&(c=c.toNumber()),!wt(c)||!Ge(c))throw new TypeError("The parameter k must be an integer number")}else c=0;for(var f=c>0?c:0,d=c<0?-c:0,h=this._size[0],p=this._size[1],m=Math.min(h-d,p-f),v=[],g=0;g<m;g++)v[g]=this._data[g+d][g+f];return new n({data:v,size:[m],datatype:this._datatype})},n.diagonal=function(c,f,d,h){if(!_t(c))throw new TypeError("Array expected, size parameter");if(c.length!==2)throw new Error("Only two dimensions matrix are supported");if(c=c.map(function(C){if(Et(C)&&(C=C.toNumber()),!wt(C)||!Ge(C)||C<1)throw new Error("Size values must be positive integers");return C}),d){if(Et(d)&&(d=d.toNumber()),!wt(d)||!Ge(d))throw new TypeError("The parameter k must be an integer number")}else d=0;var p=d>0?d:0,m=d<0?-d:0,v=c[0],g=c[1],w=Math.min(v-m,g-p),y;if(_t(f)){if(f.length!==w)throw new Error("Invalid value array length");y=function(A){return f[A]}}else if(Je(f)){var S=f.size();if(S.length!==1||S[0]!==w)throw new Error("Invalid matrix length");y=function(A){return f.get([A])}}else y=function(){return f};h||(h=Et(y(0))?y(0).mul(0):0);var x=[];if(c.length>0){x=Cc(x,c,h);for(var b=0;b<w;b++)x[b+m][b+p]=y(b)}return new n({data:x,size:[v,g]})},n.fromJSON=function(c){return new n(c)},n.prototype.swapRows=function(c,f){if(!wt(c)||!Ge(c)||!wt(f)||!Ge(f))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Yt(c,this._size[0]),Yt(f,this._size[0]),n._swapRows(c,f,this._data),this},n._swapRows=function(c,f,d){var h=d[c];d[c]=d[f],d[f]=h};function u(c){return Je(c)?u(c.valueOf()):_t(c)?c.map(u):c}return n},{isClass:!0}),OM="clone",Rce=["typed"],_ce=K(OM,Rce,t=>{var{typed:e}=t;return e(OM,{any:ct})});function w5(t){var e=t.length,n=t[0].length,r,i,o=[];for(i=0;i<n;i++){var a=[];for(r=0;r<e;r++)a.push(t[r][i]);o.push(a)}return o}function jc(t){for(var e=0;e<t.length;e++)if(Ki(t[e]))return!0;return!1}function Ja(t,e){Je(t)&&(t=t.valueOf());for(var n=0,r=t.length;n<r;n++){var i=t[n];Array.isArray(i)?Ja(i,e):e(i)}}function At(t,e,n){return t&&typeof t.map=="function"?t.map(function(r){return At(r,e)}):e(t)}function Vv(t,e,n){var r=Array.isArray(t)?mt(t):t.size();if(e<0||e>=r.length)throw new Do(e,r.length);return Je(t)?t.create(Sg(t.valueOf(),e,n)):Sg(t,e,n)}function Sg(t,e,n){var r,i,o,a;if(e<=0)if(Array.isArray(t[0])){for(a=w5(t),i=[],r=0;r<a.length;r++)i[r]=Sg(a[r],e-1,n);return i}else{for(o=t[0],r=1;r<t.length;r++)o=n(o,t[r]);return o}else{for(i=[],r=0;r<t.length;r++)i[r]=Sg(t[r],e-1,n);return i}}function TM(t,e,n,r,i,o,a,s,l,u,c){var f=t._values,d=t._index,h=t._ptr,p,m,v,g;if(r)for(m=h[e],v=h[e+1],p=m;p<v;p++)g=d[p],n[g]!==o?(n[g]=o,a.push(g),u?(r[g]=l?s(f[p],c):s(c,f[p]),i[g]=o):r[g]=f[p]):(r[g]=l?s(f[p],r[g]):s(r[g],f[p]),i[g]=o);else for(m=h[e],v=h[e+1],p=m;p<v;p++)g=d[p],n[g]!==o?(n[g]=o,a.push(g)):i[g]=o}var BM="isInteger",zce=["typed"],Lce=K(BM,zce,t=>{var{typed:e}=t;return e(BM,{number:Ge,BigNumber:function(r){return r.isInt()},Fraction:function(r){return r.d===1&&isFinite(r.n)},"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),Eo="number",Gc="number, number";function S5(t){return Math.abs(t)}S5.signature=Eo;function C5(t,e){return t+e}C5.signature=Gc;function A5(t,e){return t-e}A5.signature=Gc;function D5(t,e){return t*e}D5.signature=Gc;function E5(t){return-t}E5.signature=Eo;function M5(t){return t}M5.signature=Eo;function _f(t){return Lle(t)}_f.signature=Eo;function N5(t){return t*t*t}N5.signature=Eo;function $5(t){return Math.exp(t)}$5.signature=Eo;function O5(t){return Hle(t)}O5.signature=Eo;function T5(t,e){if(!Ge(t)||!Ge(e))throw new Error("Parameters in function lcm must be integer numbers");if(t===0||e===0)return 0;for(var n,r=t*e;e!==0;)n=e,e=t%n,t=n;return Math.abs(r/t)}T5.signature=Gc;function Hce(t,e){return e?Math.log(t)/Math.log(e):Math.log(t)}function B5(t){return _le(t)}B5.signature=Eo;function I5(t){return Rle(t)}I5.signature=Eo;function IM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,n=e<0;if(n&&(e=-e),e===0)throw new Error("Root must be non-zero");if(t<0&&Math.abs(e)%2!==1)throw new Error("Root must be odd when a is negative.");if(t===0)return n?1/0:0;if(!isFinite(t))return n?0:t;var r=Math.pow(Math.abs(t),1/e);return r=t<0?-r:r,n?1/r:r}function X1(t){return Ds(t)}X1.signature=Eo;function P5(t){return t*t}P5.signature=Eo;function k5(t,e){var n,r,i,o=0,a=1,s=1,l=0;if(!Ge(t)||!Ge(e))throw new Error("Parameters in function xgcd must be integer numbers");for(;e;)r=Math.floor(t/e),i=t-r*e,n=o,o=a-r*o,a=n,n=s,s=l-r*s,l=n,t=e,e=i;var u;return t<0?u=[-t,-a,-l]:u=[t,t?a:0,l],u}k5.signature=Gc;function F5(t,e){return t*t<1&&e===1/0||t*t>1&&e===-1/0?0:Math.pow(t,e)}F5.signature=Gc;function PM(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!Ge(e)||e<0||e>15)throw new Error("Number of decimals in function round must be an integer from 0 to 15 inclusive");return parseFloat(GR(t,e))}var Vce="number",Xc="number, number";function R5(t,e){if(!Ge(t)||!Ge(e))throw new Error("Integers expected in function bitAnd");return t&e}R5.signature=Xc;function _5(t){if(!Ge(t))throw new Error("Integer expected in function bitNot");return~t}_5.signature=Vce;function z5(t,e){if(!Ge(t)||!Ge(e))throw new Error("Integers expected in function bitOr");return t|e}z5.signature=Xc;function L5(t,e){if(!Ge(t)||!Ge(e))throw new Error("Integers expected in function bitXor");return t^e}L5.signature=Xc;function H5(t,e){if(!Ge(t)||!Ge(e))throw new Error("Integers expected in function leftShift");return t<<e}H5.signature=Xc;function V5(t,e){if(!Ge(t)||!Ge(e))throw new Error("Integers expected in function rightArithShift");return t>>e}V5.signature=Xc;function U5(t,e){if(!Ge(t)||!Ge(e))throw new Error("Integers expected in function rightLogShift");return t>>>e}U5.signature=Xc;function Na(t,e){if(e<t)return 1;if(e===t)return e;var n=e+t>>1;return Na(t,n)*Na(n+1,e)}function q5(t,e){if(!Ge(t)||t<0)throw new TypeError("Positive integer value expected in function combinations");if(!Ge(e)||e<0)throw new TypeError("Positive integer value expected in function combinations");if(e>t)throw new TypeError("k must be less than or equal to n");for(var n=t-e,r=1,i=e<n?n+1:e+1,o=2,a=e<n?e:n,s=i;s<=t;++s)for(r*=s;o<=a&&r%o===0;)r/=o,++o;return o<=a&&(r/=Na(o,a)),r}q5.signature="number, number";var Uce=Math.PI,qce=2*Math.PI,Wce=Math.E,jce=1.618033988749895,Gce="number",ES="number, number";function W5(t){return!t}W5.signature=Gce;function j5(t,e){return!!(t||e)}j5.signature=ES;function G5(t,e){return!!t!=!!e}G5.signature=ES;function X5(t,e){return!!(t&&e)}X5.signature=ES;function Cg(t){var e;if(Ge(t))return t<=0?isFinite(t)?1/0:NaN:t>171?1/0:Na(1,t-1);if(t<.5)return Math.PI/(Math.sin(Math.PI*t)*Cg(1-t));if(t>=171.35)return 1/0;if(t>85){var n=t*t,r=n*t,i=r*t,o=i*t;return Math.sqrt(2*Math.PI/t)*Math.pow(t/Math.E,t)*(1+1/(12*t)+1/(288*n)-139/(51840*r)-571/(2488320*i)+163879/(209018880*o)+5246819/(75246796800*o*t))}--t,e=tc[0];for(var a=1;a<tc.length;++a)e+=tc[a]/(t+a);var s=t+K5+.5;return Math.sqrt(2*Math.PI)*Math.pow(s,t+.5)*Math.exp(-s)*e}Cg.signature="number";var K5=4.7421875,tc=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22],Y5=.9189385332046728,Xce=5,Kce=7,kM=[1.000000000190015,76.18009172947146,-86.50532032941678,24.01409824083091,-1.231739572450155,.001208650973866179,-5395239384953e-18];function Ag(t){if(t<0)return NaN;if(t===0)return 1/0;if(!isFinite(t))return t;if(t<.5)return Math.log(Math.PI/Math.sin(Math.PI*t))-Ag(1-t);t=t-1;for(var e=t+Xce+.5,n=kM[0],r=Kce-1;r>=1;r--)n+=kM[r]/(t+r);return Y5+(t+.5)*Math.log(e)-e+Math.log(n)}Ag.signature="number";var Er="number";function Z5(t){return jle(t)}Z5.signature=Er;function Q5(t){return Math.atan(1/t)}Q5.signature=Er;function J5(t){return isFinite(t)?(Math.log((t+1)/t)+Math.log(t/(t-1)))/2:0}J5.signature=Er;function e_(t){return Math.asin(1/t)}e_.signature=Er;function t_(t){var e=1/t;return Math.log(e+Math.sqrt(e*e+1))}t_.signature=Er;function n_(t){return Math.acos(1/t)}n_.signature=Er;function r_(t){var e=1/t,n=Math.sqrt(e*e-1);return Math.log(n+e)}r_.signature=Er;function i_(t){return Gle(t)}i_.signature=Er;function o_(t){return Xle(t)}o_.signature=Er;function a_(t){return 1/Math.tan(t)}a_.signature=Er;function s_(t){var e=Math.exp(2*t);return(e+1)/(e-1)}s_.signature=Er;function l_(t){return 1/Math.sin(t)}l_.signature=Er;function u_(t){return t===0?Number.POSITIVE_INFINITY:Math.abs(2/(Math.exp(t)-Math.exp(-t)))*Ds(t)}u_.signature=Er;function c_(t){return 1/Math.cos(t)}c_.signature=Er;function f_(t){return 2/(Math.exp(t)+Math.exp(-t))}f_.signature=Er;function d_(t){return Yle(t)}d_.signature=Er;var Uv="number";function h_(t){return t<0}h_.signature=Uv;function p_(t){return t>0}p_.signature=Uv;function m_(t){return t===0}m_.signature=Uv;function g_(t){return Number.isNaN(t)}g_.signature=Uv;var FM="isNegative",Yce=["typed"],Zce=K(FM,Yce,t=>{var{typed:e}=t;return e(FM,{number:h_,BigNumber:function(r){return r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s<0},Unit:e.referToSelf(n=>r=>e.find(n,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),RM="isNumeric",Qce=["typed"],Jce=K(RM,Qce,t=>{var{typed:e}=t;return e(RM,{"number | BigNumber | Fraction | boolean":()=>!0,"Complex | Unit | string | null | undefined | Node":()=>!1,"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),_M="hasNumericValue",efe=["typed","isNumeric"],tfe=K(_M,efe,t=>{var{typed:e,isNumeric:n}=t;return e(_M,{boolean:()=>!0,string:function(i){return i.trim().length>0&&!isNaN(Number(i))},any:function(i){return n(i)}})}),zM="isPositive",nfe=["typed"],rfe=K(zM,nfe,t=>{var{typed:e}=t;return e(zM,{number:p_,BigNumber:function(r){return!r.isNeg()&&!r.isZero()&&!r.isNaN()},Fraction:function(r){return r.s>0&&r.n>0},Unit:e.referToSelf(n=>r=>e.find(n,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),LM="isZero",ife=["typed"],ofe=K(LM,ife,t=>{var{typed:e}=t;return e(LM,{number:m_,BigNumber:function(r){return r.isZero()},Complex:function(r){return r.re===0&&r.im===0},Fraction:function(r){return r.d===1&&r.n===0},Unit:e.referToSelf(n=>r=>e.find(n,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),HM="isNaN",afe=["typed"],sfe=K(HM,afe,t=>{var{typed:e}=t;return e(HM,{number:g_,BigNumber:function(r){return r.isNaN()},Fraction:function(r){return!1},Complex:function(r){return r.isNaN()},Unit:function(r){return Number.isNaN(r.value)},"Array | Matrix":function(r){return At(r,Number.isNaN)}})}),VM="typeOf",lfe=["typed"],ufe=K(VM,lfe,t=>{var{typed:e}=t;return e(VM,{any:en})});function la(t,e,n){if(n==null)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}function cfe(t,e,n){return Di(t.re,e.re,n)&&Di(t.im,e.im,n)}var Kc=K("compareUnits",["typed"],t=>{var{typed:e}=t;return{"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(!r.equalBase(i))throw new Error("Cannot compare units with different base");return e.find(n,[r.valueType(),i.valueType()])(r.value,i.value)})}}),Dg="equalScalar",ffe=["typed","config"],dfe=K(Dg,ffe,t=>{var{typed:e,config:n}=t,r=Kc({typed:e});return e(Dg,{"boolean, boolean":function(o,a){return o===a},"number, number":function(o,a){return Di(o,a,n.epsilon)},"BigNumber, BigNumber":function(o,a){return o.eq(a)||la(o,a,n.epsilon)},"Fraction, Fraction":function(o,a){return o.equals(a)},"Complex, Complex":function(o,a){return cfe(o,a,n.epsilon)}},r)});K(Dg,["typed","config"],t=>{var{typed:e,config:n}=t;return e(Dg,{"number, number":function(i,o){return Di(i,o,n.epsilon)}})});var hfe="SparseMatrix",pfe=["typed","equalScalar","Matrix"],mfe=K(hfe,pfe,t=>{var{typed:e,equalScalar:n,Matrix:r}=t;function i(m,v){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(v&&!vr(v))throw new Error("Invalid datatype: "+v);if(Je(m))o(this,m,v);else if(m&&_t(m.index)&&_t(m.ptr)&&_t(m.size))this._values=m.values,this._index=m.index,this._ptr=m.ptr,this._size=m.size,this._datatype=v||m.datatype;else if(_t(m))a(this,m,v);else{if(m)throw new TypeError("Unsupported type of data ("+en(m)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=v}}function o(m,v,g){v.type==="SparseMatrix"?(m._values=v._values?ct(v._values):void 0,m._index=ct(v._index),m._ptr=ct(v._ptr),m._size=ct(v._size),m._datatype=g||v._datatype):a(m,v.valueOf(),g||v._datatype)}function a(m,v,g){m._values=[],m._index=[],m._ptr=[],m._datatype=g;var w=v.length,y=0,S=n,x=0;if(vr(g)&&(S=e.find(n,[g,g])||n,x=e.convert(0,g)),w>0){var b=0;do{m._ptr.push(m._index.length);for(var C=0;C<w;C++){var A=v[C];if(_t(A)){if(b===0&&y<A.length&&(y=A.length),b<A.length){var D=A[b];S(D,x)||(m._values.push(D),m._index.push(C))}}else b===0&&y<1&&(y=1),S(A,x)||(m._values.push(A),m._index.push(C))}b++}while(b<y)}m._ptr.push(m._index.length),m._size=[w,y]}i.prototype=new r,i.prototype.createSparseMatrix=function(m,v){return new i(m,v)},Object.defineProperty(i,"name",{value:"SparseMatrix"}),i.prototype.constructor=i,i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return _d(this._values,en)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(m,v){return new i(m,v)},i.prototype.density=function(){var m=this._size[0],v=this._size[1];return m!==0&&v!==0?this._index.length/(m*v):0},i.prototype.subset=function(m,v,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return s(this,m);case 2:case 3:return l(this,m,v,g);default:throw new SyntaxError("Wrong number of arguments")}};function s(m,v){if(!Iv(v))throw new TypeError("Invalid index");var g=v.isScalar();if(g)return m.get(v.min());var w=v.size();if(w.length!==m._size.length)throw new St(w.length,m._size.length);var y,S,x,b,C=v.min(),A=v.max();for(y=0,S=m._size.length;y<S;y++)Yt(C[y],m._size[y]),Yt(A[y],m._size[y]);var D=m._values,E=m._index,M=m._ptr,B=v.dimension(0),P=v.dimension(1),F=[],$=[];B.forEach(function(I,q){$[I]=q[0],F[I]=!0});var N=D?[]:void 0,T=[],z=[];return P.forEach(function(I){for(z.push(T.length),x=M[I],b=M[I+1];x<b;x++)y=E[x],F[y]===!0&&(T.push($[y]),N&&N.push(D[x]))}),z.push(T.length),new i({values:N,index:T,ptr:z,size:w,datatype:m._datatype})}function l(m,v,g,w){if(!v||v.isIndex!==!0)throw new TypeError("Invalid index");var y=v.size(),S=v.isScalar(),x;if(Je(g)?(x=g.size(),g=g.toArray()):x=mt(g),S){if(x.length!==0)throw new TypeError("Scalar expected");m.set(v.min(),g,w)}else{if(y.length!==1&&y.length!==2)throw new St(y.length,m._size.length,"<");if(x.length<y.length){for(var b=0,C=0;y[b]===1&&x[b]===1;)b++;for(;y[b]===1;)C++,b++;g=JR(g,y.length,C,x)}if(!Rl(y,x))throw new St(y,x,">");if(y.length===1){var A=v.dimension(0);A.forEach(function(M,B){Yt(M),m.set([M,0],g[B[0]],w)})}else{var D=v.dimension(0),E=v.dimension(1);D.forEach(function(M,B){Yt(M),E.forEach(function(P,F){Yt(P),m.set([M,P],g[B[0]][F[0]],w)})})}}return m}i.prototype.get=function(m){if(!_t(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new St(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var v=m[0],g=m[1];Yt(v,this._size[0]),Yt(g,this._size[1]);var w=u(v,this._ptr[g],this._ptr[g+1],this._index);return w<this._ptr[g+1]&&this._index[w]===v?this._values[w]:0},i.prototype.set=function(m,v,g){if(!_t(m))throw new TypeError("Array expected");if(m.length!==this._size.length)throw new St(m.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var w=m[0],y=m[1],S=this._size[0],x=this._size[1],b=n,C=0;vr(this._datatype)&&(b=e.find(n,[this._datatype,this._datatype])||n,C=e.convert(0,this._datatype)),(w>S-1||y>x-1)&&(d(this,Math.max(w+1,S),Math.max(y+1,x),g),S=this._size[0],x=this._size[1]),Yt(w,S),Yt(y,x);var A=u(w,this._ptr[y],this._ptr[y+1],this._index);return A<this._ptr[y+1]&&this._index[A]===w?b(v,C)?c(A,y,this._values,this._index,this._ptr):this._values[A]=v:b(v,C)||f(A,w,y,v,this._values,this._index,this._ptr),this};function u(m,v,g,w){if(g-v===0)return g;for(var y=v;y<g;y++)if(w[y]===m)return y;return v}function c(m,v,g,w,y){g.splice(m,1),w.splice(m,1);for(var S=v+1;S<y.length;S++)y[S]--}function f(m,v,g,w,y,S,x){y.splice(m,0,w),S.splice(m,0,v);for(var b=g+1;b<x.length;b++)x[b]++}i.prototype.resize=function(m,v,g){if(!Ki(m))throw new TypeError("Array or Matrix expected");var w=m.valueOf().map(S=>Array.isArray(S)&&S.length===1?S[0]:S);if(w.length!==2)throw new Error("Only two dimensions matrix are supported");w.forEach(function(S){if(!wt(S)||!Ge(S)||S<0)throw new TypeError("Invalid size, must contain positive integers (size: "+xt(w)+")")});var y=g?this.clone():this;return d(y,w[0],w[1],v)};function d(m,v,g,w){var y=w||0,S=n,x=0;vr(m._datatype)&&(S=e.find(n,[m._datatype,m._datatype])||n,x=e.convert(0,m._datatype),y=e.convert(y,m._datatype));var b=!S(y,x),C=m._size[0],A=m._size[1],D,E,M;if(g>A){for(E=A;E<g;E++)if(m._ptr[E]=m._values.length,b)for(D=0;D<C;D++)m._values.push(y),m._index.push(D);m._ptr[g]=m._values.length}else g<A&&(m._ptr.splice(g+1,A-g),m._values.splice(m._ptr[g],m._values.length),m._index.splice(m._ptr[g],m._index.length));if(A=g,v>C){if(b){var B=0;for(E=0;E<A;E++){m._ptr[E]=m._ptr[E]+B,M=m._ptr[E+1]+B;var P=0;for(D=C;D<v;D++,P++)m._values.splice(M+P,0,y),m._index.splice(M+P,0,D),B++}m._ptr[A]=m._values.length}}else if(v<C){var F=0;for(E=0;E<A;E++){m._ptr[E]=m._ptr[E]-F;var $=m._ptr[E],N=m._ptr[E+1]-F;for(M=$;M<N;M++)D=m._index[M],D>v-1&&(m._values.splice(M,1),m._index.splice(M,1),F++)}m._ptr[E]=m._values.length}return m._size[0]=v,m._size[1]=g,m}i.prototype.reshape=function(m,v){if(!_t(m))throw new TypeError("Array expected");if(m.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");m.forEach(function(I){if(!wt(I)||!Ge(I)||I<=-2||I===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+xt(m)+")")});var g=this._size[0]*this._size[1];m=wS(m,g);var w=m[0]*m[1];if(g!==w)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=v?this.clone():this;if(this._size[0]===m[0]&&this._size[1]===m[1])return y;for(var S=[],x=0;x<y._ptr.length;x++)for(var b=0;b<y._ptr[x+1]-y._ptr[x];b++)S.push(x);for(var C=y._values.slice(),A=y._index.slice(),D=0;D<y._index.length;D++){var E=A[D],M=S[D],B=E*y._size[1]+M;S[D]=B%m[1],A[D]=Math.floor(B/m[1])}y._values.length=0,y._index.length=0,y._ptr.length=m[1]+1,y._size=m.slice();for(var P=0;P<y._ptr.length;P++)y._ptr[P]=0;for(var F=0;F<C.length;F++){var $=A[F],N=S[F],T=C[F],z=u($,y._ptr[N],y._ptr[N+1],y._index);f(z,$,N,T,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var m=new i({values:this._values?ct(this._values):void 0,index:ct(this._index),ptr:ct(this._ptr),size:ct(this._size),datatype:this._datatype});return m},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(m,v){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,w=this._size[0],y=this._size[1],S=x5(m),x=function(C,A,D){return S===1?m(C):S===2?m(C,[A,D]):m(C,[A,D],g)};return h(this,0,w-1,0,y-1,x,v)};function h(m,v,g,w,y,S,x){var b=[],C=[],A=[],D=n,E=0;vr(m._datatype)&&(D=e.find(n,[m._datatype,m._datatype])||n,E=e.convert(0,m._datatype));for(var M=function(L,ne,se){L=S(L,ne,se),D(L,E)||(b.push(L),C.push(ne))},B=w;B<=y;B++){A.push(b.length);var P=m._ptr[B],F=m._ptr[B+1];if(x)for(var $=P;$<F;$++){var N=m._index[$];N>=v&&N<=g&&M(m._values[$],N-v,B-w)}else{for(var T={},z=P;z<F;z++){var I=m._index[z];T[I]=m._values[z]}for(var q=v;q<=g;q++){var X=q in T?T[q]:0;M(X,q-v,B-w)}}}return A.push(b.length),new i({values:b,index:C,ptr:A,size:[g-v+1,y-w+1]})}i.prototype.forEach=function(m,v){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,w=this._size[0],y=this._size[1],S=0;S<y;S++){var x=this._ptr[S],b=this._ptr[S+1];if(v)for(var C=x;C<b;C++){var A=this._index[C];m(this._values[C],[A,S],g)}else{for(var D={},E=x;E<b;E++){var M=this._index[E];D[M]=this._values[E]}for(var B=0;B<w;B++){var P=B in D?D[B]:0;m(P,[B,S],g)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var m=this._size[1],v=0;v<m;v++)for(var g=this._ptr[v],w=this._ptr[v+1],y=g;y<w;y++){var S=this._index[y];yield{value:this._values[y],index:[S,v]}}},i.prototype.toArray=function(){return p(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return p(this._values,this._index,this._ptr,this._size,!1)};function p(m,v,g,w,y){var S=w[0],x=w[1],b=[],C,A;for(C=0;C<S;C++)for(b[C]=[],A=0;A<x;A++)b[C][A]=0;for(A=0;A<x;A++)for(var D=g[A],E=g[A+1],M=D;M<E;M++)C=v[M],b[C][A]=m?y?ct(m[M]):m[M]:1;return b}return i.prototype.format=function(m){for(var v=this._size[0],g=this._size[1],w=this.density(),y="Sparse Matrix ["+xt(v,m)+" x "+xt(g,m)+"] density: "+xt(w,m)+`
`,S=0;S<g;S++)for(var x=this._ptr[S],b=this._ptr[S+1],C=x;C<b;C++){var A=this._index[C];y+=`
    (`+xt(A,m)+", "+xt(S,m)+") ==> "+(this._values?xt(this._values[C],m):"X")}return y},i.prototype.toString=function(){return xt(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(m){if(m){if(Et(m)&&(m=m.toNumber()),!wt(m)||!Ge(m))throw new TypeError("The parameter k must be an integer number")}else m=0;var v=m>0?m:0,g=m<0?-m:0,w=this._size[0],y=this._size[1],S=Math.min(w-g,y-v),x=[],b=[],C=[];C[0]=0;for(var A=v;A<y&&x.length<S;A++)for(var D=this._ptr[A],E=this._ptr[A+1],M=D;M<E;M++){var B=this._index[M];if(B===A-v+g){x.push(this._values[M]),b[x.length-1]=B-g;break}}return C.push(x.length),new i({values:x,index:b,ptr:C,size:[S,1]})},i.fromJSON=function(m){return new i(m)},i.diagonal=function(m,v,g,w,y){if(!_t(m))throw new TypeError("Array expected, size parameter");if(m.length!==2)throw new Error("Only two dimensions matrix are supported");if(m=m.map(function(I){if(Et(I)&&(I=I.toNumber()),!wt(I)||!Ge(I)||I<1)throw new Error("Size values must be positive integers");return I}),g){if(Et(g)&&(g=g.toNumber()),!wt(g)||!Ge(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var S=n,x=0;vr(y)&&(S=e.find(n,[y,y])||n,x=e.convert(0,y));var b=g>0?g:0,C=g<0?-g:0,A=m[0],D=m[1],E=Math.min(A-C,D-b),M;if(_t(v)){if(v.length!==E)throw new Error("Invalid value array length");M=function(q){return v[q]}}else if(Je(v)){var B=v.size();if(B.length!==1||B[0]!==E)throw new Error("Invalid matrix length");M=function(q){return v.get([q])}}else M=function(){return v};for(var P=[],F=[],$=[],N=0;N<D;N++){$.push(P.length);var T=N-b;if(T>=0&&T<E){var z=M(T);S(z,x)||(F.push(T+C),P.push(z))}}return $.push(P.length),new i({values:P,index:F,ptr:$,size:[A,D]})},i.prototype.swapRows=function(m,v){if(!wt(m)||!Ge(m)||!wt(v)||!Ge(v))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return Yt(m,this._size[0]),Yt(v,this._size[0]),i._swapRows(m,v,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(m,v,g,w,y){for(var S=w[m],x=w[m+1],b=S;b<x;b++)y(g[b],v[b])},i._swapRows=function(m,v,g,w,y,S){for(var x=0;x<g;x++){var b=S[x],C=S[x+1],A=u(m,b,C,y),D=u(v,b,C,y);if(A<C&&D<C&&y[A]===m&&y[D]===v){if(w){var E=w[A];w[A]=w[D],w[D]=E}continue}if(A<C&&y[A]===m&&(D>=C||y[D]!==v)){var M=w?w[A]:void 0;y.splice(D,0,v),w&&w.splice(D,0,M),y.splice(D<=A?A+1:A,1),w&&w.splice(D<=A?A+1:A,1);continue}if(D<C&&y[D]===v&&(A>=C||y[A]!==m)){var B=w?w[D]:void 0;y.splice(A,0,m),w&&w.splice(A,0,B),y.splice(A<=D?D+1:D,1),w&&w.splice(A<=D?D+1:D,1)}}},i},{isClass:!0}),gfe="number",vfe=["typed"];function yfe(t){var e=t.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(e){var n={"0b":2,"0o":8,"0x":16}[e[1]],r=e[2],i=e[3];return{input:t,radix:n,integerPart:r,fractionalPart:i}}else return null}function bfe(t){for(var e=parseInt(t.integerPart,t.radix),n=0,r=0;r<t.fractionalPart.length;r++){var i=parseInt(t.fractionalPart[r],t.radix);n+=i/Math.pow(t.radix,r+1)}var o=e+n;if(isNaN(o))throw new SyntaxError('String "'+t.input+'" is not a valid number');return o}var xfe=K(gfe,vfe,t=>{var{typed:e}=t,n=e("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var o=yfe(i);if(o)return bfe(o);var a=0,s=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);s&&(a=Number(s[2]),i=s[1]);var l=Number(i);if(isNaN(l))throw new SyntaxError('String "'+i+'" is not a valid number');if(s){if(l>2**a-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));l>=2**(a-1)&&(l=l-2**a)}return l},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:e.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),null:function(i){return 0},"Unit, string | Unit":function(i,o){return i.toNumber(o)},"Array | Matrix":e.referToSelf(r=>i=>At(i,r))});return n.fromJSON=function(r){return parseFloat(r.value)},n}),UM="string",wfe=["typed"],Sfe=K(UM,wfe,t=>{var{typed:e}=t;return e(UM,{"":function(){return""},number:Nl,null:function(r){return"null"},boolean:function(r){return r+""},string:function(r){return r},"Array | Matrix":e.referToSelf(n=>r=>At(r,n)),any:function(r){return String(r)}})}),qM="boolean",Cfe=["typed"],Afe=K(qM,Cfe,t=>{var{typed:e}=t;return e(qM,{"":function(){return!1},boolean:function(r){return r},number:function(r){return!!r},null:function(r){return!1},BigNumber:function(r){return!r.isZero()},string:function(r){var i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;var o=Number(r);if(r!==""&&!isNaN(o))return!!o;throw new Error('Cannot convert "'+r+'" to a boolean')},"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),Dfe="bignumber",Efe=["typed","BigNumber"],Mfe=K(Dfe,Efe,t=>{var{typed:e,BigNumber:n}=t;return e("bignumber",{"":function(){return new n(0)},number:function(i){return new n(i+"")},string:function(i){var o=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(o){var a=o[2],s=n(o[1]),l=new n(2).pow(Number(a));if(s.gt(l.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var u=new n(2).pow(Number(a)-1);return s.gte(u)?s.sub(l):s}return new n(i)},BigNumber:function(i){return i},Unit:e.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),Fraction:function(i){return new n(i.n).div(i.d).times(i.s)},null:function(i){return new n(0)},"Array | Matrix":e.referToSelf(r=>i=>At(i,r))})}),Nfe="complex",$fe=["typed","Complex"],Ofe=K(Nfe,$fe,t=>{var{typed:e,Complex:n}=t;return e("complex",{"":function(){return n.ZERO},number:function(i){return new n(i,0)},"number, number":function(i,o){return new n(i,o)},"BigNumber, BigNumber":function(i,o){return new n(i.toNumber(),o.toNumber())},Fraction:function(i){return new n(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return n(i)},null:function(i){return n(0)},Object:function(i){if("re"in i&&"im"in i)return new n(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new n(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":e.referToSelf(r=>i=>At(i,r))})}),Tfe="fraction",Bfe=["typed","Fraction"],Ife=K(Tfe,Bfe,t=>{var{typed:e,Fraction:n}=t;return e("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new n(i)},string:function(i){return new n(i)},"number, number":function(i,o){return new n(i,o)},null:function(i){return new n(0)},BigNumber:function(i){return new n(i.toString())},Fraction:function(i){return i},Unit:e.referToSelf(r=>i=>{var o=i.clone();return o.value=r(i.value),o}),Object:function(i){return new n(i)},"Array | Matrix":e.referToSelf(r=>i=>At(i,r))})}),WM="matrix",Pfe=["typed","Matrix","DenseMatrix","SparseMatrix"],kfe=K(WM,Pfe,t=>{var{typed:e,Matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(WM,{"":function(){return o([])},string:function(s){return o([],s)},"string, string":function(s,l){return o([],s,l)},Array:function(s){return o(s)},Matrix:function(s){return o(s,s.storage())},"Array | Matrix, string":o,"Array | Matrix, string, string":o});function o(a,s,l){if(s==="dense"||s==="default"||s===void 0)return new r(a,l);if(s==="sparse")return new i(a,l);throw new TypeError("Unknown matrix type "+JSON.stringify(s)+".")}}),jM="matrixFromFunction",Ffe=["typed","matrix","isZero"],Rfe=K(jM,Ffe,t=>{var{typed:e,matrix:n,isZero:r}=t;return e(jM,{"Array | Matrix, function, string, string":function(a,s,l,u){return i(a,s,l,u)},"Array | Matrix, function, string":function(a,s,l){return i(a,s,l)},"Matrix, function":function(a,s){return i(a,s,"dense")},"Array, function":function(a,s){return i(a,s,"dense").toArray()},"Array | Matrix, string, function":function(a,s,l){return i(a,l,s)},"Array | Matrix, string, string, function":function(a,s,l,u){return i(a,u,s,l)}});function i(o,a,s,l){var u;return l!==void 0?u=n(s,l):u=n(s),u.resize(o),u.forEach(function(c,f){var d=a(f);r(d)||u.set(f,d)}),u}}),GM="matrixFromRows",_fe=["typed","matrix","flatten","size"],zfe=K(GM,_fe,t=>{var{typed:e,matrix:n,flatten:r,size:i}=t;return e(GM,{"...Array":function(l){return o(l)},"...Matrix":function(l){return n(o(l.map(u=>u.toArray())))}});function o(s){if(s.length===0)throw new TypeError("At least one row is needed to construct a matrix.");var l=a(s[0]),u=[];for(var c of s){var f=a(c);if(f!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(f|0));u.push(r(c))}return u}function a(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),XM="matrixFromColumns",Lfe=["typed","matrix","flatten","size"],Hfe=K(XM,Lfe,t=>{var{typed:e,matrix:n,flatten:r,size:i}=t;return e(XM,{"...Array":function(l){return o(l)},"...Matrix":function(l){return n(o(l.map(u=>u.toArray())))}});function o(s){if(s.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var l=a(s[0]),u=[],c=0;c<l;c++)u[c]=[];for(var f of s){var d=a(f);if(d!==l)throw new TypeError("The vectors had different length: "+(l|0)+" ≠ "+(d|0));for(var h=r(f),p=0;p<l;p++)u[p].push(h[p])}return u}function a(s){var l=i(s);if(l.length===1)return l[0];if(l.length===2){if(l[0]===1)return l[1];if(l[1]===1)return l[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),KM="splitUnit",Vfe=["typed"],Ufe=K(KM,Vfe,t=>{var{typed:e}=t;return e(KM,{"Unit, Array":function(r,i){return r.splitUnit(i)}})}),YM="unaryMinus",qfe=["typed"],Wfe=K(YM,qfe,t=>{var{typed:e}=t;return e(YM,{number:E5,"Complex | BigNumber | Fraction":n=>n.neg(),Unit:e.referToSelf(n=>r=>{var i=r.clone();return i.value=e.find(n,i.valueType())(r.value),i}),"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),ZM="unaryPlus",jfe=["typed","config","BigNumber"],Gfe=K(ZM,jfe,t=>{var{typed:e,config:n,BigNumber:r}=t;return e(ZM,{number:M5,Complex:function(o){return o},BigNumber:function(o){return o},Fraction:function(o){return o},Unit:function(o){return o.clone()},"Array | Matrix":e.referToSelf(i=>o=>At(o,i)),"boolean | string":function(o){return n.number==="BigNumber"?new r(+o):+o}})}),QM="abs",Xfe=["typed"],Kfe=K(QM,Xfe,t=>{var{typed:e}=t;return e(QM,{number:S5,"Complex | BigNumber | Fraction | Unit":n=>n.abs(),"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),JM="apply",Yfe=["typed","isInteger"],MS=K(JM,Yfe,t=>{var{typed:e,isInteger:n}=t;return e(JM,{"Array | Matrix, number | BigNumber, function":function(i,o,a){if(!n(o))throw new TypeError("Integer number expected for dimension");var s=Array.isArray(i)?mt(i):i.size();if(o<0||o>=s.length)throw new Do(o,s.length);return Je(i)?i.create(Eg(i.valueOf(),o,a)):Eg(i,o,a)}})});function Eg(t,e,n){var r,i,o;if(e<=0)if(Array.isArray(t[0])){for(o=Zfe(t),i=[],r=0;r<o.length;r++)i[r]=Eg(o[r],e-1,n);return i}else return n(t);else{for(i=[],r=0;r<t.length;r++)i[r]=Eg(t[r],e-1,n);return i}}function Zfe(t){var e=t.length,n=t[0].length,r,i,o=[];for(i=0;i<n;i++){var a=[];for(r=0;r<e;r++)a.push(t[r][i]);o.push(a)}return o}var eN="addScalar",Qfe=["typed"],Jfe=K(eN,Qfe,t=>{var{typed:e}=t;return e(eN,{"number, number":C5,"Complex, Complex":function(r,i){return r.add(i)},"BigNumber, BigNumber":function(r,i){return r.plus(i)},"Fraction, Fraction":function(r,i){return r.add(i)},"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(n,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),tN="subtractScalar",ede=["typed"],tde=K(tN,ede,t=>{var{typed:e}=t;return e(tN,{"number, number":A5,"Complex, Complex":function(r,i){return r.sub(i)},"BigNumber, BigNumber":function(r,i){return r.minus(i)},"Fraction, Fraction":function(r,i){return r.sub(i)},"Unit, Unit":e.referToSelf(n=>(r,i)=>{if(r.value===null||r.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(i))throw new Error("Units do not match");var o=r.clone();return o.value=e.find(n,[o.valueType(),i.valueType()])(o.value,i.value),o.fixPrefix=!1,o})})}),nN="cbrt",nde=["config","typed","isNegative","unaryMinus","matrix","Complex","BigNumber","Fraction"],rde=K(nN,nde,t=>{var{config:e,typed:n,isNegative:r,unaryMinus:i,matrix:o,Complex:a,BigNumber:s,Fraction:l}=t;return n(nN,{number:_f,Complex:u,"Complex, boolean":u,BigNumber:function(d){return d.cbrt()},Unit:c});function u(f,d){var h=f.arg()/3,p=f.abs(),m=new a(_f(p),0).mul(new a(0,h).exp());if(d){var v=[m,new a(_f(p),0).mul(new a(0,h+Math.PI*2/3).exp()),new a(_f(p),0).mul(new a(0,h-Math.PI*2/3).exp())];return e.matrix==="Array"?v:o(v)}else return m}function c(f){if(f.value&&Fa(f.value)){var d=f.clone();return d.value=1,d=d.pow(1/3),d.value=u(f.value),d}else{var h=r(f.value);h&&(f.value=i(f.value));var p;Et(f.value)?p=new s(1).div(3):ah(f.value)?p=new l(1,3):p=1/3;var m=f.pow(p);return h&&(m.value=i(m.value)),m}}}),ide="matAlgo11xS0s",ode=["typed","equalScalar"],fr=K(ide,ode,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a,s){var l=i._values,u=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=f[0],p=f[1],m,v=n,g=0,w=a;typeof d=="string"&&(m=d,v=e.find(n,[m,m]),g=e.convert(0,m),o=e.convert(o,m),w=e.find(a,[m,m]));for(var y=[],S=[],x=[],b=0;b<p;b++){x[b]=S.length;for(var C=c[b],A=c[b+1],D=C;D<A;D++){var E=u[D],M=s?w(o,l[D]):w(l[D],o);v(M,g)||(S.push(E),y.push(M))}}return x[p]=S.length,i.createSparseMatrix({values:y,index:S,ptr:x,size:[h,p],datatype:m})}}),ade="matAlgo12xSfs",sde=["typed","DenseMatrix"],Xn=K(ade,sde,t=>{var{typed:e,DenseMatrix:n}=t;return function(i,o,a,s){var l=i._values,u=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=f[0],p=f[1],m,v=a;typeof d=="string"&&(m=d,o=e.convert(o,m),v=e.find(a,[m,m]));for(var g=[],w=[],y=[],S=0;S<p;S++){for(var x=S+1,b=c[S],C=c[S+1],A=b;A<C;A++){var D=u[A];w[D]=l[A],y[D]=x}for(var E=0;E<h;E++)S===0&&(g[E]=[]),y[E]===x?g[E][S]=s?v(o,w[E]):v(w[E],o):g[E][S]=s?v(o,0):v(0,o)}return new n({data:g,size:[h,p],datatype:m})}}),lde="matAlgo14xDs",ude=["typed"],Mo=K(lde,ude,t=>{var{typed:e}=t;return function(i,o,a,s){var l=i._data,u=i._size,c=i._datatype,f,d=a;typeof c=="string"&&(f=c,o=e.convert(o,f),d=e.find(a,[f,f]));var h=u.length>0?n(d,0,u,u[0],l,o,s):[];return i.createDenseMatrix({data:h,size:ct(u),datatype:f})};function n(r,i,o,a,s,l,u){var c=[];if(i===o.length-1)for(var f=0;f<a;f++)c[f]=u?r(l,s[f]):r(s[f],l);else for(var d=0;d<a;d++)c[d]=n(r,i+1,o,o[i+1],s[d],l,u);return c}}),K1="ceil",cde=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],fde=K(K1,["typed","config","round"],t=>{var{typed:e,config:n,round:r}=t;return e(K1,{number:function(o){return Di(o,r(o),n.epsilon)?r(o):Math.ceil(o)},"number, number":function(o,a){if(Di(o,r(o,a),n.epsilon))return r(o,a);var[s,l]="".concat(o,"e").split("e"),u=Math.ceil(Number("".concat(s,"e").concat(Number(l)+a)));return[s,l]="".concat(u,"e").split("e"),Number("".concat(s,"e").concat(Number(l)-a))}})}),dde=K(K1,cde,t=>{var{typed:e,config:n,round:r,matrix:i,equalScalar:o,zeros:a,DenseMatrix:s}=t,l=fr({typed:e,equalScalar:o}),u=Xn({typed:e,DenseMatrix:s}),c=Mo({typed:e}),f=fde({typed:e,config:n,round:r});return e("ceil",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(h){return h.ceil()},"Complex, number":function(h,p){return h.ceil(p)},"Complex, BigNumber":function(h,p){return h.ceil(p.toNumber())},BigNumber:function(h){return la(h,r(h),n.epsilon)?r(h):h.ceil()},"BigNumber, BigNumber":function(h,p){return la(h,r(h,p),n.epsilon)?r(h,p):h.toDecimalPlaces(p.toNumber(),qs.ROUND_CEIL)},Fraction:function(h){return h.ceil()},"Fraction, number":function(h,p){return h.ceil(p)},"Fraction, BigNumber":function(h,p){return h.ceil(p.toNumber())},"Array | Matrix":e.referToSelf(d=>h=>At(h,d)),"Array, number | BigNumber":e.referToSelf(d=>(h,p)=>At(h,m=>d(m,p))),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(h,p)=>l(h,p,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(h,p)=>c(h,p,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(h,p)=>c(i(p),h,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(h,p)=>o(h,0)?a(p.size(),p.storage()):p.storage()==="dense"?c(p,h,d,!0):u(p,h,d,!0))})}),rN="cube",hde=["typed"],pde=K(rN,hde,t=>{var{typed:e}=t;return e(rN,{number:N5,Complex:function(r){return r.mul(r).mul(r)},BigNumber:function(r){return r.times(r).times(r)},Fraction:function(r){return r.pow(3)},Unit:function(r){return r.pow(3)}})}),iN="exp",mde=["typed"],gde=K(iN,mde,t=>{var{typed:e}=t;return e(iN,{number:$5,Complex:function(r){return r.exp()},BigNumber:function(r){return r.exp()}})}),oN="expm1",vde=["typed","Complex"],yde=K(oN,vde,t=>{var{typed:e,Complex:n}=t;return e(oN,{number:O5,Complex:function(i){var o=Math.exp(i.re);return new n(o*Math.cos(i.im)-1,o*Math.sin(i.im))},BigNumber:function(i){return i.exp().minus(1)}})}),Y1="fix",bde=["typed","Complex","matrix","ceil","floor","equalScalar","zeros","DenseMatrix"],xde=K(Y1,["typed","ceil","floor"],t=>{var{typed:e,ceil:n,floor:r}=t;return e(Y1,{number:function(o){return o>0?r(o):n(o)},"number, number":function(o,a){return o>0?r(o,a):n(o,a)}})}),wde=K(Y1,bde,t=>{var{typed:e,Complex:n,matrix:r,ceil:i,floor:o,equalScalar:a,zeros:s,DenseMatrix:l}=t,u=Xn({typed:e,DenseMatrix:l}),c=Mo({typed:e}),f=xde({typed:e,ceil:i,floor:o});return e("fix",{number:f.signatures.number,"number, number | BigNumber":f.signatures["number,number"],Complex:function(h){return new n(h.re>0?Math.floor(h.re):Math.ceil(h.re),h.im>0?Math.floor(h.im):Math.ceil(h.im))},"Complex, number":function(h,p){return new n(h.re>0?o(h.re,p):i(h.re,p),h.im>0?o(h.im,p):i(h.im,p))},"Complex, BigNumber":function(h,p){var m=p.toNumber();return new n(h.re>0?o(h.re,m):i(h.re,m),h.im>0?o(h.im,m):i(h.im,m))},BigNumber:function(h){return h.isNegative()?i(h):o(h)},"BigNumber, number | BigNumber":function(h,p){return h.isNegative()?i(h,p):o(h,p)},Fraction:function(h){return h.s<0?h.ceil():h.floor()},"Fraction, number | BigNumber":function(h,p){return h.s<0?i(h,p):o(h,p)},"Array | Matrix":e.referToSelf(d=>h=>At(h,d)),"Array | Matrix, number | BigNumber":e.referToSelf(d=>(h,p)=>At(h,m=>d(m,p))),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(h,p)=>c(r(p),h,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(h,p)=>a(h,0)?s(p.size(),p.storage()):p.storage()==="dense"?c(p,h,d,!0):u(p,h,d,!0))})}),Z1="floor",Sde=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix"],Cde=K(Z1,["typed","config","round"],t=>{var{typed:e,config:n,round:r}=t;return e(Z1,{number:function(o){return Di(o,r(o),n.epsilon)?r(o):Math.floor(o)},"number, number":function(o,a){if(Di(o,r(o,a),n.epsilon))return r(o,a);var[s,l]="".concat(o,"e").split("e"),u=Math.floor(Number("".concat(s,"e").concat(Number(l)+a)));return[s,l]="".concat(u,"e").split("e"),Number("".concat(s,"e").concat(Number(l)-a))}})}),v_=K(Z1,Sde,t=>{var{typed:e,config:n,round:r,matrix:i,equalScalar:o,zeros:a,DenseMatrix:s}=t,l=fr({typed:e,equalScalar:o}),u=Xn({typed:e,DenseMatrix:s}),c=Mo({typed:e}),f=Cde({typed:e,config:n,round:r});return e("floor",{number:f.signatures.number,"number,number":f.signatures["number,number"],Complex:function(h){return h.floor()},"Complex, number":function(h,p){return h.floor(p)},"Complex, BigNumber":function(h,p){return h.floor(p.toNumber())},BigNumber:function(h){return la(h,r(h),n.epsilon)?r(h):h.floor()},"BigNumber, BigNumber":function(h,p){return la(h,r(h,p),n.epsilon)?r(h,p):h.toDecimalPlaces(p.toNumber(),qs.ROUND_FLOOR)},Fraction:function(h){return h.floor()},"Fraction, number":function(h,p){return h.floor(p)},"Fraction, BigNumber":function(h,p){return h.floor(p.toNumber())},"Array | Matrix":e.referToSelf(d=>h=>At(h,d)),"Array, number | BigNumber":e.referToSelf(d=>(h,p)=>At(h,m=>d(m,p))),"SparseMatrix, number | BigNumber":e.referToSelf(d=>(h,p)=>l(h,p,d,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(d=>(h,p)=>c(h,p,d,!1)),"number | Complex | Fraction | BigNumber, Array":e.referToSelf(d=>(h,p)=>c(i(p),h,d,!0).valueOf()),"number | Complex | Fraction | BigNumber, Matrix":e.referToSelf(d=>(h,p)=>o(h,0)?a(p.size(),p.storage()):p.storage()==="dense"?c(p,h,d,!0):u(p,h,d,!0))})}),Ade="matAlgo02xDS0",Dde=["typed","equalScalar"],No=K(Ade,Dde,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a,s){var l=i._data,u=i._size,c=i._datatype,f=o._values,d=o._index,h=o._ptr,p=o._size,m=o._datatype;if(u.length!==p.length)throw new St(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!f)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var v=u[0],g=u[1],w,y=n,S=0,x=a;typeof c=="string"&&c===m&&(w=c,y=e.find(n,[w,w]),S=e.convert(0,w),x=e.find(a,[w,w]));for(var b=[],C=[],A=[],D=0;D<g;D++){A[D]=C.length;for(var E=h[D],M=h[D+1],B=E;B<M;B++){var P=d[B],F=s?x(f[B],l[P][D]):x(l[P][D],f[B]);y(F,S)||(C.push(P),b.push(F))}}return A[g]=C.length,o.createSparseMatrix({values:b,index:C,ptr:A,size:[v,g],datatype:w})}}),Ede="matAlgo03xDSf",Mde=["typed"],qr=K(Ede,Mde,t=>{var{typed:e}=t;return function(r,i,o,a){var s=r._data,l=r._size,u=r._datatype,c=i._values,f=i._index,d=i._ptr,h=i._size,p=i._datatype;if(l.length!==h.length)throw new St(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=l[0],v=l[1],g,w=0,y=o;typeof u=="string"&&u===p&&(g=u,w=e.convert(0,g),y=e.find(o,[g,g]));for(var S=[],x=0;x<m;x++)S[x]=[];for(var b=[],C=[],A=0;A<v;A++){for(var D=A+1,E=d[A],M=d[A+1],B=E;B<M;B++){var P=f[B];b[P]=a?y(c[B],s[P][A]):y(s[P][A],c[B]),C[P]=D}for(var F=0;F<m;F++)C[F]===D?S[F][A]=b[F]:S[F][A]=a?y(w,s[F][A]):y(s[F][A],w)}return r.createDenseMatrix({data:S,size:[m,v],datatype:g})}}),Nde="matAlgo05xSfSf",$de=["typed","equalScalar"],qv=K(Nde,$de,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype,d=o._values,h=o._index,p=o._ptr,m=o._size,v=o._datatype;if(c.length!==m.length)throw new St(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var g=c[0],w=c[1],y,S=n,x=0,b=a;typeof f=="string"&&f===v&&(y=f,S=e.find(n,[y,y]),x=e.convert(0,y),b=e.find(a,[y,y]));var C=s&&d?[]:void 0,A=[],D=[],E=C?[]:void 0,M=C?[]:void 0,B=[],P=[],F,$,N,T;for($=0;$<w;$++){D[$]=A.length;var z=$+1;for(N=u[$],T=u[$+1];N<T;N++)F=l[N],A.push(F),B[F]=z,E&&(E[F]=s[N]);for(N=p[$],T=p[$+1];N<T;N++)F=h[N],B[F]!==z&&A.push(F),P[F]=z,M&&(M[F]=d[N]);if(C)for(N=D[$];N<A.length;){F=A[N];var I=B[F],q=P[F];if(I===z||q===z){var X=I===z?E[F]:x,V=q===z?M[F]:x,L=b(X,V);S(L,x)?A.splice(N,1):(C.push(L),N++)}}}return D[w]=A.length,i.createSparseMatrix({values:C,index:A,ptr:D,size:[g,w],datatype:y})}}),Ode="matAlgo13xDD",Tde=["typed"],Bde=K(Ode,Tde,t=>{var{typed:e}=t;return function(i,o,a){var s=i._data,l=i._size,u=i._datatype,c=o._data,f=o._size,d=o._datatype,h=[];if(l.length!==f.length)throw new St(l.length,f.length);for(var p=0;p<l.length;p++){if(l[p]!==f[p])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");h[p]=l[p]}var m,v=a;typeof u=="string"&&u===d&&(m=u,v=e.find(a,[m,m]));var g=h.length>0?n(v,0,h,h[0],s,c):[];return i.createDenseMatrix({data:g,size:h,datatype:m})};function n(r,i,o,a,s,l){var u=[];if(i===o.length-1)for(var c=0;c<a;c++)u[c]=r(s[c],l[c]);else for(var f=0;f<a;f++)u[f]=n(r,i+1,o,o[i+1],s[f],l[f]);return u}}),Ide="broadcast",Pde=["concat"],kde=K(Ide,Pde,t=>{var{concat:e}=t;return function(i,o){var a=Math.max(i._size.length,o._size.length);if(i._size.length===o._size.length&&i._size.every((p,m)=>p===o._size[m]))return[i,o];for(var s=n(i._size,a,0),l=n(o._size,a,0),u=[],c=0;c<a;c++)u[c]=Math.max(s[c],l[c]);yg(s,u),yg(l,u);var f=i.clone(),d=o.clone();f._size.length<a?f.reshape(n(f._size,a,1)):d._size.length<a&&d.reshape(n(d._size,a,1));for(var h=0;h<a;h++)f._size[h]<u[h]&&(f=r(f,u[h],h)),d._size[h]<u[h]&&(d=r(d,u[h],h));return[f,d]};function n(i,o,a){return[...Array(o-i.length).fill(a),...i]}function r(i,o,a){return e(...Array(o).fill(i),a)}}),Fde="matrixAlgorithmSuite",Rde=["typed","matrix","concat"],rn=K(Fde,Rde,t=>{var{typed:e,matrix:n,concat:r}=t,i=Bde({typed:e}),o=Mo({typed:e}),a=kde({concat:r});return function(l){var u=l.elop,c=l.SD||l.DS,f;u?(f={"DenseMatrix, DenseMatrix":(m,v)=>i(...a(m,v),u),"Array, Array":(m,v)=>i(...a(n(m),n(v)),u).valueOf(),"Array, DenseMatrix":(m,v)=>i(...a(n(m),v),u),"DenseMatrix, Array":(m,v)=>i(...a(m,n(v)),u)},l.SS&&(f["SparseMatrix, SparseMatrix"]=(m,v)=>l.SS(...a(m,v),u,!1)),l.DS&&(f["DenseMatrix, SparseMatrix"]=(m,v)=>l.DS(...a(m,v),u,!1),f["Array, SparseMatrix"]=(m,v)=>l.DS(...a(n(m),v),u,!1)),c&&(f["SparseMatrix, DenseMatrix"]=(m,v)=>c(...a(v,m),u,!0),f["SparseMatrix, Array"]=(m,v)=>c(...a(n(v),m),u,!0))):(f={"DenseMatrix, DenseMatrix":e.referToSelf(m=>(v,g)=>i(...a(v,g),m)),"Array, Array":e.referToSelf(m=>(v,g)=>i(...a(n(v),n(g)),m).valueOf()),"Array, DenseMatrix":e.referToSelf(m=>(v,g)=>i(...a(n(v),g),m)),"DenseMatrix, Array":e.referToSelf(m=>(v,g)=>i(...a(v,n(g)),m))},l.SS&&(f["SparseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,g)=>l.SS(...a(v,g),m,!1))),l.DS&&(f["DenseMatrix, SparseMatrix"]=e.referToSelf(m=>(v,g)=>l.DS(...a(v,g),m,!1)),f["Array, SparseMatrix"]=e.referToSelf(m=>(v,g)=>l.DS(...a(n(v),g),m,!1))),c&&(f["SparseMatrix, DenseMatrix"]=e.referToSelf(m=>(v,g)=>c(...a(g,v),m,!0)),f["SparseMatrix, Array"]=e.referToSelf(m=>(v,g)=>c(...a(n(g),v),m,!0))));var d=l.scalar||"any",h=l.Ds||l.Ss;h&&(u?(f["DenseMatrix,"+d]=(m,v)=>o(m,v,u,!1),f[d+", DenseMatrix"]=(m,v)=>o(v,m,u,!0),f["Array,"+d]=(m,v)=>o(n(m),v,u,!1).valueOf(),f[d+", Array"]=(m,v)=>o(n(v),m,u,!0).valueOf()):(f["DenseMatrix,"+d]=e.referToSelf(m=>(v,g)=>o(v,g,m,!1)),f[d+", DenseMatrix"]=e.referToSelf(m=>(v,g)=>o(g,v,m,!0)),f["Array,"+d]=e.referToSelf(m=>(v,g)=>o(n(v),g,m,!1).valueOf()),f[d+", Array"]=e.referToSelf(m=>(v,g)=>o(n(g),v,m,!0).valueOf())));var p=l.sS!==void 0?l.sS:l.Ss;return u?(l.Ss&&(f["SparseMatrix,"+d]=(m,v)=>l.Ss(m,v,u,!1)),p&&(f[d+", SparseMatrix"]=(m,v)=>p(v,m,u,!0))):(l.Ss&&(f["SparseMatrix,"+d]=e.referToSelf(m=>(v,g)=>l.Ss(v,g,m,!1))),p&&(f[d+", SparseMatrix"]=e.referToSelf(m=>(v,g)=>p(g,v,m,!0)))),u&&u.signatures&&WR(f,u.signatures),f}}),aN="mod",_de=["typed","config","round","matrix","equalScalar","zeros","DenseMatrix","concat"],y_=K(aN,_de,t=>{var{typed:e,config:n,round:r,matrix:i,equalScalar:o,zeros:a,DenseMatrix:s,concat:l}=t,u=v_({typed:e,config:n,round:r,matrix:i,equalScalar:o,zeros:a,DenseMatrix:s}),c=No({typed:e,equalScalar:o}),f=qr({typed:e}),d=qv({typed:e,equalScalar:o}),h=fr({typed:e,equalScalar:o}),p=Xn({typed:e,DenseMatrix:s}),m=rn({typed:e,matrix:i,concat:l});return e(aN,{"number, number":v,"BigNumber, BigNumber":function(w,y){return y.isZero()?w:w.sub(y.mul(u(w.div(y))))},"Fraction, Fraction":function(w,y){return y.equals(0)?w:w.sub(y.mul(u(w.div(y))))}},m({SS:d,DS:f,SD:c,Ss:h,sS:p}));function v(g,w){return w===0?g:g-w*u(g/w)}}),zde="matAlgo01xDSid",Lde=["typed"],Ks=K(zde,Lde,t=>{var{typed:e}=t;return function(r,i,o,a){var s=r._data,l=r._size,u=r._datatype,c=i._values,f=i._index,d=i._ptr,h=i._size,p=i._datatype;if(l.length!==h.length)throw new St(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var m=l[0],v=l[1],g=typeof u=="string"&&u===p?u:void 0,w=g?e.find(o,[g,g]):o,y,S,x=[];for(y=0;y<m;y++)x[y]=[];var b=[],C=[];for(S=0;S<v;S++){for(var A=S+1,D=d[S],E=d[S+1],M=D;M<E;M++)y=f[M],b[y]=a?w(c[M],s[y][S]):w(s[y][S],c[M]),C[y]=A;for(y=0;y<m;y++)C[y]===A?x[y][S]=b[y]:x[y][S]=s[y][S]}return r.createDenseMatrix({data:x,size:[m,v],datatype:g})}}),Hde="matAlgo04xSidSid",Vde=["typed","equalScalar"],NS=K(Hde,Vde,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype,d=o._values,h=o._index,p=o._ptr,m=o._size,v=o._datatype;if(c.length!==m.length)throw new St(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var g=c[0],w=c[1],y,S=n,x=0,b=a;typeof f=="string"&&f===v&&(y=f,S=e.find(n,[y,y]),x=e.convert(0,y),b=e.find(a,[y,y]));var C=s&&d?[]:void 0,A=[],D=[],E=s&&d?[]:void 0,M=s&&d?[]:void 0,B=[],P=[],F,$,N,T,z;for($=0;$<w;$++){D[$]=A.length;var I=$+1;for(T=u[$],z=u[$+1],N=T;N<z;N++)F=l[N],A.push(F),B[F]=I,E&&(E[F]=s[N]);for(T=p[$],z=p[$+1],N=T;N<z;N++)if(F=h[N],B[F]===I){if(E){var q=b(E[F],d[N]);S(q,x)?B[F]=null:E[F]=q}}else A.push(F),P[F]=I,M&&(M[F]=d[N]);if(E&&M)for(N=D[$];N<A.length;)F=A[N],B[F]===I?(C[N]=E[F],N++):P[F]===I?(C[N]=M[F],N++):A.splice(N,1)}return D[w]=A.length,i.createSparseMatrix({values:C,index:A,ptr:D,size:[g,w],datatype:y})}}),Ude="matAlgo10xSids",qde=["typed","DenseMatrix"],Gl=K(Ude,qde,t=>{var{typed:e,DenseMatrix:n}=t;return function(i,o,a,s){var l=i._values,u=i._index,c=i._ptr,f=i._size,d=i._datatype;if(!l)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h=f[0],p=f[1],m,v=a;typeof d=="string"&&(m=d,o=e.convert(o,m),v=e.find(a,[m,m]));for(var g=[],w=[],y=[],S=0;S<p;S++){for(var x=S+1,b=c[S],C=c[S+1],A=b;A<C;A++){var D=u[A];w[D]=l[A],y[D]=x}for(var E=0;E<h;E++)S===0&&(g[E]=[]),y[E]===x?g[E][S]=s?v(o,w[E]):v(w[E],o):g[E][S]=o}return new n({data:g,size:[h,p],datatype:m})}});function Xl(t,e,n,r){if(!(this instanceof Xl))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=e,this.min=n,this.max=r,this.message="Wrong number of arguments in function "+t+" ("+e+" provided, "+n+(r!=null?"-"+r:"")+" expected)",this.stack=new Error().stack}Xl.prototype=new Error;Xl.prototype.constructor=Error;Xl.prototype.name="ArgumentsError";Xl.prototype.isArgumentsError=!0;var sN="gcd",Wde=["typed","config","round","matrix","equalScalar","zeros","BigNumber","DenseMatrix","concat"],Oy="number | BigNumber | Fraction | Matrix | Array",jde="".concat(Oy,", ").concat(Oy,", ...").concat(Oy);function lN(t){return!t.some(e=>Array.isArray(e))}var Gde=K(sN,Wde,t=>{var{typed:e,matrix:n,config:r,round:i,equalScalar:o,zeros:a,BigNumber:s,DenseMatrix:l,concat:u}=t,c=y_({typed:e,config:r,round:i,matrix:n,equalScalar:o,zeros:a,DenseMatrix:l,concat:u}),f=Ks({typed:e}),d=NS({typed:e,equalScalar:o}),h=Gl({typed:e,DenseMatrix:l}),p=rn({typed:e,matrix:n,concat:u});return e(sN,{"number, number":m,"BigNumber, BigNumber":v,"Fraction, Fraction":(g,w)=>g.gcd(w)},p({SS:d,DS:f,Ss:h}),{[jde]:e.referToSelf(g=>(w,y,S)=>{for(var x=g(w,y),b=0;b<S.length;b++)x=g(x,S[b]);return x}),Array:e.referToSelf(g=>w=>{if(w.length===1&&Array.isArray(w[0])&&lN(w[0]))return g(...w[0]);if(lN(w))return g(...w);throw new Xl("gcd() supports only 1d matrices!")}),Matrix:e.referToSelf(g=>w=>g(w.toArray()))});function m(g,w){if(!Ge(g)||!Ge(w))throw new Error("Parameters in function gcd must be integer numbers");for(var y;w!==0;)y=c(g,w),g=w,w=y;return g<0?-g:g}function v(g,w){if(!g.isInt()||!w.isInt())throw new Error("Parameters in function gcd must be integer numbers");for(var y=new s(0);!w.isZero();){var S=c(g,w);g=w,w=S}return g.lt(y)?g.neg():g}}),Xde="matAlgo06xS0S0",Kde=["typed","equalScalar"],Wv=K(Xde,Kde,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._size,u=i._datatype,c=o._values,f=o._size,d=o._datatype;if(l.length!==f.length)throw new St(l.length,f.length);if(l[0]!==f[0]||l[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+f+")");var h=l[0],p=l[1],m,v=n,g=0,w=a;typeof u=="string"&&u===d&&(m=u,v=e.find(n,[m,m]),g=e.convert(0,m),w=e.find(a,[m,m]));for(var y=s&&c?[]:void 0,S=[],x=[],b=y?[]:void 0,C=[],A=[],D=0;D<p;D++){x[D]=S.length;var E=D+1;if(TM(i,D,C,b,A,E,S,w),TM(o,D,C,b,A,E,S,w),b)for(var M=x[D];M<S.length;){var B=S[M];if(A[B]===E){var P=b[B];v(P,g)?S.splice(M,1):(y.push(P),M++)}else S.splice(M,1)}else for(var F=x[D];F<S.length;){var $=S[F];A[$]!==E?S.splice(F,1):F++}}return x[p]=S.length,i.createSparseMatrix({values:y,index:S,ptr:x,size:[h,p],datatype:m})}}),uN="lcm",Yde=["typed","matrix","equalScalar","concat"],Zde=K(uN,Yde,t=>{var{typed:e,matrix:n,equalScalar:r,concat:i}=t,o=No({typed:e,equalScalar:r}),a=Wv({typed:e,equalScalar:r}),s=fr({typed:e,equalScalar:r}),l=rn({typed:e,matrix:n,concat:i}),u="number | BigNumber | Fraction | Matrix | Array",c={};return c["".concat(u,", ").concat(u,", ...").concat(u)]=e.referToSelf(d=>(h,p,m)=>{for(var v=d(h,p),g=0;g<m.length;g++)v=d(v,m[g]);return v}),e(uN,{"number, number":T5,"BigNumber, BigNumber":f,"Fraction, Fraction":(d,h)=>d.lcm(h)},l({SS:a,DS:o,Ss:s}),c);function f(d,h){if(!d.isInt()||!h.isInt())throw new Error("Parameters in function lcm must be integer numbers");if(d.isZero())return d;if(h.isZero())return h;for(var p=d.times(h);!h.isZero();){var m=h;h=d.mod(m),d=m}return p.div(d).abs()}}),cN="log10",Qde=["typed","config","Complex"],Jde=K(cN,Qde,t=>{var{typed:e,config:n,Complex:r}=t;return e(cN,{number:function(o){return o>=0||n.predictable?B5(o):new r(o,0).log().div(Math.LN10)},Complex:function(o){return new r(o).log().div(Math.LN10)},BigNumber:function(o){return!o.isNegative()||n.predictable?o.log():new r(o.toNumber(),0).log().div(Math.LN10)},"Array | Matrix":e.referToSelf(i=>o=>At(o,i))})}),fN="log2",ehe=["typed","config","Complex"],the=K(fN,ehe,t=>{var{typed:e,config:n,Complex:r}=t;return e(fN,{number:function(a){return a>=0||n.predictable?I5(a):i(new r(a,0))},Complex:i,BigNumber:function(a){return!a.isNegative()||n.predictable?a.log(2):i(new r(a.toNumber(),0))},"Array | Matrix":e.referToSelf(o=>a=>At(a,o))});function i(o){var a=Math.sqrt(o.re*o.re+o.im*o.im);return new r(Math.log2?Math.log2(a):Math.log(a)/Math.LN2,Math.atan2(o.im,o.re)/Math.LN2)}}),nhe="multiplyScalar",rhe=["typed"],ihe=K(nhe,rhe,t=>{var{typed:e}=t;return e("multiplyScalar",{"number, number":D5,"Complex, Complex":function(r,i){return r.mul(i)},"BigNumber, BigNumber":function(r,i){return r.times(i)},"Fraction, Fraction":function(r,i){return r.mul(i)},"number | Fraction | BigNumber | Complex, Unit":(n,r)=>r.multiply(n),"Unit, number | Fraction | BigNumber | Complex | Unit":(n,r)=>n.multiply(r)})}),dN="multiply",ohe=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],ahe=K(dN,ohe,t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,equalScalar:o,dot:a}=t,s=fr({typed:e,equalScalar:o}),l=Mo({typed:e});function u(x,b){switch(x.length){case 1:switch(b.length){case 1:if(x[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(x[0]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+x[0]+") must match Matrix rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;case 2:switch(b.length){case 1:if(x[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+x[1]+") must match Vector length ("+b[0]+")");break;case 2:if(x[1]!==b[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+x[1]+") must match Matrix B rows ("+b[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+b.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+x.length+" dimensions)")}}function c(x,b,C){if(C===0)throw new Error("Cannot multiply two empty vectors");return a(x,b)}function f(x,b){if(b.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return d(x,b)}function d(x,b){var C=x._data,A=x._size,D=x._datatype,E=b._data,M=b._size,B=b._datatype,P=A[0],F=M[1],$,N=r,T=i;D&&B&&D===B&&typeof D=="string"&&($=D,N=e.find(r,[$,$]),T=e.find(i,[$,$]));for(var z=[],I=0;I<F;I++){for(var q=T(C[0],E[0][I]),X=1;X<P;X++)q=N(q,T(C[X],E[X][I]));z[I]=q}return x.createDenseMatrix({data:z,size:[F],datatype:$})}var h=e("_multiplyMatrixVector",{"DenseMatrix, any":m,"SparseMatrix, any":w}),p=e("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":v,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":S});function m(x,b){var C=x._data,A=x._size,D=x._datatype,E=b._data,M=b._datatype,B=A[0],P=A[1],F,$=r,N=i;D&&M&&D===M&&typeof D=="string"&&(F=D,$=e.find(r,[F,F]),N=e.find(i,[F,F]));for(var T=[],z=0;z<B;z++){for(var I=C[z],q=N(I[0],E[0]),X=1;X<P;X++)q=$(q,N(I[X],E[X]));T[z]=q}return x.createDenseMatrix({data:T,size:[B],datatype:F})}function v(x,b){var C=x._data,A=x._size,D=x._datatype,E=b._data,M=b._size,B=b._datatype,P=A[0],F=A[1],$=M[1],N,T=r,z=i;D&&B&&D===B&&typeof D=="string"&&(N=D,T=e.find(r,[N,N]),z=e.find(i,[N,N]));for(var I=[],q=0;q<P;q++){var X=C[q];I[q]=[];for(var V=0;V<$;V++){for(var L=z(X[0],E[0][V]),ne=1;ne<F;ne++)L=T(L,z(X[ne],E[ne][V]));I[q][V]=L}}return x.createDenseMatrix({data:I,size:[P,$],datatype:N})}function g(x,b){var C=x._data,A=x._size,D=x._datatype,E=b._values,M=b._index,B=b._ptr,P=b._size,F=b._datatype;if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var $=A[0],N=P[1],T,z=r,I=i,q=o,X=0;D&&F&&D===F&&typeof D=="string"&&(T=D,z=e.find(r,[T,T]),I=e.find(i,[T,T]),q=e.find(o,[T,T]),X=e.convert(0,T));for(var V=[],L=[],ne=[],se=b.createSparseMatrix({values:V,index:L,ptr:ne,size:[$,N],datatype:T}),Y=0;Y<N;Y++){ne[Y]=L.length;var ee=B[Y],ie=B[Y+1];if(ie>ee)for(var j=0,W=0;W<$;W++){for(var J=W+1,oe=void 0,de=ee;de<ie;de++){var ge=M[de];j!==J?(oe=I(C[W][ge],E[de]),j=J):oe=z(oe,I(C[W][ge],E[de]))}j===J&&!q(oe,X)&&(L.push(W),V.push(oe))}}return ne[N]=L.length,se}function w(x,b){var C=x._values,A=x._index,D=x._ptr,E=x._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=b._data,B=b._datatype,P=x._size[0],F=b._size[0],$=[],N=[],T=[],z,I=r,q=i,X=o,V=0;E&&B&&E===B&&typeof E=="string"&&(z=E,I=e.find(r,[z,z]),q=e.find(i,[z,z]),X=e.find(o,[z,z]),V=e.convert(0,z));var L=[],ne=[];T[0]=0;for(var se=0;se<F;se++){var Y=M[se];if(!X(Y,V))for(var ee=D[se],ie=D[se+1],j=ee;j<ie;j++){var W=A[j];ne[W]?L[W]=I(L[W],q(Y,C[j])):(ne[W]=!0,N.push(W),L[W]=q(Y,C[j]))}}for(var J=N.length,oe=0;oe<J;oe++){var de=N[oe];$[oe]=L[de]}return T[1]=N.length,x.createSparseMatrix({values:$,index:N,ptr:T,size:[P,1],datatype:z})}function y(x,b){var C=x._values,A=x._index,D=x._ptr,E=x._datatype;if(!C)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var M=b._data,B=b._datatype,P=x._size[0],F=b._size[0],$=b._size[1],N,T=r,z=i,I=o,q=0;E&&B&&E===B&&typeof E=="string"&&(N=E,T=e.find(r,[N,N]),z=e.find(i,[N,N]),I=e.find(o,[N,N]),q=e.convert(0,N));for(var X=[],V=[],L=[],ne=x.createSparseMatrix({values:X,index:V,ptr:L,size:[P,$],datatype:N}),se=[],Y=[],ee=0;ee<$;ee++){L[ee]=V.length;for(var ie=ee+1,j=0;j<F;j++){var W=M[j][ee];if(!I(W,q))for(var J=D[j],oe=D[j+1],de=J;de<oe;de++){var ge=A[de];Y[ge]!==ie?(Y[ge]=ie,V.push(ge),se[ge]=z(W,C[de])):se[ge]=T(se[ge],z(W,C[de]))}}for(var U=L[ee],Z=V.length,fe=U;fe<Z;fe++){var Q=V[fe];X[fe]=se[Q]}}return L[$]=V.length,ne}function S(x,b){var C=x._values,A=x._index,D=x._ptr,E=x._datatype,M=b._values,B=b._index,P=b._ptr,F=b._datatype,$=x._size[0],N=b._size[1],T=C&&M,z,I=r,q=i;E&&F&&E===F&&typeof E=="string"&&(z=E,I=e.find(r,[z,z]),q=e.find(i,[z,z]));for(var X=T?[]:void 0,V=[],L=[],ne=x.createSparseMatrix({values:X,index:V,ptr:L,size:[$,N],datatype:z}),se=T?[]:void 0,Y=[],ee,ie,j,W,J,oe,de,ge,U=0;U<N;U++){L[U]=V.length;var Z=U+1;for(J=P[U],oe=P[U+1],W=J;W<oe;W++)if(ge=B[W],T)for(ie=D[ge],j=D[ge+1],ee=ie;ee<j;ee++)de=A[ee],Y[de]!==Z?(Y[de]=Z,V.push(de),se[de]=q(M[W],C[ee])):se[de]=I(se[de],q(M[W],C[ee]));else for(ie=D[ge],j=D[ge+1],ee=ie;ee<j;ee++)de=A[ee],Y[de]!==Z&&(Y[de]=Z,V.push(de));if(T)for(var fe=L[U],Q=V.length,re=fe;re<Q;re++){var ue=V[re];X[re]=se[ue]}}return L[N]=V.length,ne}return e(dN,i,{"Array, Array":e.referTo("Matrix, Matrix",x=>(b,C)=>{u(mt(b),mt(C));var A=x(n(b),n(C));return Je(A)?A.valueOf():A}),"Matrix, Matrix":function(b,C){var A=b.size(),D=C.size();return u(A,D),A.length===1?D.length===1?c(b,C,A[0]):f(b,C):D.length===1?h(b,C):p(b,C)},"Matrix, Array":e.referTo("Matrix,Matrix",x=>(b,C)=>x(b,n(C))),"Array, Matrix":e.referToSelf(x=>(b,C)=>x(n(b,C.storage()),C)),"SparseMatrix, any":function(b,C){return s(b,C,i,!1)},"DenseMatrix, any":function(b,C){return l(b,C,i,!1)},"any, SparseMatrix":function(b,C){return s(C,b,i,!0)},"any, DenseMatrix":function(b,C){return l(C,b,i,!0)},"Array, any":function(b,C){return l(n(b),C,i,!1).valueOf()},"any, Array":function(b,C){return l(n(C),b,i,!0).valueOf()},"any, any":i,"any, any, ...any":e.referToSelf(x=>(b,C,A)=>{for(var D=x(b,C),E=0;E<A.length;E++)D=x(D,A[E]);return D})})}),hN="nthRoot",she=["typed","matrix","equalScalar","BigNumber","concat"],lhe=K(hN,she,t=>{var{typed:e,matrix:n,equalScalar:r,BigNumber:i,concat:o}=t,a=Ks({typed:e}),s=No({typed:e,equalScalar:r}),l=Wv({typed:e,equalScalar:r}),u=fr({typed:e,equalScalar:r}),c=rn({typed:e,matrix:n,concat:o});function f(){throw new Error("Complex number not supported in function nthRoot. Use nthRoots instead.")}return e(hN,{number:IM,"number, number":IM,BigNumber:h=>d(h,new i(2)),"BigNumber, BigNumber":d,Complex:f,"Complex, number":f,Array:e.referTo("DenseMatrix,number",h=>p=>h(n(p),2).valueOf()),DenseMatrix:e.referTo("DenseMatrix,number",h=>p=>h(p,2)),SparseMatrix:e.referTo("SparseMatrix,number",h=>p=>h(p,2)),"SparseMatrix, SparseMatrix":e.referToSelf(h=>(p,m)=>{if(m.density()===1)return l(p,m,h);throw new Error("Root must be non-zero")}),"DenseMatrix, SparseMatrix":e.referToSelf(h=>(p,m)=>{if(m.density()===1)return a(p,m,h,!1);throw new Error("Root must be non-zero")}),"Array, SparseMatrix":e.referTo("DenseMatrix,SparseMatrix",h=>(p,m)=>h(n(p),m)),"number | BigNumber, SparseMatrix":e.referToSelf(h=>(p,m)=>{if(m.density()===1)return u(m,p,h,!0);throw new Error("Root must be non-zero")})},c({scalar:"number | BigNumber",SD:s,Ss:u,sS:!1}));function d(h,p){var m=i.precision,v=i.clone({precision:m+2}),g=new i(0),w=new v(1),y=p.isNegative();if(y&&(p=p.neg()),p.isZero())throw new Error("Root must be non-zero");if(h.isNegative()&&!p.abs().mod(2).equals(1))throw new Error("Root must be odd when a is negative.");if(h.isZero())return y?new v(1/0):0;if(!h.isFinite())return y?g:h;var S=h.abs().pow(w.div(p));return S=h.isNeg()?S.neg():S,new i((y?w.div(S):S).toPrecision(m))}}),pN="sign",uhe=["typed","BigNumber","Fraction","complex"],che=K(pN,uhe,t=>{var{typed:e,BigNumber:n,complex:r,Fraction:i}=t;return e(pN,{number:X1,Complex:function(a){return a.im===0?r(X1(a.re)):a.sign()},BigNumber:function(a){return new n(a.cmp(0))},Fraction:function(a){return new i(a.s,1)},"Array | Matrix":e.referToSelf(o=>a=>At(a,o)),Unit:e.referToSelf(o=>a=>{if(!a._isDerived()&&a.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return e.find(o,a.valueType())(a.value)})})}),fhe="sqrt",dhe=["config","typed","Complex"],hhe=K(fhe,dhe,t=>{var{config:e,typed:n,Complex:r}=t;return n("sqrt",{number:i,Complex:function(a){return a.sqrt()},BigNumber:function(a){return!a.isNegative()||e.predictable?a.sqrt():i(a.toNumber())},Unit:function(a){return a.pow(.5)}});function i(o){return isNaN(o)?NaN:o>=0||e.predictable?Math.sqrt(o):new r(o,0).sqrt()}}),mN="square",phe=["typed"],mhe=K(mN,phe,t=>{var{typed:e}=t;return e(mN,{number:P5,Complex:function(r){return r.mul(r)},BigNumber:function(r){return r.times(r)},Fraction:function(r){return r.mul(r)},Unit:function(r){return r.pow(2)}})}),gN="subtract",ghe=["typed","matrix","equalScalar","subtractScalar","unaryMinus","DenseMatrix","concat"],vhe=K(gN,ghe,t=>{var{typed:e,matrix:n,equalScalar:r,subtractScalar:i,unaryMinus:o,DenseMatrix:a,concat:s}=t,l=Ks({typed:e}),u=qr({typed:e}),c=qv({typed:e,equalScalar:r}),f=Gl({typed:e,DenseMatrix:a}),d=Xn({typed:e,DenseMatrix:a}),h=rn({typed:e,matrix:n,concat:s});return e(gN,{"any, any":i},h({elop:i,SS:c,DS:l,SD:u,Ss:d,sS:f}))}),vN="xgcd",yhe=["typed","config","matrix","BigNumber"],bhe=K(vN,yhe,t=>{var{typed:e,config:n,matrix:r,BigNumber:i}=t;return e(vN,{"number, number":function(s,l){var u=k5(s,l);return n.matrix==="Array"?u:r(u)},"BigNumber, BigNumber":o});function o(a,s){var l,u,c,f=new i(0),d=new i(1),h=f,p=d,m=d,v=f;if(!a.isInt()||!s.isInt())throw new Error("Parameters in function xgcd must be integer numbers");for(;!s.isZero();)u=a.div(s).floor(),c=a.mod(s),l=h,h=p.minus(u.times(h)),p=l,l=m,m=v.minus(u.times(m)),v=l,a=s,s=c;var g;return a.lt(f)?g=[a.neg(),p.neg(),v.neg()]:g=[a,a.isZero()?0:p,v],n.matrix==="Array"?g:r(g)}}),yN="invmod",xhe=["typed","config","BigNumber","xgcd","equal","smaller","mod","add","isInteger"],whe=K(yN,xhe,t=>{var{typed:e,config:n,BigNumber:r,xgcd:i,equal:o,smaller:a,mod:s,add:l,isInteger:u}=t;return e(yN,{"number, number":c,"BigNumber, BigNumber":c});function c(f,d){if(!u(f)||!u(d))throw new Error("Parameters in function invmod must be integer numbers");if(f=s(f,d),o(d,0))throw new Error("Divisor must be non zero");var h=i(f,d);h=h.valueOf();var[p,m]=h;return o(p,r(1))?(m=s(m,d),a(m,r(0))&&(m=l(m,d)),m):NaN}}),She="matAlgo09xS0Sf",Che=["typed","equalScalar"],b_=K(She,Che,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype,d=o._values,h=o._index,p=o._ptr,m=o._size,v=o._datatype;if(c.length!==m.length)throw new St(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");var g=c[0],w=c[1],y,S=n,x=0,b=a;typeof f=="string"&&f===v&&(y=f,S=e.find(n,[y,y]),x=e.convert(0,y),b=e.find(a,[y,y]));var C=s&&d?[]:void 0,A=[],D=[],E=C?[]:void 0,M=[],B,P,F,$,N;for(P=0;P<w;P++){D[P]=A.length;var T=P+1;if(E)for($=p[P],N=p[P+1],F=$;F<N;F++)B=h[F],M[B]=T,E[B]=d[F];for($=u[P],N=u[P+1],F=$;F<N;F++)if(B=l[F],E){var z=M[B]===T?E[B]:x,I=b(s[F],z);S(I,x)||(A.push(B),C.push(I))}else A.push(B)}return D[w]=A.length,i.createSparseMatrix({values:C,index:A,ptr:D,size:[g,w],datatype:y})}}),bN="dotMultiply",Ahe=["typed","matrix","equalScalar","multiplyScalar","concat"],Dhe=K(bN,Ahe,t=>{var{typed:e,matrix:n,equalScalar:r,multiplyScalar:i,concat:o}=t,a=No({typed:e,equalScalar:r}),s=b_({typed:e,equalScalar:r}),l=fr({typed:e,equalScalar:r}),u=rn({typed:e,matrix:n,concat:o});return e(bN,u({elop:i,SS:s,DS:a,Ss:l}))});function Ehe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitAnd");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero()||e.eq(-1)||t.eq(e))return t;if(e.isZero()||t.eq(-1))return e;if(!t.isFinite()||!e.isFinite()){if(!t.isFinite()&&!e.isFinite())return t.isNegative()===e.isNegative()?t:new n(0);if(!t.isFinite())return e.isNegative()?t:t.isNegative()?new n(0):e;if(!e.isFinite())return t.isNegative()?e:e.isNegative()?new n(0):t}return $S(t,e,function(r,i){return r&i})}function Ld(t){if(t.isFinite()&&!t.isInteger())throw new Error("Integer expected in function bitNot");var e=t.constructor,n=e.precision;e.config({precision:1e9});var r=t.plus(new e(1));return r.s=-r.s||null,e.config({precision:n}),r}function Mhe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitOr");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);var r=new n(-1);return t.isZero()||e.eq(r)||t.eq(e)?e:e.isZero()||t.eq(r)?t:!t.isFinite()||!e.isFinite()?!t.isFinite()&&!t.isNegative()&&e.isNegative()||t.isNegative()&&!e.isNegative()&&!e.isFinite()?r:t.isNegative()&&e.isNegative()?t.isFinite()?t:e:t.isFinite()?e:t:$S(t,e,function(i,o){return i|o})}function $S(t,e,n){var r=t.constructor,i,o,a=+(t.s<0),s=+(e.s<0);if(a){i=vp(Ld(t));for(var l=0;l<i.length;++l)i[l]^=1}else i=vp(t);if(s){o=vp(Ld(e));for(var u=0;u<o.length;++u)o[u]^=1}else o=vp(e);var c,f,d;i.length<=o.length?(c=i,f=o,d=a):(c=o,f=i,d=s);var h=c.length,p=f.length,m=n(a,s)^1,v=new r(m^1),g=new r(1),w=new r(2),y=r.precision;for(r.config({precision:1e9});h>0;)n(c[--h],f[--p])===m&&(v=v.plus(g)),g=g.times(w);for(;p>0;)n(d,f[--p])===m&&(v=v.plus(g)),g=g.times(w);return r.config({precision:y}),m===0&&(v.s=-v.s),v}function vp(t){for(var e=t.d,n=e[0]+"",r=1;r<e.length;++r){for(var i=e[r]+"",o=7-i.length;o--;)i="0"+i;n+=i}for(var a=n.length;n.charAt(a)==="0";)a--;var s=t.e,l=n.slice(0,a+1||1),u=l.length;if(s>0)if(++s>u)for(s-=u;s--;)l+="0";else s<u&&(l=l.slice(0,s)+"."+l.slice(s));for(var c=[0],f=0;f<l.length;){for(var d=c.length;d--;)c[d]*=10;c[0]+=parseInt(l.charAt(f++));for(var h=0;h<c.length;++h)c[h]>1&&((c[h+1]===null||c[h+1]===void 0)&&(c[h+1]=0),c[h+1]+=c[h]>>1,c[h]&=1)}return c.reverse()}function Nhe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function bitXor");var n=t.constructor;if(t.isNaN()||e.isNaN())return new n(NaN);if(t.isZero())return e;if(e.isZero())return t;if(t.eq(e))return new n(0);var r=new n(-1);return t.eq(r)?Ld(e):e.eq(r)?Ld(t):!t.isFinite()||!e.isFinite()?!t.isFinite()&&!e.isFinite()?r:new n(t.isNegative()===e.isNegative()?1/0:-1/0):$S(t,e,function(i,o){return i^o})}function $he(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function leftShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:!t.isFinite()&&!e.isFinite()?new n(NaN):e.lt(55)?t.times(Math.pow(2,e.toNumber())+""):t.times(new n(2).pow(e))}function Ohe(t,e){if(t.isFinite()&&!t.isInteger()||e.isFinite()&&!e.isInteger())throw new Error("Integers expected in function rightArithShift");var n=t.constructor;return t.isNaN()||e.isNaN()||e.isNegative()&&!e.isZero()?new n(NaN):t.isZero()||e.isZero()?t:e.isFinite()?e.lt(55)?t.div(Math.pow(2,e.toNumber())+"").floor():t.div(new n(2).pow(e)).floor():t.isNegative()?new n(-1):t.isFinite()?new n(0):new n(NaN)}var xN="bitAnd",The=["typed","matrix","equalScalar","concat"],x_=K(xN,The,t=>{var{typed:e,matrix:n,equalScalar:r,concat:i}=t,o=No({typed:e,equalScalar:r}),a=Wv({typed:e,equalScalar:r}),s=fr({typed:e,equalScalar:r}),l=rn({typed:e,matrix:n,concat:i});return e(xN,{"number, number":R5,"BigNumber, BigNumber":Ehe},l({SS:a,DS:o,Ss:s}))}),wN="bitNot",Bhe=["typed"],Ihe=K(wN,Bhe,t=>{var{typed:e}=t;return e(wN,{number:_5,BigNumber:Ld,"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),SN="bitOr",Phe=["typed","matrix","equalScalar","DenseMatrix","concat"],w_=K(SN,Phe,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=Ks({typed:e}),s=NS({typed:e,equalScalar:r}),l=Gl({typed:e,DenseMatrix:i}),u=rn({typed:e,matrix:n,concat:o});return e(SN,{"number, number":z5,"BigNumber, BigNumber":Mhe},u({SS:s,DS:a,Ss:l}))}),khe="matAlgo07xSSf",Fhe=["typed","DenseMatrix"],ca=K(khe,Fhe,t=>{var{typed:e,DenseMatrix:n}=t;return function(o,a,s){var l=o._size,u=o._datatype,c=a._size,f=a._datatype;if(l.length!==c.length)throw new St(l.length,c.length);if(l[0]!==c[0]||l[1]!==c[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+c+")");var d=l[0],h=l[1],p,m=0,v=s;typeof u=="string"&&u===f&&(p=u,m=e.convert(0,p),v=e.find(s,[p,p]));var g,w,y=[];for(g=0;g<d;g++)y[g]=[];var S=[],x=[],b=[],C=[];for(w=0;w<h;w++){var A=w+1;for(r(o,w,b,S,A),r(a,w,C,x,A),g=0;g<d;g++){var D=b[g]===A?S[g]:m,E=C[g]===A?x[g]:m;y[g][w]=v(D,E)}}return new n({data:y,size:[d,h],datatype:p})};function r(i,o,a,s,l){for(var u=i._values,c=i._index,f=i._ptr,d=f[o],h=f[o+1];d<h;d++){var p=c[d];a[p]=l,s[p]=u[d]}}}),CN="bitXor",Rhe=["typed","matrix","DenseMatrix","concat"],_he=K(CN,Rhe,t=>{var{typed:e,matrix:n,DenseMatrix:r,concat:i}=t,o=qr({typed:e}),a=ca({typed:e,DenseMatrix:r}),s=Xn({typed:e,DenseMatrix:r}),l=rn({typed:e,matrix:n,concat:i});return e(CN,{"number, number":L5,"BigNumber, BigNumber":Nhe},l({SS:a,DS:o,Ss:s}))}),AN="arg",zhe=["typed"],Lhe=K(AN,zhe,t=>{var{typed:e}=t;return e(AN,{number:function(r){return Math.atan2(0,r)},BigNumber:function(r){return r.constructor.atan2(0,r)},Complex:function(r){return r.arg()},"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),DN="conj",Hhe=["typed"],Vhe=K(DN,Hhe,t=>{var{typed:e}=t;return e(DN,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.conjugate(),"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),EN="im",Uhe=["typed"],qhe=K(EN,Uhe,t=>{var{typed:e}=t;return e(EN,{number:()=>0,"BigNumber | Fraction":n=>n.mul(0),Complex:n=>n.im,"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),MN="re",Whe=["typed"],jhe=K(MN,Whe,t=>{var{typed:e}=t;return e(MN,{"number | BigNumber | Fraction":n=>n,Complex:n=>n.re,"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),NN="not",Ghe=["typed"],Xhe=K(NN,Ghe,t=>{var{typed:e}=t;return e(NN,{"null | undefined":()=>!0,number:W5,Complex:function(r){return r.re===0&&r.im===0},BigNumber:function(r){return r.isZero()||r.isNaN()},Unit:e.referToSelf(n=>r=>e.find(n,r.valueType())(r.value)),"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),$N="or",Khe=["typed","matrix","equalScalar","DenseMatrix","concat"],S_=K($N,Khe,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=qr({typed:e}),s=qv({typed:e,equalScalar:r}),l=Xn({typed:e,DenseMatrix:i}),u=rn({typed:e,matrix:n,concat:o});return e($N,{"number, number":j5,"Complex, Complex":function(f,d){return f.re!==0||f.im!==0||d.re!==0||d.im!==0},"BigNumber, BigNumber":function(f,d){return!f.isZero()&&!f.isNaN()||!d.isZero()&&!d.isNaN()},"Unit, Unit":e.referToSelf(c=>(f,d)=>c(f.value||0,d.value||0))},u({SS:s,DS:a,Ss:l}))}),ON="xor",Yhe=["typed","matrix","DenseMatrix","concat"],Zhe=K(ON,Yhe,t=>{var{typed:e,matrix:n,DenseMatrix:r,concat:i}=t,o=qr({typed:e}),a=ca({typed:e,DenseMatrix:r}),s=Xn({typed:e,DenseMatrix:r}),l=rn({typed:e,matrix:n,concat:i});return e(ON,{"number, number":G5,"Complex, Complex":function(c,f){return(c.re!==0||c.im!==0)!=(f.re!==0||f.im!==0)},"BigNumber, BigNumber":function(c,f){return(!c.isZero()&&!c.isNaN())!=(!f.isZero()&&!f.isNaN())},"Unit, Unit":e.referToSelf(u=>(c,f)=>u(c.value||0,f.value||0))},l({SS:a,DS:o,Ss:s}))}),TN="concat",Qhe=["typed","matrix","isInteger"],C_=K(TN,Qhe,t=>{var{typed:e,matrix:n,isInteger:r}=t;return e(TN,{"...Array | Matrix | number | BigNumber":function(o){var a,s=o.length,l=-1,u,c=!1,f=[];for(a=0;a<s;a++){var d=o[a];if(Je(d)&&(c=!0),wt(d)||Et(d)){if(a!==s-1)throw new Error("Dimension must be specified as last argument");if(u=l,l=d.valueOf(),!r(l))throw new TypeError("Integer number expected for dimension");if(l<0||a>0&&l>u)throw new Do(l,u+1)}else{var h=ct(d).valueOf(),p=mt(h);if(f[a]=h,u=l,l=p.length-1,a>0&&l!==u)throw new St(u+1,l+1)}}if(f.length===0)throw new SyntaxError("At least one matrix expected");for(var m=f.shift();f.length;)m=r5(m,f.shift(),l);return c?n(m):m},"...string":function(o){return o.join("")}})}),BN="column",Jhe=["typed","Index","matrix","range"],A_=K(BN,Jhe,t=>{var{typed:e,Index:n,matrix:r,range:i}=t;return e(BN,{"Matrix, number":o,"Array, number":function(s,l){return o(r(ct(s)),l).valueOf()}});function o(a,s){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");Yt(s,a.size()[1]);var l=i(0,a.size()[0]),u=new n(l,s),c=a.subset(u);return Je(c)?c:r([[c]])}}),IN="count",epe=["typed","size","prod"],tpe=K(IN,epe,t=>{var{typed:e,size:n,prod:r}=t;return e(IN,{string:function(o){return o.length},"Matrix | Array":function(o){return r(n(o))}})}),PN="cross",npe=["typed","matrix","subtract","multiply"],rpe=K(PN,npe,t=>{var{typed:e,matrix:n,subtract:r,multiply:i}=t;return e(PN,{"Matrix, Matrix":function(s,l){return n(o(s.toArray(),l.toArray()))},"Matrix, Array":function(s,l){return n(o(s.toArray(),l))},"Array, Matrix":function(s,l){return n(o(s,l.toArray()))},"Array, Array":o});function o(a,s){var l=Math.max(mt(a).length,mt(s).length);a=mg(a),s=mg(s);var u=mt(a),c=mt(s);if(u.length!==1||c.length!==1||u[0]!==3||c[0]!==3)throw new RangeError("Vectors with length 3 expected (Size A = ["+u.join(", ")+"], B = ["+c.join(", ")+"])");var f=[r(i(a[1],s[2]),i(a[2],s[1])),r(i(a[2],s[0]),i(a[0],s[2])),r(i(a[0],s[1]),i(a[1],s[0]))];return l>1?[f]:f}}),kN="diag",ipe=["typed","matrix","DenseMatrix","SparseMatrix"],ope=K(kN,ipe,t=>{var{typed:e,matrix:n,DenseMatrix:r,SparseMatrix:i}=t;return e(kN,{Array:function(u){return o(u,0,mt(u),null)},"Array, number":function(u,c){return o(u,c,mt(u),null)},"Array, BigNumber":function(u,c){return o(u,c.toNumber(),mt(u),null)},"Array, string":function(u,c){return o(u,0,mt(u),c)},"Array, number, string":function(u,c,f){return o(u,c,mt(u),f)},"Array, BigNumber, string":function(u,c,f){return o(u,c.toNumber(),mt(u),f)},Matrix:function(u){return o(u,0,u.size(),u.storage())},"Matrix, number":function(u,c){return o(u,c,u.size(),u.storage())},"Matrix, BigNumber":function(u,c){return o(u,c.toNumber(),u.size(),u.storage())},"Matrix, string":function(u,c){return o(u,0,u.size(),c)},"Matrix, number, string":function(u,c,f){return o(u,c,u.size(),f)},"Matrix, BigNumber, string":function(u,c,f){return o(u,c.toNumber(),u.size(),f)}});function o(l,u,c,f){if(!Ge(u))throw new TypeError("Second parameter in function diag must be an integer");var d=u>0?u:0,h=u<0?-u:0;switch(c.length){case 1:return a(l,u,f,c[0],h,d);case 2:return s(l,u,f,c,h,d)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function a(l,u,c,f,d,h){var p=[f+d,f+h];if(c&&c!=="sparse"&&c!=="dense")throw new TypeError("Unknown matrix type ".concat(c,'"'));var m=c==="sparse"?i.diagonal(p,l,u):r.diagonal(p,l,u);return c!==null?m:m.valueOf()}function s(l,u,c,f,d,h){if(Je(l)){var p=l.diagonal(u);return c!==null?c!==p.storage()?n(p,c):p:p.valueOf()}for(var m=Math.min(f[0]-d,f[1]-h),v=[],g=0;g<m;g++)v[g]=l[g+d][g+h];return c!==null?n(v):v}});function Yc(t,e,n,r,i){if(Bu.isTypedFunction(t)){var o=[e,n,r],a=Bu.resolve(t,o);if(a)return f(a.implementation,o);var s=[e,n],l=Bu.resolve(t,s);if(l)return f(l.implementation,s);var u=[e],c=Bu.resolve(t,u);return c?f(c.implementation,u):f(t,o)}else return t(e,n,r);function f(d,h){try{return d.apply(d,h)}catch(v){var p;if(v instanceof TypeError&&((p=v.data)===null||p===void 0?void 0:p.category)==="wrongType"){var m=[];throw m.push("value: ".concat(en(e))),h.length>=2&&m.push("index: ".concat(en(n))),h.length>=3&&m.push("array: ".concat(en(r))),new TypeError("Function ".concat(i," cannot apply callback arguments ")+"".concat(t.name,"(").concat(m.join(", "),") at index ").concat(JSON.stringify(n)))}else throw new TypeError("Function ".concat(i," cannot apply callback arguments ")+"to function ".concat(t.name,": ").concat(v.message))}}}var ape="filter",spe=["typed"],lpe=K(ape,spe,t=>{var{typed:e}=t;return e("filter",{"Array, function":FN,"Matrix, function":function(r,i){return r.create(FN(r.toArray(),i))},"Array, RegExp":gg,"Matrix, RegExp":function(r,i){return r.create(gg(r.toArray(),i))}})});function FN(t,e){return t5(t,function(n,r,i){return Yc(e,n,[r],i,"filter")})}var RN="flatten",upe=["typed","matrix"],cpe=K(RN,upe,t=>{var{typed:e,matrix:n}=t;return e(RN,{Array:function(i){return kt(i)},Matrix:function(i){var o=kt(i.toArray());return n(o)}})}),_N="forEach",fpe=["typed"],dpe=K(_N,fpe,t=>{var{typed:e}=t;return e(_N,{"Array, function":hpe,"Matrix, function":function(r,i){r.forEach(i)}})});function hpe(t,e){var n=function r(i,o){if(Array.isArray(i))_v(i,function(a,s){r(a,o.concat(s))});else return Yc(e,i,o,t,"forEach")};n(t,[])}var zN="getMatrixDataType",ppe=["typed"],mpe=K(zN,ppe,t=>{var{typed:e}=t;return e(zN,{Array:function(r){return _d(r,en)},Matrix:function(r){return r.getDataType()}})}),LN="identity",gpe=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],vpe=K(LN,gpe,t=>{var{typed:e,config:n,matrix:r,BigNumber:i,DenseMatrix:o,SparseMatrix:a}=t;return e(LN,{"":function(){return n.matrix==="Matrix"?r([]):[]},string:function(c){return r(c)},"number | BigNumber":function(c){return l(c,c,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(c,f){return l(c,c,f)},"number | BigNumber, number | BigNumber":function(c,f){return l(c,f,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(c,f,d){return l(c,f,d)},Array:function(c){return s(c)},"Array, string":function(c,f){return s(c,f)},Matrix:function(c){return s(c.valueOf(),c.storage())},"Matrix, string":function(c,f){return s(c.valueOf(),f)}});function s(u,c){switch(u.length){case 0:return c?r(c):[];case 1:return l(u[0],u[0],c);case 2:return l(u[0],u[1],c);default:throw new Error("Vector containing two values expected")}}function l(u,c,f){var d=Et(u)||Et(c)?i:null;if(Et(u)&&(u=u.toNumber()),Et(c)&&(c=c.toNumber()),!Ge(u)||u<1)throw new Error("Parameters in function identity must be positive integers");if(!Ge(c)||c<1)throw new Error("Parameters in function identity must be positive integers");var h=d?new i(1):1,p=d?new d(0):0,m=[u,c];if(f){if(f==="sparse")return a.diagonal(m,h,0,p);if(f==="dense")return o.diagonal(m,h,0,p);throw new TypeError('Unknown matrix type "'.concat(f,'"'))}for(var v=Cc([],m,p),g=u<c?u:c,w=0;w<g;w++)v[w][w]=h;return v}}),HN="kron",ype=["typed","matrix","multiplyScalar"],bpe=K(HN,ype,t=>{var{typed:e,matrix:n,multiplyScalar:r}=t;return e(HN,{"Matrix, Matrix":function(a,s){return n(i(a.toArray(),s.toArray()))},"Matrix, Array":function(a,s){return n(i(a.toArray(),s))},"Array, Matrix":function(a,s){return n(i(a,s.toArray()))},"Array, Array":i});function i(o,a){if(mt(o).length===1&&(o=[o]),mt(a).length===1&&(a=[a]),mt(o).length>2||mt(a).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(o.length)+", y = "+JSON.stringify(a.length)+")");var s=[],l=[];return o.map(function(u){return a.map(function(c){return l=[],s.push(l),u.map(function(f){return c.map(function(d){return l.push(r(f,d))})})})})&&s}}),VN="map",xpe=["typed"],wpe=K(VN,xpe,t=>{var{typed:e}=t;return e(VN,{"Array, function":Spe,"Matrix, function":function(r,i){return r.map(i)}})});function Spe(t,e){var n=function r(i,o){return Array.isArray(i)?i.map(function(a,s){return r(a,o.concat(s))}):Yc(e,i,o,t,"map")};return n(t,[])}var UN="diff",Cpe=["typed","matrix","subtract","number"],D_=K(UN,Cpe,t=>{var{typed:e,matrix:n,subtract:r,number:i}=t;return e(UN,{"Array | Matrix":function(c){return Je(c)?n(a(c.toArray())):a(c)},"Array | Matrix, number":function(c,f){if(!Ge(f))throw new RangeError("Dimension must be a whole number");return Je(c)?n(o(c.toArray(),f)):o(c,f)},"Array, BigNumber":e.referTo("Array,number",u=>(c,f)=>u(c,i(f))),"Matrix, BigNumber":e.referTo("Matrix,number",u=>(c,f)=>u(c,i(f)))});function o(u,c){if(Je(u)&&(u=u.toArray()),!Array.isArray(u))throw RangeError("Array/Matrix does not have that many dimensions");if(c>0){var f=[];return u.forEach(d=>{f.push(o(d,c-1))}),f}else{if(c===0)return a(u);throw RangeError("Cannot have negative dimension")}}function a(u){for(var c=[],f=u.length,d=1;d<f;d++)c.push(s(u[d-1],u[d]));return c}function s(u,c){Je(u)&&(u=u.toArray()),Je(c)&&(c=c.toArray());var f=Array.isArray(u),d=Array.isArray(c);if(f&&d)return l(u,c);if(!f&&!d)return r(c,u);throw TypeError("Cannot calculate difference between 1 array and 1 non-array")}function l(u,c){if(u.length!==c.length)throw RangeError("Not all sub-arrays have the same length");for(var f=[],d=u.length,h=0;h<d;h++)f.push(s(u[h],c[h]));return f}}),Ape="ones",Dpe=["typed","config","matrix","BigNumber"],Epe=K(Ape,Dpe,t=>{var{typed:e,config:n,matrix:r,BigNumber:i}=t;return e("ones",{"":function(){return n.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return o(u,f)}else return n.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var c=u.storage();return o(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return o(u.valueOf(),c)}});function o(l,u){var c=a(l),f=c?new i(1):1;if(s(l),u){var d=r(u);return l.length>0?d.resize(l,f):d}else{var h=[];return l.length>0?Cc(h,l,f):h}}function a(l){var u=!1;return l.forEach(function(c,f,d){Et(c)&&(u=!0,d[f]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Ge(u)||u<0)throw new Error("Parameters in function ones must be positive integers")})}});function OS(){throw new Error('No "bignumber" implementation available')}function E_(){throw new Error('No "fraction" implementation available')}function M_(){throw new Error('No "matrix" implementation available')}var qN="range",Mpe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],N_=K(qN,Mpe,t=>{var{typed:e,config:n,matrix:r,bignumber:i,smaller:o,smallerEq:a,larger:s,largerEq:l,add:u,isPositive:c}=t;return e(qN,{string:d,"string, boolean":d,"number, number":function(v,g){return f(h(v,g,1,!1))},"number, number, number":function(v,g,w){return f(h(v,g,w,!1))},"number, number, boolean":function(v,g,w){return f(h(v,g,1,w))},"number, number, number, boolean":function(v,g,w,y){return f(h(v,g,w,y))},"BigNumber, BigNumber":function(v,g){var w=v.constructor;return f(h(v,g,new w(1),!1))},"BigNumber, BigNumber, BigNumber":function(v,g,w){return f(h(v,g,w,!1))},"BigNumber, BigNumber, boolean":function(v,g,w){var y=v.constructor;return f(h(v,g,new y(1),w))},"BigNumber, BigNumber, BigNumber, boolean":function(v,g,w,y){return f(h(v,g,w,y))},"Unit, Unit, Unit":function(v,g,w){return f(h(v,g,w,!1))},"Unit, Unit, Unit, boolean":function(v,g,w,y){return f(h(v,g,w,y))}});function f(m){return n.matrix==="Matrix"?r?r(m):M_():m}function d(m,v){var g=p(m);if(!g)throw new SyntaxError('String "'+m+'" is no valid range');return n.number==="BigNumber"?(i===void 0&&OS(),f(h(i(g.start),i(g.end),i(g.step)))):f(h(g.start,g.end,g.step,v))}function h(m,v,g,w){for(var y=[],S=c(g)?w?a:o:w?l:s,x=m;S(x,v);)y.push(x),x=u(x,g);return y}function p(m){var v=m.split(":"),g=v.map(function(y){return Number(y)}),w=g.some(function(y){return isNaN(y)});if(w)return null;switch(g.length){case 2:return{start:g[0],end:g[1],step:1};case 3:return{start:g[0],end:g[2],step:g[1]};default:return null}}}),WN="reshape",Npe=["typed","isInteger","matrix"],$pe=K(WN,Npe,t=>{var{typed:e,isInteger:n}=t;return e(WN,{"Matrix, Array":function(i,o){return i.reshape(o,!0)},"Array, Array":function(i,o){return o.forEach(function(a){if(!n(a))throw new TypeError("Invalid size for dimension: "+a)}),xS(i,o)}})}),Ope="resize",Tpe=["config","matrix"],Bpe=K(Ope,Tpe,t=>{var{config:e,matrix:n}=t;return function(o,a,s){if(arguments.length!==2&&arguments.length!==3)throw new Xl("resize",arguments.length,2,3);if(Je(a)&&(a=a.valueOf()),Et(a[0])&&(a=a.map(function(c){return Et(c)?c.toNumber():c})),Je(o))return o.resize(a,s,!0);if(typeof o=="string")return r(o,a,s);var l=Array.isArray(o)?!1:e.matrix!=="Array";if(a.length===0){for(;Array.isArray(o);)o=o[0];return ct(o)}else{Array.isArray(o)||(o=[o]),o=ct(o);var u=Cc(o,a,s);return l?n(u):u}};function r(i,o,a){if(a!==void 0){if(typeof a!="string"||a.length!==1)throw new TypeError("Single character expected as defaultValue")}else a=" ";if(o.length!==1)throw new St(o.length,1);var s=o[0];if(typeof s!="number"||!Ge(s))throw new TypeError("Invalid size, must contain positive integers (size: "+xt(o)+")");if(i.length>s)return i.substring(0,s);if(i.length<s){for(var l=i,u=0,c=s-i.length;u<c;u++)l+=a;return l}else return i}}),jN="rotate",Ipe=["typed","multiply","rotationMatrix"],Ppe=K(jN,Ipe,t=>{var{typed:e,multiply:n,rotationMatrix:r}=t;return e(jN,{"Array , number | BigNumber | Complex | Unit":function(a,s){i(a,2);var l=n(r(s),a);return l.toArray()},"Matrix , number | BigNumber | Complex | Unit":function(a,s){return i(a,2),n(r(s),a)},"Array, number | BigNumber | Complex | Unit, Array | Matrix":function(a,s,l){i(a,3);var u=n(r(s,l),a);return u},"Matrix, number | BigNumber | Complex | Unit, Array | Matrix":function(a,s,l){return i(a,3),n(r(s,l),a)}});function i(o,a){var s=Array.isArray(o)?mt(o):o.size();if(s.length>2)throw new RangeError("Vector must be of dimensions 1x".concat(a));if(s.length===2&&s[1]!==1)throw new RangeError("Vector must be of dimensions 1x".concat(a));if(s[0]!==a)throw new RangeError("Vector must be of dimensions 1x".concat(a))}}),GN="rotationMatrix",kpe=["typed","config","multiplyScalar","addScalar","unaryMinus","norm","matrix","BigNumber","DenseMatrix","SparseMatrix","cos","sin"],Fpe=K(GN,kpe,t=>{var{typed:e,config:n,multiplyScalar:r,addScalar:i,unaryMinus:o,norm:a,BigNumber:s,matrix:l,DenseMatrix:u,SparseMatrix:c,cos:f,sin:d}=t;return e(GN,{"":function(){return n.matrix==="Matrix"?l([]):[]},string:function(y){return l(y)},"number | BigNumber | Complex | Unit":function(y){return h(y,n.matrix==="Matrix"?"dense":void 0)},"number | BigNumber | Complex | Unit, string":function(y,S){return h(y,S)},"number | BigNumber | Complex | Unit, Array":function(y,S){var x=l(S);return p(x),g(y,x,void 0)},"number | BigNumber | Complex | Unit, Matrix":function(y,S){p(S);var x=S.storage()||(n.matrix==="Matrix"?"dense":void 0);return g(y,S,x)},"number | BigNumber | Complex | Unit, Array, string":function(y,S,x){var b=l(S);return p(b),g(y,b,x)},"number | BigNumber | Complex | Unit, Matrix, string":function(y,S,x){return p(S),g(y,S,x)}});function h(w,y){var S=Et(w),x=S?new s(-1):-1,b=f(w),C=d(w),A=[[b,r(x,C)],[C,b]];return v(A,y)}function p(w){var y=w.size();if(y.length<1||y[0]!==3)throw new RangeError("Vector must be of dimensions 1x3")}function m(w){return w.reduce((y,S)=>r(y,S))}function v(w,y){if(y){if(y==="sparse")return new c(w);if(y==="dense")return new u(w);throw new TypeError('Unknown matrix type "'.concat(y,'"'))}return w}function g(w,y,S){var x=a(y);if(x===0)throw new RangeError("Rotation around zero vector");var b=Et(w)?s:null,C=b?new b(1):1,A=b?new b(-1):-1,D=b?new b(y.get([0])/x):y.get([0])/x,E=b?new b(y.get([1])/x):y.get([1])/x,M=b?new b(y.get([2])/x):y.get([2])/x,B=f(w),P=i(C,o(B)),F=d(w),$=i(B,m([D,D,P])),N=i(m([D,E,P]),m([A,M,F])),T=i(m([D,M,P]),m([E,F])),z=i(m([D,E,P]),m([M,F])),I=i(B,m([E,E,P])),q=i(m([E,M,P]),m([A,D,F])),X=i(m([D,M,P]),m([A,E,F])),V=i(m([E,M,P]),m([D,F])),L=i(B,m([M,M,P])),ne=[[$,N,T],[z,I,q],[X,V,L]];return v(ne,S)}}),XN="row",Rpe=["typed","Index","matrix","range"],$_=K(XN,Rpe,t=>{var{typed:e,Index:n,matrix:r,range:i}=t;return e(XN,{"Matrix, number":o,"Array, number":function(s,l){return o(r(ct(s)),l).valueOf()}});function o(a,s){if(a.size().length!==2)throw new Error("Only two dimensional matrix is supported");Yt(s,a.size()[0]);var l=i(0,a.size()[1]),u=new n(s,l),c=a.subset(u);return Je(c)?c:r([[c]])}}),KN="size",_pe=["typed","config","?matrix"],zpe=K(KN,_pe,t=>{var{typed:e,config:n,matrix:r}=t;return e(KN,{Matrix:function(o){return o.create(o.size())},Array:mt,string:function(o){return n.matrix==="Array"?[o.length]:r([o.length])},"number | Complex | BigNumber | Unit | boolean | null":function(o){return n.matrix==="Array"?[]:r?r([]):M_()}})}),YN="squeeze",Lpe=["typed","matrix"],Hpe=K(YN,Lpe,t=>{var{typed:e,matrix:n}=t;return e(YN,{Array:function(i){return mg(ct(i))},Matrix:function(i){var o=mg(i.toArray());return Array.isArray(o)?n(o):o},any:function(i){return ct(i)}})}),ZN="subset",Vpe=["typed","matrix","zeros","add"],O_=K(ZN,Vpe,t=>{var{typed:e,matrix:n,zeros:r,add:i}=t;return e(ZN,{"Matrix, Index":function(s,l){return Sc(l)?n():(pg(s,l),s.subset(l))},"Array, Index":e.referTo("Matrix, Index",function(a){return function(s,l){var u=a(n(s),l);return l.isScalar()?u:u.valueOf()}}),"Object, Index":qpe,"string, Index":Upe,"Matrix, Index, any, any":function(s,l,u,c){return Sc(l)?s:(pg(s,l),s.clone().subset(l,o(u,l),c))},"Array, Index, any, any":e.referTo("Matrix, Index, any, any",function(a){return function(s,l,u,c){var f=a(n(s),l,u,c);return f.isMatrix?f.valueOf():f}}),"Array, Index, any":e.referTo("Matrix, Index, any, any",function(a){return function(s,l,u){return a(n(s),l,u,void 0).valueOf()}}),"Matrix, Index, any":e.referTo("Matrix, Index, any, any",function(a){return function(s,l,u){return a(s,l,u,void 0)}}),"string, Index, string":QN,"string, Index, string, string":QN,"Object, Index, any":Wpe});function o(a,s){if(typeof a=="string")throw new Error("can't boradcast a string");if(s._isScalar)return a;var l=s.size();if(l.every(u=>u>0))try{return i(a,r(l))}catch{return a}else return a}});function Upe(t,e){if(!Iv(e))throw new TypeError("Index expected");if(Sc(e))return"";if(pg(Array.from(t),e),e.size().length!==1)throw new St(e.size().length,1);var n=t.length;Yt(e.min()[0],n),Yt(e.max()[0],n);var r=e.dimension(0),i="";return r.forEach(function(o){i+=t.charAt(o)}),i}function QN(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Index expected");if(Sc(e))return t;if(pg(Array.from(t),e),e.size().length!==1)throw new St(e.size().length,1);if(r!==void 0){if(typeof r!="string"||r.length!==1)throw new TypeError("Single character expected as defaultValue")}else r=" ";var i=e.dimension(0),o=i.size()[0];if(o!==n.length)throw new St(i.size()[0],n.length);var a=t.length;Yt(e.min()[0]),Yt(e.max()[0]);for(var s=[],l=0;l<a;l++)s[l]=t.charAt(l);if(i.forEach(function(f,d){s[f]=n.charAt(d[0])}),s.length>a)for(var u=a-1,c=s.length;u<c;u++)s[u]||(s[u]=r);return s.join("")}function qpe(t,e){if(!Sc(e)){if(e.size().length!==1)throw new St(e.size(),1);var n=e.dimension(0);if(typeof n!="string")throw new TypeError("String expected as index to retrieve an object property");return _r(t,n)}}function Wpe(t,e,n){if(Sc(e))return t;if(e.size().length!==1)throw new St(e.size(),1);var r=e.dimension(0);if(typeof r!="string")throw new TypeError("String expected as index to retrieve an object property");var i=ct(t);return Dc(i,r,n),i}var JN="transpose",jpe=["typed","matrix"],Gpe=K(JN,jpe,t=>{var{typed:e,matrix:n}=t;return e(JN,{Array:a=>r(n(a)).valueOf(),Matrix:r,any:ct});function r(a){var s=a.size(),l;switch(s.length){case 1:l=a.clone();break;case 2:{var u=s[0],c=s[1];if(c===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+xt(s)+")");switch(a.storage()){case"dense":l=i(a,u,c);break;case"sparse":l=o(a,u,c);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+xt(s)+")")}return l}function i(a,s,l){for(var u=a._data,c=[],f,d=0;d<l;d++){f=c[d]=[];for(var h=0;h<s;h++)f[h]=ct(u[h][d])}return a.createDenseMatrix({data:c,size:[l,s],datatype:a._datatype})}function o(a,s,l){for(var u=a._values,c=a._index,f=a._ptr,d=u?[]:void 0,h=[],p=[],m=[],v=0;v<s;v++)m[v]=0;var g,w,y;for(g=0,w=c.length;g<w;g++)m[c[g]]++;for(var S=0,x=0;x<s;x++)p.push(S),S+=m[x],m[x]=p[x];for(p.push(S),y=0;y<l;y++)for(var b=f[y],C=f[y+1],A=b;A<C;A++){var D=m[c[A]]++;h[D]=y,u&&(d[D]=ct(u[A]))}return a.createSparseMatrix({values:d,index:h,ptr:p,size:[l,s],datatype:a._datatype})}}),e$="ctranspose",Xpe=["typed","transpose","conj"],Kpe=K(e$,Xpe,t=>{var{typed:e,transpose:n,conj:r}=t;return e(e$,{any:function(o){return r(n(o))}})}),t$="zeros",Ype=["typed","config","matrix","BigNumber"],Zpe=K(t$,Ype,t=>{var{typed:e,config:n,matrix:r,BigNumber:i}=t;return e(t$,{"":function(){return n.matrix==="Array"?o([]):o([],"default")},"...number | BigNumber | string":function(u){var c=u[u.length-1];if(typeof c=="string"){var f=u.pop();return o(u,f)}else return n.matrix==="Array"?o(u):o(u,"default")},Array:o,Matrix:function(u){var c=u.storage();return o(u.valueOf(),c)},"Array | Matrix, string":function(u,c){return o(u.valueOf(),c)}});function o(l,u){var c=a(l),f=c?new i(0):0;if(s(l),u){var d=r(u);return l.length>0?d.resize(l,f):d}else{var h=[];return l.length>0?Cc(h,l,f):h}}function a(l){var u=!1;return l.forEach(function(c,f,d){Et(c)&&(u=!0,d[f]=c.toNumber())}),u}function s(l){l.forEach(function(u){if(typeof u!="number"||!Ge(u)||u<0)throw new Error("Parameters in function zeros must be positive integers")})}}),n$="fft",Qpe=["typed","matrix","addScalar","multiplyScalar","divideScalar","exp","tau","i","dotDivide","conj","pow","ceil","log2"],Jpe=K(n$,Qpe,t=>{var{typed:e,matrix:n,addScalar:r,multiplyScalar:i,divideScalar:o,exp:a,tau:s,i:l,dotDivide:u,conj:c,pow:f,ceil:d,log2:h}=t;return e(n$,{Array:p,Matrix:function(y){return y.create(p(y.toArray()))}});function p(w){var y=mt(w);return y.length===1?g(w,y[0]):m(w.map(S=>p(S,y.slice(1))),0)}function m(w,y){var S=mt(w);if(y!==0)return new Array(S[0]).fill(0).map((b,C)=>m(w[C],y-1));if(S.length===1)return g(w);function x(b){var C=mt(b);return new Array(C[1]).fill(0).map((A,D)=>new Array(C[0]).fill(0).map((E,M)=>b[M][D]))}return x(m(x(w),1))}function v(w){for(var y=w.length,S=a(o(i(-1,i(l,s)),y)),x=[],b=1-y;b<y;b++)x.push(f(S,o(f(b,2),2)));for(var C=f(2,d(h(y+y-1))),A=[...new Array(y).fill(0).map((N,T)=>i(w[T],x[y-1+T])),...new Array(C-y).fill(0)],D=[...new Array(y+y-1).fill(0).map((N,T)=>o(1,x[T])),...new Array(C-(y+y-1)).fill(0)],E=g(A),M=g(D),B=new Array(C).fill(0).map((N,T)=>i(E[T],M[T])),P=u(c(p(c(B))),C),F=[],$=y-1;$<y+y-1;$++)F.push(i(P[$],x[$]));return F}function g(w){var y=w.length;if(y===1)return[w[0]];if(y%2===0){for(var S=[...g(w.filter((A,D)=>D%2===0)),...g(w.filter((A,D)=>D%2===1))],x=0;x<y/2;x++){var b=S[x],C=i(S[x+y/2],a(i(i(s,l),o(-x,y))));S[x]=r(b,C),S[x+y/2]=r(b,i(-1,C))}return S}else return v(w)}}),r$="ifft",eme=["typed","fft","dotDivide","conj"],tme=K(r$,eme,t=>{var{typed:e,fft:n,dotDivide:r,conj:i}=t;return e(r$,{"Array | Matrix":function(a){var s=Je(a)?a.size():mt(a);return r(i(n(i(a))),s.reduce((l,u)=>l*u,1))}})});function Hd(t){"@babel/helpers - typeof";return Hd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hd(t)}function nme(t,e){if(Hd(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rme(t){var e=nme(t,"string");return Hd(e)=="symbol"?e:String(e)}function Gn(t,e,n){return e=rme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ime(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i$(Object(n),!0).forEach(function(r){Gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var ome="solveODE",ame=["typed","add","subtract","multiply","divide","max","map","abs","isPositive","isNegative","larger","smaller","matrix","bignumber","unaryMinus"],sme=K(ome,ame,t=>{var{typed:e,add:n,subtract:r,multiply:i,divide:o,max:a,map:s,abs:l,isPositive:u,isNegative:c,larger:f,smaller:d,matrix:h,bignumber:p,unaryMinus:m}=t;function v(A){return function(D,E,M,B){var P=!(E.length===2&&(E.every(b)||E.every(Fi)));if(P)throw new Error('"tspan" must be an Array of two numeric values or two units [tStart, tEnd]');var F=E[0],$=E[1],N=f($,F),T=B.firstStep;if(T!==void 0&&!u(T))throw new Error('"firstStep" must be positive');var z=B.maxStep;if(z!==void 0&&!u(z))throw new Error('"maxStep" must be positive');var I=B.minStep;if(I&&c(I))throw new Error('"minStep" must be positive or zero');var q=[F,$,T,I,z].filter(G=>G!==void 0);if(!(q.every(b)||q.every(Fi)))throw new Error('Inconsistent type of "t" dependant variables');for(var X=1,V=B.tol?B.tol:1e-4,L=B.minDelta?B.minDelta:.2,ne=B.maxDelta?B.maxDelta:5,se=B.maxIter?B.maxIter:1e4,Y=[F,$,...M,z,I].some(Et),[ee,ie,j,W]=Y?[p(A.a),p(A.c),p(A.b),p(A.bp)]:[A.a,A.c,A.b,A.bp],J=T?N?T:m(T):o(r($,F),X),oe=[F],de=[M],ge=r(j,W),U=0,Z=0,fe=S(N),Q=x(N);fe(oe[U],$);){var re=[];J=Q(oe[U],$,J),re.push(D(oe[U],de[U]));for(var ue=1;ue<ie.length;++ue)re.push(D(n(oe[U],i(ie[ue],J)),n(de[U],i(J,ee[ue],re))));var ye=a(l(s(i(ge,re),G=>Fi(G)?G.value:G)));ye<V&&V/ye>1/4&&(oe.push(n(oe[U],J)),de.push(n(de[U],i(J,j,re))),U++);var xe=.84*(V/ye)**(1/5);if(d(xe,L)?xe=L:f(xe,ne)&&(xe=ne),xe=Y?p(xe):xe,J=i(J,xe),z&&f(l(J),z)?J=N?z:m(z):I&&d(l(J),I)&&(J=N?I:m(I)),Z++,Z>se)throw new Error("Maximum number of iterations reached, try changing options")}return{t:oe,y:de}}}function g(A,D,E,M){var B=[[],[.5],[0,.75],[.2222222222222222,.3333333333333333,.4444444444444444]],P=[null,1/2,3/4,1],F=[2/9,1/3,4/9,0],$=[7/24,1/4,1/3,1/8],N={a:B,c:P,b:F,bp:$};return v(N)(A,D,E,M)}function w(A,D,E,M){var B=[[],[.2],[.075,.225],[.9777777777777777,-3.7333333333333334,3.5555555555555554],[2.9525986892242035,-11.595793324188385,9.822892851699436,-.2908093278463649],[2.8462752525252526,-10.757575757575758,8.906422717743473,.2784090909090909,-.2735313036020583],[.09114583333333333,0,.44923629829290207,.6510416666666666,-.322376179245283,.13095238095238096]],P=[null,1/5,3/10,4/5,8/9,1,1],F=[35/384,0,500/1113,125/192,-2187/6784,11/84,0],$=[5179/57600,0,7571/16695,393/640,-92097/339200,187/2100,1/40],N={a:B,c:P,b:F,bp:$};return v(N)(A,D,E,M)}function y(A,D,E,M){var B=M.method?M.method:"RK45",P={RK23:g,RK45:w};if(B.toUpperCase()in P){var F=ime({},M);return delete F.method,P[B.toUpperCase()](A,D,E,F)}else{var $=Object.keys(P).map(T=>'"'.concat(T,'"')),N="".concat($.slice(0,-1).join(", ")," and ").concat($.slice(-1));throw new Error('Unavailable method "'.concat(B,'". Available methods are ').concat(N))}}function S(A){return A?d:f}function x(A){var D=A?f:d;return function(E,M,B){var P=n(E,B);return D(P,M)?r(M,E):B}}function b(A){return Et(A)||wt(A)}function C(A,D,E,M){var B=y(A,D.toArray(),E.toArray(),M);return{t:h(B.t),y:h(B.y)}}return e("solveODE",{"function, Array, Array, Object":y,"function, Matrix, Matrix, Object":C,"function, Array, Array":(A,D,E)=>y(A,D,E,{}),"function, Matrix, Matrix":(A,D,E)=>C(A,D,E,{}),"function, Array, number | BigNumber | Unit":(A,D,E)=>{var M=y(A,D,[E],{});return{t:M.t,y:M.y.map(B=>B[0])}},"function, Matrix, number | BigNumber | Unit":(A,D,E)=>{var M=y(A,D.toArray(),[E],{});return{t:h(M.t),y:h(M.y.map(B=>B[0]))}},"function, Array, number | BigNumber | Unit, Object":(A,D,E,M)=>{var B=y(A,D,[E],M);return{t:B.t,y:B.y.map(P=>P[0])}},"function, Matrix, number | BigNumber | Unit, Object":(A,D,E,M)=>{var B=y(A,D.toArray(),[E],M);return{t:h(B.t),y:h(B.y.map(P=>P[0]))}}})}),lme="erf",ume=["typed"],cme=K(lme,ume,t=>{var{typed:e}=t;return e("name",{number:function(a){var s=Math.abs(a);return s>=hme?Ds(a):s<=fme?Ds(a)*n(s):s<=4?Ds(a)*(1-r(s)):Ds(a)*(1-i(s))},"Array | Matrix":e.referToSelf(o=>a=>At(a,o))});function n(o){var a=o*o,s=va[0][4]*a,l=a,u;for(u=0;u<3;u+=1)s=(s+va[0][u])*a,l=(l+mu[0][u])*a;return o*(s+va[0][3])/(l+mu[0][3])}function r(o){var a=va[1][8]*o,s=o,l;for(l=0;l<7;l+=1)a=(a+va[1][l])*o,s=(s+mu[1][l])*o;var u=(a+va[1][7])/(s+mu[1][7]),c=parseInt(o*16)/16,f=(o-c)*(o+c);return Math.exp(-c*c)*Math.exp(-f)*u}function i(o){var a=1/(o*o),s=va[2][5]*a,l=a,u;for(u=0;u<4;u+=1)s=(s+va[2][u])*a,l=(l+mu[2][u])*a;var c=a*(s+va[2][4])/(l+mu[2][4]);c=(dme-c)/o,a=parseInt(o*16)/16;var f=(o-a)*(o+a);return Math.exp(-a*a)*Math.exp(-f)*c}}),fme=.46875,dme=.5641895835477563,va=[[3.1611237438705655,113.86415415105016,377.485237685302,3209.3775891384694,.18577770618460315],[.5641884969886701,8.883149794388377,66.11919063714163,298.6351381974001,881.952221241769,1712.0476126340707,2051.0783778260716,1230.3393547979972,21531153547440383e-24],[.30532663496123236,.36034489994980445,.12578172611122926,.016083785148742275,.0006587491615298378,.016315387137302097]],mu=[[23.601290952344122,244.02463793444417,1282.6165260773723,2844.236833439171],[15.744926110709835,117.6939508913125,537.1811018620099,1621.3895745666903,3290.7992357334597,4362.619090143247,3439.3676741437216,1230.3393548037495],[2.568520192289822,1.8729528499234604,.5279051029514285,.06051834131244132,.0023352049762686918]],hme=Math.pow(2,53),o$="zeta",pme=["typed","config","multiply","pow","divide","factorial","equal","smallerEq","isNegative","gamma","sin","subtract","add","?Complex","?BigNumber","pi"],mme=K(o$,pme,t=>{var{typed:e,config:n,multiply:r,pow:i,divide:o,factorial:a,equal:s,smallerEq:l,isNegative:u,gamma:c,sin:f,subtract:d,add:h,Complex:p,BigNumber:m,pi:v}=t;return e(o$,{number:b=>g(b,C=>C,()=>20),BigNumber:b=>g(b,C=>new m(C),()=>Math.abs(Math.log10(n.epsilon))),Complex:w});function g(b,C,A){return s(b,0)?C(-.5):s(b,1)?C(NaN):isFinite(b)?y(b,C,A,D=>D):u(b)?C(NaN):C(1)}function w(b){return b.re===0&&b.im===0?new p(-.5):b.re===1?new p(NaN,NaN):b.re===1/0&&b.im===0?new p(1):b.im===1/0||b.re===-1/0?new p(NaN,NaN):y(b,C=>C,C=>Math.round(1.3*15+.9*Math.abs(C.im)),C=>C.re)}function y(b,C,A,D){var E=A(b);if(D(b)>-(E-1)/2)return x(b,C(E),C);var M=r(i(2,b),i(C(v),d(b,1)));return M=r(M,f(r(o(C(v),2),b))),M=r(M,c(d(1,b))),r(M,y(d(1,b),C,A,D))}function S(b,C){for(var A=b,D=b;l(D,C);D=h(D,1)){var E=o(r(a(h(C,d(D,1))),i(4,D)),r(a(d(C,D)),a(r(2,D))));A=h(A,E)}return r(C,A)}function x(b,C,A){for(var D=o(1,r(S(A(0),C),d(1,i(2,d(1,b))))),E=A(0),M=A(1);l(M,C);M=h(M,1))E=h(E,o(r((-1)**(M-1),S(M,C)),i(M,b)));return r(D,E)}}),a$="mode",gme=["typed","isNaN","isNumeric"],vme=K(a$,gme,t=>{var{typed:e,isNaN:n,isNumeric:r}=t;return e(a$,{"Array | Matrix":i,"...":function(a){return i(a)}});function i(o){o=kt(o.valueOf());var a=o.length;if(a===0)throw new Error("Cannot calculate mode of an empty array");for(var s={},l=[],u=0,c=0;c<o.length;c++){var f=o[c];if(r(f)&&n(f))throw new Error("Cannot calculate mode of an array containing NaN values");f in s||(s[f]=0),s[f]++,s[f]===u?l.push(f):s[f]>u&&(u=s[f],l=[f])}return l}});function Vr(t,e,n){var r;return String(t).indexOf("Unexpected type")!==-1?(r=arguments.length>2?" (type: "+en(n)+", value: "+JSON.stringify(n)+")":" (type: "+t.data.actual+")",new TypeError("Cannot calculate "+e+", unexpected type of argument"+r)):String(t).indexOf("complex numbers")!==-1?(r=arguments.length>2?" (type: "+en(n)+", value: "+JSON.stringify(n)+")":"",new TypeError("Cannot calculate "+e+", no ordering relation is defined for complex numbers"+r)):t}var s$="prod",yme=["typed","config","multiplyScalar","numeric"],bme=K(s$,yme,t=>{var{typed:e,config:n,multiplyScalar:r,numeric:i}=t;return e(s$,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":function(s,l){throw new Error("prod(A, dim) is not yet supported")},"...":function(s){return o(s)}});function o(a){var s;if(Ja(a,function(l){try{s=s===void 0?l:r(s,l)}catch(u){throw Vr(u,"prod",l)}}),typeof s=="string"&&(s=i(s,n.number)),s===void 0)throw new Error("Cannot calculate prod of an empty array");return s}}),l$="format",xme=["typed"],wme=K(l$,xme,t=>{var{typed:e}=t;return e(l$,{any:xt,"any, Object | function | number":xt})}),u$="bin",Sme=["typed","format"],Cme=K(u$,Sme,t=>{var{typed:e,format:n}=t;return e(u$,{"number | BigNumber":function(i){return n(i,{notation:"bin"})},"number | BigNumber, number":function(i,o){return n(i,{notation:"bin",wordSize:o})}})}),c$="oct",Ame=["typed","format"],Dme=K(c$,Ame,t=>{var{typed:e,format:n}=t;return e(c$,{"number | BigNumber":function(i){return n(i,{notation:"oct"})},"number | BigNumber, number":function(i,o){return n(i,{notation:"oct",wordSize:o})}})}),f$="hex",Eme=["typed","format"],Mme=K(f$,Eme,t=>{var{typed:e,format:n}=t;return e(f$,{"number | BigNumber":function(i){return n(i,{notation:"hex"})},"number | BigNumber, number":function(i,o){return n(i,{notation:"hex",wordSize:o})}})}),T_=/\$([\w.]+)/g,d$="print",Nme=["typed"],B_=K(d$,Nme,t=>{var{typed:e}=t;return e(d$,{"string, Object | Array":h$,"string, Object | Array, number | Object":h$})});function h$(t,e,n){return t.replace(T_,function(r,i){var o=i.split("."),a=e[o.shift()];for(a!==void 0&&a.isMatrix&&(a=a.toArray());o.length&&a!==void 0;){var s=o.shift();a=s?a[s]:a+"."}return a!==void 0?vr(a)?a:xt(a,n):r})}var p$="to",$me=["typed","matrix","concat"],Ome=K(p$,$me,t=>{var{typed:e,matrix:n,concat:r}=t,i=rn({typed:e,matrix:n,concat:r});return e(p$,{"Unit, Unit | string":(o,a)=>o.to(a)},i({Ds:!0}))}),m$="isPrime",Tme=["typed"],Bme=K(m$,Tme,t=>{var{typed:e}=t;return e(m$,{number:function(r){if(r*0!==0)return!1;if(r<=3)return r>1;if(r%2===0||r%3===0)return!1;for(var i=5;i*i<=r;i+=6)if(r%i===0||r%(i+2)===0)return!1;return!0},BigNumber:function(r){if(r.toNumber()*0!==0)return!1;if(r.lte(3))return r.gt(1);if(r.mod(2).eq(0)||r.mod(3).eq(0))return!1;if(r.lt(Math.pow(2,32))){for(var i=r.toNumber(),o=5;o*o<=i;o+=6)if(i%o===0||i%(o+2)===0)return!1;return!0}function a(w,y,S){for(var x=1;!y.eq(0);)y.mod(2).eq(0)?(y=y.div(2),w=w.mul(w).mod(S)):(y=y.sub(1),x=w.mul(x).mod(S));return x}var s=r.constructor.clone({precision:r.toFixed(0).length*2});r=new s(r);for(var l=0,u=r.sub(1);u.mod(2).eq(0);)u=u.div(2),l+=1;var c=null;if(r.lt("3317044064679887385961981"))c=[2,3,5,7,11,13,17,19,23,29,31,37,41].filter(w=>w<r);else{var f=Math.min(r.toNumber()-2,Math.floor(2*Math.pow(r.toFixed(0).length*Math.log(10),2)));c=[];for(var d=2;d<=f;d+=1)c.push(f)}for(var h=0;h<c.length;h+=1){var p=c[h],m=a(r.sub(r).add(p),u,r);if(!m.eq(1)){for(var v=0,g=m;!g.eq(r.sub(1));v+=1,g=g.mul(g).mod(r))if(v===l-1)return!1}}return!0},"Array | Matrix":e.referToSelf(n=>r=>At(r,n))})}),Ime="numeric",Pme=["number","?bignumber","?fraction"],kme=K(Ime,Pme,t=>{var{number:e,bignumber:n,fraction:r}=t,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},o={number:a=>e(a),BigNumber:n?a=>n(a):OS,Fraction:r?a=>r(a):E_};return function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"number",u=arguments.length>2?arguments[2]:void 0;if(u!==void 0)throw new SyntaxError("numeric() takes one or two arguments");var c=en(s);if(!(c in i))throw new TypeError("Cannot convert "+s+' of type "'+c+'"; valid input types are '+Object.keys(i).join(", "));if(!(l in o))throw new TypeError("Cannot convert "+s+' to type "'+l+'"; valid output types are '+Object.keys(o).join(", "));return l===c?s:o[l](s)}}),g$="divideScalar",Fme=["typed","numeric"],Rme=K(g$,Fme,t=>{var{typed:e,numeric:n}=t;return e(g$,{"number, number":function(i,o){return i/o},"Complex, Complex":function(i,o){return i.div(o)},"BigNumber, BigNumber":function(i,o){return i.div(o)},"Fraction, Fraction":function(i,o){return i.div(o)},"Unit, number | Complex | Fraction | BigNumber | Unit":(r,i)=>r.divide(i),"number | Fraction | Complex | BigNumber, Unit":(r,i)=>i.divideInto(r)})}),v$="pow",_me=["typed","config","identity","multiply","matrix","inv","fraction","number","Complex"],zme=K(v$,_me,t=>{var{typed:e,config:n,identity:r,multiply:i,matrix:o,inv:a,number:s,fraction:l,Complex:u}=t;return e(v$,{"number, number":c,"Complex, Complex":function(p,m){return p.pow(m)},"BigNumber, BigNumber":function(p,m){return m.isInteger()||p>=0||n.predictable?p.pow(m):new u(p.toNumber(),0).pow(m.toNumber(),0)},"Fraction, Fraction":function(p,m){var v=p.pow(m);if(v!=null)return v;if(n.predictable)throw new Error("Result of pow is non-rational and cannot be expressed as a fraction");return c(p.valueOf(),m.valueOf())},"Array, number":f,"Array, BigNumber":function(p,m){return f(p,m.toNumber())},"Matrix, number":d,"Matrix, BigNumber":function(p,m){return d(p,m.toNumber())},"Unit, number | BigNumber":function(p,m){return p.pow(m)}});function c(h,p){if(n.predictable&&!Ge(p)&&h<0)try{var m=l(p),v=s(m);if((p===v||Math.abs((p-v)/p)<1e-14)&&m.d%2===1)return(m.n%2===0?1:-1)*Math.pow(-h,p)}catch{}return n.predictable&&(h<-1&&p===1/0||h>-1&&h<0&&p===-1/0)?NaN:Ge(p)||h>=0||n.predictable?F5(h,p):h*h<1&&p===1/0||h*h>1&&p===-1/0?0:new u(h,0).pow(p,0)}function f(h,p){if(!Ge(p))throw new TypeError("For A^b, b must be an integer (value is "+p+")");var m=mt(h);if(m.length!==2)throw new Error("For A^b, A must be 2 dimensional (A has "+m.length+" dimensions)");if(m[0]!==m[1])throw new Error("For A^b, A must be square (size is "+m[0]+"x"+m[1]+")");if(p<0)try{return f(a(h),-p)}catch(w){throw w.message==="Cannot calculate inverse, determinant is zero"?new TypeError("For A^b, when A is not invertible, b must be a positive integer (value is "+p+")"):w}for(var v=r(m[0]).valueOf(),g=h;p>=1;)(p&1)===1&&(v=i(g,v)),p>>=1,g=i(g,g);return v}function d(h,p){return o(f(h.valueOf(),p))}}),gu="Number of decimals in function round must be an integer",y$="round",Lme=["typed","matrix","equalScalar","zeros","BigNumber","DenseMatrix"],Hme=K(y$,Lme,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,BigNumber:o,DenseMatrix:a}=t,s=fr({typed:e,equalScalar:r}),l=Xn({typed:e,DenseMatrix:a}),u=Mo({typed:e});return e(y$,{number:PM,"number, number":PM,"number, BigNumber":function(f,d){if(!d.isInteger())throw new TypeError(gu);return new o(f).toDecimalPlaces(d.toNumber())},Complex:function(f){return f.round()},"Complex, number":function(f,d){if(d%1)throw new TypeError(gu);return f.round(d)},"Complex, BigNumber":function(f,d){if(!d.isInteger())throw new TypeError(gu);var h=d.toNumber();return f.round(h)},BigNumber:function(f){return f.toDecimalPlaces(0)},"BigNumber, BigNumber":function(f,d){if(!d.isInteger())throw new TypeError(gu);return f.toDecimalPlaces(d.toNumber())},Fraction:function(f){return f.round()},"Fraction, number":function(f,d){if(d%1)throw new TypeError(gu);return f.round(d)},"Fraction, BigNumber":function(f,d){if(!d.isInteger())throw new TypeError(gu);return f.round(d.toNumber())},"Unit, number, Unit":e.referToSelf(c=>function(f,d,h){var p=f.toNumeric(h);return h.multiply(c(p,d))}),"Unit, BigNumber, Unit":e.referToSelf(c=>(f,d,h)=>c(f,d.toNumber(),h)),"Unit, Unit":e.referToSelf(c=>(f,d)=>c(f,0,d)),"Array | Matrix, number, Unit":e.referToSelf(c=>(f,d,h)=>At(f,p=>c(p,d,h))),"Array | Matrix, BigNumber, Unit":e.referToSelf(c=>(f,d,h)=>c(f,d.toNumber(),h)),"Array | Matrix, Unit":e.referToSelf(c=>(f,d)=>c(f,0,d)),"Array | Matrix":e.referToSelf(c=>f=>At(f,c)),"SparseMatrix, number | BigNumber":e.referToSelf(c=>(f,d)=>s(f,d,c,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(c=>(f,d)=>u(f,d,c,!1)),"Array, number | BigNumber":e.referToSelf(c=>(f,d)=>u(n(f),d,c,!1).valueOf()),"number | Complex | BigNumber | Fraction, SparseMatrix":e.referToSelf(c=>(f,d)=>r(f,0)?i(d.size(),d.storage()):l(d,f,c,!0)),"number | Complex | BigNumber | Fraction, DenseMatrix":e.referToSelf(c=>(f,d)=>r(f,0)?i(d.size(),d.storage()):u(d,f,c,!0)),"number | Complex | BigNumber | Fraction, Array":e.referToSelf(c=>(f,d)=>u(n(d),f,c,!0).valueOf())})}),b$="log",Vme=["config","typed","divideScalar","Complex"],Ume=K(b$,Vme,t=>{var{typed:e,config:n,divideScalar:r,Complex:i}=t;return e(b$,{number:function(a){return a>=0||n.predictable?Hce(a):new i(a,0).log()},Complex:function(a){return a.log()},BigNumber:function(a){return!a.isNegative()||n.predictable?a.ln():new i(a.toNumber(),0).log()},"any, any":e.referToSelf(o=>(a,s)=>r(o(a),o(s)))})}),x$="log1p",qme=["typed","config","divideScalar","log","Complex"],Wme=K(x$,qme,t=>{var{typed:e,config:n,divideScalar:r,log:i,Complex:o}=t;return e(x$,{number:function(l){return l>=-1||n.predictable?zle(l):a(new o(l,0))},Complex:a,BigNumber:function(l){var u=l.plus(1);return!u.isNegative()||n.predictable?u.ln():a(new o(l.toNumber(),0))},"Array | Matrix":e.referToSelf(s=>l=>At(l,s)),"any, any":e.referToSelf(s=>(l,u)=>r(s(l),i(u)))});function a(s){var l=s.re+1;return new o(Math.log(Math.sqrt(l*l+s.im*s.im)),Math.atan2(s.im,l))}}),w$="nthRoots",jme=["config","typed","divideScalar","Complex"],Gme=K(w$,jme,t=>{var{typed:e,config:n,divideScalar:r,Complex:i}=t,o=[function(l){return new i(l,0)},function(l){return new i(0,l)},function(l){return new i(-l,0)},function(l){return new i(0,-l)}];function a(s,l){if(l<0)throw new Error("Root must be greater than zero");if(l===0)throw new Error("Root must be non-zero");if(l%1!==0)throw new Error("Root must be an integer");if(s===0||s.abs()===0)return[new i(0,0)];var u=typeof s=="number",c;(u||s.re===0||s.im===0)&&(u?c=2*+(s<0):s.im===0?c=2*+(s.re<0):c=2*+(s.im<0)+1);for(var f=s.arg(),d=s.abs(),h=[],p=Math.pow(d,1/l),m=0;m<l;m++){var v=(c+4*m)/l;if(v===Math.round(v)){h.push(o[v%4](p));continue}h.push(new i({r:p,phi:(f+2*Math.PI*m)/l}))}return h}return e(w$,{Complex:function(l){return a(l,2)},"Complex, number":a})}),S$="dotPow",Xme=["typed","equalScalar","matrix","pow","DenseMatrix","concat"],Kme=K(S$,Xme,t=>{var{typed:e,equalScalar:n,matrix:r,pow:i,DenseMatrix:o,concat:a}=t,s=qr({typed:e}),l=ca({typed:e,DenseMatrix:o}),u=fr({typed:e,equalScalar:n}),c=Xn({typed:e,DenseMatrix:o}),f=rn({typed:e,matrix:r,concat:a}),d={};for(var h in i.signatures)Object.prototype.hasOwnProperty.call(i.signatures,h)&&!h.includes("Matrix")&&!h.includes("Array")&&(d[h]=i.signatures[h]);var p=e(d);return e(S$,f({elop:p,SS:l,DS:s,Ss:u,sS:c}))}),C$="dotDivide",Yme=["typed","matrix","equalScalar","divideScalar","DenseMatrix","concat"],Zme=K(C$,Yme,t=>{var{typed:e,matrix:n,equalScalar:r,divideScalar:i,DenseMatrix:o,concat:a}=t,s=No({typed:e,equalScalar:r}),l=qr({typed:e}),u=ca({typed:e,DenseMatrix:o}),c=fr({typed:e,equalScalar:r}),f=Xn({typed:e,DenseMatrix:o}),d=rn({typed:e,matrix:n,concat:a});return e(C$,d({elop:i,SS:u,DS:l,SD:s,Ss:c,sS:f}))});function uh(t){var{DenseMatrix:e}=t;return function(r,i,o){var a=r.size();if(a.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+xt(a)+")");var s=a[0],l=a[1];if(s!==l)throw new RangeError("Matrix must be square (size: "+xt(a)+")");var u=[];if(Je(i)){var c=i.size(),f=i._data;if(c.length===1){if(c[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var d=0;d<s;d++)u[d]=[f[d]];return new e({data:u,size:[s,1],datatype:i._datatype})}if(c.length===2){if(c[0]!==s||c[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(hg(i)){if(o){u=[];for(var h=0;h<s;h++)u[h]=[f[h][0]];return new e({data:u,size:[s,1],datatype:i._datatype})}return i}if(xl(i)){for(var p=0;p<s;p++)u[p]=[0];for(var m=i._values,v=i._index,g=i._ptr,w=g[1],y=g[0];y<w;y++){var S=v[y];u[S][0]=m[y]}return new e({data:u,size:[s,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(_t(i)){var x=mt(i);if(x.length===1){if(x[0]!==s)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var b=0;b<s;b++)u[b]=[i[b]];return new e({data:u,size:[s,1]})}if(x.length===2){if(x[0]!==s||x[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var C=0;C<s;C++)u[C]=[i[C][0]];return new e({data:u,size:[s,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var A$="lsolve",Qme=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],Jme=K(A$,Qme,t=>{var{typed:e,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:o,equalScalar:a,DenseMatrix:s}=t,l=uh({DenseMatrix:s});return e(A$,{"SparseMatrix, Array | Matrix":function(d,h){return c(d,h)},"DenseMatrix, Array | Matrix":function(d,h){return u(d,h)},"Array, Array | Matrix":function(d,h){var p=n(d),m=u(p,h);return m.valueOf()}});function u(f,d){d=l(f,d,!0);for(var h=d._data,p=f._size[0],m=f._size[1],v=[],g=f._data,w=0;w<m;w++){var y=h[w][0]||0,S=void 0;if(a(y,0))S=0;else{var x=g[w][w];if(a(x,0))throw new Error("Linear system cannot be solved since matrix is singular");S=r(y,x);for(var b=w+1;b<p;b++)h[b]=[o(h[b][0]||0,i(S,g[b][w]))]}v[w]=[S]}return new s({data:v,size:[p,1]})}function c(f,d){d=l(f,d,!0);for(var h=d._data,p=f._size[0],m=f._size[1],v=f._values,g=f._index,w=f._ptr,y=[],S=0;S<m;S++){var x=h[S][0]||0;if(a(x,0))y[S]=[0];else{for(var b=0,C=[],A=[],D=w[S],E=w[S+1],M=D;M<E;M++){var B=g[M];B===S?b=v[M]:B>S&&(C.push(v[M]),A.push(B))}if(a(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var P=r(x,b),F=0,$=A.length;F<$;F++){var N=A[F];h[N]=[o(h[N][0]||0,i(P,C[F]))]}y[S]=[P]}}return new s({data:y,size:[p,1]})}}),D$="usolve",ege=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],tge=K(D$,ege,t=>{var{typed:e,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:o,equalScalar:a,DenseMatrix:s}=t,l=uh({DenseMatrix:s});return e(D$,{"SparseMatrix, Array | Matrix":function(d,h){return c(d,h)},"DenseMatrix, Array | Matrix":function(d,h){return u(d,h)},"Array, Array | Matrix":function(d,h){var p=n(d),m=u(p,h);return m.valueOf()}});function u(f,d){d=l(f,d,!0);for(var h=d._data,p=f._size[0],m=f._size[1],v=[],g=f._data,w=m-1;w>=0;w--){var y=h[w][0]||0,S=void 0;if(a(y,0))S=0;else{var x=g[w][w];if(a(x,0))throw new Error("Linear system cannot be solved since matrix is singular");S=r(y,x);for(var b=w-1;b>=0;b--)h[b]=[o(h[b][0]||0,i(S,g[b][w]))]}v[w]=[S]}return new s({data:v,size:[p,1]})}function c(f,d){d=l(f,d,!0);for(var h=d._data,p=f._size[0],m=f._size[1],v=f._values,g=f._index,w=f._ptr,y=[],S=m-1;S>=0;S--){var x=h[S][0]||0;if(a(x,0))y[S]=[0];else{for(var b=0,C=[],A=[],D=w[S],E=w[S+1],M=E-1;M>=D;M--){var B=g[M];B===S?b=v[M]:B<S&&(C.push(v[M]),A.push(B))}if(a(b,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var P=r(x,b),F=0,$=A.length;F<$;F++){var N=A[F];h[N]=[o(h[N][0],i(P,C[F]))]}y[S]=[P]}}return new s({data:y,size:[p,1]})}}),E$="lsolveAll",nge=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],rge=K(E$,nge,t=>{var{typed:e,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:o,equalScalar:a,DenseMatrix:s}=t,l=uh({DenseMatrix:s});return e(E$,{"SparseMatrix, Array | Matrix":function(d,h){return c(d,h)},"DenseMatrix, Array | Matrix":function(d,h){return u(d,h)},"Array, Array | Matrix":function(d,h){var p=n(d),m=u(p,h);return m.map(v=>v.valueOf())}});function u(f,d){for(var h=[l(f,d,!0)._data.map(A=>A[0])],p=f._data,m=f._size[0],v=f._size[1],g=0;g<v;g++)for(var w=h.length,y=0;y<w;y++){var S=h[y];if(a(p[g][g],0))if(a(S[g],0)){if(y===0){var b=[...S];b[g]=1;for(var C=g+1;C<v;C++)b[C]=o(b[C],p[C][g]);h.push(b)}}else{if(y===0)return[];h.splice(y,1),y-=1,w-=1}else{S[g]=r(S[g],p[g][g]);for(var x=g+1;x<v;x++)S[x]=o(S[x],i(S[g],p[x][g]))}}return h.map(A=>new s({data:A.map(D=>[D]),size:[m,1]}))}function c(f,d){for(var h=[l(f,d,!0)._data.map(X=>X[0])],p=f._size[0],m=f._size[1],v=f._values,g=f._index,w=f._ptr,y=0;y<m;y++)for(var S=h.length,x=0;x<S;x++){for(var b=h[x],C=[],A=[],D=w[y],E=w[y+1],M=0,B=D;B<E;B++){var P=g[B];P===y?M=v[B]:P>y&&(C.push(v[B]),A.push(P))}if(a(M,0))if(a(b[y],0)){if(x===0){var T=[...b];T[y]=1;for(var z=0,I=A.length;z<I;z++){var q=A[z];T[q]=o(T[q],C[z])}h.push(T)}}else{if(x===0)return[];h.splice(x,1),x-=1,S-=1}else{b[y]=r(b[y],M);for(var F=0,$=A.length;F<$;F++){var N=A[F];b[N]=o(b[N],i(b[y],C[F]))}}}return h.map(X=>new s({data:X.map(V=>[V]),size:[p,1]}))}}),M$="usolveAll",ige=["typed","matrix","divideScalar","multiplyScalar","subtractScalar","equalScalar","DenseMatrix"],oge=K(M$,ige,t=>{var{typed:e,matrix:n,divideScalar:r,multiplyScalar:i,subtractScalar:o,equalScalar:a,DenseMatrix:s}=t,l=uh({DenseMatrix:s});return e(M$,{"SparseMatrix, Array | Matrix":function(d,h){return c(d,h)},"DenseMatrix, Array | Matrix":function(d,h){return u(d,h)},"Array, Array | Matrix":function(d,h){var p=n(d),m=u(p,h);return m.map(v=>v.valueOf())}});function u(f,d){for(var h=[l(f,d,!0)._data.map(A=>A[0])],p=f._data,m=f._size[0],v=f._size[1],g=v-1;g>=0;g--)for(var w=h.length,y=0;y<w;y++){var S=h[y];if(a(p[g][g],0))if(a(S[g],0)){if(y===0){var b=[...S];b[g]=1;for(var C=g-1;C>=0;C--)b[C]=o(b[C],p[C][g]);h.push(b)}}else{if(y===0)return[];h.splice(y,1),y-=1,w-=1}else{S[g]=r(S[g],p[g][g]);for(var x=g-1;x>=0;x--)S[x]=o(S[x],i(S[g],p[x][g]))}}return h.map(A=>new s({data:A.map(D=>[D]),size:[m,1]}))}function c(f,d){for(var h=[l(f,d,!0)._data.map(X=>X[0])],p=f._size[0],m=f._size[1],v=f._values,g=f._index,w=f._ptr,y=m-1;y>=0;y--)for(var S=h.length,x=0;x<S;x++){for(var b=h[x],C=[],A=[],D=w[y],E=w[y+1],M=0,B=E-1;B>=D;B--){var P=g[B];P===y?M=v[B]:P<y&&(C.push(v[B]),A.push(P))}if(a(M,0))if(a(b[y],0)){if(x===0){var T=[...b];T[y]=1;for(var z=0,I=A.length;z<I;z++){var q=A[z];T[q]=o(T[q],C[z])}h.push(T)}}else{if(x===0)return[];h.splice(x,1),x-=1,S-=1}else{b[y]=r(b[y],M);for(var F=0,$=A.length;F<$;F++){var N=A[F];b[N]=o(b[N],i(b[y],C[F]))}}}return h.map(X=>new s({data:X.map(V=>[V]),size:[p,1]}))}}),age="matAlgo08xS0Sid",sge=["typed","equalScalar"],TS=K(age,sge,t=>{var{typed:e,equalScalar:n}=t;return function(i,o,a){var s=i._values,l=i._index,u=i._ptr,c=i._size,f=i._datatype,d=o._values,h=o._index,p=o._ptr,m=o._size,v=o._datatype;if(c.length!==m.length)throw new St(c.length,m.length);if(c[0]!==m[0]||c[1]!==m[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+m+")");if(!s||!d)throw new Error("Cannot perform operation on Pattern Sparse Matrices");var g=c[0],w=c[1],y,S=n,x=0,b=a;typeof f=="string"&&f===v&&(y=f,S=e.find(n,[y,y]),x=e.convert(0,y),b=e.find(a,[y,y]));for(var C=[],A=[],D=[],E=[],M=[],B,P,F,$,N=0;N<w;N++){D[N]=A.length;var T=N+1;for(P=u[N],F=u[N+1],B=P;B<F;B++)$=l[B],M[$]=T,E[$]=s[B],A.push($);for(P=p[N],F=p[N+1],B=P;B<F;B++)$=h[B],M[$]===T&&(E[$]=b(E[$],d[B]));for(B=D[N];B<A.length;){$=A[B];var z=E[$];S(z,x)?A.splice(B,1):(C.push(z),B++)}}return D[w]=A.length,i.createSparseMatrix({values:C,index:A,ptr:D,size:[g,w],datatype:y})}}),BS=K("useMatrixForArrayScalar",["typed","matrix"],t=>{var{typed:e,matrix:n}=t;return{"Array, number":e.referTo("DenseMatrix, number",r=>(i,o)=>r(n(i),o).valueOf()),"Array, BigNumber":e.referTo("DenseMatrix, BigNumber",r=>(i,o)=>r(n(i),o).valueOf()),"number, Array":e.referTo("number, DenseMatrix",r=>(i,o)=>r(i,n(o)).valueOf()),"BigNumber, Array":e.referTo("BigNumber, DenseMatrix",r=>(i,o)=>r(i,n(o)).valueOf())}}),N$="leftShift",lge=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],uge=K(N$,lge,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,DenseMatrix:o,concat:a}=t,s=Ks({typed:e}),l=No({typed:e,equalScalar:r}),u=TS({typed:e,equalScalar:r}),c=Gl({typed:e,DenseMatrix:o}),f=fr({typed:e,equalScalar:r}),d=Mo({typed:e}),h=rn({typed:e,matrix:n,concat:a}),p=BS({typed:e,matrix:n});return e(N$,{"number, number":H5,"BigNumber, BigNumber":$he,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>r(g,0)?v.clone():f(v,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>r(g,0)?v.clone():d(v,g,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,g)=>r(v,0)?i(g.size(),g.storage()):c(g,v,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(v,g)=>r(v,0)?i(g.size(),g.storage()):d(g,v,m,!0))},p,h({SS:u,DS:s,SD:l}))}),$$="rightArithShift",cge=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],fge=K($$,cge,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,DenseMatrix:o,concat:a}=t,s=Ks({typed:e}),l=No({typed:e,equalScalar:r}),u=TS({typed:e,equalScalar:r}),c=Gl({typed:e,DenseMatrix:o}),f=fr({typed:e,equalScalar:r}),d=Mo({typed:e}),h=rn({typed:e,matrix:n,concat:a}),p=BS({typed:e,matrix:n});return e($$,{"number, number":V5,"BigNumber, BigNumber":Ohe,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>r(g,0)?v.clone():f(v,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>r(g,0)?v.clone():d(v,g,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,g)=>r(v,0)?i(g.size(),g.storage()):c(g,v,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(v,g)=>r(v,0)?i(g.size(),g.storage()):d(g,v,m,!0))},p,h({SS:u,DS:s,SD:l}))}),O$="rightLogShift",dge=["typed","matrix","equalScalar","zeros","DenseMatrix","concat"],hge=K(O$,dge,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,DenseMatrix:o,concat:a}=t,s=Ks({typed:e}),l=No({typed:e,equalScalar:r}),u=TS({typed:e,equalScalar:r}),c=Gl({typed:e,DenseMatrix:o}),f=fr({typed:e,equalScalar:r}),d=Mo({typed:e}),h=rn({typed:e,matrix:n,concat:a}),p=BS({typed:e,matrix:n});return e(O$,{"number, number":U5,"SparseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>r(g,0)?v.clone():f(v,g,m,!1)),"DenseMatrix, number | BigNumber":e.referToSelf(m=>(v,g)=>r(g,0)?v.clone():d(v,g,m,!1)),"number | BigNumber, SparseMatrix":e.referToSelf(m=>(v,g)=>r(v,0)?i(g.size(),g.storage()):c(g,v,m,!0)),"number | BigNumber, DenseMatrix":e.referToSelf(m=>(v,g)=>r(v,0)?i(g.size(),g.storage()):d(g,v,m,!0))},p,h({SS:u,DS:s,SD:l}))}),T$="and",pge=["typed","matrix","equalScalar","zeros","not","concat"],I_=K(T$,pge,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a}=t,s=No({typed:e,equalScalar:r}),l=Wv({typed:e,equalScalar:r}),u=fr({typed:e,equalScalar:r}),c=Mo({typed:e}),f=rn({typed:e,matrix:n,concat:a});return e(T$,{"number, number":X5,"Complex, Complex":function(h,p){return(h.re!==0||h.im!==0)&&(p.re!==0||p.im!==0)},"BigNumber, BigNumber":function(h,p){return!h.isZero()&&!p.isZero()&&!h.isNaN()&&!p.isNaN()},"Unit, Unit":e.referToSelf(d=>(h,p)=>d(h.value||0,p.value||0)),"SparseMatrix, any":e.referToSelf(d=>(h,p)=>o(p)?i(h.size(),h.storage()):u(h,p,d,!1)),"DenseMatrix, any":e.referToSelf(d=>(h,p)=>o(p)?i(h.size(),h.storage()):c(h,p,d,!1)),"any, SparseMatrix":e.referToSelf(d=>(h,p)=>o(h)?i(h.size(),h.storage()):u(p,h,d,!0)),"any, DenseMatrix":e.referToSelf(d=>(h,p)=>o(h)?i(h.size(),h.storage()):c(p,h,d,!0)),"Array, any":e.referToSelf(d=>(h,p)=>d(n(h),p).valueOf()),"any, Array":e.referToSelf(d=>(h,p)=>d(h,n(p)).valueOf())},f({SS:l,DS:s}))}),Mg="compare",mge=["typed","config","matrix","equalScalar","BigNumber","Fraction","DenseMatrix","concat"],gge=K(Mg,mge,t=>{var{typed:e,config:n,equalScalar:r,matrix:i,BigNumber:o,Fraction:a,DenseMatrix:s,concat:l}=t,u=qr({typed:e}),c=qv({typed:e,equalScalar:r}),f=Xn({typed:e,DenseMatrix:s}),d=rn({typed:e,matrix:i,concat:l}),h=Kc({typed:e});return e(Mg,vge({typed:e,config:n}),{"boolean, boolean":function(m,v){return m===v?0:m>v?1:-1},"BigNumber, BigNumber":function(m,v){return la(m,v,n.epsilon)?new o(0):new o(m.cmp(v))},"Fraction, Fraction":function(m,v){return new a(m.compare(v))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},h,d({SS:c,DS:u,Ss:f}))}),vge=K(Mg,["typed","config"],t=>{var{typed:e,config:n}=t;return e(Mg,{"number, number":function(i,o){return Di(i,o,n.epsilon)?0:i>o?1:-1}})}),yge=function t(e,n){var r=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,i=/(^[ ]*|[ ]*$)/g,o=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,a=/^0x[0-9a-f]+$/i,s=/^0/,l=function(y){return t.insensitive&&(""+y).toLowerCase()||""+y},u=l(e).replace(i,"")||"",c=l(n).replace(i,"")||"",f=u.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),d=c.replace(r,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),h=parseInt(u.match(a),16)||f.length!==1&&u.match(o)&&Date.parse(u),p=parseInt(c.match(a),16)||h&&c.match(o)&&Date.parse(c)||null,m,v;if(p){if(h<p)return-1;if(h>p)return 1}for(var g=0,w=Math.max(f.length,d.length);g<w;g++){if(m=!(f[g]||"").match(s)&&parseFloat(f[g])||f[g]||0,v=!(d[g]||"").match(s)&&parseFloat(d[g])||d[g]||0,isNaN(m)!==isNaN(v))return isNaN(m)?1:-1;if(typeof m!=typeof v&&(m+="",v+=""),m<v)return-1;if(m>v)return 1}return 0};const vu=Ud(yge);var B$="compareNatural",bge=["typed","compare"],xge=K(B$,bge,t=>{var{typed:e,compare:n}=t,r=n.signatures["boolean,boolean"];return e(B$,{"any, any":i});function i(l,u){var c=en(l),f=en(u),d;if((c==="number"||c==="BigNumber"||c==="Fraction")&&(f==="number"||f==="BigNumber"||f==="Fraction"))return d=n(l,u),d.toString()!=="0"?d>0?1:-1:vu(c,f);var h=["Array","DenseMatrix","SparseMatrix"];if(h.includes(c)||h.includes(f))return d=o(i,l,u),d!==0?d:vu(c,f);if(c!==f)return vu(c,f);if(c==="Complex")return wge(l,u);if(c==="Unit")return l.equalBase(u)?i(l.value,u.value):a(i,l.formatUnits(),u.formatUnits());if(c==="boolean")return r(l,u);if(c==="string")return vu(l,u);if(c==="Object")return s(i,l,u);if(c==="null"||c==="undefined")return 0;throw new TypeError('Unsupported type of value "'+c+'"')}function o(l,u,c){return xl(u)&&xl(c)?a(l,u.toJSON().values,c.toJSON().values):xl(u)?o(l,u.toArray(),c):xl(c)?o(l,u,c.toArray()):hg(u)?o(l,u.toJSON().data,c):hg(c)?o(l,u,c.toJSON().data):Array.isArray(u)?Array.isArray(c)?a(l,u,c):o(l,u,[c]):o(l,[u],c)}function a(l,u,c){for(var f=0,d=Math.min(u.length,c.length);f<d;f++){var h=l(u[f],c[f]);if(h!==0)return h}return u.length>c.length?1:u.length<c.length?-1:0}function s(l,u,c){var f=Object.keys(u),d=Object.keys(c);f.sort(vu),d.sort(vu);var h=a(l,f,d);if(h!==0)return h;for(var p=0;p<f.length;p++){var m=l(u[f[p]],c[d[p]]);if(m!==0)return m}return 0}});function wge(t,e){return t.re>e.re?1:t.re<e.re?-1:t.im>e.im?1:t.im<e.im?-1:0}var I$="compareText",Sge=["typed","matrix","concat"];H1.signature="any, any";var Cge=K(I$,Sge,t=>{var{typed:e,matrix:n,concat:r}=t,i=rn({typed:e,matrix:n,concat:r});return e(I$,H1,i({elop:H1,Ds:!0}))}),Ng="equal",Age=["typed","matrix","equalScalar","DenseMatrix","concat"],Dge=K(Ng,Age,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=qr({typed:e}),s=ca({typed:e,DenseMatrix:i}),l=Xn({typed:e,DenseMatrix:i}),u=rn({typed:e,matrix:n,concat:o});return e(Ng,Ege({typed:e,equalScalar:r}),u({elop:r,SS:s,DS:a,Ss:l}))}),Ege=K(Ng,["typed","equalScalar"],t=>{var{typed:e,equalScalar:n}=t;return e(Ng,{"any, any":function(i,o){return i===null?o===null:o===null?i===null:i===void 0?o===void 0:o===void 0?i===void 0:n(i,o)}})}),P$="equalText",Mge=["typed","compareText","isZero"],Nge=K(P$,Mge,t=>{var{typed:e,compareText:n,isZero:r}=t;return e(P$,{"any, any":function(o,a){return r(n(o,a))}})}),$g="smaller",$ge=["typed","config","matrix","DenseMatrix","concat"],Oge=K($g,$ge,t=>{var{typed:e,config:n,matrix:r,DenseMatrix:i,concat:o}=t,a=qr({typed:e}),s=ca({typed:e,DenseMatrix:i}),l=Xn({typed:e,DenseMatrix:i}),u=rn({typed:e,matrix:r,concat:o}),c=Kc({typed:e});return e($g,Tge({typed:e,config:n}),{"boolean, boolean":(f,d)=>f<d,"BigNumber, BigNumber":function(d,h){return d.lt(h)&&!la(d,h,n.epsilon)},"Fraction, Fraction":(f,d)=>f.compare(d)===-1,"Complex, Complex":function(d,h){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:a,Ss:l}))}),Tge=K($g,["typed","config"],t=>{var{typed:e,config:n}=t;return e($g,{"number, number":function(i,o){return i<o&&!Di(i,o,n.epsilon)}})}),Og="smallerEq",Bge=["typed","config","matrix","DenseMatrix","concat"],Ige=K(Og,Bge,t=>{var{typed:e,config:n,matrix:r,DenseMatrix:i,concat:o}=t,a=qr({typed:e}),s=ca({typed:e,DenseMatrix:i}),l=Xn({typed:e,DenseMatrix:i}),u=rn({typed:e,matrix:r,concat:o}),c=Kc({typed:e});return e(Og,Pge({typed:e,config:n}),{"boolean, boolean":(f,d)=>f<=d,"BigNumber, BigNumber":function(d,h){return d.lte(h)||la(d,h,n.epsilon)},"Fraction, Fraction":(f,d)=>f.compare(d)!==1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:a,Ss:l}))}),Pge=K(Og,["typed","config"],t=>{var{typed:e,config:n}=t;return e(Og,{"number, number":function(i,o){return i<=o||Di(i,o,n.epsilon)}})}),Tg="larger",kge=["typed","config","matrix","DenseMatrix","concat"],Fge=K(Tg,kge,t=>{var{typed:e,config:n,matrix:r,DenseMatrix:i,concat:o}=t,a=qr({typed:e}),s=ca({typed:e,DenseMatrix:i}),l=Xn({typed:e,DenseMatrix:i}),u=rn({typed:e,matrix:r,concat:o}),c=Kc({typed:e});return e(Tg,Rge({typed:e,config:n}),{"boolean, boolean":(f,d)=>f>d,"BigNumber, BigNumber":function(d,h){return d.gt(h)&&!la(d,h,n.epsilon)},"Fraction, Fraction":(f,d)=>f.compare(d)===1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:a,Ss:l}))}),Rge=K(Tg,["typed","config"],t=>{var{typed:e,config:n}=t;return e(Tg,{"number, number":function(i,o){return i>o&&!Di(i,o,n.epsilon)}})}),Bg="largerEq",_ge=["typed","config","matrix","DenseMatrix","concat"],zge=K(Bg,_ge,t=>{var{typed:e,config:n,matrix:r,DenseMatrix:i,concat:o}=t,a=qr({typed:e}),s=ca({typed:e,DenseMatrix:i}),l=Xn({typed:e,DenseMatrix:i}),u=rn({typed:e,matrix:r,concat:o}),c=Kc({typed:e});return e(Bg,Lge({typed:e,config:n}),{"boolean, boolean":(f,d)=>f>=d,"BigNumber, BigNumber":function(d,h){return d.gte(h)||la(d,h,n.epsilon)},"Fraction, Fraction":(f,d)=>f.compare(d)!==-1,"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")}},c,u({SS:s,DS:a,Ss:l}))}),Lge=K(Bg,["typed","config"],t=>{var{typed:e,config:n}=t;return e(Bg,{"number, number":function(i,o){return i>=o||Di(i,o,n.epsilon)}})}),k$="deepEqual",Hge=["typed","equal"],Vge=K(k$,Hge,t=>{var{typed:e,equal:n}=t;return e(k$,{"any, any":function(o,a){return r(o.valueOf(),a.valueOf())}});function r(i,o){if(Array.isArray(i))if(Array.isArray(o)){var a=i.length;if(a!==o.length)return!1;for(var s=0;s<a;s++)if(!r(i[s],o[s]))return!1;return!0}else return!1;else return Array.isArray(o)?!1:n(i,o)}}),Ig="unequal",Uge=["typed","config","equalScalar","matrix","DenseMatrix","concat"],qge=K(Ig,Uge,t=>{var{typed:e,config:n,equalScalar:r,matrix:i,DenseMatrix:o,concat:a}=t,s=qr({typed:e}),l=ca({typed:e,DenseMatrix:o}),u=Xn({typed:e,DenseMatrix:o}),c=rn({typed:e,matrix:i,concat:a});return e(Ig,Wge({typed:e,equalScalar:r}),c({elop:f,SS:l,DS:s,Ss:u}));function f(d,h){return!r(d,h)}}),Wge=K(Ig,["typed","equalScalar"],t=>{var{typed:e,equalScalar:n}=t;return e(Ig,{"any, any":function(i,o){return i===null?o!==null:o===null?i!==null:i===void 0?o!==void 0:o===void 0?i!==void 0:!n(i,o)}})}),F$="partitionSelect",jge=["typed","isNumeric","isNaN","compare"],Gge=K(F$,jge,t=>{var{typed:e,isNumeric:n,isNaN:r,compare:i}=t,o=i,a=(u,c)=>-i(u,c);return e(F$,{"Array | Matrix, number":function(c,f){return s(c,f,o)},"Array | Matrix, number, string":function(c,f,d){if(d==="asc")return s(c,f,o);if(d==="desc")return s(c,f,a);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":s});function s(u,c,f){if(!Ge(c)||c<0)throw new Error("k must be a non-negative integer");if(Je(u)){var d=u.size();if(d.length>1)throw new Error("Only one dimensional matrices supported");return l(u.valueOf(),c,f)}if(Array.isArray(u))return l(u,c,f)}function l(u,c,f){if(c>=u.length)throw new Error("k out of bounds");for(var d=0;d<u.length;d++)if(n(u[d])&&r(u[d]))return u[d];for(var h=0,p=u.length-1;h<p;){for(var m=h,v=p,g=u[Math.floor(Math.random()*(p-h+1))+h];m<v;)if(f(u[m],g)>=0){var w=u[v];u[v]=u[m],u[m]=w,--v}else++m;f(u[m],g)>0&&--m,c<=m?p=m:h=m+1}return u[c]}}),R$="sort",Xge=["typed","matrix","compare","compareNatural"],Kge=K(R$,Xge,t=>{var{typed:e,matrix:n,compare:r,compareNatural:i}=t,o=r,a=(c,f)=>-r(c,f);return e(R$,{Array:function(f){return l(f),f.sort(o)},Matrix:function(f){return u(f),n(f.toArray().sort(o),f.storage())},"Array, function":function(f,d){return l(f),f.sort(d)},"Matrix, function":function(f,d){return u(f),n(f.toArray().sort(d),f.storage())},"Array, string":function(f,d){return l(f),f.sort(s(d))},"Matrix, string":function(f,d){return u(f),n(f.toArray().sort(s(d)),f.storage())}});function s(c){if(c==="asc")return o;if(c==="desc")return a;if(c==="natural")return i;throw new Error('String "asc", "desc", or "natural" expected')}function l(c){if(mt(c).length!==1)throw new Error("One dimensional array expected")}function u(c){if(c.size().length!==1)throw new Error("One dimensional matrix expected")}}),_$="max",Yge=["typed","config","numeric","larger"],P_=K(_$,Yge,t=>{var{typed:e,config:n,numeric:r,larger:i}=t;return e(_$,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(l,u){return Vv(l,u.valueOf(),o)},"...":function(l){if(jc(l))throw new TypeError("Scalar values expected in function max");return a(l)}});function o(s,l){try{return i(s,l)?s:l}catch(u){throw Vr(u,"max",l)}}function a(s){var l;if(Ja(s,function(u){try{isNaN(u)&&typeof u=="number"?l=NaN:(l===void 0||i(u,l))&&(l=u)}catch(c){throw Vr(c,"max",u)}}),l===void 0)throw new Error("Cannot calculate max of an empty array");return typeof l=="string"&&(l=r(l,n.number)),l}}),z$="min",Zge=["typed","config","numeric","smaller"],k_=K(z$,Zge,t=>{var{typed:e,config:n,numeric:r,smaller:i}=t;return e(z$,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(l,u){return Vv(l,u.valueOf(),o)},"...":function(l){if(jc(l))throw new TypeError("Scalar values expected in function min");return a(l)}});function o(s,l){try{return i(s,l)?s:l}catch(u){throw Vr(u,"min",l)}}function a(s){var l;if(Ja(s,function(u){try{isNaN(u)&&typeof u=="number"?l=NaN:(l===void 0||i(u,l))&&(l=u)}catch(c){throw Vr(c,"min",u)}}),l===void 0)throw new Error("Cannot calculate min of an empty array");return typeof l=="string"&&(l=r(l,n.number)),l}}),Qge="ImmutableDenseMatrix",Jge=["smaller","DenseMatrix"],eve=K(Qge,Jge,t=>{var{smaller:e,DenseMatrix:n}=t;function r(i,o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(o&&!vr(o))throw new Error("Invalid datatype: "+o);if(Je(i)||_t(i)){var a=new n(i,o);this._data=a._data,this._size=a._size,this._datatype=a._datatype,this._min=null,this._max=null}else if(i&&_t(i.data)&&_t(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min<"u"?i.min:null,this._max=typeof i.max<"u"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+en(i)+")");this._data=[],this._size=[0],this._datatype=o,this._min=null,this._max=null}}return r.prototype=new n,r.prototype.type="ImmutableDenseMatrix",r.prototype.isImmutableDenseMatrix=!0,r.prototype.subset=function(i){switch(arguments.length){case 1:{var o=n.prototype.subset.call(this,i);return Je(o)?new r({data:o._data,size:o._size,datatype:o._datatype}):o}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},r.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},r.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},r.prototype.clone=function(){return new r({data:ct(this._data),size:ct(this._size),datatype:this._datatype})},r.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.fromJSON=function(i){return new r(i)},r.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},r.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(o){(i===null||e(o,i))&&(i=o)}),this._min=i!==null?i:void 0}return this._min},r.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(o){(i===null||e(i,o))&&(i=o)}),this._max=i!==null?i:void 0}return this._max},r},{isClass:!0}),tve="Index",nve=["ImmutableDenseMatrix","getMatrixDataType"],rve=K(tve,nve,t=>{var{ImmutableDenseMatrix:e,getMatrixDataType:n}=t;function r(o){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._sourceSize=[],this._isScalar=!0;for(var a=0,s=arguments.length;a<s;a++){var l=arguments[a],u=_t(l),c=Je(l),f=null;if(bS(l))this._dimensions.push(l),this._isScalar=!1;else if(u||c){var d=void 0;n(l)==="boolean"?(u&&(d=i(L$(l).valueOf())),c&&(d=i(L$(l._data).valueOf())),f=l.valueOf().length):d=i(l.valueOf()),this._dimensions.push(d);var h=d.size();(h.length!==1||h[0]!==1||f!==null)&&(this._isScalar=!1)}else if(typeof l=="number")this._dimensions.push(i([l]));else if(typeof l=="string")this._dimensions.push(l);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._sourceSize.push(f)}}r.prototype.type="Index",r.prototype.isIndex=!0;function i(o){for(var a=0,s=o.length;a<s;a++)if(typeof o[a]!="number"||!Ge(o[a]))throw new TypeError("Index parameters must be positive integer numbers");return new e(o)}return r.prototype.clone=function(){var o=new r;return o._dimensions=ct(this._dimensions),o._isScalar=this._isScalar,o._sourceSize=this._sourceSize,o},r.create=function(o){var a=new r;return r.apply(a,o),a},r.prototype.size=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];o[a]=typeof l=="string"?1:l.size()[0]}return o},r.prototype.max=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];o[a]=typeof l=="string"?l:l.max()}return o},r.prototype.min=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];o[a]=typeof l=="string"?l:l.min()}return o},r.prototype.forEach=function(o){for(var a=0,s=this._dimensions.length;a<s;a++)o(this._dimensions[a],a,this)},r.prototype.dimension=function(o){return this._dimensions[o]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];o.push(typeof l=="string"?l:l.toArray())}return o},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var o=[],a=0,s=this._dimensions.length;a<s;a++){var l=this._dimensions[a];typeof l=="string"?o.push(JSON.stringify(l)):o.push(l.toString())}return"["+o.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(o){return r.create(o.dimensions)},r},{isClass:!0});function L$(t){var e=[];return t.forEach((n,r)=>{n&&e.push(r)}),e}var ive="FibonacciHeap",ove=["smaller","larger"],ave=K(ive,ove,t=>{var{smaller:e,larger:n}=t,r=1/Math.log((1+Math.sqrt(5))/2);function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(c,f){var d={key:c,value:f,degree:0};if(this._minimum){var h=this._minimum;d.left=h,d.right=h.right,h.right=d,d.right.left=d,e(c,h.key)&&(this._minimum=d)}else d.left=d,d.right=d,this._minimum=d;return this._size++,d},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return this._size===0},i.prototype.extractMinimum=function(){var c=this._minimum;if(c===null)return c;for(var f=this._minimum,d=c.degree,h=c.child;d>0;){var p=h.right;h.left.right=h.right,h.right.left=h.left,h.left=f,h.right=f.right,f.right=h,h.right.left=h,h.parent=null,h=p,d--}return c.left.right=c.right,c.right.left=c.left,c===c.right?f=null:(f=c.right,f=u(f,this._size)),this._size--,this._minimum=f,c},i.prototype.remove=function(c){this._minimum=o(this._minimum,c,-1),this.extractMinimum()};function o(c,f,d){f.key=d;var h=f.parent;return h&&e(f.key,h.key)&&(a(c,f,h),s(c,h)),e(f.key,c.key)&&(c=f),c}function a(c,f,d){f.left.right=f.right,f.right.left=f.left,d.degree--,d.child===f&&(d.child=f.right),d.degree===0&&(d.child=null),f.left=c,f.right=c.right,c.right=f,f.right.left=f,f.parent=null,f.mark=!1}function s(c,f){var d=f.parent;d&&(f.mark?(a(c,f,d),s(d)):f.mark=!0)}var l=function(f,d){f.left.right=f.right,f.right.left=f.left,f.parent=d,d.child?(f.left=d.child,f.right=d.child.right,d.child.right=f,f.right.left=f):(d.child=f,f.right=f,f.left=f),d.degree++,f.mark=!1};function u(c,f){var d=Math.floor(Math.log(f)*r)+1,h=new Array(d),p=0,m=c;if(m)for(p++,m=m.right;m!==c;)p++,m=m.right;for(var v;p>0;){for(var g=m.degree,w=m.right;v=h[g],!!v;){if(n(m.key,v.key)){var y=v;v=m,m=y}l(v,m),h[g]=null,g++}h[g]=m,m=w,p--}c=null;for(var S=0;S<d;S++)v=h[S],v&&(c?(v.left.right=v.right,v.right.left=v.left,v.left=c,v.right=c.right,c.right=v,v.right.left=v,e(v.key,c.key)&&(c=v)):c=v);return c}return i},{isClass:!0}),sve="Spa",lve=["addScalar","equalScalar","FibonacciHeap"],uve=K(sve,lve,t=>{var{addScalar:e,equalScalar:n,FibonacciHeap:r}=t;function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r}return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(o,a){if(this._values[o])this._values[o].value=a;else{var s=this._heap.insert(o,a);this._values[o]=s}},i.prototype.get=function(o){var a=this._values[o];return a?a.value:0},i.prototype.accumulate=function(o,a){var s=this._values[o];s?s.value=e(s.value,a):(s=this._heap.insert(o,a),this._values[o]=s)},i.prototype.forEach=function(o,a,s){var l=this._heap,u=this._values,c=[],f=l.extractMinimum();for(f&&c.push(f);f&&f.key<=a;)f.key>=o&&(n(f.value,0)||s(f.key,f.value,this)),f=l.extractMinimum(),f&&c.push(f);for(var d=0;d<c.length;d++){var h=c[d];f=l.insert(h.key,h.value),u[f.key]=f}},i.prototype.swap=function(o,a){var s=this._values[o],l=this._values[a];if(!s&&l)s=this._heap.insert(o,l.value),this._heap.remove(l),this._values[o]=s,this._values[a]=void 0;else if(s&&!l)l=this._heap.insert(a,s.value),this._heap.remove(s),this._values[a]=l,this._values[o]=void 0;else if(s&&l){var u=s.value;s.value=l.value,l.value=u}},i},{isClass:!0}),cve=lh(function(t){return new t(1).exp()},{hasher:jv}),fve=lh(function(t){return new t(1).plus(new t(5).sqrt()).div(2)},{hasher:jv}),IS=lh(function(t){return t.acos(-1)},{hasher:jv}),dve=lh(function(t){return IS(t).times(2)},{hasher:jv});function jv(t){return t[0].precision}function H$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ty(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H$(Object(n),!0).forEach(function(r){Gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var hve="Unit",pve=["?on","config","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","abs","fix","round","equal","isNumeric","format","number","Complex","BigNumber","Fraction"],mve=K(hve,pve,t=>{var{on:e,config:n,addScalar:r,subtractScalar:i,multiplyScalar:o,divideScalar:a,pow:s,abs:l,fix:u,round:c,equal:f,isNumeric:d,format:h,number:p,Complex:m,BigNumber:v,Fraction:g}=t,w=p;function y(U,Z){if(!(this instanceof y))throw new Error("Constructor must be called with the new operator");if(!(U==null||d(U)||Fa(U)))throw new TypeError("First parameter in Unit constructor must be number, BigNumber, Fraction, Complex, or undefined");if(this.fixPrefix=!1,this.skipAutomaticSimplification=!0,Z===void 0)this.units=[],this.dimensions=z.map(Q=>0);else if(typeof Z=="string"){var fe=y.parse(Z);this.units=fe.units,this.dimensions=fe.dimensions}else if(Fi(Z)&&Z.value===null)this.fixPrefix=Z.fixPrefix,this.skipAutomaticSimplification=Z.skipAutomaticSimplification,this.dimensions=Z.dimensions.slice(0),this.units=Z.units.map(Q=>jn({},Q));else throw new TypeError("Second parameter in Unit constructor must be a string or valueless Unit");this.value=this._normalize(U)}Object.defineProperty(y,"name",{value:"Unit"}),y.prototype.constructor=y,y.prototype.type="Unit",y.prototype.isUnit=!0;var S,x,b;function C(){for(;b===" "||b==="	";)E()}function A(U){return U>="0"&&U<="9"||U==="."}function D(U){return U>="0"&&U<="9"}function E(){x++,b=S.charAt(x)}function M(U){x=U,b=S.charAt(x)}function B(){var U="",Z=x;if(b==="+"?E():b==="-"&&(U+=b,E()),!A(b))return M(Z),null;if(b==="."){if(U+=b,E(),!D(b))return M(Z),null}else{for(;D(b);)U+=b,E();b==="."&&(U+=b,E())}for(;D(b);)U+=b,E();if(b==="E"||b==="e"){var fe="",Q=x;if(fe+=b,E(),(b==="+"||b==="-")&&(fe+=b,E()),!D(b))return M(Q),U;for(U=U+fe;D(b);)U+=b,E()}return U}function P(){for(var U="";D(b)||y.isValidAlpha(b);)U+=b,E();var Z=U.charAt(0);return y.isValidAlpha(Z)?U:null}function F(U){return b===U?(E(),U):null}y.parse=function(U,Z){if(Z=Z||{},S=U,x=-1,b="",typeof S!="string")throw new TypeError("Invalid argument in Unit.parse, string expected");var fe=new y;fe.units=[];var Q=1,re=!1;E(),C();var ue=B(),ye=null;if(ue){if(n.number==="BigNumber")ye=new v(ue);else if(n.number==="Fraction")try{ye=new g(ue)}catch{ye=parseFloat(ue)}else ye=parseFloat(ue);C(),F("*")?(Q=1,re=!0):F("/")&&(Q=-1,re=!0)}for(var xe=[],G=1;;){for(C();b==="(";)xe.push(Q),G*=Q,Q=1,E(),C();var te=void 0;if(b){var he=b;if(te=P(),te===null)throw new SyntaxError('Unexpected "'+he+'" in "'+S+'" at index '+x.toString())}else break;var ce=$(te);if(ce===null)throw new SyntaxError('Unit "'+te+'" not found.');var pe=Q*G;if(C(),F("^")){C();var me=B();if(me===null)throw new SyntaxError('In "'+U+'", "^" must be followed by a floating-point number');pe*=me}fe.units.push({unit:ce.unit,prefix:ce.prefix,power:pe});for(var $e=0;$e<z.length;$e++)fe.dimensions[$e]+=(ce.unit.dimensions[$e]||0)*pe;for(C();b===")";){if(xe.length===0)throw new SyntaxError('Unmatched ")" in "'+S+'" at index '+x.toString());G/=xe.pop(),E(),C()}if(re=!1,F("*")?(Q=1,re=!0):F("/")?(Q=-1,re=!0):Q=1,ce.unit.base){var Ne=ce.unit.base.key;Y.auto[Ne]={unit:ce.unit,prefix:ce.prefix}}}if(C(),b)throw new SyntaxError('Could not parse: "'+U+'"');if(re)throw new SyntaxError('Trailing characters: "'+U+'"');if(xe.length!==0)throw new SyntaxError('Unmatched "(" in "'+S+'"');if(fe.units.length===0&&!Z.allowNoUnits)throw new SyntaxError('"'+U+'" contains no units');return fe.value=ye!==void 0?fe._normalize(ye):null,fe},y.prototype.clone=function(){var U=new y;U.fixPrefix=this.fixPrefix,U.skipAutomaticSimplification=this.skipAutomaticSimplification,U.value=ct(this.value),U.dimensions=this.dimensions.slice(0),U.units=[];for(var Z=0;Z<this.units.length;Z++){U.units[Z]={};for(var fe in this.units[Z])Ve(this.units[Z],fe)&&(U.units[Z][fe]=this.units[Z][fe])}return U},y.prototype.valueType=function(){return en(this.value)},y.prototype._isDerived=function(){return this.units.length===0?!1:this.units.length>1||Math.abs(this.units[0].power-1)>1e-15},y.prototype._normalize=function(U){if(U==null||this.units.length===0)return U;for(var Z=U,fe=y._getNumberConverter(en(U)),Q=0;Q<this.units.length;Q++){var re=fe(this.units[Q].unit.value),ue=fe(this.units[Q].prefix.value),ye=fe(this.units[Q].power);Z=o(Z,s(o(re,ue),ye))}return Z},y.prototype._denormalize=function(U,Z){if(U==null||this.units.length===0)return U;for(var fe=U,Q=y._getNumberConverter(en(U)),re=0;re<this.units.length;re++){var ue=Q(this.units[re].unit.value),ye=Q(this.units[re].prefix.value),xe=Q(this.units[re].power);fe=a(fe,s(o(ue,ye),xe))}return fe};var $=lh(U=>{if(Ve(L,U)){var Z=L[U],fe=Z.prefixes[""];return{unit:Z,prefix:fe}}for(var Q in L)if(Ve(L,Q)&&nue(U,Q)){var re=L[Q],ue=U.length-Q.length,ye=U.substring(0,ue),xe=Ve(re.prefixes,ye)?re.prefixes[ye]:void 0;if(xe!==void 0)return{unit:re,prefix:xe}}return null},{hasher:U=>U[0],limit:100});y.isValuelessUnit=function(U){return $(U)!==null},y.prototype.hasBase=function(U){if(typeof U=="string"&&(U=I[U]),!U)return!1;for(var Z=0;Z<z.length;Z++)if(Math.abs((this.dimensions[Z]||0)-(U.dimensions[Z]||0))>1e-12)return!1;return!0},y.prototype.equalBase=function(U){for(var Z=0;Z<z.length;Z++)if(Math.abs((this.dimensions[Z]||0)-(U.dimensions[Z]||0))>1e-12)return!1;return!0},y.prototype.equals=function(U){return this.equalBase(U)&&f(this.value,U.value)},y.prototype.multiply=function(U){for(var Z=this.clone(),fe=Fi(U)?U:new y(U),Q=0;Q<z.length;Q++)Z.dimensions[Q]=(this.dimensions[Q]||0)+(fe.dimensions[Q]||0);for(var re=0;re<fe.units.length;re++){var ue=Ty({},fe.units[re]);Z.units.push(ue)}if(this.value!==null||fe.value!==null){var ye=this.value===null?this._normalize(1):this.value,xe=fe.value===null?fe._normalize(1):fe.value;Z.value=o(ye,xe)}else Z.value=null;return Fi(U)&&(Z.skipAutomaticSimplification=!1),N(Z)},y.prototype.divideInto=function(U){return new y(U).divide(this)},y.prototype.divide=function(U){for(var Z=this.clone(),fe=Fi(U)?U:new y(U),Q=0;Q<z.length;Q++)Z.dimensions[Q]=(this.dimensions[Q]||0)-(fe.dimensions[Q]||0);for(var re=0;re<fe.units.length;re++){var ue=Ty(Ty({},fe.units[re]),{},{power:-fe.units[re].power});Z.units.push(ue)}if(this.value!==null||fe.value!==null){var ye=this.value===null?this._normalize(1):this.value,xe=fe.value===null?fe._normalize(1):fe.value;Z.value=a(ye,xe)}else Z.value=null;return Fi(U)&&(Z.skipAutomaticSimplification=!1),N(Z)},y.prototype.pow=function(U){for(var Z=this.clone(),fe=0;fe<z.length;fe++)Z.dimensions[fe]=(this.dimensions[fe]||0)*U;for(var Q=0;Q<Z.units.length;Q++)Z.units[Q].power*=U;return Z.value!==null?Z.value=s(Z.value,U):Z.value=null,Z.skipAutomaticSimplification=!1,N(Z)};function N(U){return U.equalBase(I.NONE)&&U.value!==null&&!n.predictable?U.value:U}y.prototype.abs=function(){var U=this.clone();if(U.value!==null)if(U._isDerived()||U.units.length===0||U.units[0].unit.offset===0)U.value=l(U.value);else{var Z=U._numberConverter(),fe=Z(U.units[0].unit.value),Q=Z(U.units[0].unit.offset),re=o(fe,Q);U.value=i(l(r(U.value,re)),re)}for(var ue in U.units)(U.units[ue].unit.name==="VA"||U.units[ue].unit.name==="VAR")&&(U.units[ue].unit=L.W);return U},y.prototype.to=function(U){var Z=this.value===null?this._normalize(1):this.value,fe;if(typeof U=="string")fe=y.parse(U);else if(Fi(U))fe=U.clone();else throw new Error("String or Unit expected as parameter");if(!this.equalBase(fe))throw new Error("Units do not match ('".concat(fe.toString(),"' != '").concat(this.toString(),"')"));if(fe.value!==null)throw new Error("Cannot convert to a unit with a value");if(this.value===null||this._isDerived()||this.units.length===0||fe.units.length===0||this.units[0].unit.offset===fe.units[0].unit.offset)fe.value=ct(Z);else{var Q=y._getNumberConverter(en(Z)),re=this.units[0].unit.value,ue=this.units[0].unit.offset,ye=o(re,ue),xe=fe.units[0].unit.value,G=fe.units[0].unit.offset,te=o(xe,G);fe.value=r(Z,Q(i(ye,te)))}return fe.fixPrefix=!0,fe.skipAutomaticSimplification=!0,fe},y.prototype.toNumber=function(U){return w(this.toNumeric(U))},y.prototype.toNumeric=function(U){var Z;return U?Z=this.to(U):Z=this.clone(),Z._isDerived()||Z.units.length===0?Z._denormalize(Z.value):Z._denormalize(Z.value,Z.units[0].prefix.value)},y.prototype.toString=function(){return this.format()},y.prototype.toJSON=function(){return{mathjs:"Unit",value:this._denormalize(this.value),unit:this.formatUnits(),fixPrefix:this.fixPrefix}},y.fromJSON=function(U){var Z=new y(U.value,U.unit);return Z.fixPrefix=U.fixPrefix||!1,Z},y.prototype.valueOf=y.prototype.toString,y.prototype.simplify=function(){var U=this.clone(),Z=[],fe;for(var Q in ee)if(Ve(ee,Q)&&U.hasBase(I[Q])){fe=Q;break}if(fe==="NONE")U.units=[];else{var re;if(fe&&Ve(ee,fe)&&(re=ee[fe]),re)U.units=[{unit:re.unit,prefix:re.prefix,power:1}];else{for(var ue=!1,ye=0;ye<z.length;ye++){var xe=z[ye];Math.abs(U.dimensions[ye]||0)>1e-12&&(Ve(ee,xe)?Z.push({unit:ee[xe].unit,prefix:ee[xe].prefix,power:U.dimensions[ye]||0}):ue=!0)}Z.length<U.units.length&&!ue&&(U.units=Z)}}return U},y.prototype.toSI=function(){for(var U=this.clone(),Z=[],fe=0;fe<z.length;fe++){var Q=z[fe];if(Math.abs(U.dimensions[fe]||0)>1e-12)if(Ve(Y.si,Q))Z.push({unit:Y.si[Q].unit,prefix:Y.si[Q].prefix,power:U.dimensions[fe]||0});else throw new Error("Cannot express custom unit "+Q+" in SI units")}return U.units=Z,U.fixPrefix=!0,U.skipAutomaticSimplification=!0,this.value!==null?(U.value=null,this.to(U)):U},y.prototype.formatUnits=function(){for(var U="",Z="",fe=0,Q=0,re=0;re<this.units.length;re++)this.units[re].power>0?(fe++,U+=" "+this.units[re].prefix.name+this.units[re].unit.name,Math.abs(this.units[re].power-1)>1e-15&&(U+="^"+this.units[re].power)):this.units[re].power<0&&Q++;if(Q>0)for(var ue=0;ue<this.units.length;ue++)this.units[ue].power<0&&(fe>0?(Z+=" "+this.units[ue].prefix.name+this.units[ue].unit.name,Math.abs(this.units[ue].power+1)>1e-15&&(Z+="^"+-this.units[ue].power)):(Z+=" "+this.units[ue].prefix.name+this.units[ue].unit.name,Z+="^"+this.units[ue].power));U=U.substr(1),Z=Z.substr(1),fe>1&&Q>0&&(U="("+U+")"),Q>1&&fe>0&&(Z="("+Z+")");var ye=U;return fe>0&&Q>0&&(ye+=" / "),ye+=Z,ye},y.prototype.format=function(U){var Z=this.skipAutomaticSimplification||this.value===null?this.clone():this.simplify(),fe=!1;typeof Z.value<"u"&&Z.value!==null&&Fa(Z.value)&&(fe=Math.abs(Z.value.re)<1e-14);for(var Q in Z.units)Ve(Z.units,Q)&&Z.units[Q].unit&&(Z.units[Q].unit.name==="VA"&&fe?Z.units[Q].unit=L.VAR:Z.units[Q].unit.name==="VAR"&&!fe&&(Z.units[Q].unit=L.VA));Z.units.length===1&&!Z.fixPrefix&&Math.abs(Z.units[0].power-Math.round(Z.units[0].power))<1e-14&&(Z.units[0].prefix=Z._bestPrefix());var re=Z._denormalize(Z.value),ue=Z.value!==null?h(re,U||{}):"",ye=Z.formatUnits();return Z.value&&Fa(Z.value)&&(ue="("+ue+")"),ye.length>0&&ue.length>0&&(ue+=" "),ue+=ye,ue},y.prototype._bestPrefix=function(){if(this.units.length!==1)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");if(Math.abs(this.units[0].power-Math.round(this.units[0].power))>=1e-14)throw new Error("Can only compute the best prefix for single units with integer powers, like kg, s^2, N^-1, and so forth!");var U=this.value!==null?l(this.value):0,Z=l(this.units[0].unit.value),fe=this.units[0].prefix;if(U===0)return fe;var Q=this.units[0].power,re=Math.log(U/Math.pow(fe.value*Z,Q))/Math.LN10-1.2;if(re>-2.200001&&re<1.800001)return fe;re=Math.abs(re);var ue=this.units[0].unit.prefixes;for(var ye in ue)if(Ve(ue,ye)){var xe=ue[ye];if(xe.scientific){var G=Math.abs(Math.log(U/Math.pow(xe.value*Z,Q))/Math.LN10-1.2);(G<re||G===re&&xe.name.length<fe.name.length)&&(fe=xe,re=G)}}return fe},y.prototype.splitUnit=function(U){for(var Z=this.clone(),fe=[],Q=0;Q<U.length&&(Z=Z.to(U[Q]),Q!==U.length-1);Q++){var re=Z.toNumeric(),ue=c(re),ye=void 0,xe=f(ue,re);xe?ye=ue:ye=u(Z.toNumeric());var G=new y(ye,U[Q].toString());fe.push(G),Z=i(Z,G)}for(var te=0,he=0;he<fe.length;he++)te=r(te,fe[he].value);return f(te,this.value)&&(Z.value=0),fe.push(Z),fe};var T={NONE:{"":{name:"",value:1,scientific:!0}},SHORT:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:10,scientific:!1},h:{name:"h",value:100,scientific:!1},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0},R:{name:"R",value:1e27,scientific:!0},Q:{name:"Q",value:1e30,scientific:!0},d:{name:"d",value:.1,scientific:!1},c:{name:"c",value:.01,scientific:!1},m:{name:"m",value:.001,scientific:!0},u:{name:"u",value:1e-6,scientific:!0},n:{name:"n",value:1e-9,scientific:!0},p:{name:"p",value:1e-12,scientific:!0},f:{name:"f",value:1e-15,scientific:!0},a:{name:"a",value:1e-18,scientific:!0},z:{name:"z",value:1e-21,scientific:!0},y:{name:"y",value:1e-24,scientific:!0},r:{name:"r",value:1e-27,scientific:!0},q:{name:"q",value:1e-30,scientific:!0}},LONG:{"":{name:"",value:1,scientific:!0},deca:{name:"deca",value:10,scientific:!1},hecto:{name:"hecto",value:100,scientific:!1},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0},ronna:{name:"ronna",value:1e27,scientific:!0},quetta:{name:"quetta",value:1e30,scientific:!0},deci:{name:"deci",value:.1,scientific:!1},centi:{name:"centi",value:.01,scientific:!1},milli:{name:"milli",value:.001,scientific:!0},micro:{name:"micro",value:1e-6,scientific:!0},nano:{name:"nano",value:1e-9,scientific:!0},pico:{name:"pico",value:1e-12,scientific:!0},femto:{name:"femto",value:1e-15,scientific:!0},atto:{name:"atto",value:1e-18,scientific:!0},zepto:{name:"zepto",value:1e-21,scientific:!0},yocto:{name:"yocto",value:1e-24,scientific:!0},ronto:{name:"ronto",value:1e-27,scientific:!0},quecto:{name:"quecto",value:1e-30,scientific:!0}},SQUARED:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:100,scientific:!1},h:{name:"h",value:1e4,scientific:!1},k:{name:"k",value:1e6,scientific:!0},M:{name:"M",value:1e12,scientific:!0},G:{name:"G",value:1e18,scientific:!0},T:{name:"T",value:1e24,scientific:!0},P:{name:"P",value:1e30,scientific:!0},E:{name:"E",value:1e36,scientific:!0},Z:{name:"Z",value:1e42,scientific:!0},Y:{name:"Y",value:1e48,scientific:!0},R:{name:"R",value:1e54,scientific:!0},Q:{name:"Q",value:1e60,scientific:!0},d:{name:"d",value:.01,scientific:!1},c:{name:"c",value:1e-4,scientific:!1},m:{name:"m",value:1e-6,scientific:!0},u:{name:"u",value:1e-12,scientific:!0},n:{name:"n",value:1e-18,scientific:!0},p:{name:"p",value:1e-24,scientific:!0},f:{name:"f",value:1e-30,scientific:!0},a:{name:"a",value:1e-36,scientific:!0},z:{name:"z",value:1e-42,scientific:!0},y:{name:"y",value:1e-48,scientific:!0},r:{name:"r",value:1e-54,scientific:!0},q:{name:"q",value:1e-60,scientific:!0}},CUBIC:{"":{name:"",value:1,scientific:!0},da:{name:"da",value:1e3,scientific:!1},h:{name:"h",value:1e6,scientific:!1},k:{name:"k",value:1e9,scientific:!0},M:{name:"M",value:1e18,scientific:!0},G:{name:"G",value:1e27,scientific:!0},T:{name:"T",value:1e36,scientific:!0},P:{name:"P",value:1e45,scientific:!0},E:{name:"E",value:1e54,scientific:!0},Z:{name:"Z",value:1e63,scientific:!0},Y:{name:"Y",value:1e72,scientific:!0},R:{name:"R",value:1e81,scientific:!0},Q:{name:"Q",value:1e90,scientific:!0},d:{name:"d",value:.001,scientific:!1},c:{name:"c",value:1e-6,scientific:!1},m:{name:"m",value:1e-9,scientific:!0},u:{name:"u",value:1e-18,scientific:!0},n:{name:"n",value:1e-27,scientific:!0},p:{name:"p",value:1e-36,scientific:!0},f:{name:"f",value:1e-45,scientific:!0},a:{name:"a",value:1e-54,scientific:!0},z:{name:"z",value:1e-63,scientific:!0},y:{name:"y",value:1e-72,scientific:!0},r:{name:"r",value:1e-81,scientific:!0},q:{name:"q",value:1e-90,scientific:!0}},BINARY_SHORT_SI:{"":{name:"",value:1,scientific:!0},k:{name:"k",value:1e3,scientific:!0},M:{name:"M",value:1e6,scientific:!0},G:{name:"G",value:1e9,scientific:!0},T:{name:"T",value:1e12,scientific:!0},P:{name:"P",value:1e15,scientific:!0},E:{name:"E",value:1e18,scientific:!0},Z:{name:"Z",value:1e21,scientific:!0},Y:{name:"Y",value:1e24,scientific:!0}},BINARY_SHORT_IEC:{"":{name:"",value:1,scientific:!0},Ki:{name:"Ki",value:1024,scientific:!0},Mi:{name:"Mi",value:Math.pow(1024,2),scientific:!0},Gi:{name:"Gi",value:Math.pow(1024,3),scientific:!0},Ti:{name:"Ti",value:Math.pow(1024,4),scientific:!0},Pi:{name:"Pi",value:Math.pow(1024,5),scientific:!0},Ei:{name:"Ei",value:Math.pow(1024,6),scientific:!0},Zi:{name:"Zi",value:Math.pow(1024,7),scientific:!0},Yi:{name:"Yi",value:Math.pow(1024,8),scientific:!0}},BINARY_LONG_SI:{"":{name:"",value:1,scientific:!0},kilo:{name:"kilo",value:1e3,scientific:!0},mega:{name:"mega",value:1e6,scientific:!0},giga:{name:"giga",value:1e9,scientific:!0},tera:{name:"tera",value:1e12,scientific:!0},peta:{name:"peta",value:1e15,scientific:!0},exa:{name:"exa",value:1e18,scientific:!0},zetta:{name:"zetta",value:1e21,scientific:!0},yotta:{name:"yotta",value:1e24,scientific:!0}},BINARY_LONG_IEC:{"":{name:"",value:1,scientific:!0},kibi:{name:"kibi",value:1024,scientific:!0},mebi:{name:"mebi",value:Math.pow(1024,2),scientific:!0},gibi:{name:"gibi",value:Math.pow(1024,3),scientific:!0},tebi:{name:"tebi",value:Math.pow(1024,4),scientific:!0},pebi:{name:"pebi",value:Math.pow(1024,5),scientific:!0},exi:{name:"exi",value:Math.pow(1024,6),scientific:!0},zebi:{name:"zebi",value:Math.pow(1024,7),scientific:!0},yobi:{name:"yobi",value:Math.pow(1024,8),scientific:!0}},BTU:{"":{name:"",value:1,scientific:!0},MM:{name:"MM",value:1e6,scientific:!0}}};T.SHORTLONG=jn({},T.SHORT,T.LONG),T.BINARY_SHORT=jn({},T.BINARY_SHORT_SI,T.BINARY_SHORT_IEC),T.BINARY_LONG=jn({},T.BINARY_LONG_SI,T.BINARY_LONG_IEC);var z=["MASS","LENGTH","TIME","CURRENT","TEMPERATURE","LUMINOUS_INTENSITY","AMOUNT_OF_SUBSTANCE","ANGLE","BIT"],I={NONE:{dimensions:[0,0,0,0,0,0,0,0,0]},MASS:{dimensions:[1,0,0,0,0,0,0,0,0]},LENGTH:{dimensions:[0,1,0,0,0,0,0,0,0]},TIME:{dimensions:[0,0,1,0,0,0,0,0,0]},CURRENT:{dimensions:[0,0,0,1,0,0,0,0,0]},TEMPERATURE:{dimensions:[0,0,0,0,1,0,0,0,0]},LUMINOUS_INTENSITY:{dimensions:[0,0,0,0,0,1,0,0,0]},AMOUNT_OF_SUBSTANCE:{dimensions:[0,0,0,0,0,0,1,0,0]},FORCE:{dimensions:[1,1,-2,0,0,0,0,0,0]},SURFACE:{dimensions:[0,2,0,0,0,0,0,0,0]},VOLUME:{dimensions:[0,3,0,0,0,0,0,0,0]},ENERGY:{dimensions:[1,2,-2,0,0,0,0,0,0]},POWER:{dimensions:[1,2,-3,0,0,0,0,0,0]},PRESSURE:{dimensions:[1,-1,-2,0,0,0,0,0,0]},ELECTRIC_CHARGE:{dimensions:[0,0,1,1,0,0,0,0,0]},ELECTRIC_CAPACITANCE:{dimensions:[-1,-2,4,2,0,0,0,0,0]},ELECTRIC_POTENTIAL:{dimensions:[1,2,-3,-1,0,0,0,0,0]},ELECTRIC_RESISTANCE:{dimensions:[1,2,-3,-2,0,0,0,0,0]},ELECTRIC_INDUCTANCE:{dimensions:[1,2,-2,-2,0,0,0,0,0]},ELECTRIC_CONDUCTANCE:{dimensions:[-1,-2,3,2,0,0,0,0,0]},MAGNETIC_FLUX:{dimensions:[1,2,-2,-1,0,0,0,0,0]},MAGNETIC_FLUX_DENSITY:{dimensions:[1,0,-2,-1,0,0,0,0,0]},FREQUENCY:{dimensions:[0,0,-1,0,0,0,0,0,0]},ANGLE:{dimensions:[0,0,0,0,0,0,0,1,0]},BIT:{dimensions:[0,0,0,0,0,0,0,0,1]}};for(var q in I)Ve(I,q)&&(I[q].key=q);var X={},V={name:"",base:X,value:1,offset:0,dimensions:z.map(U=>0)},L={meter:{name:"meter",base:I.LENGTH,prefixes:T.LONG,value:1,offset:0},inch:{name:"inch",base:I.LENGTH,prefixes:T.NONE,value:.0254,offset:0},foot:{name:"foot",base:I.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yard:{name:"yard",base:I.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mile:{name:"mile",base:I.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},link:{name:"link",base:I.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rod:{name:"rod",base:I.LENGTH,prefixes:T.NONE,value:5.0292,offset:0},chain:{name:"chain",base:I.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},angstrom:{name:"angstrom",base:I.LENGTH,prefixes:T.NONE,value:1e-10,offset:0},m:{name:"m",base:I.LENGTH,prefixes:T.SHORT,value:1,offset:0},in:{name:"in",base:I.LENGTH,prefixes:T.NONE,value:.0254,offset:0},ft:{name:"ft",base:I.LENGTH,prefixes:T.NONE,value:.3048,offset:0},yd:{name:"yd",base:I.LENGTH,prefixes:T.NONE,value:.9144,offset:0},mi:{name:"mi",base:I.LENGTH,prefixes:T.NONE,value:1609.344,offset:0},li:{name:"li",base:I.LENGTH,prefixes:T.NONE,value:.201168,offset:0},rd:{name:"rd",base:I.LENGTH,prefixes:T.NONE,value:5.02921,offset:0},ch:{name:"ch",base:I.LENGTH,prefixes:T.NONE,value:20.1168,offset:0},mil:{name:"mil",base:I.LENGTH,prefixes:T.NONE,value:254e-7,offset:0},m2:{name:"m2",base:I.SURFACE,prefixes:T.SQUARED,value:1,offset:0},sqin:{name:"sqin",base:I.SURFACE,prefixes:T.NONE,value:64516e-8,offset:0},sqft:{name:"sqft",base:I.SURFACE,prefixes:T.NONE,value:.09290304,offset:0},sqyd:{name:"sqyd",base:I.SURFACE,prefixes:T.NONE,value:.83612736,offset:0},sqmi:{name:"sqmi",base:I.SURFACE,prefixes:T.NONE,value:2589988110336e-6,offset:0},sqrd:{name:"sqrd",base:I.SURFACE,prefixes:T.NONE,value:25.29295,offset:0},sqch:{name:"sqch",base:I.SURFACE,prefixes:T.NONE,value:404.6873,offset:0},sqmil:{name:"sqmil",base:I.SURFACE,prefixes:T.NONE,value:64516e-14,offset:0},acre:{name:"acre",base:I.SURFACE,prefixes:T.NONE,value:4046.86,offset:0},hectare:{name:"hectare",base:I.SURFACE,prefixes:T.NONE,value:1e4,offset:0},m3:{name:"m3",base:I.VOLUME,prefixes:T.CUBIC,value:1,offset:0},L:{name:"L",base:I.VOLUME,prefixes:T.SHORT,value:.001,offset:0},l:{name:"l",base:I.VOLUME,prefixes:T.SHORT,value:.001,offset:0},litre:{name:"litre",base:I.VOLUME,prefixes:T.LONG,value:.001,offset:0},cuin:{name:"cuin",base:I.VOLUME,prefixes:T.NONE,value:16387064e-12,offset:0},cuft:{name:"cuft",base:I.VOLUME,prefixes:T.NONE,value:.028316846592,offset:0},cuyd:{name:"cuyd",base:I.VOLUME,prefixes:T.NONE,value:.764554857984,offset:0},teaspoon:{name:"teaspoon",base:I.VOLUME,prefixes:T.NONE,value:5e-6,offset:0},tablespoon:{name:"tablespoon",base:I.VOLUME,prefixes:T.NONE,value:15e-6,offset:0},drop:{name:"drop",base:I.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},gtt:{name:"gtt",base:I.VOLUME,prefixes:T.NONE,value:5e-8,offset:0},minim:{name:"minim",base:I.VOLUME,prefixes:T.NONE,value:6161152e-14,offset:0},fluiddram:{name:"fluiddram",base:I.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},fluidounce:{name:"fluidounce",base:I.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gill:{name:"gill",base:I.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cc:{name:"cc",base:I.VOLUME,prefixes:T.NONE,value:1e-6,offset:0},cup:{name:"cup",base:I.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pint:{name:"pint",base:I.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},quart:{name:"quart",base:I.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gallon:{name:"gallon",base:I.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},beerbarrel:{name:"beerbarrel",base:I.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},oilbarrel:{name:"oilbarrel",base:I.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},hogshead:{name:"hogshead",base:I.VOLUME,prefixes:T.NONE,value:.238481,offset:0},fldr:{name:"fldr",base:I.VOLUME,prefixes:T.NONE,value:36966911e-13,offset:0},floz:{name:"floz",base:I.VOLUME,prefixes:T.NONE,value:2957353e-11,offset:0},gi:{name:"gi",base:I.VOLUME,prefixes:T.NONE,value:.0001182941,offset:0},cp:{name:"cp",base:I.VOLUME,prefixes:T.NONE,value:.0002365882,offset:0},pt:{name:"pt",base:I.VOLUME,prefixes:T.NONE,value:.0004731765,offset:0},qt:{name:"qt",base:I.VOLUME,prefixes:T.NONE,value:.0009463529,offset:0},gal:{name:"gal",base:I.VOLUME,prefixes:T.NONE,value:.003785412,offset:0},bbl:{name:"bbl",base:I.VOLUME,prefixes:T.NONE,value:.1173478,offset:0},obl:{name:"obl",base:I.VOLUME,prefixes:T.NONE,value:.1589873,offset:0},g:{name:"g",base:I.MASS,prefixes:T.SHORT,value:.001,offset:0},gram:{name:"gram",base:I.MASS,prefixes:T.LONG,value:.001,offset:0},ton:{name:"ton",base:I.MASS,prefixes:T.SHORT,value:907.18474,offset:0},t:{name:"t",base:I.MASS,prefixes:T.SHORT,value:1e3,offset:0},tonne:{name:"tonne",base:I.MASS,prefixes:T.LONG,value:1e3,offset:0},grain:{name:"grain",base:I.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dram:{name:"dram",base:I.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},ounce:{name:"ounce",base:I.MASS,prefixes:T.NONE,value:.028349523125,offset:0},poundmass:{name:"poundmass",base:I.MASS,prefixes:T.NONE,value:.45359237,offset:0},hundredweight:{name:"hundredweight",base:I.MASS,prefixes:T.NONE,value:45.359237,offset:0},stick:{name:"stick",base:I.MASS,prefixes:T.NONE,value:.115,offset:0},stone:{name:"stone",base:I.MASS,prefixes:T.NONE,value:6.35029318,offset:0},gr:{name:"gr",base:I.MASS,prefixes:T.NONE,value:6479891e-11,offset:0},dr:{name:"dr",base:I.MASS,prefixes:T.NONE,value:.0017718451953125,offset:0},oz:{name:"oz",base:I.MASS,prefixes:T.NONE,value:.028349523125,offset:0},lbm:{name:"lbm",base:I.MASS,prefixes:T.NONE,value:.45359237,offset:0},cwt:{name:"cwt",base:I.MASS,prefixes:T.NONE,value:45.359237,offset:0},s:{name:"s",base:I.TIME,prefixes:T.SHORT,value:1,offset:0},min:{name:"min",base:I.TIME,prefixes:T.NONE,value:60,offset:0},h:{name:"h",base:I.TIME,prefixes:T.NONE,value:3600,offset:0},second:{name:"second",base:I.TIME,prefixes:T.LONG,value:1,offset:0},sec:{name:"sec",base:I.TIME,prefixes:T.LONG,value:1,offset:0},minute:{name:"minute",base:I.TIME,prefixes:T.NONE,value:60,offset:0},hour:{name:"hour",base:I.TIME,prefixes:T.NONE,value:3600,offset:0},day:{name:"day",base:I.TIME,prefixes:T.NONE,value:86400,offset:0},week:{name:"week",base:I.TIME,prefixes:T.NONE,value:7*86400,offset:0},month:{name:"month",base:I.TIME,prefixes:T.NONE,value:2629800,offset:0},year:{name:"year",base:I.TIME,prefixes:T.NONE,value:31557600,offset:0},decade:{name:"decade",base:I.TIME,prefixes:T.NONE,value:315576e3,offset:0},century:{name:"century",base:I.TIME,prefixes:T.NONE,value:315576e4,offset:0},millennium:{name:"millennium",base:I.TIME,prefixes:T.NONE,value:315576e5,offset:0},hertz:{name:"Hertz",base:I.FREQUENCY,prefixes:T.LONG,value:1,offset:0,reciprocal:!0},Hz:{name:"Hz",base:I.FREQUENCY,prefixes:T.SHORT,value:1,offset:0,reciprocal:!0},rad:{name:"rad",base:I.ANGLE,prefixes:T.SHORT,value:1,offset:0},radian:{name:"radian",base:I.ANGLE,prefixes:T.LONG,value:1,offset:0},deg:{name:"deg",base:I.ANGLE,prefixes:T.SHORT,value:null,offset:0},degree:{name:"degree",base:I.ANGLE,prefixes:T.LONG,value:null,offset:0},grad:{name:"grad",base:I.ANGLE,prefixes:T.SHORT,value:null,offset:0},gradian:{name:"gradian",base:I.ANGLE,prefixes:T.LONG,value:null,offset:0},cycle:{name:"cycle",base:I.ANGLE,prefixes:T.NONE,value:null,offset:0},arcsec:{name:"arcsec",base:I.ANGLE,prefixes:T.NONE,value:null,offset:0},arcmin:{name:"arcmin",base:I.ANGLE,prefixes:T.NONE,value:null,offset:0},A:{name:"A",base:I.CURRENT,prefixes:T.SHORT,value:1,offset:0},ampere:{name:"ampere",base:I.CURRENT,prefixes:T.LONG,value:1,offset:0},K:{name:"K",base:I.TEMPERATURE,prefixes:T.SHORT,value:1,offset:0},degC:{name:"degC",base:I.TEMPERATURE,prefixes:T.SHORT,value:1,offset:273.15},degF:{name:"degF",base:I.TEMPERATURE,prefixes:T.SHORT,value:new g(5,9),offset:459.67},degR:{name:"degR",base:I.TEMPERATURE,prefixes:T.SHORT,value:new g(5,9),offset:0},kelvin:{name:"kelvin",base:I.TEMPERATURE,prefixes:T.LONG,value:1,offset:0},celsius:{name:"celsius",base:I.TEMPERATURE,prefixes:T.LONG,value:1,offset:273.15},fahrenheit:{name:"fahrenheit",base:I.TEMPERATURE,prefixes:T.LONG,value:new g(5,9),offset:459.67},rankine:{name:"rankine",base:I.TEMPERATURE,prefixes:T.LONG,value:new g(5,9),offset:0},mol:{name:"mol",base:I.AMOUNT_OF_SUBSTANCE,prefixes:T.SHORT,value:1,offset:0},mole:{name:"mole",base:I.AMOUNT_OF_SUBSTANCE,prefixes:T.LONG,value:1,offset:0},cd:{name:"cd",base:I.LUMINOUS_INTENSITY,prefixes:T.SHORT,value:1,offset:0},candela:{name:"candela",base:I.LUMINOUS_INTENSITY,prefixes:T.LONG,value:1,offset:0},N:{name:"N",base:I.FORCE,prefixes:T.SHORT,value:1,offset:0},newton:{name:"newton",base:I.FORCE,prefixes:T.LONG,value:1,offset:0},dyn:{name:"dyn",base:I.FORCE,prefixes:T.SHORT,value:1e-5,offset:0},dyne:{name:"dyne",base:I.FORCE,prefixes:T.LONG,value:1e-5,offset:0},lbf:{name:"lbf",base:I.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},poundforce:{name:"poundforce",base:I.FORCE,prefixes:T.NONE,value:4.4482216152605,offset:0},kip:{name:"kip",base:I.FORCE,prefixes:T.LONG,value:4448.2216,offset:0},kilogramforce:{name:"kilogramforce",base:I.FORCE,prefixes:T.NONE,value:9.80665,offset:0},J:{name:"J",base:I.ENERGY,prefixes:T.SHORT,value:1,offset:0},joule:{name:"joule",base:I.ENERGY,prefixes:T.LONG,value:1,offset:0},erg:{name:"erg",base:I.ENERGY,prefixes:T.SHORTLONG,value:1e-7,offset:0},Wh:{name:"Wh",base:I.ENERGY,prefixes:T.SHORT,value:3600,offset:0},BTU:{name:"BTU",base:I.ENERGY,prefixes:T.BTU,value:1055.05585262,offset:0},eV:{name:"eV",base:I.ENERGY,prefixes:T.SHORT,value:1602176565e-28,offset:0},electronvolt:{name:"electronvolt",base:I.ENERGY,prefixes:T.LONG,value:1602176565e-28,offset:0},W:{name:"W",base:I.POWER,prefixes:T.SHORT,value:1,offset:0},watt:{name:"watt",base:I.POWER,prefixes:T.LONG,value:1,offset:0},hp:{name:"hp",base:I.POWER,prefixes:T.NONE,value:745.6998715386,offset:0},VAR:{name:"VAR",base:I.POWER,prefixes:T.SHORT,value:m.I,offset:0},VA:{name:"VA",base:I.POWER,prefixes:T.SHORT,value:1,offset:0},Pa:{name:"Pa",base:I.PRESSURE,prefixes:T.SHORT,value:1,offset:0},psi:{name:"psi",base:I.PRESSURE,prefixes:T.NONE,value:6894.75729276459,offset:0},atm:{name:"atm",base:I.PRESSURE,prefixes:T.NONE,value:101325,offset:0},bar:{name:"bar",base:I.PRESSURE,prefixes:T.SHORTLONG,value:1e5,offset:0},torr:{name:"torr",base:I.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmHg:{name:"mmHg",base:I.PRESSURE,prefixes:T.NONE,value:133.322,offset:0},mmH2O:{name:"mmH2O",base:I.PRESSURE,prefixes:T.NONE,value:9.80665,offset:0},cmH2O:{name:"cmH2O",base:I.PRESSURE,prefixes:T.NONE,value:98.0665,offset:0},coulomb:{name:"coulomb",base:I.ELECTRIC_CHARGE,prefixes:T.LONG,value:1,offset:0},C:{name:"C",base:I.ELECTRIC_CHARGE,prefixes:T.SHORT,value:1,offset:0},farad:{name:"farad",base:I.ELECTRIC_CAPACITANCE,prefixes:T.LONG,value:1,offset:0},F:{name:"F",base:I.ELECTRIC_CAPACITANCE,prefixes:T.SHORT,value:1,offset:0},volt:{name:"volt",base:I.ELECTRIC_POTENTIAL,prefixes:T.LONG,value:1,offset:0},V:{name:"V",base:I.ELECTRIC_POTENTIAL,prefixes:T.SHORT,value:1,offset:0},ohm:{name:"ohm",base:I.ELECTRIC_RESISTANCE,prefixes:T.SHORTLONG,value:1,offset:0},henry:{name:"henry",base:I.ELECTRIC_INDUCTANCE,prefixes:T.LONG,value:1,offset:0},H:{name:"H",base:I.ELECTRIC_INDUCTANCE,prefixes:T.SHORT,value:1,offset:0},siemens:{name:"siemens",base:I.ELECTRIC_CONDUCTANCE,prefixes:T.LONG,value:1,offset:0},S:{name:"S",base:I.ELECTRIC_CONDUCTANCE,prefixes:T.SHORT,value:1,offset:0},weber:{name:"weber",base:I.MAGNETIC_FLUX,prefixes:T.LONG,value:1,offset:0},Wb:{name:"Wb",base:I.MAGNETIC_FLUX,prefixes:T.SHORT,value:1,offset:0},tesla:{name:"tesla",base:I.MAGNETIC_FLUX_DENSITY,prefixes:T.LONG,value:1,offset:0},T:{name:"T",base:I.MAGNETIC_FLUX_DENSITY,prefixes:T.SHORT,value:1,offset:0},b:{name:"b",base:I.BIT,prefixes:T.BINARY_SHORT,value:1,offset:0},bits:{name:"bits",base:I.BIT,prefixes:T.BINARY_LONG,value:1,offset:0},B:{name:"B",base:I.BIT,prefixes:T.BINARY_SHORT,value:8,offset:0},bytes:{name:"bytes",base:I.BIT,prefixes:T.BINARY_LONG,value:8,offset:0}},ne={meters:"meter",inches:"inch",feet:"foot",yards:"yard",miles:"mile",links:"link",rods:"rod",chains:"chain",angstroms:"angstrom",lt:"l",litres:"litre",liter:"litre",liters:"litre",teaspoons:"teaspoon",tablespoons:"tablespoon",minims:"minim",fluiddrams:"fluiddram",fluidounces:"fluidounce",gills:"gill",cups:"cup",pints:"pint",quarts:"quart",gallons:"gallon",beerbarrels:"beerbarrel",oilbarrels:"oilbarrel",hogsheads:"hogshead",gtts:"gtt",grams:"gram",tons:"ton",tonnes:"tonne",grains:"grain",drams:"dram",ounces:"ounce",poundmasses:"poundmass",hundredweights:"hundredweight",sticks:"stick",lb:"lbm",lbs:"lbm",kips:"kip",kgf:"kilogramforce",acres:"acre",hectares:"hectare",sqfeet:"sqft",sqyard:"sqyd",sqmile:"sqmi",sqmiles:"sqmi",mmhg:"mmHg",mmh2o:"mmH2O",cmh2o:"cmH2O",seconds:"second",secs:"second",minutes:"minute",mins:"minute",hours:"hour",hr:"hour",hrs:"hour",days:"day",weeks:"week",months:"month",years:"year",decades:"decade",centuries:"century",millennia:"millennium",hertz:"hertz",radians:"radian",degrees:"degree",gradians:"gradian",cycles:"cycle",arcsecond:"arcsec",arcseconds:"arcsec",arcminute:"arcmin",arcminutes:"arcmin",BTUs:"BTU",watts:"watt",joules:"joule",amperes:"ampere",amps:"ampere",amp:"ampere",coulombs:"coulomb",volts:"volt",ohms:"ohm",farads:"farad",webers:"weber",teslas:"tesla",electronvolts:"electronvolt",moles:"mole",bit:"bits",byte:"bytes"};function se(U){if(U.number==="BigNumber"){var Z=IS(v);L.rad.value=new v(1),L.deg.value=Z.div(180),L.grad.value=Z.div(200),L.cycle.value=Z.times(2),L.arcsec.value=Z.div(648e3),L.arcmin.value=Z.div(10800)}else L.rad.value=1,L.deg.value=Math.PI/180,L.grad.value=Math.PI/200,L.cycle.value=Math.PI*2,L.arcsec.value=Math.PI/648e3,L.arcmin.value=Math.PI/10800;L.radian.value=L.rad.value,L.degree.value=L.deg.value,L.gradian.value=L.grad.value}se(n),e&&e("config",function(U,Z){U.number!==Z.number&&se(U)});var Y={si:{NONE:{unit:V,prefix:T.NONE[""]},LENGTH:{unit:L.m,prefix:T.SHORT[""]},MASS:{unit:L.g,prefix:T.SHORT.k},TIME:{unit:L.s,prefix:T.SHORT[""]},CURRENT:{unit:L.A,prefix:T.SHORT[""]},TEMPERATURE:{unit:L.K,prefix:T.SHORT[""]},LUMINOUS_INTENSITY:{unit:L.cd,prefix:T.SHORT[""]},AMOUNT_OF_SUBSTANCE:{unit:L.mol,prefix:T.SHORT[""]},ANGLE:{unit:L.rad,prefix:T.SHORT[""]},BIT:{unit:L.bits,prefix:T.SHORT[""]},FORCE:{unit:L.N,prefix:T.SHORT[""]},ENERGY:{unit:L.J,prefix:T.SHORT[""]},POWER:{unit:L.W,prefix:T.SHORT[""]},PRESSURE:{unit:L.Pa,prefix:T.SHORT[""]},ELECTRIC_CHARGE:{unit:L.C,prefix:T.SHORT[""]},ELECTRIC_CAPACITANCE:{unit:L.F,prefix:T.SHORT[""]},ELECTRIC_POTENTIAL:{unit:L.V,prefix:T.SHORT[""]},ELECTRIC_RESISTANCE:{unit:L.ohm,prefix:T.SHORT[""]},ELECTRIC_INDUCTANCE:{unit:L.H,prefix:T.SHORT[""]},ELECTRIC_CONDUCTANCE:{unit:L.S,prefix:T.SHORT[""]},MAGNETIC_FLUX:{unit:L.Wb,prefix:T.SHORT[""]},MAGNETIC_FLUX_DENSITY:{unit:L.T,prefix:T.SHORT[""]},FREQUENCY:{unit:L.Hz,prefix:T.SHORT[""]}}};Y.cgs=JSON.parse(JSON.stringify(Y.si)),Y.cgs.LENGTH={unit:L.m,prefix:T.SHORT.c},Y.cgs.MASS={unit:L.g,prefix:T.SHORT[""]},Y.cgs.FORCE={unit:L.dyn,prefix:T.SHORT[""]},Y.cgs.ENERGY={unit:L.erg,prefix:T.NONE[""]},Y.us=JSON.parse(JSON.stringify(Y.si)),Y.us.LENGTH={unit:L.ft,prefix:T.NONE[""]},Y.us.MASS={unit:L.lbm,prefix:T.NONE[""]},Y.us.TEMPERATURE={unit:L.degF,prefix:T.NONE[""]},Y.us.FORCE={unit:L.lbf,prefix:T.NONE[""]},Y.us.ENERGY={unit:L.BTU,prefix:T.BTU[""]},Y.us.POWER={unit:L.hp,prefix:T.NONE[""]},Y.us.PRESSURE={unit:L.psi,prefix:T.NONE[""]},Y.auto=JSON.parse(JSON.stringify(Y.si));var ee=Y.auto;y.setUnitSystem=function(U){if(Ve(Y,U))ee=Y[U];else throw new Error("Unit system "+U+" does not exist. Choices are: "+Object.keys(Y).join(", "))},y.getUnitSystem=function(){for(var U in Y)if(Ve(Y,U)&&Y[U]===ee)return U},y.typeConverters={BigNumber:function(Z){return Z!=null&&Z.isFraction?new v(Z.n).div(Z.d).times(Z.s):new v(Z+"")},Fraction:function(Z){return new g(Z)},Complex:function(Z){return Z},number:function(Z){return Z!=null&&Z.isFraction?p(Z):Z}},y.prototype._numberConverter=function(){var U=y.typeConverters[this.valueType()];if(U)return U;throw new TypeError('Unsupported Unit value type "'+this.valueType()+'"')},y._getNumberConverter=function(U){if(!y.typeConverters[U])throw new TypeError('Unsupported type "'+U+'"');return y.typeConverters[U]};for(var ie in L)if(Ve(L,ie)){var j=L[ie];j.dimensions=j.base.dimensions}for(var W in ne)if(Ve(ne,W)){var J=L[ne[W]],oe={};for(var de in J)Ve(J,de)&&(oe[de]=J[de]);oe.name=W,L[W]=oe}y.isValidAlpha=function(Z){return/^[a-zA-Z]$/.test(Z)};function ge(U){for(var Z=0;Z<U.length;Z++){if(b=U.charAt(Z),Z===0&&!y.isValidAlpha(b))throw new Error('Invalid unit name (must begin with alpha character): "'+U+'"');if(Z>0&&!(y.isValidAlpha(b)||D(b)))throw new Error('Invalid unit name (only alphanumeric characters are allowed): "'+U+'"')}}return y.createUnit=function(U,Z){if(typeof U!="object")throw new TypeError("createUnit expects first parameter to be of type 'Object'");if(Z&&Z.override){for(var fe in U)if(Ve(U,fe)&&y.deleteUnit(fe),U[fe].aliases)for(var Q=0;Q<U[fe].aliases.length;Q++)y.deleteUnit(U[fe].aliases[Q])}var re;for(var ue in U)Ve(U,ue)&&(re=y.createUnitSingle(ue,U[ue]));return re},y.createUnitSingle=function(U,Z){if((typeof Z>"u"||Z===null)&&(Z={}),typeof U!="string")throw new TypeError("createUnitSingle expects first parameter to be of type 'string'");if(Ve(L,U))throw new Error('Cannot create unit "'+U+'": a unit with that name already exists');ge(U);var fe=null,Q=[],re=0,ue,ye,xe;if(Z&&Z.type==="Unit")fe=Z.clone();else if(typeof Z=="string")Z!==""&&(ue=Z);else if(typeof Z=="object")ue=Z.definition,ye=Z.prefixes,re=Z.offset,xe=Z.baseName,Z.aliases&&(Q=Z.aliases.valueOf());else throw new TypeError('Cannot create unit "'+U+'" from "'+Z.toString()+'": expecting "string" or "Unit" or "Object"');if(Q){for(var G=0;G<Q.length;G++)if(Ve(L,Q[G]))throw new Error('Cannot create alias "'+Q[G]+'": a unit with that name already exists')}if(ue&&typeof ue=="string"&&!fe)try{fe=y.parse(ue,{allowNoUnits:!0})}catch(R){throw R.message='Could not create unit "'+U+'" from "'+ue+'": '+R.message,R}else ue&&ue.type==="Unit"&&(fe=ue.clone());Q=Q||[],re=re||0,ye&&ye.toUpperCase?ye=T[ye.toUpperCase()]||T.NONE:ye=T.NONE;var te={};if(fe){te={name:U,value:fe.value,dimensions:fe.dimensions.slice(0),prefixes:ye,offset:re};var me=!1;for(var $e in I)if(Ve(I,$e)){for(var Ne=!0,Me=0;Me<z.length;Me++)if(Math.abs((te.dimensions[Me]||0)-(I[$e].dimensions[Me]||0))>1e-12){Ne=!1;break}if(Ne){me=!0,te.base=I[$e];break}}if(!me){xe=xe||U+"_STUFF";var Ie={dimensions:fe.dimensions.slice(0)};Ie.key=xe,I[xe]=Ie,ee[xe]={unit:te,prefix:T.NONE[""]},te.base=I[xe]}}else{if(xe=xe||U+"_STUFF",z.indexOf(xe)>=0)throw new Error('Cannot create new base unit "'+U+'": a base unit with that name already exists (and cannot be overridden)');z.push(xe);for(var he in I)Ve(I,he)&&(I[he].dimensions[z.length-1]=0);for(var ce={dimensions:[]},pe=0;pe<z.length;pe++)ce.dimensions[pe]=0;ce.dimensions[z.length-1]=1,ce.key=xe,I[xe]=ce,te={name:U,value:1,dimensions:I[xe].dimensions.slice(0),prefixes:ye,offset:re,base:I[xe]},ee[xe]={unit:te,prefix:T.NONE[""]}}y.UNITS[U]=te;for(var ft=0;ft<Q.length;ft++){var vt=Q[ft],We={};for(var Kt in te)Ve(te,Kt)&&(We[Kt]=te[Kt]);We.name=vt,y.UNITS[vt]=We}return delete $.cache,new y(null,U)},y.deleteUnit=function(U){delete y.UNITS[U]},y.PREFIXES=T,y.BASE_DIMENSIONS=z,y.BASE_UNITS=I,y.UNIT_SYSTEMS=Y,y.UNITS=L,y},{isClass:!0}),V$="unit",gve=["typed","Unit"],vve=K(V$,gve,t=>{var{typed:e,Unit:n}=t;return e(V$,{Unit:function(i){return i.clone()},string:function(i){return n.isValuelessUnit(i)?new n(null,i):n.parse(i,{allowNoUnits:!0})},"number | BigNumber | Fraction | Complex, string | Unit":function(i,o){return new n(i,o)},"number | BigNumber | Fraction":function(i){return new n(i)},"Array | Matrix":e.referToSelf(r=>i=>At(i,r))})}),U$="sparse",yve=["typed","SparseMatrix"],bve=K(U$,yve,t=>{var{typed:e,SparseMatrix:n}=t;return e(U$,{"":function(){return new n([])},string:function(i){return new n([],i)},"Array | Matrix":function(i){return new n(i)},"Array | Matrix, string":function(i,o){return new n(i,o)}})}),q$="createUnit",xve=["typed","Unit"],wve=K(q$,xve,t=>{var{typed:e,Unit:n}=t;return e(q$,{"Object, Object":function(i,o){return n.createUnit(i,o)},Object:function(i){return n.createUnit(i,{})},"string, Unit | string | Object, Object":function(i,o,a){var s={};return s[i]=o,n.createUnit(s,a)},"string, Unit | string | Object":function(i,o){var a={};return a[i]=o,n.createUnit(a,{})},string:function(i){var o={};return o[i]={},n.createUnit(o,{})}})}),W$="acos",Sve=["typed","config","Complex"],Cve=K(W$,Sve,t=>{var{typed:e,config:n,Complex:r}=t;return e(W$,{number:function(o){return o>=-1&&o<=1||n.predictable?Math.acos(o):new r(o,0).acos()},Complex:function(o){return o.acos()},BigNumber:function(o){return o.acos()}})}),j$="acosh",Ave=["typed","config","Complex"],Dve=K(j$,Ave,t=>{var{typed:e,config:n,Complex:r}=t;return e(j$,{number:function(o){return o>=1||n.predictable?Z5(o):o<=-1?new r(Math.log(Math.sqrt(o*o-1)-o),Math.PI):new r(o,0).acosh()},Complex:function(o){return o.acosh()},BigNumber:function(o){return o.acosh()}})}),G$="acot",Eve=["typed","BigNumber"],Mve=K(G$,Eve,t=>{var{typed:e,BigNumber:n}=t;return e(G$,{number:Q5,Complex:function(i){return i.acot()},BigNumber:function(i){return new n(1).div(i).atan()}})}),X$="acoth",Nve=["typed","config","Complex","BigNumber"],$ve=K(X$,Nve,t=>{var{typed:e,config:n,Complex:r,BigNumber:i}=t;return e(X$,{number:function(a){return a>=1||a<=-1||n.predictable?J5(a):new r(a,0).acoth()},Complex:function(a){return a.acoth()},BigNumber:function(a){return new i(1).div(a).atanh()}})}),K$="acsc",Ove=["typed","config","Complex","BigNumber"],Tve=K(K$,Ove,t=>{var{typed:e,config:n,Complex:r,BigNumber:i}=t;return e(K$,{number:function(a){return a<=-1||a>=1||n.predictable?e_(a):new r(a,0).acsc()},Complex:function(a){return a.acsc()},BigNumber:function(a){return new i(1).div(a).asin()}})}),Y$="acsch",Bve=["typed","BigNumber"],Ive=K(Y$,Bve,t=>{var{typed:e,BigNumber:n}=t;return e(Y$,{number:t_,Complex:function(i){return i.acsch()},BigNumber:function(i){return new n(1).div(i).asinh()}})}),Z$="asec",Pve=["typed","config","Complex","BigNumber"],kve=K(Z$,Pve,t=>{var{typed:e,config:n,Complex:r,BigNumber:i}=t;return e(Z$,{number:function(a){return a<=-1||a>=1||n.predictable?n_(a):new r(a,0).asec()},Complex:function(a){return a.asec()},BigNumber:function(a){return new i(1).div(a).acos()}})}),Q$="asech",Fve=["typed","config","Complex","BigNumber"],Rve=K(Q$,Fve,t=>{var{typed:e,config:n,Complex:r,BigNumber:i}=t;return e(Q$,{number:function(a){if(a<=1&&a>=-1||n.predictable){var s=1/a;if(s>0||n.predictable)return r_(a);var l=Math.sqrt(s*s-1);return new r(Math.log(l-s),Math.PI)}return new r(a,0).asech()},Complex:function(a){return a.asech()},BigNumber:function(a){return new i(1).div(a).acosh()}})}),J$="asin",_ve=["typed","config","Complex"],zve=K(J$,_ve,t=>{var{typed:e,config:n,Complex:r}=t;return e(J$,{number:function(o){return o>=-1&&o<=1||n.predictable?Math.asin(o):new r(o,0).asin()},Complex:function(o){return o.asin()},BigNumber:function(o){return o.asin()}})}),Lve="asinh",Hve=["typed"],Vve=K(Lve,Hve,t=>{var{typed:e}=t;return e("asinh",{number:i_,Complex:function(r){return r.asinh()},BigNumber:function(r){return r.asinh()}})}),Uve="atan",qve=["typed"],Wve=K(Uve,qve,t=>{var{typed:e}=t;return e("atan",{number:function(r){return Math.atan(r)},Complex:function(r){return r.atan()},BigNumber:function(r){return r.atan()}})}),eO="atan2",jve=["typed","matrix","equalScalar","BigNumber","DenseMatrix","concat"],Gve=K(eO,jve,t=>{var{typed:e,matrix:n,equalScalar:r,BigNumber:i,DenseMatrix:o,concat:a}=t,s=No({typed:e,equalScalar:r}),l=qr({typed:e}),u=b_({typed:e,equalScalar:r}),c=fr({typed:e,equalScalar:r}),f=Xn({typed:e,DenseMatrix:o}),d=rn({typed:e,matrix:n,concat:a});return e(eO,{"number, number":Math.atan2,"BigNumber, BigNumber":(h,p)=>i.atan2(h,p)},d({scalar:"number | BigNumber",SS:u,DS:l,SD:s,Ss:c,sS:f}))}),tO="atanh",Xve=["typed","config","Complex"],Kve=K(tO,Xve,t=>{var{typed:e,config:n,Complex:r}=t;return e(tO,{number:function(o){return o<=1&&o>=-1||n.predictable?o_(o):new r(o,0).atanh()},Complex:function(o){return o.atanh()},BigNumber:function(o){return o.atanh()}})}),Zc=K("trigUnit",["typed"],t=>{var{typed:e}=t;return{Unit:e.referToSelf(n=>r=>{if(!r.hasBase(r.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cot is no angle");return e.find(n,r.valueType())(r.value)})}}),nO="cos",Yve=["typed"],Zve=K(nO,Yve,t=>{var{typed:e}=t,n=Zc({typed:e});return e(nO,{number:Math.cos,"Complex | BigNumber":r=>r.cos()},n)}),rO="cosh",Qve=["typed"],Jve=K(rO,Qve,t=>{var{typed:e}=t;return e(rO,{number:Kle,"Complex | BigNumber":n=>n.cosh()})}),iO="cot",e0e=["typed","BigNumber"],t0e=K(iO,e0e,t=>{var{typed:e,BigNumber:n}=t,r=Zc({typed:e});return e(iO,{number:a_,Complex:i=>i.cot(),BigNumber:i=>new n(1).div(i.tan())},r)}),oO="coth",n0e=["typed","BigNumber"],r0e=K(oO,n0e,t=>{var{typed:e,BigNumber:n}=t;return e(oO,{number:s_,Complex:r=>r.coth(),BigNumber:r=>new n(1).div(r.tanh())})}),aO="csc",i0e=["typed","BigNumber"],o0e=K(aO,i0e,t=>{var{typed:e,BigNumber:n}=t,r=Zc({typed:e});return e(aO,{number:l_,Complex:i=>i.csc(),BigNumber:i=>new n(1).div(i.sin())},r)}),sO="csch",a0e=["typed","BigNumber"],s0e=K(sO,a0e,t=>{var{typed:e,BigNumber:n}=t;return e(sO,{number:u_,Complex:r=>r.csch(),BigNumber:r=>new n(1).div(r.sinh())})}),lO="sec",l0e=["typed","BigNumber"],u0e=K(lO,l0e,t=>{var{typed:e,BigNumber:n}=t,r=Zc({typed:e});return e(lO,{number:c_,Complex:i=>i.sec(),BigNumber:i=>new n(1).div(i.cos())},r)}),uO="sech",c0e=["typed","BigNumber"],f0e=K(uO,c0e,t=>{var{typed:e,BigNumber:n}=t;return e(uO,{number:f_,Complex:r=>r.sech(),BigNumber:r=>new n(1).div(r.cosh())})}),cO="sin",d0e=["typed"],h0e=K(cO,d0e,t=>{var{typed:e}=t,n=Zc({typed:e});return e(cO,{number:Math.sin,"Complex | BigNumber":r=>r.sin()},n)}),fO="sinh",p0e=["typed"],m0e=K(fO,p0e,t=>{var{typed:e}=t;return e(fO,{number:d_,"Complex | BigNumber":n=>n.sinh()})}),dO="tan",g0e=["typed"],v0e=K(dO,g0e,t=>{var{typed:e}=t,n=Zc({typed:e});return e(dO,{number:Math.tan,"Complex | BigNumber":r=>r.tan()},n)}),y0e="tanh",b0e=["typed"],x0e=K(y0e,b0e,t=>{var{typed:e}=t;return e("tanh",{number:Zle,"Complex | BigNumber":n=>n.tanh()})}),hO="setCartesian",w0e=["typed","size","subset","compareNatural","Index","DenseMatrix"],S0e=K(hO,w0e,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o,DenseMatrix:a}=t;return e(hO,{"Array | Matrix, Array | Matrix":function(l,u){var c=[];if(r(n(l),new o(0))!==0&&r(n(u),new o(0))!==0){var f=kt(Array.isArray(l)?l:l.toArray()).sort(i),d=kt(Array.isArray(u)?u:u.toArray()).sort(i);c=[];for(var h=0;h<f.length;h++)for(var p=0;p<d.length;p++)c.push([f[h],d[p]])}return Array.isArray(l)&&Array.isArray(u)?c:new a(c)}})}),pO="setDifference",C0e=["typed","size","subset","compareNatural","Index","DenseMatrix"],A0e=K(pO,C0e,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o,DenseMatrix:a}=t;return e(pO,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(r(n(l),new o(0))===0)c=[];else{if(r(n(u),new o(0))===0)return kt(l.toArray());var f=Ac(kt(Array.isArray(l)?l:l.toArray()).sort(i)),d=Ac(kt(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var h,p=0;p<f.length;p++){h=!1;for(var m=0;m<d.length;m++)if(i(f[p].value,d[m].value)===0&&f[p].identifier===d[m].identifier){h=!0;break}h||c.push(f[p])}}return Array.isArray(l)&&Array.isArray(u)?vg(c):new a(vg(c))}})}),mO="setDistinct",D0e=["typed","size","subset","compareNatural","Index","DenseMatrix"],E0e=K(mO,D0e,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o,DenseMatrix:a}=t;return e(mO,{"Array | Matrix":function(l){var u;if(r(n(l),new o(0))===0)u=[];else{var c=kt(Array.isArray(l)?l:l.toArray()).sort(i);u=[],u.push(c[0]);for(var f=1;f<c.length;f++)i(c[f],c[f-1])!==0&&u.push(c[f])}return Array.isArray(l)?u:new a(u)}})}),gO="setIntersect",M0e=["typed","size","subset","compareNatural","Index","DenseMatrix"],N0e=K(gO,M0e,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o,DenseMatrix:a}=t;return e(gO,{"Array | Matrix, Array | Matrix":function(l,u){var c;if(r(n(l),new o(0))===0||r(n(u),new o(0))===0)c=[];else{var f=Ac(kt(Array.isArray(l)?l:l.toArray()).sort(i)),d=Ac(kt(Array.isArray(u)?u:u.toArray()).sort(i));c=[];for(var h=0;h<f.length;h++)for(var p=0;p<d.length;p++)if(i(f[h].value,d[p].value)===0&&f[h].identifier===d[p].identifier){c.push(f[h]);break}}return Array.isArray(l)&&Array.isArray(u)?vg(c):new a(vg(c))}})}),vO="setIsSubset",$0e=["typed","size","subset","compareNatural","Index"],O0e=K(vO,$0e,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o}=t;return e(vO,{"Array | Matrix, Array | Matrix":function(s,l){if(r(n(s),new o(0))===0)return!0;if(r(n(l),new o(0))===0)return!1;for(var u=Ac(kt(Array.isArray(s)?s:s.toArray()).sort(i)),c=Ac(kt(Array.isArray(l)?l:l.toArray()).sort(i)),f,d=0;d<u.length;d++){f=!1;for(var h=0;h<c.length;h++)if(i(u[d].value,c[h].value)===0&&u[d].identifier===c[h].identifier){f=!0;break}if(f===!1)return!1}return!0}})}),yO="setMultiplicity",T0e=["typed","size","subset","compareNatural","Index"],B0e=K(yO,T0e,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o}=t;return e(yO,{"number | BigNumber | Fraction | Complex, Array | Matrix":function(s,l){if(r(n(l),new o(0))===0)return 0;for(var u=kt(Array.isArray(l)?l:l.toArray()),c=0,f=0;f<u.length;f++)i(u[f],s)===0&&c++;return c}})}),bO="setPowerset",I0e=["typed","size","subset","compareNatural","Index"],P0e=K(bO,I0e,t=>{var{typed:e,size:n,subset:r,compareNatural:i,Index:o}=t;return e(bO,{"Array | Matrix":function(u){if(r(n(u),new o(0))===0)return[];for(var c=kt(Array.isArray(u)?u:u.toArray()).sort(i),f=[],d=0;d.toString(2).length<=c.length;)f.push(a(c,d.toString(2).split("").reverse())),d++;return s(f)}});function a(l,u){for(var c=[],f=0;f<u.length;f++)u[f]==="1"&&c.push(l[f]);return c}function s(l){for(var u=[],c=l.length-1;c>0;c--)for(var f=0;f<c;f++)l[f].length>l[f+1].length&&(u=l[f],l[f]=l[f+1],l[f+1]=u);return l}}),xO="setSize",k0e=["typed","compareNatural"],F0e=K(xO,k0e,t=>{var{typed:e,compareNatural:n}=t;return e(xO,{"Array | Matrix":function(i){return Array.isArray(i)?kt(i).length:kt(i.toArray()).length},"Array | Matrix, boolean":function(i,o){if(o===!1||i.length===0)return Array.isArray(i)?kt(i).length:kt(i.toArray()).length;for(var a=kt(Array.isArray(i)?i:i.toArray()).sort(n),s=1,l=1;l<a.length;l++)n(a[l],a[l-1])!==0&&s++;return s}})}),wO="setSymDifference",R0e=["typed","size","concat","subset","setDifference","Index"],_0e=K(wO,R0e,t=>{var{typed:e,size:n,concat:r,subset:i,setDifference:o,Index:a}=t;return e(wO,{"Array | Matrix, Array | Matrix":function(l,u){if(i(n(l),new a(0))===0)return kt(u);if(i(n(u),new a(0))===0)return kt(l);var c=kt(l),f=kt(u);return r(o(c,f),o(f,c))}})}),SO="setUnion",z0e=["typed","size","concat","subset","setIntersect","setSymDifference","Index"],L0e=K(SO,z0e,t=>{var{typed:e,size:n,concat:r,subset:i,setIntersect:o,setSymDifference:a,Index:s}=t;return e(SO,{"Array | Matrix, Array | Matrix":function(u,c){if(i(n(u),new s(0))===0)return kt(c);if(i(n(c),new s(0))===0)return kt(u);var f=kt(u),d=kt(c);return r(a(f,d),o(f,d))}})}),CO="add",H0e=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix","concat"],V0e=K(CO,H0e,t=>{var{typed:e,matrix:n,addScalar:r,equalScalar:i,DenseMatrix:o,SparseMatrix:a,concat:s}=t,l=Ks({typed:e}),u=NS({typed:e,equalScalar:i}),c=Gl({typed:e,DenseMatrix:o}),f=rn({typed:e,matrix:n,concat:s});return e(CO,{"any, any":r,"any, any, ...any":e.referToSelf(d=>(h,p,m)=>{for(var v=d(h,p),g=0;g<m.length;g++)v=d(v,m[g]);return v})},f({elop:r,DS:l,SS:u,Ss:c}))}),AO="hypot",U0e=["typed","abs","addScalar","divideScalar","multiplyScalar","sqrt","smaller","isPositive"],q0e=K(AO,U0e,t=>{var{typed:e,abs:n,addScalar:r,divideScalar:i,multiplyScalar:o,sqrt:a,smaller:s,isPositive:l}=t;return e(AO,{"... number | BigNumber":u,Array:u,Matrix:c=>u(kt(c.toArray()))});function u(c){for(var f=0,d=0,h=0;h<c.length;h++){if(Fa(c[h]))throw new TypeError("Unexpected type of argument to hypot");var p=n(c[h]);s(d,p)?(f=o(f,o(i(d,p),i(d,p))),f=r(f,1),d=p):f=r(f,l(p)?o(i(p,d),i(p,d)):p)}return o(d,a(f))}}),DO="norm",W0e=["typed","abs","add","pow","conj","sqrt","multiply","equalScalar","larger","smaller","matrix","ctranspose","eigs"],j0e=K(DO,W0e,t=>{var{typed:e,abs:n,add:r,pow:i,conj:o,sqrt:a,multiply:s,equalScalar:l,larger:u,smaller:c,matrix:f,ctranspose:d,eigs:h}=t;return e(DO,{number:Math.abs,Complex:function(A){return A.abs()},BigNumber:function(A){return A.abs()},boolean:function(A){return Math.abs(A)},Array:function(A){return b(f(A),2)},Matrix:function(A){return b(A,2)},"Array, number | BigNumber | string":function(A,D){return b(f(A),D)},"Matrix, number | BigNumber | string":function(A,D){return b(A,D)}});function p(C){var A=0;return C.forEach(function(D){var E=n(D);u(E,A)&&(A=E)},!0),A}function m(C){var A;return C.forEach(function(D){var E=n(D);(!A||c(E,A))&&(A=E)},!0),A||0}function v(C,A){if(A===Number.POSITIVE_INFINITY||A==="inf")return p(C);if(A===Number.NEGATIVE_INFINITY||A==="-inf")return m(C);if(A==="fro")return b(C,2);if(typeof A=="number"&&!isNaN(A)){if(!l(A,0)){var D=0;return C.forEach(function(E){D=r(i(n(E),A),D)},!0),i(D,1/A)}return Number.POSITIVE_INFINITY}throw new Error("Unsupported parameter value")}function g(C){var A=0;return C.forEach(function(D,E){A=r(A,s(D,o(D)))}),n(a(A))}function w(C){var A=[],D=0;return C.forEach(function(E,M){var B=M[1],P=r(A[B]||0,n(E));u(P,D)&&(D=P),A[B]=P},!0),D}function y(C){var A=C.size();if(A[0]!==A[1])throw new RangeError("Invalid matrix dimensions");var D=d(C),E=s(D,C),M=h(E).values.toArray(),B=M[M.length-1];return n(a(B))}function S(C){var A=[],D=0;return C.forEach(function(E,M){var B=M[0],P=r(A[B]||0,n(E));u(P,D)&&(D=P),A[B]=P},!0),D}function x(C,A){if(A===1)return w(C);if(A===Number.POSITIVE_INFINITY||A==="inf")return S(C);if(A==="fro")return g(C);if(A===2)return y(C);throw new Error("Unsupported parameter value "+A)}function b(C,A){var D=C.size();if(D.length===1)return v(C,A);if(D.length===2){if(D[0]&&D[1])return x(C,A);throw new RangeError("Invalid matrix dimensions")}}}),EO="dot",G0e=["typed","addScalar","multiplyScalar","conj","size"],X0e=K(EO,G0e,t=>{var{typed:e,addScalar:n,multiplyScalar:r,conj:i,size:o}=t;return e(EO,{"Array | DenseMatrix, Array | DenseMatrix":s,"SparseMatrix, SparseMatrix":l});function a(c,f){var d=u(c),h=u(f),p,m;if(d.length===1)p=d[0];else if(d.length===2&&d[1]===1)p=d[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+d.join(", ")+")");if(h.length===1)m=h[0];else if(h.length===2&&h[1]===1)m=h[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+h.join(", ")+")");if(p!==m)throw new RangeError("Vectors must have equal length ("+p+" != "+m+")");if(p===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return p}function s(c,f){var d=a(c,f),h=Je(c)?c._data:c,p=Je(c)?c._datatype:void 0,m=Je(f)?f._data:f,v=Je(f)?f._datatype:void 0,g=u(c).length===2,w=u(f).length===2,y=n,S=r;if(p&&v&&p===v&&typeof p=="string"){var x=p;y=e.find(n,[x,x]),S=e.find(r,[x,x])}if(!g&&!w){for(var b=S(i(h[0]),m[0]),C=1;C<d;C++)b=y(b,S(i(h[C]),m[C]));return b}if(!g&&w){for(var A=S(i(h[0]),m[0][0]),D=1;D<d;D++)A=y(A,S(i(h[D]),m[D][0]));return A}if(g&&!w){for(var E=S(i(h[0][0]),m[0]),M=1;M<d;M++)E=y(E,S(i(h[M][0]),m[M]));return E}if(g&&w){for(var B=S(i(h[0][0]),m[0][0]),P=1;P<d;P++)B=y(B,S(i(h[P][0]),m[P][0]));return B}}function l(c,f){a(c,f);for(var d=c._index,h=c._values,p=f._index,m=f._values,v=0,g=n,w=r,y=0,S=0;y<d.length&&S<p.length;){var x=d[y],b=p[S];if(x<b){y++;continue}if(x>b){S++;continue}x===b&&(v=g(v,w(h[y],m[S])),y++,S++)}return v}function u(c){return Je(c)?c.size():o(c)}}),K0e="trace",Y0e=["typed","matrix","add"],Z0e=K(K0e,Y0e,t=>{var{typed:e,matrix:n,add:r}=t;return e("trace",{Array:function(s){return i(n(s))},SparseMatrix:o,DenseMatrix:i,any:ct});function i(a){var s=a._size,l=a._data;switch(s.length){case 1:if(s[0]===1)return ct(l[0]);throw new RangeError("Matrix must be square (size: "+xt(s)+")");case 2:{var u=s[0],c=s[1];if(u===c){for(var f=0,d=0;d<u;d++)f=r(f,l[d][d]);return f}else throw new RangeError("Matrix must be square (size: "+xt(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(s)+")")}}function o(a){var s=a._values,l=a._index,u=a._ptr,c=a._size,f=c[0],d=c[1];if(f===d){var h=0;if(s.length>0)for(var p=0;p<d;p++)for(var m=u[p],v=u[p+1],g=m;g<v;g++){var w=l[g];if(w===p){h=r(h,s[g]);break}if(w>p)break}return h}throw new RangeError("Matrix must be square (size: "+xt(c)+")")}}),MO="index",Q0e=["typed","Index"],J0e=K(MO,Q0e,t=>{var{typed:e,Index:n}=t;return e(MO,{"...number | string | BigNumber | Range | Array | Matrix":function(i){var o=i.map(function(s){return Et(s)?s.toNumber():_t(s)||Je(s)?s.map(function(l){return Et(l)?l.toNumber():l}):s}),a=new n;return n.apply(a,o),a}})}),F_=new Set(["end"]),eye="Node",tye=["mathWithTransform"],nye=K(eye,tye,t=>{var{mathWithTransform:e}=t;function n(i){for(var o of[...F_])if(i.has(o))throw new Error('Scope contains an illegal symbol, "'+o+'" is a reserved keyword')}class r{get type(){return"Node"}get isNode(){return!0}evaluate(o){return this.compile().evaluate(o)}compile(){var o=this._compile(e,{}),a={},s=null;function l(u){var c=ec(u);return n(c),o(c,a,s)}return{evaluate:l}}_compile(o,a){throw new Error("Method _compile must be implemented by type "+this.type)}forEach(o){throw new Error("Cannot run forEach on a Node interface")}map(o){throw new Error("Cannot run map on a Node interface")}_ifNode(o){if(!Xt(o))throw new TypeError("Callback function must return a Node");return o}traverse(o){o(this,null,null);function a(s,l){s.forEach(function(u,c,f){l(u,c,f),a(u,l)})}a(this,o)}transform(o){function a(s,l,u){var c=o(s,l,u);return c!==s?c:s.map(a)}return a(this,null,null)}filter(o){var a=[];return this.traverse(function(s,l,u){o(s,l,u)&&a.push(s)}),a}clone(){throw new Error("Cannot clone a Node interface")}cloneDeep(){return this.map(function(o){return o.cloneDeep()})}equals(o){return o?this.type===o.type&&Rl(this,o):!1}toString(o){var a=this._getCustomString(o);return typeof a<"u"?a:this._toString(o)}_toString(){throw new Error("_toString not implemented for "+this.type)}toJSON(){throw new Error("Cannot serialize object: toJSON not implemented by "+this.type)}toHTML(o){var a=this._getCustomString(o);return typeof a<"u"?a:this._toHTML(o)}_toHTML(){throw new Error("_toHTML not implemented for "+this.type)}toTex(o){var a=this._getCustomString(o);return typeof a<"u"?a:this._toTex(o)}_toTex(o){throw new Error("_toTex not implemented for "+this.type)}_getCustomString(o){if(o&&typeof o=="object")switch(typeof o.handler){case"object":case"undefined":return;case"function":return o.handler(this,o);default:throw new TypeError("Object or function expected as callback")}}getIdentifier(){return this.type}getContent(){return this}}return r},{isClass:!0,isNode:!0});function Wr(t){return t&&t.isIndexError?new Do(t.index+1,t.min+1,t.max!==void 0?t.max+1:void 0):t}function R_(t){var{subset:e}=t;return function(r,i){try{if(Array.isArray(r))return e(r,i);if(r&&typeof r.subset=="function")return r.subset(i);if(typeof r=="string")return e(r,i);if(typeof r=="object"){if(!i.isObjectProperty())throw new TypeError("Cannot apply a numeric index as object property");return _r(r,i.getObjectProperty())}else throw new TypeError("Cannot apply index: unsupported type of object")}catch(o){throw Wr(o)}}}var yp="AccessorNode",rye=["subset","Node"],iye=K(yp,rye,t=>{var{subset:e,Node:n}=t,r=R_({subset:e});function i(a){return!(Fl(a)||ki(a)||Pt(a)||Vs(a)||kv(a)||Qa(a)||er(a))}class o extends n{constructor(s,l){if(super(),!Xt(s))throw new TypeError('Node expected for parameter "object"');if(!Wc(l))throw new TypeError('IndexNode expected for parameter "index"');this.object=s,this.index=l}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return yp}get isAccessorNode(){return!0}_compile(s,l){var u=this.object._compile(s,l),c=this.index._compile(s,l);if(this.index.isObjectProperty()){var f=this.index.getObjectProperty();return function(h,p,m){return _r(u(h,p,m),f)}}else return function(h,p,m){var v=u(h,p,m),g=c(h,p,v);return r(v,g)}}forEach(s){s(this.object,"object",this),s(this.index,"index",this)}map(s){return new o(this._ifNode(s(this.object,"object",this)),this._ifNode(s(this.index,"index",this)))}clone(){return new o(this.object,this.index)}_toString(s){var l=this.object.toString(s);return i(this.object)&&(l="("+l+")"),l+this.index.toString(s)}_toHTML(s){var l=this.object.toHTML(s);return i(this.object)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+this.index.toHTML(s)}_toTex(s){var l=this.object.toTex(s);return i(this.object)&&(l="\\left(' + object + '\\right)"),l+this.index.toTex(s)}toJSON(){return{mathjs:yp,object:this.object,index:this.index}}static fromJSON(s){return new o(s.object,s.index)}}return Gn(o,"name",yp),o},{isClass:!0,isNode:!0}),bp="ArrayNode",oye=["Node"],aye=K(bp,oye,t=>{var{Node:e}=t;class n extends e{constructor(i){if(super(),this.items=i||[],!Array.isArray(this.items)||!this.items.every(Xt))throw new TypeError("Array containing Nodes expected")}get type(){return bp}get isArrayNode(){return!0}_compile(i,o){var a=Ra(this.items,function(u){return u._compile(i,o)}),s=i.config.matrix!=="Array";if(s){var l=i.matrix;return function(c,f,d){return l(Ra(a,function(h){return h(c,f,d)}))}}else return function(c,f,d){return Ra(a,function(h){return h(c,f,d)})}}forEach(i){for(var o=0;o<this.items.length;o++){var a=this.items[o];i(a,"items["+o+"]",this)}}map(i){for(var o=[],a=0;a<this.items.length;a++)o[a]=this._ifNode(i(this.items[a],"items["+a+"]",this));return new n(o)}clone(){return new n(this.items.slice(0))}_toString(i){var o=this.items.map(function(a){return a.toString(i)});return"["+o.join(", ")+"]"}toJSON(){return{mathjs:bp,items:this.items}}static fromJSON(i){return new n(i.items)}_toHTML(i){var o=this.items.map(function(a){return a.toHTML(i)});return'<span class="math-parenthesis math-square-parenthesis">[</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(i){function o(a,s){var l=a.some(ki)&&!a.every(ki),u=s||l,c=u?"&":"\\\\",f=a.map(function(d){return d.items?o(d.items,!s):d.toTex(i)}).join(c);return l||!u||u&&!s?"\\begin{bmatrix}"+f+"\\end{bmatrix}":f}return o(this.items,!1)}}return Gn(n,"name",bp),n},{isClass:!0,isNode:!0});function sye(t){var{subset:e,matrix:n}=t;return function(i,o,a){try{if(Array.isArray(i)){var s=n(i).subset(o,a).valueOf();return s.forEach((l,u)=>{i[u]=l}),i}else{if(i&&typeof i.subset=="function")return i.subset(o,a);if(typeof i=="string")return e(i,o,a);if(typeof i=="object"){if(!o.isObjectProperty())throw TypeError("Cannot apply a numeric index as object property");return Dc(i,o.getObjectProperty(),a),i}else throw new TypeError("Cannot apply index: unsupported type of object")}}catch(l){throw Wr(l)}}}var uo=[{AssignmentNode:{},FunctionAssignmentNode:{}},{ConditionalNode:{latexLeftParens:!1,latexRightParens:!1,latexParens:!1}},{"OperatorNode:or":{op:"or",associativity:"left",associativeWith:[]}},{"OperatorNode:xor":{op:"xor",associativity:"left",associativeWith:[]}},{"OperatorNode:and":{op:"and",associativity:"left",associativeWith:[]}},{"OperatorNode:bitOr":{op:"|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitXor":{op:"^|",associativity:"left",associativeWith:[]}},{"OperatorNode:bitAnd":{op:"&",associativity:"left",associativeWith:[]}},{"OperatorNode:equal":{op:"==",associativity:"left",associativeWith:[]},"OperatorNode:unequal":{op:"!=",associativity:"left",associativeWith:[]},"OperatorNode:smaller":{op:"<",associativity:"left",associativeWith:[]},"OperatorNode:larger":{op:">",associativity:"left",associativeWith:[]},"OperatorNode:smallerEq":{op:"<=",associativity:"left",associativeWith:[]},"OperatorNode:largerEq":{op:">=",associativity:"left",associativeWith:[]},RelationalNode:{associativity:"left",associativeWith:[]}},{"OperatorNode:leftShift":{op:"<<",associativity:"left",associativeWith:[]},"OperatorNode:rightArithShift":{op:">>",associativity:"left",associativeWith:[]},"OperatorNode:rightLogShift":{op:">>>",associativity:"left",associativeWith:[]}},{"OperatorNode:to":{op:"to",associativity:"left",associativeWith:[]}},{RangeNode:{}},{"OperatorNode:add":{op:"+",associativity:"left",associativeWith:["OperatorNode:add","OperatorNode:subtract"]},"OperatorNode:subtract":{op:"-",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{op:"*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]},"OperatorNode:divide":{op:"/",associativity:"left",associativeWith:[],latexLeftParens:!1,latexRightParens:!1,latexParens:!1},"OperatorNode:dotMultiply":{op:".*",associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","OperatorNode:dotMultiply","OperatorNode:doDivide"]},"OperatorNode:dotDivide":{op:"./",associativity:"left",associativeWith:[]},"OperatorNode:mod":{op:"mod",associativity:"left",associativeWith:[]}},{"OperatorNode:multiply":{associativity:"left",associativeWith:["OperatorNode:multiply","OperatorNode:divide","Operator:dotMultiply","Operator:dotDivide"]}},{"OperatorNode:unaryPlus":{op:"+",associativity:"right"},"OperatorNode:unaryMinus":{op:"-",associativity:"right"},"OperatorNode:bitNot":{op:"~",associativity:"right"},"OperatorNode:not":{op:"not",associativity:"right"}},{"OperatorNode:pow":{op:"^",associativity:"right",associativeWith:[],latexRightParens:!1},"OperatorNode:dotPow":{op:".^",associativity:"right",associativeWith:[]}},{"OperatorNode:factorial":{op:"!",associativity:"left"}},{"OperatorNode:ctranspose":{op:"'",associativity:"left"}}];function xp(t,e){if(!e||e!=="auto")return t;for(var n=t;Qa(n);)n=n.content;return n}function Zt(t,e,n,r){var i=t;e!=="keep"&&(i=t.getContent());for(var o=i.getIdentifier(),a=null,s=0;s<uo.length;s++)if(o in uo[s]){a=s;break}if(o==="OperatorNode:multiply"&&i.implicit&&n!=="show"){var l=xp(i.args[0],e);!(Pt(l)&&r&&r.getIdentifier()==="OperatorNode:divide"&&L1(xp(r.args[0],e)))&&!(l.getIdentifier()==="OperatorNode:divide"&&L1(xp(l.args[0],e))&&Pt(xp(l.args[1])))&&(a+=1)}return a}function Ef(t,e){var n=t;e!=="keep"&&(n=t.getContent());var r=n.getIdentifier(),i=Zt(n,e);if(i===null)return null;var o=uo[i][r];if(Ve(o,"associativity")){if(o.associativity==="left")return"left";if(o.associativity==="right")return"right";throw Error("'"+r+"' has the invalid associativity '"+o.associativity+"'.")}return null}function By(t,e,n){var r=n!=="keep"?t.getContent():t,i=n!=="keep"?t.getContent():e,o=r.getIdentifier(),a=i.getIdentifier(),s=Zt(r,n);if(s===null)return null;var l=uo[s][o];if(Ve(l,"associativeWith")&&l.associativeWith instanceof Array){for(var u=0;u<l.associativeWith.length;u++)if(l.associativeWith[u]===a)return!0;return!1}return null}function lye(t){var e="OperatorNode:"+t;for(var n of uo)if(e in n)return n[e].op;return null}var wp="AssignmentNode",uye=["subset","?matrix","Node"],cye=K(wp,uye,t=>{var{subset:e,matrix:n,Node:r}=t,i=R_({subset:e}),o=sye({subset:e,matrix:n});function a(l,u,c){u||(u="keep");var f=Zt(l,u,c),d=Zt(l.value,u,c);return u==="all"||d!==null&&d<=f}class s extends r{constructor(u,c,f){if(super(),this.object=u,this.index=f?c:null,this.value=f||c,!er(u)&&!Fl(u))throw new TypeError('SymbolNode or AccessorNode expected as "object"');if(er(u)&&u.name==="end")throw new Error('Cannot assign to symbol "end"');if(this.index&&!Wc(this.index))throw new TypeError('IndexNode expected as "index"');if(!Xt(this.value))throw new TypeError('Node expected as "value"')}get name(){return this.index?this.index.isObjectProperty()?this.index.getObjectProperty():"":this.object.name||""}get type(){return wp}get isAssignmentNode(){return!0}_compile(u,c){var f=this.object._compile(u,c),d=this.index?this.index._compile(u,c):null,h=this.value._compile(u,c),p=this.object.name;if(this.index)if(this.index.isObjectProperty()){var m=this.index.getObjectProperty();return function(S,x,b){var C=f(S,x,b),A=h(S,x,b);return Dc(C,m,A),A}}else{if(er(this.object))return function(S,x,b){var C=f(S,x,b),A=h(S,x,b),D=d(S,x,C);return S.set(p,o(C,D,A)),A};var v=this.object.object._compile(u,c);if(this.object.index.isObjectProperty()){var g=this.object.index.getObjectProperty();return function(S,x,b){var C=v(S,x,b),A=_r(C,g),D=d(S,x,A),E=h(S,x,b);return Dc(C,g,o(A,D,E)),E}}else{var w=this.object.index._compile(u,c);return function(S,x,b){var C=v(S,x,b),A=w(S,x,C),D=i(C,A),E=d(S,x,D),M=h(S,x,b);return o(C,A,o(D,E,M)),M}}}else{if(!er(this.object))throw new TypeError("SymbolNode expected as object");return function(S,x,b){var C=h(S,x,b);return S.set(p,C),C}}}forEach(u){u(this.object,"object",this),this.index&&u(this.index,"index",this),u(this.value,"value",this)}map(u){var c=this._ifNode(u(this.object,"object",this)),f=this.index?this._ifNode(u(this.index,"index",this)):null,d=this._ifNode(u(this.value,"value",this));return new s(c,f,d)}clone(){return new s(this.object,this.index,this.value)}_toString(u){var c=this.object.toString(u),f=this.index?this.index.toString(u):"",d=this.value.toString(u);return a(this,u&&u.parenthesis,u&&u.implicit)&&(d="("+d+")"),c+f+" = "+d}toJSON(){return{mathjs:wp,object:this.object,index:this.index,value:this.value}}static fromJSON(u){return new s(u.object,u.index,u.value)}_toHTML(u){var c=this.object.toHTML(u),f=this.index?this.index.toHTML(u):"",d=this.value.toHTML(u);return a(this,u&&u.parenthesis,u&&u.implicit)&&(d='<span class="math-paranthesis math-round-parenthesis">(</span>'+d+'<span class="math-paranthesis math-round-parenthesis">)</span>'),c+f+'<span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+d}_toTex(u){var c=this.object.toTex(u),f=this.index?this.index.toTex(u):"",d=this.value.toTex(u);return a(this,u&&u.parenthesis,u&&u.implicit)&&(d="\\left(".concat(d,"\\right)")),c+f+"="+d}}return Gn(s,"name",wp),s},{isClass:!0,isNode:!0}),Sp="BlockNode",fye=["ResultSet","Node"],dye=K(Sp,fye,t=>{var{ResultSet:e,Node:n}=t;class r extends n{constructor(o){if(super(),!Array.isArray(o))throw new Error("Array expected");this.blocks=o.map(function(a){var s=a&&a.node,l=a&&a.visible!==void 0?a.visible:!0;if(!Xt(s))throw new TypeError('Property "node" must be a Node');if(typeof l!="boolean")throw new TypeError('Property "visible" must be a boolean');return{node:s,visible:l}})}get type(){return Sp}get isBlockNode(){return!0}_compile(o,a){var s=Ra(this.blocks,function(l){return{evaluate:l.node._compile(o,a),visible:l.visible}});return function(u,c,f){var d=[];return _v(s,function(p){var m=p.evaluate(u,c,f);p.visible&&d.push(m)}),new e(d)}}forEach(o){for(var a=0;a<this.blocks.length;a++)o(this.blocks[a].node,"blocks["+a+"].node",this)}map(o){for(var a=[],s=0;s<this.blocks.length;s++){var l=this.blocks[s],u=this._ifNode(o(l.node,"blocks["+s+"].node",this));a[s]={node:u,visible:l.visible}}return new r(a)}clone(){var o=this.blocks.map(function(a){return{node:a.node,visible:a.visible}});return new r(o)}_toString(o){return this.blocks.map(function(a){return a.node.toString(o)+(a.visible?"":";")}).join(`
`)}toJSON(){return{mathjs:Sp,blocks:this.blocks}}static fromJSON(o){return new r(o.blocks)}_toHTML(o){return this.blocks.map(function(a){return a.node.toHTML(o)+(a.visible?"":'<span class="math-separator">;</span>')}).join('<span class="math-separator"><br /></span>')}_toTex(o){return this.blocks.map(function(a){return a.node.toTex(o)+(a.visible?"":";")}).join(`\\;\\;
`)}}return Gn(r,"name",Sp),r},{isClass:!0,isNode:!0}),Cp="ConditionalNode",hye=["Node"],pye=K(Cp,hye,t=>{var{Node:e}=t;function n(i){if(typeof i=="number"||typeof i=="boolean"||typeof i=="string")return!!i;if(i){if(Et(i))return!i.isZero();if(Fa(i))return!!(i.re||i.im);if(Fi(i))return!!i.value}if(i==null)return!1;throw new TypeError('Unsupported type of condition "'+en(i)+'"')}class r extends e{constructor(o,a,s){if(super(),!Xt(o))throw new TypeError("Parameter condition must be a Node");if(!Xt(a))throw new TypeError("Parameter trueExpr must be a Node");if(!Xt(s))throw new TypeError("Parameter falseExpr must be a Node");this.condition=o,this.trueExpr=a,this.falseExpr=s}get type(){return Cp}get isConditionalNode(){return!0}_compile(o,a){var s=this.condition._compile(o,a),l=this.trueExpr._compile(o,a),u=this.falseExpr._compile(o,a);return function(f,d,h){return n(s(f,d,h))?l(f,d,h):u(f,d,h)}}forEach(o){o(this.condition,"condition",this),o(this.trueExpr,"trueExpr",this),o(this.falseExpr,"falseExpr",this)}map(o){return new r(this._ifNode(o(this.condition,"condition",this)),this._ifNode(o(this.trueExpr,"trueExpr",this)),this._ifNode(o(this.falseExpr,"falseExpr",this)))}clone(){return new r(this.condition,this.trueExpr,this.falseExpr)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=Zt(this,a,o&&o.implicit),l=this.condition.toString(o),u=Zt(this.condition,a,o&&o.implicit);(a==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l="("+l+")");var c=this.trueExpr.toString(o),f=Zt(this.trueExpr,a,o&&o.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=s)&&(c="("+c+")");var d=this.falseExpr.toString(o),h=Zt(this.falseExpr,a,o&&o.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||h!==null&&h<=s)&&(d="("+d+")"),l+" ? "+c+" : "+d}toJSON(){return{mathjs:Cp,condition:this.condition,trueExpr:this.trueExpr,falseExpr:this.falseExpr}}static fromJSON(o){return new r(o.condition,o.trueExpr,o.falseExpr)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=Zt(this,a,o&&o.implicit),l=this.condition.toHTML(o),u=Zt(this.condition,a,o&&o.implicit);(a==="all"||this.condition.type==="OperatorNode"||u!==null&&u<=s)&&(l='<span class="math-parenthesis math-round-parenthesis">(</span>'+l+'<span class="math-parenthesis math-round-parenthesis">)</span>');var c=this.trueExpr.toHTML(o),f=Zt(this.trueExpr,a,o&&o.implicit);(a==="all"||this.trueExpr.type==="OperatorNode"||f!==null&&f<=s)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>');var d=this.falseExpr.toHTML(o),h=Zt(this.falseExpr,a,o&&o.implicit);return(a==="all"||this.falseExpr.type==="OperatorNode"||h!==null&&h<=s)&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+'<span class="math-operator math-conditional-operator">?</span>'+c+'<span class="math-operator math-conditional-operator">:</span>'+d}_toTex(o){return"\\begin{cases} {"+this.trueExpr.toTex(o)+"}, &\\quad{\\text{if }\\;"+this.condition.toTex(o)+"}\\\\{"+this.falseExpr.toTex(o)+"}, &\\quad{\\text{otherwise}}\\end{cases}"}}return Gn(r,"name",Cp),r},{isClass:!0,isNode:!0}),Q1=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mye={"{":"\\{","}":"\\}","\\":"\\textbackslash{}","#":"\\#",$:"\\$","%":"\\%","&":"\\&","^":"\\textasciicircum{}",_:"\\_","~":"\\textasciitilde{}"},gye={"–":"\\--","—":"\\---"," ":"~","	":"\\qquad{}","\r\n":"\\newline{}","\n":"\\newline{}"},vye=function(e,n){return Q1({},e,n)},yye=function(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=e.preserveFormatting,r=n===void 0?!1:n,i=e.escapeMapFn,o=i===void 0?vye:i,a=String(t),s="",l=o(Q1({},mye),r?Q1({},gye):{}),u=Object.keys(l),c=function(){var d=!1;u.forEach(function(h,p){d||a.length>=h.length&&a.slice(0,h.length)===h&&(s+=l[u[p]],a=a.slice(h.length,a.length),d=!0)}),d||(s+=a.slice(0,1),a=a.slice(1,a.length))};a;)c();return s};const bye=Ud(yye);var J1={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},It={transpose:"^\\top",ctranspose:"^H",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"\\~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},NO={abs:{1:"\\left|${args[0]}\\right|"},add:{2:"\\left(${args[0]}".concat(It.add,"${args[1]}\\right)")},cbrt:{1:"\\sqrt[3]{${args[0]}}"},ceil:{1:"\\left\\lceil${args[0]}\\right\\rceil"},cube:{1:"\\left(${args[0]}\\right)^3"},divide:{2:"\\frac{${args[0]}}{${args[1]}}"},dotDivide:{2:"\\left(${args[0]}".concat(It.dotDivide,"${args[1]}\\right)")},dotMultiply:{2:"\\left(${args[0]}".concat(It.dotMultiply,"${args[1]}\\right)")},dotPow:{2:"\\left(${args[0]}".concat(It.dotPow,"${args[1]}\\right)")},exp:{1:"\\exp\\left(${args[0]}\\right)"},expm1:"\\left(e".concat(It.pow,"{${args[0]}}-1\\right)"),fix:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},floor:{1:"\\left\\lfloor${args[0]}\\right\\rfloor"},gcd:"\\gcd\\left(${args}\\right)",hypot:"\\hypot\\left(${args}\\right)",log:{1:"\\ln\\left(${args[0]}\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}\\right)"},log10:{1:"\\log_{10}\\left(${args[0]}\\right)"},log1p:{1:"\\ln\\left(${args[0]}+1\\right)",2:"\\log_{${args[1]}}\\left(${args[0]}+1\\right)"},log2:"\\log_{2}\\left(${args[0]}\\right)",mod:{2:"\\left(${args[0]}".concat(It.mod,"${args[1]}\\right)")},multiply:{2:"\\left(${args[0]}".concat(It.multiply,"${args[1]}\\right)")},norm:{1:"\\left\\|${args[0]}\\right\\|",2:void 0},nthRoot:{2:"\\sqrt[${args[1]}]{${args[0]}}"},nthRoots:{2:"\\{y : $y^{args[1]} = {${args[0]}}\\}"},pow:{2:"\\left(${args[0]}\\right)".concat(It.pow,"{${args[1]}}")},round:{1:"\\left\\lfloor${args[0]}\\right\\rceil",2:void 0},sign:{1:"\\mathrm{${name}}\\left(${args[0]}\\right)"},sqrt:{1:"\\sqrt{${args[0]}}"},square:{1:"\\left(${args[0]}\\right)^2"},subtract:{2:"\\left(${args[0]}".concat(It.subtract,"${args[1]}\\right)")},unaryMinus:{1:"".concat(It.unaryMinus,"\\left(${args[0]}\\right)")},unaryPlus:{1:"".concat(It.unaryPlus,"\\left(${args[0]}\\right)")},bitAnd:{2:"\\left(${args[0]}".concat(It.bitAnd,"${args[1]}\\right)")},bitNot:{1:It.bitNot+"\\left(${args[0]}\\right)"},bitOr:{2:"\\left(${args[0]}".concat(It.bitOr,"${args[1]}\\right)")},bitXor:{2:"\\left(${args[0]}".concat(It.bitXor,"${args[1]}\\right)")},leftShift:{2:"\\left(${args[0]}".concat(It.leftShift,"${args[1]}\\right)")},rightArithShift:{2:"\\left(${args[0]}".concat(It.rightArithShift,"${args[1]}\\right)")},rightLogShift:{2:"\\left(${args[0]}".concat(It.rightLogShift,"${args[1]}\\right)")},bellNumbers:{1:"\\mathrm{B}_{${args[0]}}"},catalan:{1:"\\mathrm{C}_{${args[0]}}"},stirlingS2:{2:"\\mathrm{S}\\left(${args}\\right)"},arg:{1:"\\arg\\left(${args[0]}\\right)"},conj:{1:"\\left(${args[0]}\\right)^*"},im:{1:"\\Im\\left\\lbrace${args[0]}\\right\\rbrace"},re:{1:"\\Re\\left\\lbrace${args[0]}\\right\\rbrace"},and:{2:"\\left(${args[0]}".concat(It.and,"${args[1]}\\right)")},not:{1:It.not+"\\left(${args[0]}\\right)"},or:{2:"\\left(${args[0]}".concat(It.or,"${args[1]}\\right)")},xor:{2:"\\left(${args[0]}".concat(It.xor,"${args[1]}\\right)")},cross:{2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},ctranspose:{1:"\\left(${args[0]}\\right)".concat(It.ctranspose)},det:{1:"\\det\\left(${args[0]}\\right)"},dot:{2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},expm:{1:"\\exp\\left(${args[0]}\\right)"},inv:{1:"\\left(${args[0]}\\right)^{-1}"},pinv:{1:"\\left(${args[0]}\\right)^{+}"},sqrtm:{1:"{${args[0]}}".concat(It.pow,"{\\frac{1}{2}}")},trace:{1:"\\mathrm{tr}\\left(${args[0]}\\right)"},transpose:{1:"\\left(${args[0]}\\right)".concat(It.transpose)},combinations:{2:"\\binom{${args[0]}}{${args[1]}}"},combinationsWithRep:{2:"\\left(\\!\\!{\\binom{${args[0]}}{${args[1]}}}\\!\\!\\right)"},factorial:{1:"\\left(${args[0]}\\right)".concat(It.factorial)},gamma:{1:"\\Gamma\\left(${args[0]}\\right)"},lgamma:{1:"\\ln\\Gamma\\left(${args[0]}\\right)"},equal:{2:"\\left(${args[0]}".concat(It.equal,"${args[1]}\\right)")},larger:{2:"\\left(${args[0]}".concat(It.larger,"${args[1]}\\right)")},largerEq:{2:"\\left(${args[0]}".concat(It.largerEq,"${args[1]}\\right)")},smaller:{2:"\\left(${args[0]}".concat(It.smaller,"${args[1]}\\right)")},smallerEq:{2:"\\left(${args[0]}".concat(It.smallerEq,"${args[1]}\\right)")},unequal:{2:"\\left(${args[0]}".concat(It.unequal,"${args[1]}\\right)")},erf:{1:"erf\\left(${args[0]}\\right)"},max:"\\max\\left(${args}\\right)",min:"\\min\\left(${args}\\right)",variance:"\\mathrm{Var}\\left(${args}\\right)",acos:{1:"\\cos^{-1}\\left(${args[0]}\\right)"},acosh:{1:"\\cosh^{-1}\\left(${args[0]}\\right)"},acot:{1:"\\cot^{-1}\\left(${args[0]}\\right)"},acoth:{1:"\\coth^{-1}\\left(${args[0]}\\right)"},acsc:{1:"\\csc^{-1}\\left(${args[0]}\\right)"},acsch:{1:"\\mathrm{csch}^{-1}\\left(${args[0]}\\right)"},asec:{1:"\\sec^{-1}\\left(${args[0]}\\right)"},asech:{1:"\\mathrm{sech}^{-1}\\left(${args[0]}\\right)"},asin:{1:"\\sin^{-1}\\left(${args[0]}\\right)"},asinh:{1:"\\sinh^{-1}\\left(${args[0]}\\right)"},atan:{1:"\\tan^{-1}\\left(${args[0]}\\right)"},atan2:{2:"\\mathrm{atan2}\\left(${args}\\right)"},atanh:{1:"\\tanh^{-1}\\left(${args[0]}\\right)"},cos:{1:"\\cos\\left(${args[0]}\\right)"},cosh:{1:"\\cosh\\left(${args[0]}\\right)"},cot:{1:"\\cot\\left(${args[0]}\\right)"},coth:{1:"\\coth\\left(${args[0]}\\right)"},csc:{1:"\\csc\\left(${args[0]}\\right)"},csch:{1:"\\mathrm{csch}\\left(${args[0]}\\right)"},sec:{1:"\\sec\\left(${args[0]}\\right)"},sech:{1:"\\mathrm{sech}\\left(${args[0]}\\right)"},sin:{1:"\\sin\\left(${args[0]}\\right)"},sinh:{1:"\\sinh\\left(${args[0]}\\right)"},tan:{1:"\\tan\\left(${args[0]}\\right)"},tanh:{1:"\\tanh\\left(${args[0]}\\right)"},to:{2:"\\left(${args[0]}".concat(It.to,"${args[1]}\\right)")},numeric:function(e,n){return e.args[0].toTex()},number:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},string:{0:'\\mathtt{""}',1:"\\mathrm{string}\\left(${args[0]}\\right)"},bignumber:{0:"0",1:"\\left(${args[0]}\\right)"},complex:{0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)+".concat(J1.i,"\\cdot\\left(${args[1]}\\right)\\right)")},matrix:{0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},sparse:{0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},unit:{1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"}},xye="\\mathrm{${name}}\\left(${args}\\right)",$O={deg:"^\\circ"};function ex(t){return bye(t,{preserveFormatting:!0})}function __(t,e){return e=typeof e>"u"?!1:e,e?Ve($O,t)?$O[t]:"\\mathrm{"+ex(t)+"}":Ve(J1,t)?J1[t]:ex(t)}var Ap="ConstantNode",wye=["Node"],Sye=K(Ap,wye,t=>{var{Node:e}=t;class n extends e{constructor(i){super(),this.value=i}get type(){return Ap}get isConstantNode(){return!0}_compile(i,o){var a=this.value;return function(){return a}}forEach(i){}map(i){return this.clone()}clone(){return new n(this.value)}_toString(i){return xt(this.value,i)}_toHTML(i){var o=this._toString(i);switch(en(this.value)){case"number":case"BigNumber":case"Fraction":return'<span class="math-number">'+o+"</span>";case"string":return'<span class="math-string">'+o+"</span>";case"boolean":return'<span class="math-boolean">'+o+"</span>";case"null":return'<span class="math-null-symbol">'+o+"</span>";case"undefined":return'<span class="math-undefined">'+o+"</span>";default:return'<span class="math-symbol">'+o+"</span>"}}toJSON(){return{mathjs:Ap,value:this.value}}static fromJSON(i){return new n(i.value)}_toTex(i){var o=this._toString(i);switch(en(this.value)){case"string":return"\\mathtt{"+ex(o)+"}";case"number":case"BigNumber":{if(!isFinite(this.value))return this.value.valueOf()<0?"-\\infty":"\\infty";var a=o.toLowerCase().indexOf("e");if(a!==-1)return o.substring(0,a)+"\\cdot10^{"+o.substring(a+1)+"}"}return o;case"Fraction":return this.value.toLatex();default:return o}}}return Gn(n,"name",Ap),n},{isClass:!0,isNode:!0}),Dp="FunctionAssignmentNode",Cye=["typed","Node"],Aye=K(Dp,Cye,t=>{var{typed:e,Node:n}=t;function r(o,a,s){var l=Zt(o,a,s),u=Zt(o.expr,a,s);return a==="all"||u!==null&&u<=l}class i extends n{constructor(a,s,l){if(super(),typeof a!="string")throw new TypeError('String expected for parameter "name"');if(!Array.isArray(s))throw new TypeError('Array containing strings or objects expected for parameter "params"');if(!Xt(l))throw new TypeError('Node expected for parameter "expr"');if(F_.has(a))throw new Error('Illegal function name, "'+a+'" is a reserved keyword');var u=new Set;for(var c of s){var f=typeof c=="string"?c:c.name;if(u.has(f))throw new Error('Duplicate parameter name "'.concat(f,'"'));u.add(f)}this.name=a,this.params=s.map(function(d){return d&&d.name||d}),this.types=s.map(function(d){return d&&d.type||"any"}),this.expr=l}get type(){return Dp}get isFunctionAssignmentNode(){return!0}_compile(a,s){var l=Object.create(s);_v(this.params,function(p){l[p]=!0});var u=this.expr._compile(a,l),c=this.name,f=this.params,d=AM(this.types,","),h=c+"("+AM(this.params,", ")+")";return function(m,v,g){var w={};w[d]=function(){for(var S=Object.create(v),x=0;x<f.length;x++)S[f[x]]=arguments[x];return u(m,S,g)};var y=e(c,w);return y.syntax=h,m.set(c,y),y}}forEach(a){a(this.expr,"expr",this)}map(a){var s=this._ifNode(a(this.expr,"expr",this));return new i(this.name,this.params.slice(0),s)}clone(){return new i(this.name,this.params.slice(0),this.expr)}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=this.expr.toString(a);return r(this,s,a&&a.implicit)&&(l="("+l+")"),this.name+"("+this.params.join(", ")+") = "+l}toJSON(){var a=this.types;return{mathjs:Dp,name:this.name,params:this.params.map(function(s,l){return{name:s,type:a[l]}}),expr:this.expr}}static fromJSON(a){return new i(a.name,a.params,a.expr)}_toHTML(a){for(var s=a&&a.parenthesis?a.parenthesis:"keep",l=[],u=0;u<this.params.length;u++)l.push('<span class="math-symbol math-parameter">'+_i(this.params[u])+"</span>");var c=this.expr.toHTML(a);return r(this,s,a&&a.implicit)&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),'<span class="math-function">'+_i(this.name)+'</span><span class="math-parenthesis math-round-parenthesis">(</span>'+l.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-round-parenthesis">)</span><span class="math-operator math-assignment-operator math-variable-assignment-operator math-binary-operator">=</span>'+c}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=this.expr.toTex(a);return r(this,s,a&&a.implicit)&&(l="\\left(".concat(l,"\\right)")),"\\mathrm{"+this.name+"}\\left("+this.params.map(__).join(",")+"\\right)="+l}}return Gn(i,"name",Dp),i},{isClass:!0,isNode:!0}),Ep="IndexNode",Dye=["Node","size"],Eye=K(Ep,Dye,t=>{var{Node:e,size:n}=t;class r extends e{constructor(o,a){if(super(),this.dimensions=o,this.dotNotation=a||!1,!Array.isArray(o)||!o.every(Xt))throw new TypeError('Array containing Nodes expected for parameter "dimensions"');if(this.dotNotation&&!this.isObjectProperty())throw new Error("dotNotation only applicable for object properties")}get type(){return Ep}get isIndexNode(){return!0}_compile(o,a){var s=Ra(this.dimensions,function(u,c){var f=u.filter(p=>p.isSymbolNode&&p.name==="end").length>0;if(f){var d=Object.create(a);d.end=!0;var h=u._compile(o,d);return function(m,v,g){if(!Je(g)&&!_t(g)&&!vr(g))throw new TypeError('Cannot resolve "end": context must be a Matrix, Array, or string but is '+en(g));var w=n(g).valueOf(),y=Object.create(v);return y.end=w[c],h(m,y,g)}}else return u._compile(o,a)}),l=_r(o,"index");return function(c,f,d){var h=Ra(s,function(p){return p(c,f,d)});return l(...h)}}forEach(o){for(var a=0;a<this.dimensions.length;a++)o(this.dimensions[a],"dimensions["+a+"]",this)}map(o){for(var a=[],s=0;s<this.dimensions.length;s++)a[s]=this._ifNode(o(this.dimensions[s],"dimensions["+s+"]",this));return new r(a,this.dotNotation)}clone(){return new r(this.dimensions.slice(0),this.dotNotation)}isObjectProperty(){return this.dimensions.length===1&&Pt(this.dimensions[0])&&typeof this.dimensions[0].value=="string"}getObjectProperty(){return this.isObjectProperty()?this.dimensions[0].value:null}_toString(o){return this.dotNotation?"."+this.getObjectProperty():"["+this.dimensions.join(", ")+"]"}toJSON(){return{mathjs:Ep,dimensions:this.dimensions,dotNotation:this.dotNotation}}static fromJSON(o){return new r(o.dimensions,o.dotNotation)}_toHTML(o){for(var a=[],s=0;s<this.dimensions.length;s++)a[s]=this.dimensions[s].toHTML();return this.dotNotation?'<span class="math-operator math-accessor-operator">.</span><span class="math-symbol math-property">'+_i(this.getObjectProperty())+"</span>":'<span class="math-parenthesis math-square-parenthesis">[</span>'+a.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-square-parenthesis">]</span>'}_toTex(o){var a=this.dimensions.map(function(s){return s.toTex(o)});return this.dotNotation?"."+this.getObjectProperty():"_{"+a.join(",")+"}"}}return Gn(r,"name",Ep),r},{isClass:!0,isNode:!0}),Mp="ObjectNode",Mye=["Node"],Nye=K(Mp,Mye,t=>{var{Node:e}=t;class n extends e{constructor(i){if(super(),this.properties=i||{},i&&(typeof i!="object"||!Object.keys(i).every(function(o){return Xt(i[o])})))throw new TypeError("Object containing Nodes expected")}get type(){return Mp}get isObjectNode(){return!0}_compile(i,o){var a={};for(var s in this.properties)if(Ve(this.properties,s)){var l=Iu(s),u=JSON.parse(l),c=_r(this.properties,s);a[u]=c._compile(i,o)}return function(d,h,p){var m={};for(var v in a)Ve(a,v)&&(m[v]=a[v](d,h,p));return m}}forEach(i){for(var o in this.properties)Ve(this.properties,o)&&i(this.properties[o],"properties["+Iu(o)+"]",this)}map(i){var o={};for(var a in this.properties)Ve(this.properties,a)&&(o[a]=this._ifNode(i(this.properties[a],"properties["+Iu(a)+"]",this)));return new n(o)}clone(){var i={};for(var o in this.properties)Ve(this.properties,o)&&(i[o]=this.properties[o]);return new n(i)}_toString(i){var o=[];for(var a in this.properties)Ve(this.properties,a)&&o.push(Iu(a)+": "+this.properties[a].toString(i));return"{"+o.join(", ")+"}"}toJSON(){return{mathjs:Mp,properties:this.properties}}static fromJSON(i){return new n(i.properties)}_toHTML(i){var o=[];for(var a in this.properties)Ve(this.properties,a)&&o.push('<span class="math-symbol math-property">'+_i(a)+'</span><span class="math-operator math-assignment-operator math-property-assignment-operator math-binary-operator">:</span>'+this.properties[a].toHTML(i));return'<span class="math-parenthesis math-curly-parenthesis">{</span>'+o.join('<span class="math-separator">,</span>')+'<span class="math-parenthesis math-curly-parenthesis">}</span>'}_toTex(i){var o=[];for(var a in this.properties)Ve(this.properties,a)&&o.push("\\mathbf{"+a+":} & "+this.properties[a].toTex(i)+"\\\\");var s="\\left\\{\\begin{array}{ll}"+o.join(`
`)+"\\end{array}\\right\\}";return s}}return Gn(n,"name",Mp),n},{isClass:!0,isNode:!0}),Np="OperatorNode",$ye=["Node"],Oye=K(Np,$ye,t=>{var{Node:e}=t;function n(o,a){var s=o;if(a==="auto")for(;Qa(s);)s=s.content;return Pt(s)?!0:kn(s)?n(s.args[0],a):!1}function r(o,a,s,l,u){var c=Zt(o,a,s),f=Ef(o,a);if(a==="all"||l.length>2&&o.getIdentifier()!=="OperatorNode:add"&&o.getIdentifier()!=="OperatorNode:multiply")return l.map(function(E){switch(E.getContent().type){case"ArrayNode":case"ConstantNode":case"SymbolNode":case"ParenthesisNode":return!1;default:return!0}});var d;switch(l.length){case 0:d=[];break;case 1:{var h=Zt(l[0],a,s,o);if(u&&h!==null){var p,m;if(a==="keep"?(p=l[0].getIdentifier(),m=o.getIdentifier()):(p=l[0].getContent().getIdentifier(),m=o.getContent().getIdentifier()),uo[c][m].latexLeftParens===!1){d=[!1];break}if(uo[h][p].latexParens===!1){d=[!1];break}}if(h===null){d=[!1];break}if(h<=c){d=[!0];break}d=[!1]}break;case 2:{var v,g=Zt(l[0],a,s,o),w=By(o,l[0],a);g===null?v=!1:g===c&&f==="right"&&!w||g<c?v=!0:v=!1;var y,S=Zt(l[1],a,s,o),x=By(o,l[1],a);if(S===null?y=!1:S===c&&f==="left"&&!x||S<c?y=!0:y=!1,u){var b,C,A;a==="keep"?(b=o.getIdentifier(),C=o.args[0].getIdentifier(),A=o.args[1].getIdentifier()):(b=o.getContent().getIdentifier(),C=o.args[0].getContent().getIdentifier(),A=o.args[1].getContent().getIdentifier()),g!==null&&(uo[c][b].latexLeftParens===!1&&(v=!1),uo[g][C].latexParens===!1&&(v=!1)),S!==null&&(uo[c][b].latexRightParens===!1&&(y=!1),uo[S][A].latexParens===!1&&(y=!1))}d=[v,y]}break;default:(o.getIdentifier()==="OperatorNode:add"||o.getIdentifier()==="OperatorNode:multiply")&&(d=l.map(function(E){var M=Zt(E,a,s,o),B=By(o,E,a),P=Ef(E,a);return M===null?!1:c===M&&f===P&&!B?!0:M<c}));break}if(l.length>=2&&o.getIdentifier()==="OperatorNode:multiply"&&o.implicit&&a!=="all"&&s==="hide")for(var D=1;D<d.length;++D)n(l[D],a)&&!d[D-1]&&(a!=="keep"||!Qa(l[D-1]))&&(d[D]=!0);return d}class i extends e{constructor(a,s,l,u,c){if(super(),typeof a!="string")throw new TypeError('string expected for parameter "op"');if(typeof s!="string")throw new TypeError('string expected for parameter "fn"');if(!Array.isArray(l)||!l.every(Xt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.implicit=u===!0,this.isPercentage=c===!0,this.op=a,this.fn=s,this.args=l||[]}get type(){return Np}get isOperatorNode(){return!0}_compile(a,s){if(typeof this.fn!="string"||!SS(a,this.fn))throw a[this.fn]?new Error('No access to function "'+this.fn+'"'):new Error("Function "+this.fn+' missing in provided namespace "math"');var l=_r(a,this.fn),u=Ra(this.args,function(p){return p._compile(a,s)});if(typeof l=="function"&&l.rawArgs===!0){var c=this.args;return function(m,v,g){return l(c,a,m)}}else if(u.length===1){var f=u[0];return function(m,v,g){return l(f(m,v,g))}}else if(u.length===2){var d=u[0],h=u[1];return function(m,v,g){return l(d(m,v,g),h(m,v,g))}}else return function(m,v,g){return l.apply(null,Ra(u,function(w){return w(m,v,g)}))}}forEach(a){for(var s=0;s<this.args.length;s++)a(this.args[s],"args["+s+"]",this)}map(a){for(var s=[],l=0;l<this.args.length;l++)s[l]=this._ifNode(a(this.args[l],"args["+l+"]",this));return new i(this.op,this.fn,s,this.implicit,this.isPercentage)}clone(){return new i(this.op,this.fn,this.args.slice(0),this.implicit,this.isPercentage)}isUnary(){return this.args.length===1}isBinary(){return this.args.length===2}_toString(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=a&&a.implicit?a.implicit:"hide",u=this.args,c=r(this,s,l,u,!1);if(u.length===1){var f=Ef(this,s),d=u[0].toString(a);c[0]&&(d="("+d+")");var h=/[a-zA-Z]+/.test(this.op);return f==="right"?this.op+(h?" ":"")+d:f==="left"?d+(h?" ":"")+this.op:d+this.op}else if(u.length===2){var p=u[0].toString(a),m=u[1].toString(a);return c[0]&&(p="("+p+")"),c[1]&&(m="("+m+")"),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?p+" "+m:p+" "+this.op+" "+m}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var v=u.map(function(g,w){return g=g.toString(a),c[w]&&(g="("+g+")"),g});return this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?v.join(" "):v.join(" "+this.op+" ")}else return this.fn+"("+this.args.join(", ")+")"}toJSON(){return{mathjs:Np,op:this.op,fn:this.fn,args:this.args,implicit:this.implicit,isPercentage:this.isPercentage}}static fromJSON(a){return new i(a.op,a.fn,a.args,a.implicit,a.isPercentage)}_toHTML(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=a&&a.implicit?a.implicit:"hide",u=this.args,c=r(this,s,l,u,!1);if(u.length===1){var f=Ef(this,s),d=u[0].toHTML(a);return c[0]&&(d='<span class="math-parenthesis math-round-parenthesis">(</span>'+d+'<span class="math-parenthesis math-round-parenthesis">)</span>'),f==="right"?'<span class="math-operator math-unary-operator math-lefthand-unary-operator">'+_i(this.op)+"</span>"+d:d+'<span class="math-operator math-unary-operator math-righthand-unary-operator">'+_i(this.op)+"</span>"}else if(u.length===2){var h=u[0].toHTML(a),p=u[1].toHTML(a);return c[0]&&(h='<span class="math-parenthesis math-round-parenthesis">(</span>'+h+'<span class="math-parenthesis math-round-parenthesis">)</span>'),c[1]&&(p='<span class="math-parenthesis math-round-parenthesis">(</span>'+p+'<span class="math-parenthesis math-round-parenthesis">)</span>'),this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?h+'<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'+p:h+'<span class="math-operator math-binary-operator math-explicit-binary-operator">'+_i(this.op)+"</span>"+p}else{var m=u.map(function(v,g){return v=v.toHTML(a),c[g]&&(v='<span class="math-parenthesis math-round-parenthesis">(</span>'+v+'<span class="math-parenthesis math-round-parenthesis">)</span>'),v});return u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")?this.implicit&&this.getIdentifier()==="OperatorNode:multiply"&&l==="hide"?m.join('<span class="math-operator math-binary-operator math-implicit-binary-operator"></span>'):m.join('<span class="math-operator math-binary-operator math-explicit-binary-operator">'+_i(this.op)+"</span>"):'<span class="math-function">'+_i(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+m.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}}_toTex(a){var s=a&&a.parenthesis?a.parenthesis:"keep",l=a&&a.implicit?a.implicit:"hide",u=this.args,c=r(this,s,l,u,!0),f=It[this.fn];if(f=typeof f>"u"?this.op:f,u.length===1){var d=Ef(this,s),h=u[0].toTex(a);return c[0]&&(h="\\left(".concat(h,"\\right)")),d==="right"?f+h:h+f}else if(u.length===2){var p=u[0],m=p.toTex(a);c[0]&&(m="\\left(".concat(m,"\\right)"));var v=u[1],g=v.toTex(a);c[1]&&(g="\\left(".concat(g,"\\right)"));var w;switch(s==="keep"?w=p.getIdentifier():w=p.getContent().getIdentifier(),this.getIdentifier()){case"OperatorNode:divide":return f+"{"+m+"}{"+g+"}";case"OperatorNode:pow":switch(m="{"+m+"}",g="{"+g+"}",w){case"ConditionalNode":case"OperatorNode:divide":m="\\left(".concat(m,"\\right)")}break;case"OperatorNode:multiply":if(this.implicit&&l==="hide")return m+"~"+g}return m+f+g}else if(u.length>2&&(this.getIdentifier()==="OperatorNode:add"||this.getIdentifier()==="OperatorNode:multiply")){var y=u.map(function(S,x){return S=S.toTex(a),c[x]&&(S="\\left(".concat(S,"\\right)")),S});return this.getIdentifier()==="OperatorNode:multiply"&&this.implicit&&l==="hide"?y.join("~"):y.join(f)}else return"\\mathrm{"+this.fn+"}\\left("+u.map(function(S){return S.toTex(a)}).join(",")+"\\right)"}getIdentifier(){return this.type+":"+this.fn}}return Gn(i,"name",Np),i},{isClass:!0,isNode:!0}),$p="ParenthesisNode",Tye=["Node"],Bye=K($p,Tye,t=>{var{Node:e}=t;class n extends e{constructor(i){if(super(),!Xt(i))throw new TypeError('Node expected for parameter "content"');this.content=i}get type(){return $p}get isParenthesisNode(){return!0}_compile(i,o){return this.content._compile(i,o)}getContent(){return this.content.getContent()}forEach(i){i(this.content,"content",this)}map(i){var o=i(this.content,"content",this);return new n(o)}clone(){return new n(this.content)}_toString(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"("+this.content.toString(i)+")":this.content.toString(i)}toJSON(){return{mathjs:$p,content:this.content}}static fromJSON(i){return new n(i.content)}_toHTML(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?'<span class="math-parenthesis math-round-parenthesis">(</span>'+this.content.toHTML(i)+'<span class="math-parenthesis math-round-parenthesis">)</span>':this.content.toHTML(i)}_toTex(i){return!i||i&&!i.parenthesis||i&&i.parenthesis==="keep"?"\\left(".concat(this.content.toTex(i),"\\right)"):this.content.toTex(i)}}return Gn(n,"name",$p),n},{isClass:!0,isNode:!0}),Op="RangeNode",Iye=["Node"],Pye=K(Op,Iye,t=>{var{Node:e}=t;function n(i,o,a){var s=Zt(i,o,a),l={},u=Zt(i.start,o,a);if(l.start=u!==null&&u<=s||o==="all",i.step){var c=Zt(i.step,o,a);l.step=c!==null&&c<=s||o==="all"}var f=Zt(i.end,o,a);return l.end=f!==null&&f<=s||o==="all",l}class r extends e{constructor(o,a,s){if(super(),!Xt(o))throw new TypeError("Node expected");if(!Xt(a))throw new TypeError("Node expected");if(s&&!Xt(s))throw new TypeError("Node expected");if(arguments.length>3)throw new Error("Too many arguments");this.start=o,this.end=a,this.step=s||null}get type(){return Op}get isRangeNode(){return!0}needsEnd(){var o=this.filter(function(a){return er(a)&&a.name==="end"});return o.length>0}_compile(o,a){var s=o.range,l=this.start._compile(o,a),u=this.end._compile(o,a);if(this.step){var c=this.step._compile(o,a);return function(d,h,p){return s(l(d,h,p),u(d,h,p),c(d,h,p))}}else return function(d,h,p){return s(l(d,h,p),u(d,h,p))}}forEach(o){o(this.start,"start",this),o(this.end,"end",this),this.step&&o(this.step,"step",this)}map(o){return new r(this._ifNode(o(this.start,"start",this)),this._ifNode(o(this.end,"end",this)),this.step&&this._ifNode(o(this.step,"step",this)))}clone(){return new r(this.start,this.end,this.step&&this.step)}_toString(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=n(this,a,o&&o.implicit),l,u=this.start.toString(o);if(s.start&&(u="("+u+")"),l=u,this.step){var c=this.step.toString(o);s.step&&(c="("+c+")"),l+=":"+c}var f=this.end.toString(o);return s.end&&(f="("+f+")"),l+=":"+f,l}toJSON(){return{mathjs:Op,start:this.start,end:this.end,step:this.step}}static fromJSON(o){return new r(o.start,o.end,o.step)}_toHTML(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=n(this,a,o&&o.implicit),l,u=this.start.toHTML(o);if(s.start&&(u='<span class="math-parenthesis math-round-parenthesis">(</span>'+u+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l=u,this.step){var c=this.step.toHTML(o);s.step&&(c='<span class="math-parenthesis math-round-parenthesis">(</span>'+c+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+c}var f=this.end.toHTML(o);return s.end&&(f='<span class="math-parenthesis math-round-parenthesis">(</span>'+f+'<span class="math-parenthesis math-round-parenthesis">)</span>'),l+='<span class="math-operator math-range-operator">:</span>'+f,l}_toTex(o){var a=o&&o.parenthesis?o.parenthesis:"keep",s=n(this,a,o&&o.implicit),l=this.start.toTex(o);if(s.start&&(l="\\left(".concat(l,"\\right)")),this.step){var u=this.step.toTex(o);s.step&&(u="\\left(".concat(u,"\\right)")),l+=":"+u}var c=this.end.toTex(o);return s.end&&(c="\\left(".concat(c,"\\right)")),l+=":"+c,l}}return Gn(r,"name",Op),r},{isClass:!0,isNode:!0}),Tp="RelationalNode",kye=["Node"],Fye=K(Tp,kye,t=>{var{Node:e}=t,n={equal:"==",unequal:"!=",smaller:"<",larger:">",smallerEq:"<=",largerEq:">="};class r extends e{constructor(o,a){if(super(),!Array.isArray(o))throw new TypeError("Parameter conditionals must be an array");if(!Array.isArray(a))throw new TypeError("Parameter params must be an array");if(o.length!==a.length-1)throw new TypeError("Parameter params must contain exactly one more element than parameter conditionals");this.conditionals=o,this.params=a}get type(){return Tp}get isRelationalNode(){return!0}_compile(o,a){var s=this,l=this.params.map(u=>u._compile(o,a));return function(c,f,d){for(var h,p=l[0](c,f,d),m=0;m<s.conditionals.length;m++){h=p,p=l[m+1](c,f,d);var v=_r(o,s.conditionals[m]);if(!v(h,p))return!1}return!0}}forEach(o){this.params.forEach((a,s)=>o(a,"params["+s+"]",this),this)}map(o){return new r(this.conditionals.slice(),this.params.map((a,s)=>this._ifNode(o(a,"params["+s+"]",this)),this))}clone(){return new r(this.conditionals,this.params)}_toString(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",s=Zt(this,a,o&&o.implicit),l=this.params.map(function(f,d){var h=Zt(f,a,o&&o.implicit);return a==="all"||h!==null&&h<=s?"("+f.toString(o)+")":f.toString(o)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=" "+n[this.conditionals[c]],u+=" "+l[c+1];return u}toJSON(){return{mathjs:Tp,conditionals:this.conditionals,params:this.params}}static fromJSON(o){return new r(o.conditionals,o.params)}_toHTML(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",s=Zt(this,a,o&&o.implicit),l=this.params.map(function(f,d){var h=Zt(f,a,o&&o.implicit);return a==="all"||h!==null&&h<=s?'<span class="math-parenthesis math-round-parenthesis">(</span>'+f.toHTML(o)+'<span class="math-parenthesis math-round-parenthesis">)</span>':f.toHTML(o)}),u=l[0],c=0;c<this.conditionals.length;c++)u+='<span class="math-operator math-binary-operator math-explicit-binary-operator">'+_i(n[this.conditionals[c]])+"</span>"+l[c+1];return u}_toTex(o){for(var a=o&&o.parenthesis?o.parenthesis:"keep",s=Zt(this,a,o&&o.implicit),l=this.params.map(function(f,d){var h=Zt(f,a,o&&o.implicit);return a==="all"||h!==null&&h<=s?"\\left("+f.toTex(o)+"\right)":f.toTex(o)}),u=l[0],c=0;c<this.conditionals.length;c++)u+=It[this.conditionals[c]]+l[c+1];return u}}return Gn(r,"name",Tp),r},{isClass:!0,isNode:!0}),Rye="SymbolNode",_ye=["math","?Unit","Node"],zye=K(Rye,_ye,t=>{var{math:e,Unit:n,Node:r}=t;function i(a){return n?n.isValuelessUnit(a):!1}class o extends r{constructor(s){if(super(),typeof s!="string")throw new TypeError('String expected for parameter "name"');this.name=s}get type(){return"SymbolNode"}get isSymbolNode(){return!0}_compile(s,l){var u=this.name;if(l[u]===!0)return function(f,d,h){return _r(d,u)};if(u in s)return function(f,d,h){return f.has(u)?f.get(u):_r(s,u)};var c=i(u);return function(f,d,h){return f.has(u)?f.get(u):c?new n(null,u):o.onUndefinedSymbol(u)}}forEach(s){}map(s){return this.clone()}static onUndefinedSymbol(s){throw new Error("Undefined symbol "+s)}clone(){return new o(this.name)}_toString(s){return this.name}_toHTML(s){var l=_i(this.name);return l==="true"||l==="false"?'<span class="math-symbol math-boolean">'+l+"</span>":l==="i"?'<span class="math-symbol math-imaginary-symbol">'+l+"</span>":l==="Infinity"?'<span class="math-symbol math-infinity-symbol">'+l+"</span>":l==="NaN"?'<span class="math-symbol math-nan-symbol">'+l+"</span>":l==="null"?'<span class="math-symbol math-null-symbol">'+l+"</span>":l==="undefined"?'<span class="math-symbol math-undefined-symbol">'+l+"</span>":'<span class="math-symbol">'+l+"</span>"}toJSON(){return{mathjs:"SymbolNode",name:this.name}}static fromJSON(s){return new o(s.name)}_toTex(s){var l=!1;typeof e[this.name]>"u"&&i(this.name)&&(l=!0);var u=__(this.name,l);return u[0]==="\\"?u:" "+u}}return o},{isClass:!0,isNode:!0});function zf(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return typeof t.createSubScope=="function"?EM(t.createSubScope(),...n):EM(Ec(),t,...n)}var Bp="FunctionNode",Lye=["math","Node","SymbolNode"],Hye=K(Bp,Lye,t=>{var e,{math:n,Node:r,SymbolNode:i}=t,o=l=>xt(l,{truncate:78});function a(l,u,c){for(var f="",d=/\$(?:\{([a-z_][a-z_0-9]*)(?:\[([0-9]+)\])?\}|\$)/gi,h=0,p;(p=d.exec(l))!==null;)if(f+=l.substring(h,p.index),h=p.index,p[0]==="$$")f+="$",h++;else{h+=p[0].length;var m=u[p[1]];if(!m)throw new ReferenceError("Template: Property "+p[1]+" does not exist.");if(p[2]===void 0)switch(typeof m){case"string":f+=m;break;case"object":if(Xt(m))f+=m.toTex(c);else if(Array.isArray(m))f+=m.map(function(v,g){if(Xt(v))return v.toTex(c);throw new TypeError("Template: "+p[1]+"["+g+"] is not a Node.")}).join(",");else throw new TypeError("Template: "+p[1]+" has to be a Node, String or array of Nodes");break;default:throw new TypeError("Template: "+p[1]+" has to be a Node, String or array of Nodes")}else if(Xt(m[p[2]]&&m[p[2]]))f+=m[p[2]].toTex(c);else throw new TypeError("Template: "+p[1]+"["+p[2]+"] is not a Node.")}return f+=l.slice(h),f}class s extends r{constructor(u,c){if(super(),typeof u=="string"&&(u=new i(u)),!Xt(u))throw new TypeError('Node expected as parameter "fn"');if(!Array.isArray(c)||!c.every(Xt))throw new TypeError('Array containing Nodes expected for parameter "args"');this.fn=u,this.args=c||[]}get name(){return this.fn.name||""}get type(){return Bp}get isFunctionNode(){return!0}_compile(u,c){var f=this.args.map(A=>A._compile(u,c));if(er(this.fn)){var d=this.fn.name;if(c[d]){var g=this.args;return function(D,E,M){var B=_r(E,d);if(typeof B!="function")throw new TypeError("Argument '".concat(d,"' was not a function; received: ").concat(o(B)));if(B.rawArgs)return B(g,u,zf(D,E));var P=f.map(F=>F(D,E,M));return B.apply(B,P)}}else{var h=d in u?_r(u,d):void 0,p=typeof h=="function"&&h.rawArgs===!0,m=A=>{var D;if(A.has(d))D=A.get(d);else if(d in u)D=_r(u,d);else return s.onUndefinedFunction(d);if(typeof D=="function")return D;throw new TypeError("'".concat(d,`' is not a function; its value is:
  `).concat(o(D)))};if(p){var v=this.args;return function(D,E,M){var B=m(D);return B(v,u,zf(D,E))}}else switch(f.length){case 0:return function(D,E,M){var B=m(D);return B()};case 1:return function(D,E,M){var B=m(D),P=f[0];return B(P(D,E,M))};case 2:return function(D,E,M){var B=m(D),P=f[0],F=f[1];return B(P(D,E,M),F(D,E,M))};default:return function(D,E,M){var B=m(D),P=f.map(F=>F(D,E,M));return B(...P)}}}}else if(Fl(this.fn)&&Wc(this.fn.index)&&this.fn.index.isObjectProperty()){var w=this.fn.object._compile(u,c),y=this.fn.index.getObjectProperty(),S=this.args;return function(D,E,M){var B=w(D,E,M),P=hue(B,y);if(P!=null&&P.rawArgs)return P(S,u,zf(D,E));var F=f.map($=>$(D,E,M));return P.apply(B,F)}}else{var x=this.fn.toString(),b=this.fn._compile(u,c),C=this.args;return function(D,E,M){var B=b(D,E,M);if(typeof B!="function")throw new TypeError("Expression '".concat(x,"' did not evaluate to a function; value is:")+`
  `.concat(o(B)));if(B.rawArgs)return B(C,u,zf(D,E));var P=f.map(F=>F(D,E,M));return B.apply(B,P)}}}forEach(u){u(this.fn,"fn",this);for(var c=0;c<this.args.length;c++)u(this.args[c],"args["+c+"]",this)}map(u){for(var c=this._ifNode(u(this.fn,"fn",this)),f=[],d=0;d<this.args.length;d++)f[d]=this._ifNode(u(this.args[d],"args["+d+"]",this));return new s(c,f)}clone(){return new s(this.fn,this.args.slice(0))}toString(u){var c,f=this.fn.toString(u);return u&&typeof u.handler=="object"&&Ve(u.handler,f)&&(c=u.handler[f](this,u)),typeof c<"u"?c:super.toString(u)}_toString(u){var c=this.args.map(function(d){return d.toString(u)}),f=sh(this.fn)?"("+this.fn.toString(u)+")":this.fn.toString(u);return f+"("+c.join(", ")+")"}toJSON(){return{mathjs:Bp,fn:this.fn,args:this.args}}_toHTML(u){var c=this.args.map(function(f){return f.toHTML(u)});return'<span class="math-function">'+_i(this.fn)+'</span><span class="math-paranthesis math-round-parenthesis">(</span>'+c.join('<span class="math-separator">,</span>')+'<span class="math-paranthesis math-round-parenthesis">)</span>'}toTex(u){var c;return u&&typeof u.handler=="object"&&Ve(u.handler,this.name)&&(c=u.handler[this.name](this,u)),typeof c<"u"?c:super.toTex(u)}_toTex(u){var c=this.args.map(function(h){return h.toTex(u)}),f;NO[this.name]&&(f=NO[this.name]),n[this.name]&&(typeof n[this.name].toTex=="function"||typeof n[this.name].toTex=="object"||typeof n[this.name].toTex=="string")&&(f=n[this.name].toTex);var d;switch(typeof f){case"function":d=f(this,u);break;case"string":d=a(f,this,u);break;case"object":switch(typeof f[c.length]){case"function":d=f[c.length](this,u);break;case"string":d=a(f[c.length],this,u);break}}return typeof d<"u"?d:a(xye,this,u)}getIdentifier(){return this.type+":"+this.name}}return e=s,Gn(s,"name",Bp),Gn(s,"onUndefinedFunction",function(l){throw new Error("Undefined function "+l)}),Gn(s,"fromJSON",function(l){return new e(l.fn,l.args)}),s},{isClass:!0,isNode:!0}),OO="parse",Vye=["typed","numeric","config","AccessorNode","ArrayNode","AssignmentNode","BlockNode","ConditionalNode","ConstantNode","FunctionAssignmentNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","RangeNode","RelationalNode","SymbolNode"],Uye=K(OO,Vye,t=>{var{typed:e,numeric:n,config:r,AccessorNode:i,ArrayNode:o,AssignmentNode:a,BlockNode:s,ConditionalNode:l,ConstantNode:u,FunctionAssignmentNode:c,FunctionNode:f,IndexNode:d,ObjectNode:h,OperatorNode:p,ParenthesisNode:m,RangeNode:v,RelationalNode:g,SymbolNode:w}=t,y=e(OO,{string:function(le){return X(le,{})},"Array | Matrix":function(le){return S(le,{})},"string, Object":function(le,be){var ke=be.nodes!==void 0?be.nodes:{};return X(le,ke)},"Array | Matrix, Object":S});function S(R){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},be=le.nodes!==void 0?le.nodes:{};return At(R,function(ke){if(typeof ke!="string")throw new TypeError("String expected");return X(ke,be)})}var x={NULL:0,DELIMITER:1,NUMBER:2,SYMBOL:3,UNKNOWN:4},b={",":!0,"(":!0,")":!0,"[":!0,"]":!0,"{":!0,"}":!0,'"':!0,"'":!0,";":!0,"+":!0,"-":!0,"*":!0,".*":!0,"/":!0,"./":!0,"%":!0,"^":!0,".^":!0,"~":!0,"!":!0,"&":!0,"|":!0,"^|":!0,"=":!0,":":!0,"?":!0,"==":!0,"!=":!0,"<":!0,">":!0,"<=":!0,">=":!0,"<<":!0,">>":!0,">>>":!0},C={mod:!0,to:!0,in:!0,and:!0,xor:!0,or:!0,not:!0},A={true:!0,false:!1,null:null,undefined:void 0},D=["NaN","Infinity"],E={'"':'"',"'":"'","\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"};function M(){return{extraNodes:{},expression:"",comment:"",index:0,token:"",tokenType:x.NULL,nestingLevel:0,conditionalLevel:null}}function B(R,le){return R.expression.substr(R.index,le)}function P(R){return B(R,1)}function F(R){R.index++}function $(R){return R.expression.charAt(R.index-1)}function N(R){return R.expression.charAt(R.index+1)}function T(R){for(R.tokenType=x.NULL,R.token="",R.comment="";;){if(P(R)==="#")for(;P(R)!==`
`&&P(R)!=="";)R.comment+=P(R),F(R);if(y.isWhitespace(P(R),R.nestingLevel))F(R);else break}if(P(R)===""){R.tokenType=x.DELIMITER;return}if(P(R)===`
`&&!R.nestingLevel){R.tokenType=x.DELIMITER,R.token=P(R),F(R);return}var le=P(R),be=B(R,2),ke=B(R,3);if(ke.length===3&&b[ke]){R.tokenType=x.DELIMITER,R.token=ke,F(R),F(R),F(R);return}if(be.length===2&&b[be]){R.tokenType=x.DELIMITER,R.token=be,F(R),F(R);return}if(b[le]){R.tokenType=x.DELIMITER,R.token=le,F(R);return}if(y.isDigitDot(le)){R.tokenType=x.NUMBER;var Qe=B(R,2);if(Qe==="0b"||Qe==="0o"||Qe==="0x"){for(R.token+=P(R),F(R),R.token+=P(R),F(R);y.isHexDigit(P(R));)R.token+=P(R),F(R);if(P(R)===".")for(R.token+=".",F(R);y.isHexDigit(P(R));)R.token+=P(R),F(R);else if(P(R)==="i")for(R.token+="i",F(R);y.isDigit(P(R));)R.token+=P(R),F(R);return}if(P(R)==="."){if(R.token+=P(R),F(R),!y.isDigit(P(R))){R.tokenType=x.DELIMITER;return}}else{for(;y.isDigit(P(R));)R.token+=P(R),F(R);y.isDecimalMark(P(R),N(R))&&(R.token+=P(R),F(R))}for(;y.isDigit(P(R));)R.token+=P(R),F(R);if(P(R)==="E"||P(R)==="e"){if(y.isDigit(N(R))||N(R)==="-"||N(R)==="+"){if(R.token+=P(R),F(R),(P(R)==="+"||P(R)==="-")&&(R.token+=P(R),F(R)),!y.isDigit(P(R)))throw We(R,'Digit expected, got "'+P(R)+'"');for(;y.isDigit(P(R));)R.token+=P(R),F(R);if(y.isDecimalMark(P(R),N(R)))throw We(R,'Digit expected, got "'+P(R)+'"')}else if(N(R)===".")throw F(R),We(R,'Digit expected, got "'+P(R)+'"')}return}if(y.isAlpha(P(R),$(R),N(R))){for(;y.isAlpha(P(R),$(R),N(R))||y.isDigit(P(R));)R.token+=P(R),F(R);Ve(C,R.token)?R.tokenType=x.DELIMITER:R.tokenType=x.SYMBOL;return}for(R.tokenType=x.UNKNOWN;P(R)!=="";)R.token+=P(R),F(R);throw We(R,'Syntax error in part "'+R.token+'"')}function z(R){do T(R);while(R.token===`
`)}function I(R){R.nestingLevel++}function q(R){R.nestingLevel--}y.isAlpha=function(le,be,ke){return y.isValidLatinOrGreek(le)||y.isValidMathSymbol(le,ke)||y.isValidMathSymbol(be,le)},y.isValidLatinOrGreek=function(le){return/^[a-zA-Z_$\u00C0-\u02AF\u0370-\u03FF\u2100-\u214F]$/.test(le)},y.isValidMathSymbol=function(le,be){return/^[\uD835]$/.test(le)&&/^[\uDC00-\uDFFF]$/.test(be)&&/^[^\uDC55\uDC9D\uDCA0\uDCA1\uDCA3\uDCA4\uDCA7\uDCA8\uDCAD\uDCBA\uDCBC\uDCC4\uDD06\uDD0B\uDD0C\uDD15\uDD1D\uDD3A\uDD3F\uDD45\uDD47-\uDD49\uDD51\uDEA6\uDEA7\uDFCC\uDFCD]$/.test(be)},y.isWhitespace=function(le,be){return le===" "||le==="	"||le===`
`&&be>0},y.isDecimalMark=function(le,be){return le==="."&&be!=="/"&&be!=="*"&&be!=="^"},y.isDigitDot=function(le){return le>="0"&&le<="9"||le==="."},y.isDigit=function(le){return le>="0"&&le<="9"},y.isHexDigit=function(le){return le>="0"&&le<="9"||le>="a"&&le<="f"||le>="A"&&le<="F"};function X(R,le){var be=M();jn(be,{expression:R,extraNodes:le}),T(be);var ke=V(be);if(be.token!=="")throw be.tokenType===x.DELIMITER?Kt(be,"Unexpected operator "+be.token):We(be,'Unexpected part "'+be.token+'"');return ke}function V(R){var le,be=[],ke;for(R.token!==""&&R.token!==`
`&&R.token!==";"&&(le=L(R),R.comment&&(le.comment=R.comment));R.token===`
`||R.token===";";)be.length===0&&le&&(ke=R.token!==";",be.push({node:le,visible:ke})),T(R),R.token!==`
`&&R.token!==";"&&R.token!==""&&(le=L(R),R.comment&&(le.comment=R.comment),ke=R.token!==";",be.push({node:le,visible:ke}));return be.length>0?new s(be):(le||(le=new u(void 0),R.comment&&(le.comment=R.comment)),le)}function L(R){var le,be,ke,Qe,dt=ne(R);if(R.token==="="){if(er(dt))return le=dt.name,z(R),ke=L(R),new a(new w(le),ke);if(Fl(dt))return z(R),ke=L(R),new a(dt.object,dt.index,ke);if(Vs(dt)&&er(dt.fn)&&(Qe=!0,be=[],le=dt.name,dt.args.forEach(function(Sn,no){er(Sn)?be[no]=Sn.name:Qe=!1}),Qe))return z(R),ke=L(R),new c(le,be,ke);throw We(R,"Invalid left hand side of assignment operator =")}return dt}function ne(R){for(var le=se(R);R.token==="?";){var be=R.conditionalLevel;R.conditionalLevel=R.nestingLevel,z(R);var ke=le,Qe=L(R);if(R.token!==":")throw We(R,"False part of conditional expression expected");R.conditionalLevel=null,z(R);var dt=L(R);le=new l(ke,Qe,dt),R.conditionalLevel=be}return le}function se(R){for(var le=Y(R);R.token==="or";)z(R),le=new p("or","or",[le,Y(R)]);return le}function Y(R){for(var le=ee(R);R.token==="xor";)z(R),le=new p("xor","xor",[le,ee(R)]);return le}function ee(R){for(var le=ie(R);R.token==="and";)z(R),le=new p("and","and",[le,ie(R)]);return le}function ie(R){for(var le=j(R);R.token==="|";)z(R),le=new p("|","bitOr",[le,j(R)]);return le}function j(R){for(var le=W(R);R.token==="^|";)z(R),le=new p("^|","bitXor",[le,W(R)]);return le}function W(R){for(var le=J(R);R.token==="&";)z(R),le=new p("&","bitAnd",[le,J(R)]);return le}function J(R){for(var le=[oe(R)],be=[],ke={"==":"equal","!=":"unequal","<":"smaller",">":"larger","<=":"smallerEq",">=":"largerEq"};Ve(ke,R.token);){var Qe={name:R.token,fn:ke[R.token]};be.push(Qe),z(R),le.push(oe(R))}return le.length===1?le[0]:le.length===2?new p(be[0].name,be[0].fn,le):new g(be.map(dt=>dt.fn),le)}function oe(R){var le,be,ke,Qe;le=de(R);for(var dt={"<<":"leftShift",">>":"rightArithShift",">>>":"rightLogShift"};Ve(dt,R.token);)be=R.token,ke=dt[be],z(R),Qe=[le,de(R)],le=new p(be,ke,Qe);return le}function de(R){var le,be,ke,Qe;le=ge(R);for(var dt={to:"to",in:"to"};Ve(dt,R.token);)be=R.token,ke=dt[be],z(R),be==="in"&&R.token===""?le=new p("*","multiply",[le,new w("in")],!0):(Qe=[le,ge(R)],le=new p(be,ke,Qe));return le}function ge(R){var le,be=[];if(R.token===":"?le=new u(1):le=U(R),R.token===":"&&R.conditionalLevel!==R.nestingLevel){for(be.push(le);R.token===":"&&be.length<3;)z(R),R.token===")"||R.token==="]"||R.token===","||R.token===""?be.push(new w("end")):be.push(U(R));be.length===3?le=new v(be[0],be[2],be[1]):le=new v(be[0],be[1])}return le}function U(R){var le,be,ke,Qe;le=Z(R);for(var dt={"+":"add","-":"subtract"};Ve(dt,R.token);){be=R.token,ke=dt[be],z(R);var Sn=Z(R);Sn.isPercentage?Qe=[le,new p("*","multiply",[le,Sn])]:Qe=[le,Sn],le=new p(be,ke,Qe)}return le}function Z(R){var le,be,ke,Qe;le=fe(R),be=le;for(var dt={"*":"multiply",".*":"dotMultiply","/":"divide","./":"dotDivide"};Ve(dt,R.token);)ke=R.token,Qe=dt[ke],z(R),be=fe(R),le=new p(ke,Qe,[le,be]);return le}function fe(R){var le,be;for(le=Q(R),be=le;R.tokenType===x.SYMBOL||R.token==="in"&&Pt(le)||R.tokenType===x.NUMBER&&!Pt(be)&&(!kn(be)||be.op==="!")||R.token==="(";)be=Q(R),le=new p("*","multiply",[le,be],!0);return le}function Q(R){for(var le=re(R),be=le,ke=[];R.token==="/"&&L1(be);)if(ke.push(jn({},R)),z(R),R.tokenType===x.NUMBER)if(ke.push(jn({},R)),z(R),R.tokenType===x.SYMBOL||R.token==="(")jn(R,ke.pop()),ke.pop(),be=re(R),le=new p("/","divide",[le,be]);else{ke.pop(),jn(R,ke.pop());break}else{jn(R,ke.pop());break}return le}function re(R){var le,be,ke,Qe;le=ue(R);for(var dt={"%":"mod",mod:"mod"};Ve(dt,R.token);)be=R.token,ke=dt[be],z(R),be==="%"&&R.tokenType===x.DELIMITER&&R.token!=="("?le=new p("/","divide",[le,new u(100)],!1,!0):(Qe=[le,ue(R)],le=new p(be,ke,Qe));return le}function ue(R){var le,be,ke,Qe={"-":"unaryMinus","+":"unaryPlus","~":"bitNot",not:"not"};return Ve(Qe,R.token)?(ke=Qe[R.token],le=R.token,z(R),be=[ue(R)],new p(le,ke,be)):ye(R)}function ye(R){var le,be,ke,Qe;return le=xe(R),(R.token==="^"||R.token===".^")&&(be=R.token,ke=be==="^"?"pow":"dotPow",z(R),Qe=[le,ue(R)],le=new p(be,ke,Qe)),le}function xe(R){var le,be,ke,Qe;le=G(R);for(var dt={"!":"factorial","'":"ctranspose"};Ve(dt,R.token);)be=R.token,ke=dt[be],T(R),Qe=[le],le=new p(be,ke,Qe),le=he(R,le);return le}function G(R){var le=[];if(R.tokenType===x.SYMBOL&&Ve(R.extraNodes,R.token)){var be=R.extraNodes[R.token];if(T(R),R.token==="("){if(le=[],I(R),T(R),R.token!==")")for(le.push(L(R));R.token===",";)T(R),le.push(L(R));if(R.token!==")")throw We(R,"Parenthesis ) expected");q(R),T(R)}return new be(le)}return te(R)}function te(R){var le,be;return R.tokenType===x.SYMBOL||R.tokenType===x.DELIMITER&&R.token in C?(be=R.token,T(R),Ve(A,be)?le=new u(A[be]):D.indexOf(be)!==-1?le=new u(n(be,"number")):le=new w(be),le=he(R,le),le):ce(R)}function he(R,le,be){for(var ke;(R.token==="("||R.token==="["||R.token===".")&&(!be||be.indexOf(R.token)!==-1);)if(ke=[],R.token==="(")if(er(le)||Fl(le)){if(I(R),T(R),R.token!==")")for(ke.push(L(R));R.token===",";)T(R),ke.push(L(R));if(R.token!==")")throw We(R,"Parenthesis ) expected");q(R),T(R),le=new f(le,ke)}else return le;else if(R.token==="["){if(I(R),T(R),R.token!=="]")for(ke.push(L(R));R.token===",";)T(R),ke.push(L(R));if(R.token!=="]")throw We(R,"Parenthesis ] expected");q(R),T(R),le=new i(le,new d(ke))}else{T(R);var Qe=R.tokenType===x.SYMBOL||R.tokenType===x.DELIMITER&&R.token in C;if(!Qe)throw We(R,"Property name expected after dot");ke.push(new u(R.token)),T(R);var dt=!0;le=new i(le,new d(ke,dt))}return le}function ce(R){var le,be;return R.token==='"'||R.token==="'"?(be=pe(R,R.token),le=new u(be),le=he(R,le),le):me(R)}function pe(R,le){for(var be="";P(R)!==""&&P(R)!==le;)if(P(R)==="\\"){F(R);var ke=P(R),Qe=E[ke];if(Qe!==void 0)be+=Qe,R.index+=1;else if(ke==="u"){var dt=R.expression.slice(R.index+1,R.index+5);if(/^[0-9A-Fa-f]{4}$/.test(dt))be+=String.fromCharCode(parseInt(dt,16)),R.index+=5;else throw We(R,"Invalid unicode character \\u".concat(dt))}else throw We(R,"Bad escape character \\".concat(ke))}else be+=P(R),F(R);if(T(R),R.token!==le)throw We(R,"End of string ".concat(le," expected"));return T(R),be}function me(R){var le,be,ke,Qe;if(R.token==="["){if(I(R),T(R),R.token!=="]"){var dt=$e(R);if(R.token===";"){for(ke=1,be=[dt];R.token===";";)T(R),be[ke]=$e(R),ke++;if(R.token!=="]")throw We(R,"End of matrix ] expected");q(R),T(R),Qe=be[0].items.length;for(var Sn=1;Sn<ke;Sn++)if(be[Sn].items.length!==Qe)throw Kt(R,"Column dimensions mismatch ("+be[Sn].items.length+" !== "+Qe+")");le=new o(be)}else{if(R.token!=="]")throw We(R,"End of matrix ] expected");q(R),T(R),le=dt}}else q(R),T(R),le=new o([]);return he(R,le)}return Ne(R)}function $e(R){for(var le=[L(R)],be=1;R.token===",";)T(R),le[be]=L(R),be++;return new o(le)}function Ne(R){if(R.token==="{"){I(R);var le,be={};do if(T(R),R.token!=="}"){if(R.token==='"'||R.token==="'")le=pe(R,R.token);else if(R.tokenType===x.SYMBOL||R.tokenType===x.DELIMITER&&R.token in C)le=R.token,T(R);else throw We(R,"Symbol or string expected as object key");if(R.token!==":")throw We(R,"Colon : expected after object key");T(R),be[le]=L(R)}while(R.token===",");if(R.token!=="}")throw We(R,"Comma , or bracket } expected after object value");q(R),T(R);var ke=new h(be);return ke=he(R,ke),ke}return Me(R)}function Me(R){var le;return R.tokenType===x.NUMBER?(le=R.token,T(R),new u(n(le,r.number))):Ie(R)}function Ie(R){var le;if(R.token==="("){if(I(R),T(R),le=L(R),R.token!==")")throw We(R,"Parenthesis ) expected");return q(R),T(R),le=new m(le),le=he(R,le),le}return ft(R)}function ft(R){throw R.token===""?We(R,"Unexpected end of expression"):We(R,"Value expected")}function vt(R){return R.index-R.token.length+1}function We(R,le){var be=vt(R),ke=new SyntaxError(le+" (char "+be+")");return ke.char=be,ke}function Kt(R,le){var be=vt(R),ke=new SyntaxError(le+" (char "+be+")");return ke.char=be,ke}return e.addConversion({from:"string",to:"Node",convert:y}),y}),TO="compile",qye=["typed","parse"],Wye=K(TO,qye,t=>{var{typed:e,parse:n}=t;return e(TO,{string:function(i){return n(i).compile()},"Array | Matrix":function(i){return At(i,function(o){return n(o).compile()})}})}),BO="evaluate",jye=["typed","parse"],Gye=K(BO,jye,t=>{var{typed:e,parse:n}=t;return e(BO,{string:function(i){var o=Ec();return n(i).compile().evaluate(o)},"string, Map | Object":function(i,o){return n(i).compile().evaluate(o)},"Array | Matrix":function(i){var o=Ec();return At(i,function(a){return n(a).compile().evaluate(o)})},"Array | Matrix, Map | Object":function(i,o){return At(i,function(a){return n(a).compile().evaluate(o)})}})}),Xye="Parser",Kye=["evaluate"],Yye=K(Xye,Kye,t=>{var{evaluate:e}=t;function n(){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");Object.defineProperty(this,"scope",{value:Ec(),writable:!1})}return n.prototype.type="Parser",n.prototype.isParser=!0,n.prototype.evaluate=function(r){return e(r,this.scope)},n.prototype.get=function(r){if(this.scope.has(r))return this.scope.get(r)},n.prototype.getAll=function(){return gue(this.scope)},n.prototype.getAllAsMap=function(){return this.scope},n.prototype.set=function(r,i){return this.scope.set(r,i),i},n.prototype.remove=function(r){this.scope.delete(r)},n.prototype.clear=function(){this.scope.clear()},n},{isClass:!0}),IO="parser",Zye=["typed","Parser"],Qye=K(IO,Zye,t=>{var{typed:e,Parser:n}=t;return e(IO,{"":function(){return new n}})}),PO="lup",Jye=["typed","matrix","abs","addScalar","divideScalar","multiplyScalar","subtractScalar","larger","equalScalar","unaryMinus","DenseMatrix","SparseMatrix","Spa"],ebe=K(PO,Jye,t=>{var{typed:e,matrix:n,abs:r,addScalar:i,divideScalar:o,multiplyScalar:a,subtractScalar:s,larger:l,equalScalar:u,unaryMinus:c,DenseMatrix:f,SparseMatrix:d,Spa:h}=t;return e(PO,{DenseMatrix:function(g){return p(g)},SparseMatrix:function(g){return m(g)},Array:function(g){var w=n(g),y=p(w);return{L:y.L.valueOf(),U:y.U.valueOf(),p:y.p}}});function p(v){var g=v._size[0],w=v._size[1],y=Math.min(g,w),S=ct(v._data),x=[],b=[g,y],C=[],A=[y,w],D,E,M,B=[];for(D=0;D<g;D++)B[D]=D;for(E=0;E<w;E++){if(E>0)for(D=0;D<g;D++){var P=Math.min(D,E),F=0;for(M=0;M<P;M++)F=i(F,a(S[D][M],S[M][E]));S[D][E]=s(S[D][E],F)}var $=E,N=0,T=0;for(D=E;D<g;D++){var z=S[D][E],I=r(z);l(I,N)&&($=D,N=I,T=z)}if(E!==$&&(B[E]=[B[$],B[$]=B[E]][0],f._swapRows(E,$,S)),E<g)for(D=E+1;D<g;D++){var q=S[D][E];u(q,0)||(S[D][E]=o(S[D][E],T))}}for(E=0;E<w;E++)for(D=0;D<g;D++){if(E===0&&(D<w&&(C[D]=[]),x[D]=[]),D<E){D<w&&(C[D][E]=S[D][E]),E<g&&(x[D][E]=0);continue}if(D===E){D<w&&(C[D][E]=S[D][E]),E<g&&(x[D][E]=1);continue}D<w&&(C[D][E]=0),E<g&&(x[D][E]=S[D][E])}var X=new f({data:x,size:b}),V=new f({data:C,size:A}),L=[];for(D=0,y=B.length;D<y;D++)L[B[D]]=D;return{L:X,U:V,p:L,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}function m(v){var g=v._size[0],w=v._size[1],y=Math.min(g,w),S=v._values,x=v._index,b=v._ptr,C=[],A=[],D=[],E=[g,y],M=[],B=[],P=[],F=[y,w],$,N,T,z=[],I=[];for($=0;$<g;$++)z[$]=$,I[$]=$;var q=function(L,ne){var se=I[L],Y=I[ne];z[se]=ne,z[Y]=L,I[L]=Y,I[ne]=se},X=function(){var L=new h;N<g&&(D.push(C.length),C.push(1),A.push(N)),P.push(M.length);var ne=b[N],se=b[N+1];for(T=ne;T<se;T++)$=x[T],L.set(z[$],S[T]);N>0&&L.forEach(0,N-1,function(j,W){d._forEachRow(j,C,A,D,function(J,oe){J>j&&L.accumulate(J,c(a(oe,W)))})});var Y=N,ee=L.get(N),ie=r(ee);L.forEach(N+1,g-1,function(j,W){var J=r(W);l(J,ie)&&(Y=j,ie=J,ee=W)}),N!==Y&&(d._swapRows(N,Y,E[1],C,A,D),d._swapRows(N,Y,F[1],M,B,P),L.swap(N,Y),q(N,Y)),L.forEach(0,g-1,function(j,W){j<=N?(M.push(W),B.push(j)):(W=o(W,ee),u(W,0)||(C.push(W),A.push(j)))})};for(N=0;N<w;N++)X();return P.push(M.length),D.push(C.length),{L:new d({values:C,index:A,ptr:D,size:E}),U:new d({values:M,index:B,ptr:P,size:F}),p:z,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
P: `+this.p}}}}),kO="qr",tbe=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtractScalar","complex"],nbe=K(kO,tbe,t=>{var{typed:e,matrix:n,zeros:r,identity:i,isZero:o,equal:a,sign:s,sqrt:l,conj:u,unaryMinus:c,addScalar:f,divideScalar:d,multiplyScalar:h,subtractScalar:p,complex:m}=t;return jn(e(kO,{DenseMatrix:function(S){return g(S)},SparseMatrix:function(S){return w()},Array:function(S){var x=n(S),b=g(x);return{Q:b.Q.valueOf(),R:b.R.valueOf()}}}),{_denseQRimpl:v});function v(y){var S=y._size[0],x=y._size[1],b=i([S],"dense"),C=b._data,A=y.clone(),D=A._data,E,M,B,P=r([S],"");for(B=0;B<Math.min(x,S);++B){var F=D[B][B],$=c(a(F,0)?1:s(F)),N=u($),T=0;for(E=B;E<S;E++)T=f(T,h(D[E][B],u(D[E][B])));var z=h($,l(T));if(!o(z)){var I=p(F,z);for(P[B]=1,E=B+1;E<S;E++)P[E]=d(D[E][B],I);var q=c(u(d(I,z))),X=void 0;for(M=B;M<x;M++){for(X=0,E=B;E<S;E++)X=f(X,h(u(P[E]),D[E][M]));for(X=h(X,q),E=B;E<S;E++)D[E][M]=h(p(D[E][M],h(P[E],X)),N)}for(E=0;E<S;E++){for(X=0,M=B;M<S;M++)X=f(X,h(C[E][M],P[M]));for(X=h(X,q),M=B;M<S;++M)C[E][M]=d(p(C[E][M],h(X,u(P[M]))),N)}}}return{Q:b,R:A,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function g(y){var S=v(y),x=S.R._data;if(y._data.length>0)for(var b=x[0][0].type==="Complex"?m(0):0,C=0;C<x.length;++C)for(var A=0;A<C&&A<(x[0]||[]).length;++A)x[C][A]=b;return S}function w(y){throw new Error("qr not implemented for sparse matrices yet")}});function rbe(t,e,n,r){for(var i=t._values,o=t._index,a=t._ptr,s=t._size,l=t._datatype,u=s[0],c=s[1],f=r&&t._values?[]:null,d=[],h=[],p=0,m=0;m<c;m++){h[m]=p;for(var v=n?n[m]:m,g=a[v],w=a[v+1],y=g;y<w;y++){var S=e?e[o[y]]:o[y];d[p]=S,f&&(f[p]=i[y]),p++}}return h[c]=p,t.createSparseMatrix({values:f,index:d,ptr:h,size:[u,c],datatype:l})}function z_(t,e,n,r,i,o,a){var s=0;for(n[a]=t;s>=0;){var l=n[a+s],u=n[r+l];u===-1?(s--,o[e++]=l):(n[r+l]=n[i+u],++s,n[a+s]=u)}return e}function ibe(t,e){if(!t)return null;var n=0,r,i=[],o=[],a=0,s=e,l=2*e;for(r=0;r<e;r++)o[a+r]=-1;for(r=e-1;r>=0;r--)t[r]!==-1&&(o[s+r]=o[a+t[r]],o[a+t[r]]=r);for(r=0;r<e;r++)t[r]===-1&&(n=z_(r,n,o,a,s,i,l));return i}function obe(t,e){if(!t)return null;var n=t._index,r=t._ptr,i=t._size,o=i[0],a=i[1],s=[],l=[],u=0,c=a,f,d;if(e)for(f=0;f<o;f++)l[c+f]=-1;for(var h=0;h<a;h++){s[h]=-1,l[u+h]=-1;for(var p=r[h],m=r[h+1],v=p;v<m;v++){var g=n[v];for(f=e?l[c+g]:g;f!==-1&&f<h;f=d)d=l[u+f],l[u+f]=h,d===-1&&(s[f]=h);e&&(l[c+g]=h)}}return s}function abe(t,e,n){for(var r=t._values,i=t._index,o=t._ptr,a=t._size,s=a[1],l=0,u=0;u<s;u++){var c=o[u];for(o[u]=l;c<o[u+1];c++)e(i[c],u,r?r[c]:1,n)&&(i[l]=i[c],r&&(r[l]=r[c]),l++)}return o[s]=l,i.splice(l,i.length-l),r&&r.splice(l,r.length-l),l}function ms(t){return-t-2}var sbe="csAmd",lbe=["add","multiply","transpose"],ube=K(sbe,lbe,t=>{var{add:e,multiply:n,transpose:r}=t;return function(c,f){if(!f||c<=0||c>3)return null;var d=f._size,h=d[0],p=d[1],m=0,v=Math.max(16,10*Math.sqrt(p));v=Math.min(p-2,v);var g=i(c,f,h,p,v);abe(g,l,null);for(var w=g._index,y=g._ptr,S=y[p],x=[],b=[],C=0,A=p+1,D=2*(p+1),E=3*(p+1),M=4*(p+1),B=5*(p+1),P=6*(p+1),F=7*(p+1),$=x,N=o(p,y,b,C,E,$,D,F,A,P,M,B),T=a(p,y,b,B,M,P,v,A,E,$,D),z=0,I,q,X,V,L,ne,se,Y,ee,ie,j,W,J,oe,de,ge;T<p;){for(X=-1;z<p&&(X=b[E+z])===-1;z++);b[D+X]!==-1&&($[b[D+X]]=-1),b[E+z]=b[D+X];var U=b[M+X],Z=b[A+X];T+=Z;var fe=0;b[A+X]=-Z;var Q=y[X],re=U===0?Q:S,ue=re;for(V=1;V<=U+1;V++){for(V>U?(ne=X,se=Q,Y=b[C+X]-U):(ne=w[Q++],se=y[ne],Y=b[C+ne]),L=1;L<=Y;L++)I=w[se++],!((ee=b[A+I])<=0)&&(fe+=ee,b[A+I]=-ee,w[ue++]=I,b[D+I]!==-1&&($[b[D+I]]=$[I]),$[I]!==-1?b[D+$[I]]=b[D+I]:b[E+b[B+I]]=b[D+I]);ne!==X&&(y[ne]=ms(X),b[P+ne]=0)}for(U!==0&&(S=ue),b[B+X]=fe,y[X]=re,b[C+X]=ue-re,b[M+X]=-2,N=s(N,m,b,P,p),ie=re;ie<ue;ie++)if(I=w[ie],!((j=b[M+I])<=0)){ee=-b[A+I];var ye=N-ee;for(Q=y[I],W=y[I]+j-1;Q<=W;Q++)ne=w[Q],b[P+ne]>=N?b[P+ne]-=ee:b[P+ne]!==0&&(b[P+ne]=b[B+ne]+ye)}for(ie=re;ie<ue;ie++){for(I=w[ie],W=y[I],J=W+b[M+I]-1,oe=W,de=0,ge=0,Q=W;Q<=J;Q++)if(ne=w[Q],b[P+ne]!==0){var xe=b[P+ne]-N;xe>0?(ge+=xe,w[oe++]=ne,de+=ne):(y[ne]=ms(X),b[P+ne]=0)}b[M+I]=oe-W+1;var G=oe,te=W+b[C+I];for(Q=J+1;Q<te;Q++){q=w[Q];var he=b[A+q];he<=0||(ge+=he,w[oe++]=q,de+=q)}ge===0?(y[I]=ms(X),ee=-b[A+I],fe-=ee,Z+=ee,T+=ee,b[A+I]=0,b[M+I]=-1):(b[B+I]=Math.min(b[B+I],ge),w[oe]=w[G],w[G]=w[W],w[W]=X,b[C+I]=oe-W+1,de=(de<0?-de:de)%p,b[D+I]=b[F+de],b[F+de]=I,$[I]=de)}for(b[B+X]=fe,m=Math.max(m,fe),N=s(N+m,m,b,P,p),ie=re;ie<ue;ie++)if(I=w[ie],!(b[A+I]>=0))for(de=$[I],I=b[F+de],b[F+de]=-1;I!==-1&&b[D+I]!==-1;I=b[D+I],N++){for(Y=b[C+I],j=b[M+I],Q=y[I]+1;Q<=y[I]+Y-1;Q++)b[P+w[Q]]=N;var ce=I;for(q=b[D+I];q!==-1;){var pe=b[C+q]===Y&&b[M+q]===j;for(Q=y[q]+1;pe&&Q<=y[q]+Y-1;Q++)b[P+w[Q]]!==N&&(pe=0);pe?(y[q]=ms(I),b[A+I]+=b[A+q],b[A+q]=0,b[M+q]=-1,q=b[D+q],b[D+ce]=q):(ce=q,q=b[D+q])}}for(Q=re,ie=re;ie<ue;ie++)I=w[ie],!((ee=-b[A+I])<=0)&&(b[A+I]=ee,ge=b[B+I]+fe-ee,ge=Math.min(ge,p-T-ee),b[E+ge]!==-1&&($[b[E+ge]]=I),b[D+I]=b[E+ge],$[I]=-1,b[E+ge]=I,z=Math.min(z,ge),b[B+I]=ge,w[Q++]=I);b[A+X]=Z,(b[C+X]=Q-re)===0&&(y[X]=-1,b[P+X]=0),U!==0&&(S=Q)}for(I=0;I<p;I++)y[I]=ms(y[I]);for(q=0;q<=p;q++)b[E+q]=-1;for(q=p;q>=0;q--)b[A+q]>0||(b[D+q]=b[E+y[q]],b[E+y[q]]=q);for(ne=p;ne>=0;ne--)b[A+ne]<=0||y[ne]!==-1&&(b[D+ne]=b[E+y[ne]],b[E+y[ne]]=ne);for(X=0,I=0;I<=p;I++)y[I]===-1&&(X=z_(I,X,b,E,D,x,P));return x.splice(x.length-1,1),x};function i(u,c,f,d,h){var p=r(c);if(u===1&&d===f)return e(c,p);if(u===2){for(var m=p._index,v=p._ptr,g=0,w=0;w<f;w++){var y=v[w];if(v[w]=g,!(v[w+1]-y>h))for(var S=v[w+1];y<S;y++)m[g++]=m[y]}return v[f]=g,c=r(p),n(p,c)}return n(p,c)}function o(u,c,f,d,h,p,m,v,g,w,y,S){for(var x=0;x<u;x++)f[d+x]=c[x+1]-c[x];f[d+u]=0;for(var b=0;b<=u;b++)f[h+b]=-1,p[b]=-1,f[m+b]=-1,f[v+b]=-1,f[g+b]=1,f[w+b]=1,f[y+b]=0,f[S+b]=f[d+b];var C=s(0,0,f,w,u);return f[y+u]=-2,c[u]=-1,f[w+u]=0,C}function a(u,c,f,d,h,p,m,v,g,w,y){for(var S=0,x=0;x<u;x++){var b=f[d+x];if(b===0)f[h+x]=-2,S++,c[x]=-1,f[p+x]=0;else if(b>m)f[v+x]=0,f[h+x]=-1,S++,c[x]=ms(u),f[v+u]++;else{var C=f[g+b];C!==-1&&(w[C]=x),f[y+x]=f[g+b],f[g+b]=x}}return S}function s(u,c,f,d,h){if(u<2||u+c<0){for(var p=0;p<h;p++)f[d+p]!==0&&(f[d+p]=1);u=2}return u}function l(u,c){return u!==c}});function cbe(t,e,n,r,i,o,a){var s,l,u=0,c;if(t<=e||n[r+e]<=n[i+t])return-1;n[i+t]=n[r+e];var f=n[o+t];if(n[o+t]=e,f===-1)u=1,c=t;else{for(u=2,c=f;c!==n[a+c];c=n[a+c]);for(s=f;s!==c;s=l)l=n[a+s],n[a+s]=c}return{jleaf:u,q:c}}var fbe="csCounts",dbe=["transpose"],hbe=K(fbe,dbe,t=>{var{transpose:e}=t;return function(n,r,i,o){if(!n||!r||!i)return null;var a=n._size,s=a[0],l=a[1],u,c,f,d,h,p,m,v=4*l+(o?l+s+1:0),g=[],w=0,y=l,S=2*l,x=3*l,b=4*l,C=5*l+1;for(f=0;f<v;f++)g[f]=-1;var A=[],D=e(n),E=D._index,M=D._ptr;for(f=0;f<l;f++)for(c=i[f],A[c]=g[x+c]===-1?1:0;c!==-1&&g[x+c]===-1;c=r[c])g[x+c]=f;if(o){for(f=0;f<l;f++)g[i[f]]=f;for(u=0;u<s;u++){for(f=l,p=M[u],m=M[u+1],h=p;h<m;h++)f=Math.min(f,g[E[h]]);g[C+u]=g[b+f],g[b+f]=u}}for(u=0;u<l;u++)g[w+u]=u;for(f=0;f<l;f++){for(c=i[f],r[c]!==-1&&A[r[c]]--,d=o?g[b+f]:c;d!==-1;d=o?g[C+d]:-1)for(h=M[d];h<M[d+1];h++){u=E[h];var B=cbe(u,c,g,x,y,S,w);B.jleaf>=1&&A[c]++,B.jleaf===2&&A[B.q]--}r[c]!==-1&&(g[w+c]=r[c])}for(c=0;c<l;c++)r[c]!==-1&&(A[r[c]]+=A[c]);return A}}),pbe="csSqr",mbe=["add","multiply","transpose"],gbe=K(pbe,mbe,t=>{var{add:e,multiply:n,transpose:r}=t,i=ube({add:e,multiply:n,transpose:r}),o=hbe({transpose:r});return function(l,u,c){var f=u._ptr,d=u._size,h=d[1],p,m={};if(m.q=i(l,u),l&&!m.q)return null;if(c){var v=l?rbe(u,null,m.q,0):u;m.parent=obe(v,1);var g=ibe(m.parent,h);if(m.cp=o(v,m.parent,g,1),v&&m.parent&&m.cp&&a(v,m))for(m.unz=0,p=0;p<h;p++)m.unz+=m.cp[p]}else m.unz=4*f[h]+h,m.lnz=m.unz;return m};function a(s,l){var u=s._ptr,c=s._index,f=s._size,d=f[0],h=f[1];l.pinv=[],l.leftmost=[];var p=l.parent,m=l.pinv,v=l.leftmost,g=[],w=0,y=d,S=d+h,x=d+2*h,b,C,A,D,E;for(C=0;C<h;C++)g[y+C]=-1,g[S+C]=-1,g[x+C]=0;for(b=0;b<d;b++)v[b]=-1;for(C=h-1;C>=0;C--)for(D=u[C],E=u[C+1],A=D;A<E;A++)v[c[A]]=C;for(b=d-1;b>=0;b--)m[b]=-1,C=v[b],C!==-1&&(g[x+C]++===0&&(g[S+C]=b),g[w+b]=g[y+C],g[y+C]=b);for(l.lnz=0,l.m2=d,C=0;C<h;C++)if(b=g[y+C],l.lnz++,b<0&&(b=l.m2++),m[b]=C,!(--x[C]<=0)){l.lnz+=g[x+C];var M=p[C];M!==-1&&(g[x+M]===0&&(g[S+M]=g[S+C]),g[w+g[S+C]]=g[y+M],g[y+M]=g[w+b],g[x+M]+=g[x+C])}for(b=0;b<d;b++)m[b]<0&&(m[b]=C++);return!0}});function tx(t,e){return t[e]<0}function L_(t,e){t[e]=ms(t[e])}function FO(t){return t<0?ms(t):t}function vbe(t,e,n,r,i){var o=e._index,a=e._ptr,s=e._size,l=s[1],u,c,f,d=0;for(r[0]=t;d>=0;){t=r[d];var h=i?i[t]:t;tx(a,t)||(L_(a,t),r[l+d]=h<0?0:FO(a[h]));var p=1;for(c=r[l+d],f=h<0?0:FO(a[h+1]);c<f;c++)if(u=o[c],!tx(a,u)){r[l+d]=c,r[++d]=u,p=0;break}p&&(d--,r[--n]=t)}return n}function ybe(t,e,n,r,i){var o=t._ptr,a=t._size,s=e._index,l=e._ptr,u=a[1],c,f,d,h=u;for(f=l[n],d=l[n+1],c=f;c<d;c++){var p=s[c];tx(o,p)||(h=vbe(p,t,h,r,i))}for(c=h;c<u;c++)L_(o,r[c]);return h}var bbe="csSpsolve",xbe=["divideScalar","multiply","subtract"],wbe=K(bbe,xbe,t=>{var{divideScalar:e,multiply:n,subtract:r}=t;return function(o,a,s,l,u,c,f){var d=o._values,h=o._index,p=o._ptr,m=o._size,v=m[1],g=a._values,w=a._index,y=a._ptr,S,x,b,C,A=ybe(o,a,s,l,c);for(S=A;S<v;S++)u[l[S]]=0;for(x=y[s],b=y[s+1],S=x;S<b;S++)u[w[S]]=g[S];for(var D=A;D<v;D++){var E=l[D],M=c?c[E]:E;if(!(M<0))for(x=p[M],b=p[M+1],u[E]=e(u[E],d[f?x:b-1]),S=f?x+1:x,C=f?b:b-1;S<C;S++){var B=h[S];u[B]=r(u[B],n(d[S],u[E]))}}return A}}),Sbe="csLu",Cbe=["abs","divideScalar","multiply","subtract","larger","largerEq","SparseMatrix"],Abe=K(Sbe,Cbe,t=>{var{abs:e,divideScalar:n,multiply:r,subtract:i,larger:o,largerEq:a,SparseMatrix:s}=t,l=wbe({divideScalar:n,multiply:r,subtract:i});return function(c,f,d){if(!c)return null;var h=c._size,p=h[1],m,v=100,g=100;f&&(m=f.q,v=f.lnz||v,g=f.unz||g);var w=[],y=[],S=[],x=new s({values:w,index:y,ptr:S,size:[p,p]}),b=[],C=[],A=[],D=new s({values:b,index:C,ptr:A,size:[p,p]}),E=[],M,B,P=[],F=[];for(M=0;M<p;M++)P[M]=0,E[M]=-1,S[M+1]=0;v=0,g=0;for(var $=0;$<p;$++){S[$]=v,A[$]=g;var N=m?m[$]:$,T=l(x,c,N,F,P,E,1),z=-1,I=-1;for(B=T;B<p;B++)if(M=F[B],E[M]<0){var q=e(P[M]);o(q,I)&&(I=q,z=M)}else C[g]=E[M],b[g++]=P[M];if(z===-1||I<=0)return null;E[N]<0&&a(e(P[N]),r(I,d))&&(z=N);var X=P[z];for(C[g]=$,b[g++]=X,E[z]=$,y[v]=z,w[v++]=1,B=T;B<p;B++)M=F[B],E[M]<0&&(y[v]=M,w[v++]=n(P[M],X)),P[M]=0}for(S[p]=v,A[p]=g,B=0;B<v;B++)y[B]=E[y[B]];return w.splice(v,w.length-v),y.splice(v,y.length-v),b.splice(g,b.length-g),C.splice(g,C.length-g),{L:x,U:D,pinv:E}}}),RO="slu",Dbe=["typed","abs","add","multiply","transpose","divideScalar","subtract","larger","largerEq","SparseMatrix"],Ebe=K(RO,Dbe,t=>{var{typed:e,abs:n,add:r,multiply:i,transpose:o,divideScalar:a,subtract:s,larger:l,largerEq:u,SparseMatrix:c}=t,f=gbe({add:r,multiply:i,transpose:o}),d=Abe({abs:n,divideScalar:a,multiply:i,subtract:s,larger:l,largerEq:u,SparseMatrix:c});return e(RO,{"SparseMatrix, number, number":function(p,m,v){if(!Ge(m)||m<0||m>3)throw new Error("Symbolic Ordering and Analysis order must be an integer number in the interval [0, 3]");if(v<0||v>1)throw new Error("Partial pivoting threshold must be a number from 0 to 1");var g=f(m,p,!1),w=d(p,g,v);return{L:w.L,U:w.U,p:w.pinv,q:g.q,toString:function(){return"L: "+this.L.toString()+`
U: `+this.U.toString()+`
p: `+this.p.toString()+(this.q?`
q: `+this.q.toString():"")+`
`}}}})});function _O(t,e){var n,r=e.length,i=[];if(t)for(n=0;n<r;n++)i[t[n]]=e[n];else for(n=0;n<r;n++)i[n]=e[n];return i}var zO="lusolve",Mbe=["typed","matrix","lup","slu","usolve","lsolve","DenseMatrix"],Nbe=K(zO,Mbe,t=>{var{typed:e,matrix:n,lup:r,slu:i,usolve:o,lsolve:a,DenseMatrix:s}=t,l=uh({DenseMatrix:s});return e(zO,{"Array, Array | Matrix":function(d,h){d=n(d);var p=r(d),m=c(p.L,p.U,p.p,null,h);return m.valueOf()},"DenseMatrix, Array | Matrix":function(d,h){var p=r(d);return c(p.L,p.U,p.p,null,h)},"SparseMatrix, Array | Matrix":function(d,h){var p=r(d);return c(p.L,p.U,p.p,null,h)},"SparseMatrix, Array | Matrix, number, number":function(d,h,p,m){var v=i(d,p,m);return c(v.L,v.U,v.p,v.q,h)},"Object, Array | Matrix":function(d,h){return c(d.L,d.U,d.p,d.q,h)}});function u(f){if(Je(f))return f;if(_t(f))return n(f);throw new TypeError("Invalid Matrix LU decomposition")}function c(f,d,h,p,m){f=u(f),d=u(d),h&&(m=l(f,m,!0),m._data=_O(h,m._data));var v=a(f,m),g=o(d,v);return p&&(g._data=_O(p,g._data)),g}}),LO="polynomialRoot",$be=["typed","isZero","equalScalar","add","subtract","multiply","divide","sqrt","unaryMinus","cbrt","typeOf","im","re"],Obe=K(LO,$be,t=>{var{typed:e,isZero:n,equalScalar:r,add:i,subtract:o,multiply:a,divide:s,sqrt:l,unaryMinus:u,cbrt:c,typeOf:f,im:d,re:h}=t;return e(LO,{"number|Complex, ...number|Complex":(p,m)=>{for(var v=[p,...m];v.length>0&&n(v[v.length-1]);)v.pop();if(v.length<2)throw new RangeError("Polynomial [".concat(p,", ").concat(m,"] must have a non-zero non-constant coefficient"));switch(v.length){case 2:return[u(s(v[0],v[1]))];case 3:{var[g,w,y]=v,S=a(2,y),x=a(w,w),b=a(4,y,g);if(r(x,b))return[s(u(w),S)];var C=l(o(x,b));return[s(o(C,w),S),s(o(u(C),w),S)]}case 4:{var[A,D,E,M]=v,B=u(a(3,M)),P=a(E,E),F=a(3,M,D),$=i(a(2,E,E,E),a(27,M,M,A)),N=a(9,M,E,D);if(r(P,F)&&r($,N))return[s(E,B)];var T=o(P,F),z=o($,N),I=i(a(18,M,E,D,A),a(E,E,D,D)),q=i(a(4,E,E,E,A),a(4,M,D,D,D),a(27,M,M,A,A));if(r(I,q))return[s(o(a(4,M,E,D),i(a(9,M,M,A),a(E,E,E))),a(M,T)),s(o(a(9,M,A),a(E,D)),a(2,T))];var X;r(P,F)?X=z:X=s(i(z,l(o(a(z,z),a(4,T,T,T)))),2);var V=!0,L=c(X,V).toArray().map(ne=>s(i(E,ne,s(T,ne)),B));return L.map(ne=>f(ne)==="Complex"&&r(h(ne),h(ne)+d(ne))?h(ne):ne)}default:throw new RangeError("only implemented for cubic or lower-order polynomials, not ".concat(v))}}})}),Tbe="Help",Bbe=["parse"],Ibe=K(Tbe,Bbe,t=>{var{parse:e}=t;function n(r){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(!r)throw new Error('Argument "doc" missing');this.doc=r}return n.prototype.type="Help",n.prototype.isHelp=!0,n.prototype.toString=function(){var r=this.doc||{},i=`
`;if(r.name&&(i+="Name: "+r.name+`

`),r.category&&(i+="Category: "+r.category+`

`),r.description&&(i+=`Description:
    `+r.description+`

`),r.syntax&&(i+=`Syntax:
    `+r.syntax.join(`
    `)+`

`),r.examples){i+=`Examples:
`;for(var o={},a=0;a<r.examples.length;a++){var s=r.examples[a];i+="    "+s+`
`;var l=void 0;try{l=e(s).compile().evaluate(o)}catch(u){l=u}l!==void 0&&!UR(l)&&(i+="        "+xt(l,{precision:14})+`
`)}i+=`
`}return r.mayThrow&&r.mayThrow.length&&(i+="Throws: "+r.mayThrow.join(", ")+`

`),r.seealso&&r.seealso.length&&(i+="See also: "+r.seealso.join(", ")+`
`),i},n.prototype.toJSON=function(){var r=ct(this.doc);return r.mathjs="Help",r},n.fromJSON=function(r){var i={};return Object.keys(r).filter(o=>o!=="mathjs").forEach(o=>{i[o]=r[o]}),new n(i)},n.prototype.valueOf=n.prototype.toString,n},{isClass:!0}),Pbe="Chain",kbe=["?on","math","typed"],Fbe=K(Pbe,kbe,t=>{var{on:e,math:n,typed:r}=t;function i(u){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");qR(u)?this.value=u.value:this.value=u}i.prototype.type="Chain",i.prototype.isChain=!0,i.prototype.done=function(){return this.value},i.prototype.valueOf=function(){return this.value},i.prototype.toString=function(){return xt(this.value)},i.prototype.toJSON=function(){return{mathjs:"Chain",value:this.value}},i.fromJSON=function(u){return new i(u.value)};function o(u,c){typeof c=="function"&&(i.prototype[u]=s(c))}function a(u,c){Ile(i.prototype,u,function(){var d=c();if(typeof d=="function")return s(d)})}function s(u){return function(){if(arguments.length===0)return new i(u(this.value));for(var c=[this.value],f=0;f<arguments.length;f++)c[f+1]=arguments[f];if(r.isTypedFunction(u)){var d=r.resolve(u,c);if(d.params.length===1)throw new Error("chain function "+u.name+" cannot match rest parameter between chain value and additional arguments.");return new i(d.implementation.apply(u,c))}return new i(u.apply(u,c))}}i.createProxy=function(u,c){if(typeof u=="string")o(u,c);else{var f=function(p){Ve(u,p)&&l[p]===void 0&&a(p,()=>u[p])};for(var d in u)f(d)}};var l={expression:!0,docs:!0,type:!0,classes:!0,json:!0,error:!0,isChain:!0};return i.createProxy(n),e&&e("import",function(u,c,f){f||a(u,c)}),i},{isClass:!0}),HO={name:"e",category:"Constants",syntax:["e"],description:"Euler's number, the base of the natural logarithm. Approximately equal to 2.71828",examples:["e","e ^ 2","exp(2)","log(e)"],seealso:["exp"]},Rbe={name:"false",category:"Constants",syntax:["false"],description:"Boolean value false",examples:["false"],seealso:["true"]},_be={name:"i",category:"Constants",syntax:["i"],description:"Imaginary unit, defined as i*i=-1. A complex number is described as a + b*i, where a is the real part, and b is the imaginary part.",examples:["i","i * i","sqrt(-1)"],seealso:[]},zbe={name:"Infinity",category:"Constants",syntax:["Infinity"],description:"Infinity, a number which is larger than the maximum number that can be handled by a floating point number.",examples:["Infinity","1 / 0"],seealso:[]},Lbe={name:"LN10",category:"Constants",syntax:["LN10"],description:"Returns the natural logarithm of 10, approximately equal to 2.302",examples:["LN10","log(10)"],seealso:[]},Hbe={name:"LN2",category:"Constants",syntax:["LN2"],description:"Returns the natural logarithm of 2, approximately equal to 0.693",examples:["LN2","log(2)"],seealso:[]},Vbe={name:"LOG10E",category:"Constants",syntax:["LOG10E"],description:"Returns the base-10 logarithm of E, approximately equal to 0.434",examples:["LOG10E","log(e, 10)"],seealso:[]},Ube={name:"LOG2E",category:"Constants",syntax:["LOG2E"],description:"Returns the base-2 logarithm of E, approximately equal to 1.442",examples:["LOG2E","log(e, 2)"],seealso:[]},qbe={name:"NaN",category:"Constants",syntax:["NaN"],description:"Not a number",examples:["NaN","0 / 0"],seealso:[]},Wbe={name:"null",category:"Constants",syntax:["null"],description:"Value null",examples:["null"],seealso:["true","false"]},jbe={name:"phi",category:"Constants",syntax:["phi"],description:"Phi is the golden ratio. Two quantities are in the golden ratio if their ratio is the same as the ratio of their sum to the larger of the two quantities. Phi is defined as `(1 + sqrt(5)) / 2` and is approximately 1.618034...",examples:["phi"],seealso:[]},VO={name:"pi",category:"Constants",syntax:["pi"],description:"The number pi is a mathematical constant that is the ratio of a circle's circumference to its diameter, and is approximately equal to 3.14159",examples:["pi","sin(pi/2)"],seealso:["tau"]},Gbe={name:"SQRT1_2",category:"Constants",syntax:["SQRT1_2"],description:"Returns the square root of 1/2, approximately equal to 0.707",examples:["SQRT1_2","sqrt(1/2)"],seealso:[]},Xbe={name:"SQRT2",category:"Constants",syntax:["SQRT2"],description:"Returns the square root of 2, approximately equal to 1.414",examples:["SQRT2","sqrt(2)"],seealso:[]},Kbe={name:"tau",category:"Constants",syntax:["tau"],description:"Tau is the ratio constant of a circle's circumference to radius, equal to 2 * pi, approximately 6.2832.",examples:["tau","2 * pi"],seealso:["pi"]},Ybe={name:"true",category:"Constants",syntax:["true"],description:"Boolean value true",examples:["true"],seealso:["false"]},Zbe={name:"version",category:"Constants",syntax:["version"],description:"A string with the version number of math.js",examples:["version"],seealso:[]},Qbe={name:"bignumber",category:"Construction",syntax:["bignumber(x)"],description:"Create a big number from a number or string.",examples:["0.1 + 0.2","bignumber(0.1) + bignumber(0.2)",'bignumber("7.2")','bignumber("7.2e500")',"bignumber([0.1, 0.2, 0.3])"],seealso:["boolean","complex","fraction","index","matrix","string","unit"]},Jbe={name:"boolean",category:"Construction",syntax:["x","boolean(x)"],description:"Convert a string or number into a boolean.",examples:["boolean(0)","boolean(1)","boolean(3)",'boolean("true")','boolean("false")',"boolean([1, 0, 1, 1])"],seealso:["bignumber","complex","index","matrix","number","string","unit"]},e1e={name:"complex",category:"Construction",syntax:["complex()","complex(re, im)","complex(string)"],description:"Create a complex number.",examples:["complex()","complex(2, 3)",'complex("7 - 2i")'],seealso:["bignumber","boolean","index","matrix","number","string","unit"]},t1e={name:"createUnit",category:"Construction",syntax:["createUnit(definitions)","createUnit(name, definition)"],description:"Create a user-defined unit and register it with the Unit type.",examples:['createUnit("foo")','createUnit("knot", {definition: "0.514444444 m/s", aliases: ["knots", "kt", "kts"]})','createUnit("mph", "1 mile/hour")'],seealso:["unit","splitUnit"]},n1e={name:"fraction",category:"Construction",syntax:["fraction(num)","fraction(matrix)","fraction(num,den)","fraction({n: num, d: den})"],description:"Create a fraction from a number or from integer numerator and denominator.",examples:["fraction(0.125)","fraction(1, 3) + fraction(2, 5)","fraction({n: 333, d: 53})","fraction([sqrt(9), sqrt(10), sqrt(11)])"],seealso:["bignumber","boolean","complex","index","matrix","string","unit"]},r1e={name:"index",category:"Construction",syntax:["[start]","[start:end]","[start:step:end]","[start1, start 2, ...]","[start1:end1, start2:end2, ...]","[start1:step1:end1, start2:step2:end2, ...]"],description:"Create an index to get or replace a subset of a matrix",examples:["A = [1, 2, 3; 4, 5, 6]","A[1, :]","A[1, 2] = 50","A[1:2, 1:2] = 1","B = [1, 2, 3]","B[B>1 and B<3]"],seealso:["bignumber","boolean","complex","matrix,","number","range","string","unit"]},i1e={name:"matrix",category:"Construction",syntax:["[]","[a1, b1, ...; a2, b2, ...]","matrix()",'matrix("dense")',"matrix([...])"],description:"Create a matrix.",examples:["[]","[1, 2, 3]","[1, 2, 3; 4, 5, 6]","matrix()","matrix([3, 4])",'matrix([3, 4; 5, 6], "sparse")','matrix([3, 4; 5, 6], "sparse", "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","sparse"]},o1e={name:"number",category:"Construction",syntax:["x","number(x)","number(unit, valuelessUnit)"],description:"Create a number or convert a string or boolean into a number.",examples:["2","2e3","4.05","number(2)",'number("7.2")',"number(true)","number([true, false, true, true])",'number(unit("52cm"), "m")'],seealso:["bignumber","boolean","complex","fraction","index","matrix","string","unit"]},a1e={name:"sparse",category:"Construction",syntax:["sparse()","sparse([a1, b1, ...; a1, b2, ...])",'sparse([a1, b1, ...; a1, b2, ...], "number")'],description:"Create a sparse matrix.",examples:["sparse()","sparse([3, 4; 5, 6])",'sparse([3, 0; 5, 0], "number")'],seealso:["bignumber","boolean","complex","index","number","string","unit","matrix"]},s1e={name:"splitUnit",category:"Construction",syntax:["splitUnit(unit: Unit, parts: Unit[])"],description:"Split a unit in an array of units whose sum is equal to the original unit.",examples:['splitUnit(1 m, ["feet", "inch"])'],seealso:["unit","createUnit"]},l1e={name:"string",category:"Construction",syntax:['"text"',"string(x)"],description:"Create a string or convert a value to a string",examples:['"Hello World!"',"string(4.2)","string(3 + 2i)"],seealso:["bignumber","boolean","complex","index","matrix","number","unit"]},u1e={name:"unit",category:"Construction",syntax:["value unit","unit(value, unit)","unit(string)"],description:"Create a unit.",examples:["5.5 mm","3 inch",'unit(7.1, "kilogram")','unit("23 deg")'],seealso:["bignumber","boolean","complex","index","matrix","number","string"]},c1e={name:"config",category:"Core",syntax:["config()","config(options)"],description:"Get configuration or change configuration.",examples:["config()","1/3 + 1/4",'config({number: "Fraction"})',"1/3 + 1/4"],seealso:[]},f1e={name:"import",category:"Core",syntax:["import(functions)","import(functions, options)"],description:"Import functions or constants from an object.",examples:["import({myFn: f(x)=x^2, myConstant: 32 })","myFn(2)","myConstant"],seealso:[]},d1e={name:"typed",category:"Core",syntax:["typed(signatures)","typed(name, signatures)"],description:"Create a typed function.",examples:['double = typed({ "number": f(x)=x+x, "string": f(x)=concat(x,x) })',"double(2)",'double("hello")'],seealso:[]},h1e={name:"derivative",category:"Algebra",syntax:["derivative(expr, variable)","derivative(expr, variable, {simplify: boolean})"],description:"Takes the derivative of an expression expressed in parser Nodes. The derivative will be taken over the supplied variable in the second parameter. If there are multiple variables in the expression, it will return a partial derivative.",examples:['derivative("2x^3", "x")','derivative("2x^3", "x", {simplify: false})','derivative("2x^2 + 3x + 4", "x")','derivative("sin(2x)", "x")','f = parse("x^2 + x")','x = parse("x")',"df = derivative(f, x)","df.evaluate({x: 3})"],seealso:["simplify","parse","evaluate"]},p1e={name:"leafCount",category:"Algebra",syntax:["leafCount(expr)"],description:"Computes the number of leaves in the parse tree of the given expression",examples:['leafCount("e^(i*pi)-1")','leafCount(parse("{a: 22/7, b: 10^(1/2)}"))'],seealso:["simplify"]},m1e={name:"lsolve",category:"Algebra",syntax:["x=lsolve(L, b)"],description:"Finds one solution of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolveAll","lup","lusolve","usolve","matrix","sparse"]},g1e={name:"lsolveAll",category:"Algebra",syntax:["x=lsolveAll(L, b)"],description:"Finds all solutions of the linear system L * x = b where L is an [n x n] lower triangular matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lsolve(a, b)"],seealso:["lsolve","lup","lusolve","usolve","matrix","sparse"]},v1e={name:"lup",category:"Algebra",syntax:["lup(m)"],description:"Calculate the Matrix LU decomposition with partial pivoting. Matrix A is decomposed in three matrices (L, U, P) where P * A = L * U",examples:["lup([[2, 1], [1, 4]])","lup(matrix([[2, 1], [1, 4]]))","lup(sparse([[2, 1], [1, 4]]))"],seealso:["lusolve","lsolve","usolve","matrix","sparse","slu","qr"]},y1e={name:"lusolve",category:"Algebra",syntax:["x=lusolve(A, b)","x=lusolve(lu, b)"],description:"Solves the linear system A * x = b where A is an [n x n] matrix and b is a [n] column vector.",examples:["a = [-2, 3; 2, 1]","b = [11, 9]","x = lusolve(a, b)"],seealso:["lup","slu","lsolve","usolve","matrix","sparse"]},b1e={name:"polynomialRoot",category:"Algebra",syntax:["x=polynomialRoot(-6, 3)","x=polynomialRoot(4, -4, 1)","x=polynomialRoot(-8, 12, -6, 1)"],description:"Finds the roots of a univariate polynomial given by its coefficients starting from constant, linear, and so on, increasing in degree.",examples:["a = polynomialRoot(-6, 11, -6, 1)"],seealso:["cbrt","sqrt"]},x1e={name:"qr",category:"Algebra",syntax:["qr(A)"],description:"Calculates the Matrix QR decomposition. Matrix `A` is decomposed in two matrices (`Q`, `R`) where `Q` is an orthogonal matrix and `R` is an upper triangular matrix.",examples:["qr([[1, -1,  4], [1,  4, -2], [1,  4,  2], [1,  -1, 0]])"],seealso:["lup","slu","matrix"]},w1e={name:"rationalize",category:"Algebra",syntax:["rationalize(expr)","rationalize(expr, scope)","rationalize(expr, scope, detailed)"],description:"Transform a rationalizable expression in a rational fraction. If rational fraction is one variable polynomial then converts the numerator and denominator in canonical form, with decreasing exponents, returning the coefficients of numerator.",examples:['rationalize("2x/y - y/(x+1)")','rationalize("2x/y - y/(x+1)", true)'],seealso:["simplify"]},S1e={name:"resolve",category:"Algebra",syntax:["resolve(node, scope)"],description:"Recursively substitute variables in an expression tree.",examples:['resolve(parse("1 + x"), { x: 7 })','resolve(parse("size(text)"), { text: "Hello World" })','resolve(parse("x + y"), { x: parse("3z") })','resolve(parse("3x"), { x: parse("y+z"), z: parse("w^y") })'],seealso:["simplify","evaluate"],mayThrow:["ReferenceError"]},C1e={name:"simplify",category:"Algebra",syntax:["simplify(expr)","simplify(expr, rules)"],description:"Simplify an expression tree.",examples:['simplify("3 + 2 / 4")','simplify("2x + x")','f = parse("x * (x + 2 + x)")',"simplified = simplify(f)","simplified.evaluate({x: 2})"],seealso:["simplifyCore","derivative","evaluate","parse","rationalize","resolve"]},A1e={name:"simplifyConstant",category:"Algebra",syntax:["simplifyConstant(expr)","simplifyConstant(expr, options)"],description:"Replace constant subexpressions of node with their values.",examples:['simplifyConstant("(3-3)*x")','simplifyConstant(parse("z-cos(tau/8)"))'],seealso:["simplify","simplifyCore","evaluate"]},D1e={name:"simplifyCore",category:"Algebra",syntax:["simplifyCore(node)"],description:"Perform simple one-pass simplifications on an expression tree.",examples:['simplifyCore(parse("0*x"))','simplifyCore(parse("(x+0)*2"))'],seealso:["simplify","simplifyConstant","evaluate"]},E1e={name:"slu",category:"Algebra",syntax:["slu(A, order, threshold)"],description:"Calculate the Matrix LU decomposition with full pivoting. Matrix A is decomposed in two matrices (L, U) and two permutation vectors (pinv, q) where P * A * Q = L * U",examples:["slu(sparse([4.5, 0, 3.2, 0; 3.1, 2.9, 0, 0.9; 0, 1.7, 3, 0; 3.5, 0.4, 0, 1]), 1, 0.001)"],seealso:["lusolve","lsolve","usolve","matrix","sparse","lup","qr"]},M1e={name:"symbolicEqual",category:"Algebra",syntax:["symbolicEqual(expr1, expr2)","symbolicEqual(expr1, expr2, options)"],description:"Returns true if the difference of the expressions simplifies to 0",examples:['symbolicEqual("x*y","y*x")','symbolicEqual("abs(x^2)", "x^2")','symbolicEqual("abs(x)", "x", {context: {abs: {trivial: true}}})'],seealso:["simplify","evaluate"]},N1e={name:"usolve",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds one solution of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolveAll","lup","lusolve","lsolve","matrix","sparse"]},$1e={name:"usolveAll",category:"Algebra",syntax:["x=usolve(U, b)"],description:"Finds all solutions of the linear system U * x = b where U is an [n x n] upper triangular matrix and b is a [n] column vector.",examples:["x=usolve(sparse([1, 1, 1, 1; 0, 1, 1, 1; 0, 0, 1, 1; 0, 0, 0, 1]), [1; 2; 3; 4])"],seealso:["usolve","lup","lusolve","lsolve","matrix","sparse"]},O1e={name:"abs",category:"Arithmetic",syntax:["abs(x)"],description:"Compute the absolute value.",examples:["abs(3.5)","abs(-4.2)"],seealso:["sign"]},T1e={name:"add",category:"Operators",syntax:["x + y","add(x, y)"],description:"Add two values.",examples:["a = 2.1 + 3.6","a - 3.6","3 + 2i","3 cm + 2 inch",'"2.3" + "4"'],seealso:["subtract"]},B1e={name:"cbrt",category:"Arithmetic",syntax:["cbrt(x)","cbrt(x, allRoots)"],description:"Compute the cubic root value. If x = y * y * y, then y is the cubic root of x. When `x` is a number or complex number, an optional second argument `allRoots` can be provided to return all three cubic roots. If not provided, the principal root is returned",examples:["cbrt(64)","cube(4)","cbrt(-8)","cbrt(2 + 3i)","cbrt(8i)","cbrt(8i, true)","cbrt(27 m^3)"],seealso:["square","sqrt","cube","multiply"]},I1e={name:"ceil",category:"Arithmetic",syntax:["ceil(x)"],description:"Round a value towards plus infinity. If x is complex, both real and imaginary part are rounded towards plus infinity.",examples:["ceil(3.2)","ceil(3.8)","ceil(-4.2)"],seealso:["floor","fix","round"]},P1e={name:"cube",category:"Arithmetic",syntax:["cube(x)"],description:"Compute the cube of a value. The cube of x is x * x * x.",examples:["cube(2)","2^3","2 * 2 * 2"],seealso:["multiply","square","pow"]},k1e={name:"divide",category:"Operators",syntax:["x / y","divide(x, y)"],description:"Divide two values.",examples:["a = 2 / 3","a * 3","4.5 / 2","3 + 4 / 2","(3 + 4) / 2","18 km / 4.5"],seealso:["multiply"]},F1e={name:"dotDivide",category:"Operators",syntax:["x ./ y","dotDivide(x, y)"],description:"Divide two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a ./ b"],seealso:["multiply","dotMultiply","divide"]},R1e={name:"dotMultiply",category:"Operators",syntax:["x .* y","dotMultiply(x, y)"],description:"Multiply two values element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","b = [2, 1, 1; 3, 2, 5]","a .* b"],seealso:["multiply","divide","dotDivide"]},_1e={name:"dotPow",category:"Operators",syntax:["x .^ y","dotPow(x, y)"],description:"Calculates the power of x to y element wise.",examples:["a = [1, 2, 3; 4, 5, 6]","a .^ 2"],seealso:["pow"]},z1e={name:"exp",category:"Arithmetic",syntax:["exp(x)"],description:"Calculate the exponent of a value.",examples:["exp(1.3)","e ^ 1.3","log(exp(1.3))","x = 2.4","(exp(i*x) == cos(x) + i*sin(x))   # Euler's formula"],seealso:["expm","expm1","pow","log"]},L1e={name:"expm",category:"Arithmetic",syntax:["exp(x)"],description:"Compute the matrix exponential, expm(A) = e^A. The matrix must be square. Not to be confused with exp(a), which performs element-wise exponentiation.",examples:["expm([[0,2],[0,0]])"],seealso:["exp"]},H1e={name:"expm1",category:"Arithmetic",syntax:["expm1(x)"],description:"Calculate the value of subtracting 1 from the exponential value.",examples:["expm1(2)","pow(e, 2) - 1","log(expm1(2) + 1)"],seealso:["exp","pow","log"]},V1e={name:"fix",category:"Arithmetic",syntax:["fix(x)"],description:"Round a value towards zero. If x is complex, both real and imaginary part are rounded towards zero.",examples:["fix(3.2)","fix(3.8)","fix(-4.2)","fix(-4.8)"],seealso:["ceil","floor","round"]},U1e={name:"floor",category:"Arithmetic",syntax:["floor(x)"],description:"Round a value towards minus infinity.If x is complex, both real and imaginary part are rounded towards minus infinity.",examples:["floor(3.2)","floor(3.8)","floor(-4.2)"],seealso:["ceil","fix","round"]},q1e={name:"gcd",category:"Arithmetic",syntax:["gcd(a, b)","gcd(a, b, c, ...)"],description:"Compute the greatest common divisor.",examples:["gcd(8, 12)","gcd(-4, 6)","gcd(25, 15, -10)"],seealso:["lcm","xgcd"]},W1e={name:"hypot",category:"Arithmetic",syntax:["hypot(a, b, c, ...)","hypot([a, b, c, ...])"],description:"Calculate the hypotenusa of a list with values. ",examples:["hypot(3, 4)","sqrt(3^2 + 4^2)","hypot(-2)","hypot([3, 4, 5])"],seealso:["abs","norm"]},j1e={name:"invmod",category:"Arithmetic",syntax:["invmod(a, b)"],description:"Calculate the (modular) multiplicative inverse of a modulo b. Solution to the equation ax ≣ 1 (mod b)",examples:["invmod(8, 12)","invmod(7, 13)","invmod(15151, 15122)"],seealso:["gcd","xgcd"]},G1e={name:"lcm",category:"Arithmetic",syntax:["lcm(x, y)"],description:"Compute the least common multiple.",examples:["lcm(4, 6)","lcm(6, 21)","lcm(6, 21, 5)"],seealso:["gcd"]},X1e={name:"log",category:"Arithmetic",syntax:["log(x)","log(x, base)"],description:"Compute the logarithm of a value. If no base is provided, the natural logarithm of x is calculated. If base if provided, the logarithm is calculated for the specified base. log(x, base) is defined as log(x) / log(base).",examples:["log(3.5)","a = log(2.4)","exp(a)","10 ^ 4","log(10000, 10)","log(10000) / log(10)","b = log(1024, 2)","2 ^ b"],seealso:["exp","log1p","log2","log10"]},K1e={name:"log10",category:"Arithmetic",syntax:["log10(x)"],description:"Compute the 10-base logarithm of a value.",examples:["log10(0.00001)","log10(10000)","10 ^ 4","log(10000) / log(10)","log(10000, 10)"],seealso:["exp","log"]},Y1e={name:"log1p",category:"Arithmetic",syntax:["log1p(x)","log1p(x, base)"],description:"Calculate the logarithm of a `value+1`",examples:["log1p(2.5)","exp(log1p(1.4))","pow(10, 4)","log1p(9999, 10)","log1p(9999) / log(10)"],seealso:["exp","log","log2","log10"]},Z1e={name:"log2",category:"Arithmetic",syntax:["log2(x)"],description:"Calculate the 2-base of a value. This is the same as calculating `log(x, 2)`.",examples:["log2(0.03125)","log2(16)","log2(16) / log2(2)","pow(2, 4)"],seealso:["exp","log1p","log","log10"]},Q1e={name:"mod",category:"Operators",syntax:["x % y","x mod y","mod(x, y)"],description:"Calculates the modulus, the remainder of an integer division.",examples:["7 % 3","11 % 2","10 mod 4","isOdd(x) = x % 2","isOdd(2)","isOdd(3)"],seealso:["divide"]},J1e={name:"multiply",category:"Operators",syntax:["x * y","multiply(x, y)"],description:"multiply two values.",examples:["a = 2.1 * 3.4","a / 3.4","2 * 3 + 4","2 * (3 + 4)","3 * 2.1 km"],seealso:["divide"]},exe={name:"norm",category:"Arithmetic",syntax:["norm(x)","norm(x, p)"],description:"Calculate the norm of a number, vector or matrix.",examples:["abs(-3.5)","norm(-3.5)","norm(3 - 4i)","norm([1, 2, -3], Infinity)","norm([1, 2, -3], -Infinity)","norm([3, 4], 2)","norm([[1, 2], [3, 4]], 1)",'norm([[1, 2], [3, 4]], "inf")','norm([[1, 2], [3, 4]], "fro")']},txe={name:"nthRoot",category:"Arithmetic",syntax:["nthRoot(a)","nthRoot(a, root)"],description:'Calculate the nth root of a value. The principal nth root of a positive real number A, is the positive real solution of the equation "x^root = A".',examples:["4 ^ 3","nthRoot(64, 3)","nthRoot(9, 2)","sqrt(9)"],seealso:["nthRoots","pow","sqrt"]},nxe={name:"nthRoots",category:"Arithmetic",syntax:["nthRoots(A)","nthRoots(A, root)"],description:'Calculate the nth roots of a value. An nth root of a positive real number A, is a positive real solution of the equation "x^root = A". This function returns an array of complex values.',examples:["nthRoots(1)","nthRoots(1, 3)"],seealso:["sqrt","pow","nthRoot"]},rxe={name:"pow",category:"Operators",syntax:["x ^ y","pow(x, y)"],description:"Calculates the power of x to y, x^y.",examples:["2^3","2*2*2","1 + e ^ (pi * i)","pow([[1, 2], [4, 3]], 2)","pow([[1, 2], [4, 3]], -1)"],seealso:["multiply","nthRoot","nthRoots","sqrt"]},ixe={name:"round",category:"Arithmetic",syntax:["round(x)","round(x, n)","round(unit, valuelessUnit)","round(unit, n, valuelessUnit)"],description:"round a value towards the nearest integer.If x is complex, both real and imaginary part are rounded towards the nearest integer. When n is specified, the value is rounded to n decimals.",examples:["round(3.2)","round(3.8)","round(-4.2)","round(-4.8)","round(pi, 3)","round(123.45678, 2)","round(3.241cm, 2, cm)","round([3.2, 3.8, -4.7])"],seealso:["ceil","floor","fix"]},oxe={name:"sign",category:"Arithmetic",syntax:["sign(x)"],description:"Compute the sign of a value. The sign of a value x is 1 when x>1, -1 when x<0, and 0 when x=0.",examples:["sign(3.5)","sign(-4.2)","sign(0)"],seealso:["abs"]},axe={name:"sqrt",category:"Arithmetic",syntax:["sqrt(x)"],description:"Compute the square root value. If x = y * y, then y is the square root of x.",examples:["sqrt(25)","5 * 5","sqrt(-1)"],seealso:["square","sqrtm","multiply","nthRoot","nthRoots","pow"]},sxe={name:"sqrtm",category:"Arithmetic",syntax:["sqrtm(x)"],description:"Calculate the principal square root of a square matrix. The principal square root matrix `X` of another matrix `A` is such that `X * X = A`.",examples:["sqrtm([[33, 24], [48, 57]])"],seealso:["sqrt","abs","square","multiply"]},lxe={name:"sylvester",category:"Algebra",syntax:["sylvester(A,B,C)"],description:"Solves the real-valued Sylvester equation AX+XB=C for X",examples:["sylvester([[-1, -2], [1, 1]], [[-2, 1], [-1, 2]], [[-3, 2], [3, 0]])","A = [[-1, -2], [1, 1]]; B = [[2, -1], [1, -2]]; C = [[-3, 2], [3, 0]]","sylvester(A, B, C)"],seealso:["schur","lyap"]},uxe={name:"schur",category:"Algebra",syntax:["schur(A)"],description:"Performs a real Schur decomposition of the real matrix A = UTU'",examples:["schur([[1, 0], [-4, 3]])","A = [[1, 0], [-4, 3]]","schur(A)"],seealso:["lyap","sylvester"]},cxe={name:"lyap",category:"Algebra",syntax:["lyap(A,Q)"],description:"Solves the Continuous-time Lyapunov equation AP+PA'+Q=0 for P",examples:["lyap([[-2, 0], [1, -4]], [[3, 1], [1, 3]])","A = [[-2, 0], [1, -4]]","Q = [[3, 1], [1, 3]]","lyap(A,Q)"],seealso:["schur","sylvester"]},fxe={name:"square",category:"Arithmetic",syntax:["square(x)"],description:"Compute the square of a value. The square of x is x * x.",examples:["square(3)","sqrt(9)","3^2","3 * 3"],seealso:["multiply","pow","sqrt","cube"]},dxe={name:"subtract",category:"Operators",syntax:["x - y","subtract(x, y)"],description:"subtract two values.",examples:["a = 5.3 - 2","a + 2","2/3 - 1/6","2 * 3 - 3","2.1 km - 500m"],seealso:["add"]},hxe={name:"unaryMinus",category:"Operators",syntax:["-x","unaryMinus(x)"],description:"Inverse the sign of a value. Converts booleans and strings to numbers.",examples:["-4.5","-(-5.6)",'-"22"'],seealso:["add","subtract","unaryPlus"]},pxe={name:"unaryPlus",category:"Operators",syntax:["+x","unaryPlus(x)"],description:"Converts booleans and strings to numbers.",examples:["+true",'+"2"'],seealso:["add","subtract","unaryMinus"]},mxe={name:"xgcd",category:"Arithmetic",syntax:["xgcd(a, b)"],description:"Calculate the extended greatest common divisor for two values. The result is an array [d, x, y] with 3 entries, where d is the greatest common divisor, and d = x * a + y * b.",examples:["xgcd(8, 12)","gcd(8, 12)","xgcd(36163, 21199)"],seealso:["gcd","lcm"]},gxe={name:"bitAnd",category:"Bitwise",syntax:["x & y","bitAnd(x, y)"],description:"Bitwise AND operation. Performs the logical AND operation on each pair of the corresponding bits of the two given values by multiplying them. If both bits in the compared position are 1, the bit in the resulting binary representation is 1, otherwise, the result is 0",examples:["5 & 3","bitAnd(53, 131)","[1, 12, 31] & 42"],seealso:["bitNot","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},vxe={name:"bitNot",category:"Bitwise",syntax:["~x","bitNot(x)"],description:"Bitwise NOT operation. Performs a logical negation on each bit of the given value. Bits that are 0 become 1, and those that are 1 become 0.",examples:["~1","~2","bitNot([2, -3, 4])"],seealso:["bitAnd","bitOr","bitXor","leftShift","rightArithShift","rightLogShift"]},yxe={name:"bitOr",category:"Bitwise",syntax:["x | y","bitOr(x, y)"],description:"Bitwise OR operation. Performs the logical inclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if the first bit is 1 or the second bit is 1 or both bits are 1, otherwise, the result is 0.",examples:["5 | 3","bitOr([1, 2, 3], 4)"],seealso:["bitAnd","bitNot","bitXor","leftShift","rightArithShift","rightLogShift"]},bxe={name:"bitXor",category:"Bitwise",syntax:["bitXor(x, y)"],description:"Bitwise XOR operation, exclusive OR. Performs the logical exclusive OR operation on each pair of corresponding bits of the two given values. The result in each position is 1 if only the first bit is 1 or only the second bit is 1, but will be 0 if both are 0 or both are 1.",examples:["bitOr(1, 2)","bitXor([2, 3, 4], 4)"],seealso:["bitAnd","bitNot","bitOr","leftShift","rightArithShift","rightLogShift"]},xxe={name:"leftShift",category:"Bitwise",syntax:["x << y","leftShift(x, y)"],description:"Bitwise left logical shift of a value x by y number of bits.",examples:["4 << 1","8 >> 1"],seealso:["bitAnd","bitNot","bitOr","bitXor","rightArithShift","rightLogShift"]},wxe={name:"rightArithShift",category:"Bitwise",syntax:["x >> y","rightArithShift(x, y)"],description:"Bitwise right arithmetic shift of a value x by y number of bits.",examples:["8 >> 1","4 << 1","-12 >> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightLogShift"]},Sxe={name:"rightLogShift",category:"Bitwise",syntax:["x >>> y","rightLogShift(x, y)"],description:"Bitwise right logical shift of a value x by y number of bits.",examples:["8 >>> 1","4 << 1","-12 >>> 2"],seealso:["bitAnd","bitNot","bitOr","bitXor","leftShift","rightArithShift"]},Cxe={name:"bellNumbers",category:"Combinatorics",syntax:["bellNumbers(n)"],description:"The Bell Numbers count the number of partitions of a set. A partition is a pairwise disjoint subset of S whose union is S. `bellNumbers` only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["bellNumbers(3)","bellNumbers(8)"],seealso:["stirlingS2"]},Axe={name:"catalan",category:"Combinatorics",syntax:["catalan(n)"],description:"The Catalan Numbers enumerate combinatorial structures of many different types. catalan only takes integer arguments. The following condition must be enforced: n >= 0.",examples:["catalan(3)","catalan(8)"],seealso:["bellNumbers"]},Dxe={name:"composition",category:"Combinatorics",syntax:["composition(n, k)"],description:"The composition counts of n into k parts. composition only takes integer arguments. The following condition must be enforced: k <= n.",examples:["composition(5, 3)"],seealso:["combinations"]},Exe={name:"stirlingS2",category:"Combinatorics",syntax:["stirlingS2(n, k)"],description:"he Stirling numbers of the second kind, counts the number of ways to partition a set of n labelled objects into k nonempty unlabelled subsets. `stirlingS2` only takes integer arguments. The following condition must be enforced: k <= n. If n = k or k = 1, then s(n,k) = 1.",examples:["stirlingS2(5, 3)"],seealso:["bellNumbers"]},Mxe={name:"arg",category:"Complex",syntax:["arg(x)"],description:"Compute the argument of a complex value. If x = a+bi, the argument is computed as atan2(b, a).",examples:["arg(2 + 2i)","atan2(3, 2)","arg(2 + 3i)"],seealso:["re","im","conj","abs"]},Nxe={name:"conj",category:"Complex",syntax:["conj(x)"],description:"Compute the complex conjugate of a complex value. If x = a+bi, the complex conjugate is a-bi.",examples:["conj(2 + 3i)","conj(2 - 3i)","conj(-5.2i)"],seealso:["re","im","abs","arg"]},$xe={name:"im",category:"Complex",syntax:["im(x)"],description:"Get the imaginary part of a complex number.",examples:["im(2 + 3i)","re(2 + 3i)","im(-5.2i)","im(2.4)"],seealso:["re","conj","abs","arg"]},Oxe={name:"re",category:"Complex",syntax:["re(x)"],description:"Get the real part of a complex number.",examples:["re(2 + 3i)","im(2 + 3i)","re(-5.2i)","re(2.4)"],seealso:["im","conj","abs","arg"]},Txe={name:"evaluate",category:"Expression",syntax:["evaluate(expression)","evaluate(expression, scope)","evaluate([expr1, expr2, expr3, ...])","evaluate([expr1, expr2, expr3, ...], scope)"],description:"Evaluate an expression or an array with expressions.",examples:['evaluate("2 + 3")','evaluate("sqrt(16)")','evaluate("2 inch to cm")','evaluate("sin(x * pi)", { "x": 1/2 })','evaluate(["width=2", "height=4","width*height"])'],seealso:[]},Bxe={name:"help",category:"Expression",syntax:["help(object)","help(string)"],description:"Display documentation on a function or data type.",examples:["help(sqrt)",'help("complex")'],seealso:[]},Ixe={name:"distance",category:"Geometry",syntax:["distance([x1, y1], [x2, y2])","distance([[x1, y1], [x2, y2]])"],description:"Calculates the Euclidean distance between two points.",examples:["distance([0,0], [4,4])","distance([[0,0], [4,4]])"],seealso:[]},Pxe={name:"intersect",category:"Geometry",syntax:["intersect(expr1, expr2, expr3, expr4)","intersect(expr1, expr2, expr3)"],description:"Computes the intersection point of lines and/or planes.",examples:["intersect([0, 0], [10, 10], [10, 0], [0, 10])","intersect([1, 0, 1],  [4, -2, 2], [1, 1, 1, 6])"],seealso:[]},kxe={name:"and",category:"Logical",syntax:["x and y","and(x, y)"],description:"Logical and. Test whether two values are both defined with a nonzero/nonempty value.",examples:["true and false","true and true","2 and 4"],seealso:["not","or","xor"]},Fxe={name:"not",category:"Logical",syntax:["not x","not(x)"],description:"Logical not. Flips the boolean value of given argument.",examples:["not true","not false","not 2","not 0"],seealso:["and","or","xor"]},Rxe={name:"or",category:"Logical",syntax:["x or y","or(x, y)"],description:"Logical or. Test if at least one value is defined with a nonzero/nonempty value.",examples:["true or false","false or false","0 or 4"],seealso:["not","and","xor"]},_xe={name:"xor",category:"Logical",syntax:["x xor y","xor(x, y)"],description:"Logical exclusive or, xor. Test whether one and only one value is defined with a nonzero/nonempty value.",examples:["true xor false","false xor false","true xor true","0 xor 4"],seealso:["not","and","or"]},zxe={name:"column",category:"Matrix",syntax:["column(x, index)"],description:"Return a column from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","column(A, 1)","column(A, 2)"],seealso:["row","matrixFromColumns"]},Lxe={name:"concat",category:"Matrix",syntax:["concat(A, B, C, ...)","concat(A, B, C, ..., dim)"],description:"Concatenate matrices. By default, the matrices are concatenated by the last dimension. The dimension on which to concatenate can be provided as last argument.",examples:["A = [1, 2; 5, 6]","B = [3, 4; 7, 8]","concat(A, B)","concat(A, B, 1)","concat(A, B, 2)"],seealso:["det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Hxe={name:"count",category:"Matrix",syntax:["count(x)"],description:"Count the number of elements of a matrix, array or string.",examples:["a = [1, 2; 3, 4; 5, 6]","count(a)","size(a)",'count("hello world")'],seealso:["size"]},Vxe={name:"cross",category:"Matrix",syntax:["cross(A, B)"],description:"Calculate the cross product for two vectors in three dimensional space.",examples:["cross([1, 1, 0],  [0, 1, 1])","cross([3, -3, 1], [4, 9, 2])","cross([2, 3, 4],  [5, 6, 7])"],seealso:["multiply","dot"]},Uxe={name:"ctranspose",category:"Matrix",syntax:["x'","ctranspose(x)"],description:"Complex Conjugate and Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","ctranspose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},qxe={name:"det",category:"Matrix",syntax:["det(x)"],description:"Calculate the determinant of a matrix",examples:["det([1, 2; 3, 4])","det([-2, 2, 3; -1, 1, 3; 2, 0, -1])"],seealso:["concat","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},Wxe={name:"diag",category:"Matrix",syntax:["diag(x)","diag(x, k)"],description:"Create a diagonal matrix or retrieve the diagonal of a matrix. When x is a vector, a matrix with the vector values on the diagonal will be returned. When x is a matrix, a vector with the diagonal values of the matrix is returned. When k is provided, the k-th diagonal will be filled in or retrieved, if k is positive, the values are placed on the super diagonal. When k is negative, the values are placed on the sub diagonal.",examples:["diag(1:3)","diag(1:3, 1)","a = [1, 2, 3; 4, 5, 6; 7, 8, 9]","diag(a)"],seealso:["concat","det","identity","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},jxe={name:"diff",category:"Matrix",syntax:["diff(arr)","diff(arr, dim)"],description:["Create a new matrix or array with the difference of the passed matrix or array.","Dim parameter is optional and used to indicant the dimension of the array/matrix to apply the difference","If no dimension parameter is passed it is assumed as dimension 0","Dimension is zero-based in javascript and one-based in the parser","Arrays must be 'rectangular' meaning arrays like [1, 2]","If something is passed as a matrix it will be returned as a matrix but other than that all matrices are converted to arrays"],examples:["A = [1, 2, 4, 7, 0]","diff(A)","diff(A, 1)","B = [[1, 2], [3, 4]]","diff(B)","diff(B, 1)","diff(B, 2)","diff(B, bignumber(2))","diff([[1, 2], matrix([3, 4])], 2)"],seealso:["subtract","partitionSelect"]},Gxe={name:"dot",category:"Matrix",syntax:["dot(A, B)","A * B"],description:"Calculate the dot product of two vectors. The dot product of A = [a1, a2, a3, ..., an] and B = [b1, b2, b3, ..., bn] is defined as dot(A, B) = a1 * b1 + a2 * b2 + a3 * b3 + ... + an * bn",examples:["dot([2, 4, 1], [2, 2, 3])","[2, 4, 1] * [2, 2, 3]"],seealso:["multiply","cross"]},Xxe={name:"eigs",category:"Matrix",syntax:["eigs(x)"],description:"Calculate the eigenvalues and optionally eigenvectors of a square matrix",examples:["eigs([[5, 2.3], [2.3, 1]])","eigs([[1, 2, 3], [4, 5, 6], [7, 8, 9]], { precision: 1e-6, eigenvectors: false })"],seealso:["inv"]},Kxe={name:"filter",category:"Matrix",syntax:["filter(x, test)"],description:"Filter items in a matrix.",examples:["isPositive(x) = x > 0","filter([6, -2, -1, 4, 3], isPositive)","filter([6, -2, 0, 1, 0], x != 0)"],seealso:["sort","map","forEach"]},Yxe={name:"flatten",category:"Matrix",syntax:["flatten(x)"],description:"Flatten a multi dimensional matrix into a single dimensional matrix.",examples:["a = [1, 2, 3; 4, 5, 6]","size(a)","b = flatten(a)","size(b)"],seealso:["concat","resize","size","squeeze"]},Zxe={name:"forEach",category:"Matrix",syntax:["forEach(x, callback)"],description:"Iterates over all elements of a matrix/array, and executes the given callback function.",examples:["numberOfPets = {}","addPet(n) = numberOfPets[n] = (numberOfPets[n] ? numberOfPets[n]:0 ) + 1;",'forEach(["Dog","Cat","Cat"], addPet)',"numberOfPets"],seealso:["map","sort","filter"]},Qxe={name:"getMatrixDataType",category:"Matrix",syntax:["getMatrixDataType(x)"],description:'Find the data type of all elements in a matrix or array, for example "number" if all items are a number and "Complex" if all values are complex numbers. If a matrix contains more than one data type, it will return "mixed".',examples:["getMatrixDataType([1, 2, 3])","getMatrixDataType([[5 cm], [2 inch]])",'getMatrixDataType([1, "text"])',"getMatrixDataType([1, bignumber(4)])"],seealso:["matrix","sparse","typeOf"]},Jxe={name:"identity",category:"Matrix",syntax:["identity(n)","identity(m, n)","identity([m, n])"],description:"Returns the identity matrix with size m-by-n. The matrix has ones on the diagonal and zeros elsewhere.",examples:["identity(3)","identity(3, 5)","a = [1, 2, 3; 4, 5, 6]","identity(size(a))"],seealso:["concat","det","diag","inv","ones","range","size","squeeze","subset","trace","transpose","zeros"]},ewe={name:"inv",category:"Matrix",syntax:["inv(x)"],description:"Calculate the inverse of a matrix",examples:["inv([1, 2; 3, 4])","inv(4)","1 / 4"],seealso:["concat","det","diag","identity","ones","range","size","squeeze","subset","trace","transpose","zeros"]},twe={name:"pinv",category:"Matrix",syntax:["pinv(x)"],description:"Calculate the Moore–Penrose inverse of a matrix",examples:["pinv([1, 2; 3, 4])","pinv([[1, 0], [0, 1], [0, 1]])","pinv(4)"],seealso:["inv"]},nwe={name:"kron",category:"Matrix",syntax:["kron(x, y)"],description:"Calculates the kronecker product of 2 matrices or vectors.",examples:["kron([[1, 0], [0, 1]], [[1, 2], [3, 4]])","kron([1,1], [2,3,4])"],seealso:["multiply","dot","cross"]},rwe={name:"map",category:"Matrix",syntax:["map(x, callback)"],description:"Create a new matrix or array with the results of the callback function executed on each entry of the matrix/array.",examples:["map([1, 2, 3], square)"],seealso:["filter","forEach"]},iwe={name:"matrixFromColumns",category:"Matrix",syntax:["matrixFromColumns(...arr)","matrixFromColumns(row1, row2)","matrixFromColumns(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual columns.",examples:["matrixFromColumns([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromRows","matrixFromFunction","zeros"]},owe={name:"matrixFromFunction",category:"Matrix",syntax:["matrixFromFunction(size, fn)","matrixFromFunction(size, fn, format)","matrixFromFunction(size, fn, format, datatype)","matrixFromFunction(size, format, fn)","matrixFromFunction(size, format, datatype, fn)"],description:"Create a matrix by evaluating a generating function at each index.",examples:["f(I) = I[1] - I[2]","matrixFromFunction([3,3], f)","g(I) = I[1] - I[2] == 1 ? 4 : 0",'matrixFromFunction([100, 100], "sparse", g)',"matrixFromFunction([5], random)"],seealso:["matrix","matrixFromRows","matrixFromColumns","zeros"]},awe={name:"matrixFromRows",category:"Matrix",syntax:["matrixFromRows(...arr)","matrixFromRows(row1, row2)","matrixFromRows(row1, row2, row3)"],description:"Create a dense matrix from vectors as individual rows.",examples:["matrixFromRows([1, 2, 3], [[4],[5],[6]])"],seealso:["matrix","matrixFromColumns","matrixFromFunction","zeros"]},swe={name:"ones",category:"Matrix",syntax:["ones(m)","ones(m, n)","ones(m, n, p, ...)","ones([m])","ones([m, n])","ones([m, n, p, ...])"],description:"Create a matrix containing ones.",examples:["ones(3)","ones(3, 5)","ones([2,3]) * 4.5","a = [1, 2, 3; 4, 5, 6]","ones(size(a))"],seealso:["concat","det","diag","identity","inv","range","size","squeeze","subset","trace","transpose","zeros"]},lwe={name:"partitionSelect",category:"Matrix",syntax:["partitionSelect(x, k)","partitionSelect(x, k, compare)"],description:"Partition-based selection of an array or 1D matrix. Will find the kth smallest value, and mutates the input array. Uses Quickselect.",examples:["partitionSelect([5, 10, 1], 2)",'partitionSelect(["C", "B", "A", "D"], 1, compareText)',"arr = [5, 2, 1]","partitionSelect(arr, 0) # returns 1, arr is now: [1, 2, 5]","arr","partitionSelect(arr, 1, 'desc') # returns 2, arr is now: [5, 2, 1]","arr"],seealso:["sort"]},uwe={name:"range",category:"Type",syntax:["start:end","start:step:end","range(start, end)","range(start, end, step)","range(string)"],description:"Create a range. Lower bound of the range is included, upper bound is excluded.",examples:["1:5","3:-1:-3","range(3, 7)","range(0, 12, 2)",'range("4:10")',"range(1m, 1m, 3m)","a = [1, 2, 3, 4; 5, 6, 7, 8]","a[1:2, 1:2]"],seealso:["concat","det","diag","identity","inv","ones","size","squeeze","subset","trace","transpose","zeros"]},cwe={name:"reshape",category:"Matrix",syntax:["reshape(x, sizes)"],description:"Reshape a multi dimensional array to fit the specified dimensions.",examples:["reshape([1, 2, 3, 4, 5, 6], [2, 3])","reshape([[1, 2], [3, 4]], [1, 4])","reshape([[1, 2], [3, 4]], [4])","reshape([1, 2, 3, 4], [-1, 2])"],seealso:["size","squeeze","resize"]},fwe={name:"resize",category:"Matrix",syntax:["resize(x, size)","resize(x, size, defaultValue)"],description:"Resize a matrix.",examples:["resize([1,2,3,4,5], [3])","resize([1,2,3], [5])","resize([1,2,3], [5], -1)","resize(2, [2, 3])",'resize("hello", [8], "!")'],seealso:["size","subset","squeeze","reshape"]},dwe={name:"rotate",category:"Matrix",syntax:["rotate(w, theta)","rotate(w, theta, v)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotate([1, 0], pi / 2)",'rotate(matrix([1, 0]), unit("35deg"))','rotate([1, 0, 0], unit("90deg"), [0, 0, 1])','rotate(matrix([1, 0, 0]), unit("90deg"), matrix([0, 0, 1]))'],seealso:["matrix","rotationMatrix"]},hwe={name:"rotationMatrix",category:"Matrix",syntax:["rotationMatrix(theta)","rotationMatrix(theta, v)","rotationMatrix(theta, v, format)"],description:"Returns a 2-D rotation matrix (2x2) for a given angle (in radians). Returns a 2-D rotation matrix (3x3) of a given angle (in radians) around given axis.",examples:["rotationMatrix(pi / 2)",'rotationMatrix(unit("45deg"), [0, 0, 1])','rotationMatrix(1, matrix([0, 0, 1]), "sparse")'],seealso:["cos","sin"]},pwe={name:"row",category:"Matrix",syntax:["row(x, index)"],description:"Return a row from a matrix or array.",examples:["A = [[1, 2], [3, 4]]","row(A, 1)","row(A, 2)"],seealso:["column","matrixFromRows"]},mwe={name:"size",category:"Matrix",syntax:["size(x)"],description:"Calculate the size of a matrix.",examples:["size(2.3)",'size("hello world")',"a = [1, 2; 3, 4; 5, 6]","size(a)","size(1:6)"],seealso:["concat","count","det","diag","identity","inv","ones","range","squeeze","subset","trace","transpose","zeros"]},gwe={name:"sort",category:"Matrix",syntax:["sort(x)","sort(x, compare)"],description:'Sort the items in a matrix. Compare can be a string "asc", "desc", "natural", or a custom sort function.',examples:["sort([5, 10, 1])",'sort(["C", "B", "A", "D"], "natural")',"sortByLength(a, b) = size(a)[1] - size(b)[1]",'sort(["Langdon", "Tom", "Sara"], sortByLength)','sort(["10", "1", "2"], "natural")'],seealso:["map","filter","forEach"]},vwe={name:"squeeze",category:"Matrix",syntax:["squeeze(x)"],description:"Remove inner and outer singleton dimensions from a matrix.",examples:["a = zeros(3,2,1)","size(squeeze(a))","b = zeros(1,1,3)","size(squeeze(b))"],seealso:["concat","det","diag","identity","inv","ones","range","size","subset","trace","transpose","zeros"]},ywe={name:"subset",category:"Matrix",syntax:["value(index)","value(index) = replacement","subset(value, [index])","subset(value, [index], replacement)"],description:"Get or set a subset of the entries of a matrix or characters of a string. Indexes are one-based. There should be one index specification for each dimension of the target. Each specification can be a single index, a list of indices, or a range in colon notation `l:u`. In a range, both the lower bound l and upper bound u are included; and if a bound is omitted it defaults to the most extreme valid value. The cartesian product of the indices specified in each dimension determines the target of the operation.",examples:["d = [1, 2; 3, 4]","e = []","e[1, 1:2] = [5, 6]","e[2, :] = [7, 8]","f = d * e","f[2, 1]","f[:, 1]","f[[1,2], [1,3]] = [9, 10; 11, 12]","f"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","trace","transpose","zeros"]},bwe={name:"trace",category:"Matrix",syntax:["trace(A)"],description:"Calculate the trace of a matrix: the sum of the elements on the main diagonal of a square matrix.",examples:["A = [1, 2, 3; -1, 2, 3; 2, 0, 3]","trace(A)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","transpose","zeros"]},xwe={name:"transpose",category:"Matrix",syntax:["x'","transpose(x)"],description:"Transpose a matrix",examples:["a = [1, 2, 3; 4, 5, 6]","a'","transpose(a)"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","zeros"]},wwe={name:"zeros",category:"Matrix",syntax:["zeros(m)","zeros(m, n)","zeros(m, n, p, ...)","zeros([m])","zeros([m, n])","zeros([m, n, p, ...])"],description:"Create a matrix containing zeros.",examples:["zeros(3)","zeros(3, 5)","a = [1, 2, 3; 4, 5, 6]","zeros(size(a))"],seealso:["concat","det","diag","identity","inv","ones","range","size","squeeze","subset","trace","transpose"]},Swe={name:"fft",category:"Matrix",syntax:["fft(x)"],description:"Calculate N-dimensional fourier transform",examples:["fft([[1, 0], [1, 0]])"],seealso:["ifft"]},Cwe={name:"ifft",category:"Matrix",syntax:["ifft(x)"],description:"Calculate N-dimensional inverse fourier transform",examples:["ifft([[2, 2], [0, 0]])"],seealso:["fft"]},Awe={name:"combinations",category:"Probability",syntax:["combinations(n, k)"],description:"Compute the number of combinations of n items taken k at a time",examples:["combinations(7, 5)"],seealso:["combinationsWithRep","permutations","factorial"]},Dwe={name:"combinationsWithRep",category:"Probability",syntax:["combinationsWithRep(n, k)"],description:"Compute the number of combinations of n items taken k at a time with replacements.",examples:["combinationsWithRep(7, 5)"],seealso:["combinations","permutations","factorial"]},Ewe={name:"factorial",category:"Probability",syntax:["n!","factorial(n)"],description:"Compute the factorial of a value",examples:["5!","5 * 4 * 3 * 2 * 1","3!"],seealso:["combinations","combinationsWithRep","permutations","gamma"]},Mwe={name:"gamma",category:"Probability",syntax:["gamma(n)"],description:"Compute the gamma function. For small values, the Lanczos approximation is used, and for large values the extended Stirling approximation.",examples:["gamma(4)","3!","gamma(1/2)","sqrt(pi)"],seealso:["factorial"]},Nwe={name:"lgamma",category:"Probability",syntax:["lgamma(n)"],description:"Logarithm of the gamma function for real, positive numbers and complex numbers, using Lanczos approximation for numbers and Stirling series for complex numbers.",examples:["lgamma(4)","lgamma(1/2)","lgamma(i)","lgamma(complex(1.1, 2))"],seealso:["gamma"]},$we={name:"kldivergence",category:"Probability",syntax:["kldivergence(x, y)"],description:"Calculate the Kullback-Leibler (KL) divergence  between two distributions.",examples:["kldivergence([0.7,0.5,0.4], [0.2,0.9,0.5])"],seealso:[]},Owe={name:"multinomial",category:"Probability",syntax:["multinomial(A)"],description:"Multinomial Coefficients compute the number of ways of picking a1, a2, ..., ai unordered outcomes from `n` possibilities. multinomial takes one array of integers as an argument. The following condition must be enforced: every ai > 0.",examples:["multinomial([1, 2, 1])"],seealso:["combinations","factorial"]},Twe={name:"permutations",category:"Probability",syntax:["permutations(n)","permutations(n, k)"],description:"Compute the number of permutations of n items taken k at a time",examples:["permutations(5)","permutations(5, 3)"],seealso:["combinations","combinationsWithRep","factorial"]},Bwe={name:"pickRandom",category:"Probability",syntax:["pickRandom(array)","pickRandom(array, number)","pickRandom(array, weights)","pickRandom(array, number, weights)","pickRandom(array, weights, number)"],description:"Pick a random entry from a given array.",examples:["pickRandom(0:10)","pickRandom([1, 3, 1, 6])","pickRandom([1, 3, 1, 6], 2)","pickRandom([1, 3, 1, 6], [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], 2, [2, 3, 2, 1])","pickRandom([1, 3, 1, 6], [2, 3, 2, 1], 2)"],seealso:["random","randomInt"]},Iwe={name:"random",category:"Probability",syntax:["random()","random(max)","random(min, max)","random(size)","random(size, max)","random(size, min, max)"],description:"Return a random number.",examples:["random()","random(10, 20)","random([2, 3])"],seealso:["pickRandom","randomInt"]},Pwe={name:"randomInt",category:"Probability",syntax:["randomInt(max)","randomInt(min, max)","randomInt(size)","randomInt(size, max)","randomInt(size, min, max)"],description:"Return a random integer number",examples:["randomInt(10, 20)","randomInt([2, 3], 10)"],seealso:["pickRandom","random"]},kwe={name:"compare",category:"Relational",syntax:["compare(x, y)"],description:"Compare two values. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compare(2, 3)","compare(3, 2)","compare(2, 2)","compare(5cm, 40mm)","compare(2, [1, 2, 3])"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compareNatural","compareText"]},Fwe={name:"compareNatural",category:"Relational",syntax:["compareNatural(x, y)"],description:"Compare two values of any type in a deterministic, natural way. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:["compareNatural(2, 3)","compareNatural(3, 2)","compareNatural(2, 2)","compareNatural(5cm, 40mm)",'compareNatural("2", "10")',"compareNatural(2 + 3i, 2 + 4i)","compareNatural([1, 2, 4], [1, 2, 3])","compareNatural([1, 5], [1, 2, 3])","compareNatural([1, 2], [1, 2])","compareNatural({a: 2}, {a: 4})"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare","compareText"]},Rwe={name:"compareText",category:"Relational",syntax:["compareText(x, y)"],description:"Compare two strings lexically. Comparison is case sensitive. Returns 1 when x > y, -1 when x < y, and 0 when x == y.",examples:['compareText("B", "A")','compareText("A", "B")','compareText("A", "A")','compareText("2", "10")','compare("2", "10")',"compare(2, 10)",'compareNatural("2", "10")','compareText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural"]},_we={name:"deepEqual",category:"Relational",syntax:["deepEqual(x, y)"],description:"Check equality of two matrices element wise. Returns true if the size of both matrices is equal and when and each of the elements are equal.",examples:["deepEqual([1,3,4], [1,3,4])","deepEqual([1,3,4], [1,3])"],seealso:["equal","unequal","smaller","larger","smallerEq","largerEq","compare"]},zwe={name:"equal",category:"Relational",syntax:["x == y","equal(x, y)"],description:"Check equality of two values. Returns true if the values are equal, and false if not.",examples:["2+2 == 3","2+2 == 4","a = 3.2","b = 6-2.8","a == b","50cm == 0.5m"],seealso:["unequal","smaller","larger","smallerEq","largerEq","compare","deepEqual","equalText"]},Lwe={name:"equalText",category:"Relational",syntax:["equalText(x, y)"],description:"Check equality of two strings. Comparison is case sensitive. Returns true if the values are equal, and false if not.",examples:['equalText("Hello", "Hello")','equalText("a", "A")','equal("2e3", "2000")','equalText("2e3", "2000")','equalText("B", ["A", "B", "C"])'],seealso:["compare","compareNatural","compareText","equal"]},Hwe={name:"larger",category:"Relational",syntax:["x > y","larger(x, y)"],description:"Check if value x is larger than y. Returns true if x is larger than y, and false if not.",examples:["2 > 3","5 > 2*2","a = 3.3","b = 6-2.8","(a > b)","(b < a)","5 cm > 2 inch"],seealso:["equal","unequal","smaller","smallerEq","largerEq","compare"]},Vwe={name:"largerEq",category:"Relational",syntax:["x >= y","largerEq(x, y)"],description:"Check if value x is larger or equal to y. Returns true if x is larger or equal to y, and false if not.",examples:["2 >= 1+1","2 > 1+1","a = 3.2","b = 6-2.8","(a >= b)"],seealso:["equal","unequal","smallerEq","smaller","compare"]},Uwe={name:"smaller",category:"Relational",syntax:["x < y","smaller(x, y)"],description:"Check if value x is smaller than value y. Returns true if x is smaller than y, and false if not.",examples:["2 < 3","5 < 2*2","a = 3.3","b = 6-2.8","(a < b)","5 cm < 2 inch"],seealso:["equal","unequal","larger","smallerEq","largerEq","compare"]},qwe={name:"smallerEq",category:"Relational",syntax:["x <= y","smallerEq(x, y)"],description:"Check if value x is smaller or equal to value y. Returns true if x is smaller than y, and false if not.",examples:["2 <= 1+1","2 < 1+1","a = 3.2","b = 6-2.8","(a <= b)"],seealso:["equal","unequal","larger","smaller","largerEq","compare"]},Wwe={name:"unequal",category:"Relational",syntax:["x != y","unequal(x, y)"],description:"Check unequality of two values. Returns true if the values are unequal, and false if they are equal.",examples:["2+2 != 3","2+2 != 4","a = 3.2","b = 6-2.8","a != b","50cm != 0.5m","5 cm != 2 inch"],seealso:["equal","smaller","larger","smallerEq","largerEq","compare","deepEqual"]},jwe={name:"setCartesian",category:"Set",syntax:["setCartesian(set1, set2)"],description:"Create the cartesian product of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays and the values will be sorted in ascending order before the operation.",examples:["setCartesian([1, 2], [3, 4])"],seealso:["setUnion","setIntersect","setDifference","setPowerset"]},Gwe={name:"setDifference",category:"Set",syntax:["setDifference(set1, set2)"],description:"Create the difference of two (multi)sets: every element of set1, that is not the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setDifference([1, 2, 3, 4], [3, 4, 5, 6])","setDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setSymDifference"]},Xwe={name:"setDistinct",category:"Set",syntax:["setDistinct(set)"],description:"Collect the distinct elements of a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setDistinct([1, 1, 1, 2, 2, 3])"],seealso:["setMultiplicity"]},Kwe={name:"setIntersect",category:"Set",syntax:["setIntersect(set1, set2)"],description:"Create the intersection of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIntersect([1, 2, 3, 4], [3, 4, 5, 6])","setIntersect([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setDifference"]},Ywe={name:"setIsSubset",category:"Set",syntax:["setIsSubset(set1, set2)"],description:"Check whether a (multi)set is a subset of another (multi)set: every element of set1 is the element of set2. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setIsSubset([1, 2], [3, 4, 5, 6])","setIsSubset([3, 4], [3, 4, 5, 6])"],seealso:["setUnion","setIntersect","setDifference"]},Zwe={name:"setMultiplicity",category:"Set",syntax:["setMultiplicity(element, set)"],description:"Count the multiplicity of an element in a multiset. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setMultiplicity(1, [1, 2, 2, 4])","setMultiplicity(2, [1, 2, 2, 4])"],seealso:["setDistinct","setSize"]},Qwe={name:"setPowerset",category:"Set",syntax:["setPowerset(set)"],description:"Create the powerset of a (multi)set: the powerset contains very possible subsets of a (multi)set. A multi-dimension array will be converted to a single-dimension array before the operation.",examples:["setPowerset([1, 2, 3])"],seealso:["setCartesian"]},Jwe={name:"setSize",category:"Set",syntax:["setSize(set)","setSize(set, unique)"],description:'Count the number of elements of a (multi)set. When the second parameter "unique" is true, count only the unique values. A multi-dimension array will be converted to a single-dimension array before the operation.',examples:["setSize([1, 2, 2, 4])","setSize([1, 2, 2, 4], true)"],seealso:["setUnion","setIntersect","setDifference"]},eSe={name:"setSymDifference",category:"Set",syntax:["setSymDifference(set1, set2)"],description:"Create the symmetric difference of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setSymDifference([1, 2, 3, 4], [3, 4, 5, 6])","setSymDifference([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setUnion","setIntersect","setDifference"]},tSe={name:"setUnion",category:"Set",syntax:["setUnion(set1, set2)"],description:"Create the union of two (multi)sets. Multi-dimension arrays will be converted to single-dimension arrays before the operation.",examples:["setUnion([1, 2, 3, 4], [3, 4, 5, 6])","setUnion([[1, 2], [3, 4]], [[3, 4], [5, 6]])"],seealso:["setIntersect","setDifference"]},nSe={name:"zpk2tf",category:"Signal",syntax:["zpk2tf(z, p, k)"],description:"Compute the transfer function of a zero-pole-gain model.",examples:["zpk2tf([1, 2], [-1, -2], 1)","zpk2tf([1, 2], [-1, -2])","zpk2tf([1 - 3i, 2 + 2i], [-1, -2])"],seealso:[]},rSe={name:"freqz",category:"Signal",syntax:["freqz(b, a)","freqz(b, a, w)"],description:"Calculates the frequency response of a filter given its numerator and denominator coefficients.",examples:["freqz([1, 2], [1, 2, 3])","freqz([1, 2], [1, 2, 3], [0, 1])","freqz([1, 2], [1, 2, 3], 512)"],seealso:[]},iSe={name:"erf",category:"Special",syntax:["erf(x)"],description:"Compute the erf function of a value using a rational Chebyshev approximations for different intervals of x",examples:["erf(0.2)","erf(-0.5)","erf(4)"],seealso:[]},oSe={name:"zeta",category:"Special",syntax:["zeta(s)"],description:"Compute the Riemann Zeta Function using an infinite series and Riemanns Functional Equation for the entire complex plane",examples:["zeta(0.2)","zeta(-0.5)","zeta(4)"],seealso:[]},aSe={name:"mad",category:"Statistics",syntax:["mad(a, b, c, ...)","mad(A)"],description:"Compute the median absolute deviation of a matrix or a list with values. The median absolute deviation is defined as the median of the absolute deviations from the median.",examples:["mad(10, 20, 30)","mad([1, 2, 3])"],seealso:["mean","median","std","abs"]},sSe={name:"max",category:"Statistics",syntax:["max(a, b, c, ...)","max(A)","max(A, dimension)"],description:"Compute the maximum value of a list of values.",examples:["max(2, 3, 4, 1)","max([2, 3, 4, 1])","max([2, 5; 4, 3])","max([2, 5; 4, 3], 1)","max([2, 5; 4, 3], 2)","max(2.7, 7.1, -4.5, 2.0, 4.1)","min(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["mean","median","min","prod","std","sum","variance"]},lSe={name:"mean",category:"Statistics",syntax:["mean(a, b, c, ...)","mean(A)","mean(A, dimension)"],description:"Compute the arithmetic mean of a list of values.",examples:["mean(2, 3, 4, 1)","mean([2, 3, 4, 1])","mean([2, 5; 4, 3])","mean([2, 5; 4, 3], 1)","mean([2, 5; 4, 3], 2)","mean([1.0, 2.7, 3.2, 4.0])"],seealso:["max","median","min","prod","std","sum","variance"]},uSe={name:"median",category:"Statistics",syntax:["median(a, b, c, ...)","median(A)"],description:"Compute the median of all values. The values are sorted and the middle value is returned. In case of an even number of values, the average of the two middle values is returned.",examples:["median(5, 2, 7)","median([3, -1, 5, 7])"],seealso:["max","mean","min","prod","std","sum","variance","quantileSeq"]},cSe={name:"min",category:"Statistics",syntax:["min(a, b, c, ...)","min(A)","min(A, dimension)"],description:"Compute the minimum value of a list of values.",examples:["min(2, 3, 4, 1)","min([2, 3, 4, 1])","min([2, 5; 4, 3])","min([2, 5; 4, 3], 1)","min([2, 5; 4, 3], 2)","min(2.7, 7.1, -4.5, 2.0, 4.1)","max(2.7, 7.1, -4.5, 2.0, 4.1)"],seealso:["max","mean","median","prod","std","sum","variance"]},fSe={name:"mode",category:"Statistics",syntax:["mode(a, b, c, ...)","mode(A)","mode(A, a, b, B, c, ...)"],description:"Computes the mode of all values as an array. In case mode being more than one, multiple values are returned in an array.",examples:["mode(2, 1, 4, 3, 1)","mode([1, 2.7, 3.2, 4, 2.7])","mode(1, 4, 6, 1, 6)"],seealso:["max","mean","min","median","prod","std","sum","variance"]},dSe={name:"prod",category:"Statistics",syntax:["prod(a, b, c, ...)","prod(A)"],description:"Compute the product of all values.",examples:["prod(2, 3, 4)","prod([2, 3, 4])","prod([2, 5; 4, 3])"],seealso:["max","mean","min","median","min","std","sum","variance"]},hSe={name:"quantileSeq",category:"Statistics",syntax:["quantileSeq(A, prob[, sorted])","quantileSeq(A, [prob1, prob2, ...][, sorted])","quantileSeq(A, N[, sorted])"],description:`Compute the prob order quantile of a matrix or a list with values. The sequence is sorted and the middle value is returned. Supported types of sequence values are: Number, BigNumber, Unit Supported types of probablity are: Number, BigNumber. 

In case of a (multi dimensional) array or matrix, the prob order quantile of all elements will be calculated.`,examples:["quantileSeq([3, -1, 5, 7], 0.5)","quantileSeq([3, -1, 5, 7], [1/3, 2/3])","quantileSeq([3, -1, 5, 7], 2)","quantileSeq([-1, 3, 5, 7], 0.5, true)"],seealso:["mean","median","min","max","prod","std","sum","variance"]},pSe={name:"std",category:"Statistics",syntax:["std(a, b, c, ...)","std(A)","std(A, dimension)","std(A, normalization)","std(A, dimension, normalization)"],description:'Compute the standard deviation of all values, defined as std(A) = sqrt(variance(A)). Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["std(2, 4, 6)","std([2, 4, 6, 8])",'std([2, 4, 6, 8], "uncorrected")','std([2, 4, 6, 8], "biased")',"std([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","prod","sum","variance"]},mSe={name:"cumsum",category:"Statistics",syntax:["cumsum(a, b, c, ...)","cumsum(A)"],description:"Compute the cumulative sum of all values.",examples:["cumsum(2, 3, 4, 1)","cumsum([2, 3, 4, 1])","cumsum([1, 2; 3, 4])","cumsum([1, 2; 3, 4], 1)","cumsum([1, 2; 3, 4], 2)"],seealso:["max","mean","median","min","prod","std","sum","variance"]},gSe={name:"sum",category:"Statistics",syntax:["sum(a, b, c, ...)","sum(A)","sum(A, dimension)"],description:"Compute the sum of all values.",examples:["sum(2, 3, 4, 1)","sum([2, 3, 4, 1])","sum([2, 5; 4, 3])"],seealso:["max","mean","median","min","prod","std","sum","variance"]},vSe={name:"variance",category:"Statistics",syntax:["variance(a, b, c, ...)","variance(A)","variance(A, dimension)","variance(A, normalization)","variance(A, dimension, normalization)"],description:'Compute the variance of all values. Optional parameter normalization can be "unbiased" (default), "uncorrected", or "biased".',examples:["variance(2, 4, 6)","variance([2, 4, 6, 8])",'variance([2, 4, 6, 8], "uncorrected")','variance([2, 4, 6, 8], "biased")',"variance([1, 2, 3; 4, 5, 6])"],seealso:["max","mean","min","median","min","prod","std","sum"]},ySe={name:"corr",category:"Statistics",syntax:["corr(A,B)"],description:"Compute the correlation coefficient of a two list with values, For matrices, the matrix correlation coefficient is calculated.",examples:["corr([2, 4, 6, 8],[1, 2, 3, 6])","corr(matrix([[1, 2.2, 3, 4.8, 5], [1, 2, 3, 4, 5]]), matrix([[4, 5.3, 6.6, 7, 8], [1, 2, 3, 4, 5]]))"],seealso:["max","mean","min","median","min","prod","std","sum"]},bSe={name:"acos",category:"Trigonometry",syntax:["acos(x)"],description:"Compute the inverse cosine of a value in radians.",examples:["acos(0.5)","acos(cos(2.3))"],seealso:["cos","atan","asin"]},xSe={name:"acosh",category:"Trigonometry",syntax:["acosh(x)"],description:"Calculate the hyperbolic arccos of a value, defined as `acosh(x) = ln(sqrt(x^2 - 1) + x)`.",examples:["acosh(1.5)"],seealso:["cosh","asinh","atanh"]},wSe={name:"acot",category:"Trigonometry",syntax:["acot(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acot(0.5)","acot(cot(0.5))","acot(2)"],seealso:["cot","atan"]},SSe={name:"acoth",category:"Trigonometry",syntax:["acoth(x)"],description:"Calculate the hyperbolic arccotangent of a value, defined as `acoth(x) = (ln((x+1)/x) + ln(x/(x-1))) / 2`.",examples:["acoth(2)","acoth(0.5)"],seealso:["acsch","asech"]},CSe={name:"acsc",category:"Trigonometry",syntax:["acsc(x)"],description:"Calculate the inverse cotangent of a value.",examples:["acsc(2)","acsc(csc(0.5))","acsc(0.5)"],seealso:["csc","asin","asec"]},ASe={name:"acsch",category:"Trigonometry",syntax:["acsch(x)"],description:"Calculate the hyperbolic arccosecant of a value, defined as `acsch(x) = ln(1/x + sqrt(1/x^2 + 1))`.",examples:["acsch(0.5)"],seealso:["asech","acoth"]},DSe={name:"asec",category:"Trigonometry",syntax:["asec(x)"],description:"Calculate the inverse secant of a value.",examples:["asec(0.5)","asec(sec(0.5))","asec(2)"],seealso:["acos","acot","acsc"]},ESe={name:"asech",category:"Trigonometry",syntax:["asech(x)"],description:"Calculate the inverse secant of a value.",examples:["asech(0.5)"],seealso:["acsch","acoth"]},MSe={name:"asin",category:"Trigonometry",syntax:["asin(x)"],description:"Compute the inverse sine of a value in radians.",examples:["asin(0.5)","asin(sin(0.5))"],seealso:["sin","acos","atan"]},NSe={name:"asinh",category:"Trigonometry",syntax:["asinh(x)"],description:"Calculate the hyperbolic arcsine of a value, defined as `asinh(x) = ln(x + sqrt(x^2 + 1))`.",examples:["asinh(0.5)"],seealso:["acosh","atanh"]},$Se={name:"atan",category:"Trigonometry",syntax:["atan(x)"],description:"Compute the inverse tangent of a value in radians.",examples:["atan(0.5)","atan(tan(0.5))"],seealso:["tan","acos","asin"]},OSe={name:"atan2",category:"Trigonometry",syntax:["atan2(y, x)"],description:"Computes the principal value of the arc tangent of y/x in radians.",examples:["atan2(2, 2) / pi","angle = 60 deg in rad","x = cos(angle)","y = sin(angle)","atan2(y, x)"],seealso:["sin","cos","tan"]},TSe={name:"atanh",category:"Trigonometry",syntax:["atanh(x)"],description:"Calculate the hyperbolic arctangent of a value, defined as `atanh(x) = ln((1 + x)/(1 - x)) / 2`.",examples:["atanh(0.5)"],seealso:["acosh","asinh"]},BSe={name:"cos",category:"Trigonometry",syntax:["cos(x)"],description:"Compute the cosine of x in radians.",examples:["cos(2)","cos(pi / 4) ^ 2","cos(180 deg)","cos(60 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["acos","sin","tan"]},ISe={name:"cosh",category:"Trigonometry",syntax:["cosh(x)"],description:"Compute the hyperbolic cosine of x in radians.",examples:["cosh(0.5)"],seealso:["sinh","tanh","coth"]},PSe={name:"cot",category:"Trigonometry",syntax:["cot(x)"],description:"Compute the cotangent of x in radians. Defined as 1/tan(x)",examples:["cot(2)","1 / tan(2)"],seealso:["sec","csc","tan"]},kSe={name:"coth",category:"Trigonometry",syntax:["coth(x)"],description:"Compute the hyperbolic cotangent of x in radians.",examples:["coth(2)","1 / tanh(2)"],seealso:["sech","csch","tanh"]},FSe={name:"csc",category:"Trigonometry",syntax:["csc(x)"],description:"Compute the cosecant of x in radians. Defined as 1/sin(x)",examples:["csc(2)","1 / sin(2)"],seealso:["sec","cot","sin"]},RSe={name:"csch",category:"Trigonometry",syntax:["csch(x)"],description:"Compute the hyperbolic cosecant of x in radians. Defined as 1/sinh(x)",examples:["csch(2)","1 / sinh(2)"],seealso:["sech","coth","sinh"]},_Se={name:"sec",category:"Trigonometry",syntax:["sec(x)"],description:"Compute the secant of x in radians. Defined as 1/cos(x)",examples:["sec(2)","1 / cos(2)"],seealso:["cot","csc","cos"]},zSe={name:"sech",category:"Trigonometry",syntax:["sech(x)"],description:"Compute the hyperbolic secant of x in radians. Defined as 1/cosh(x)",examples:["sech(2)","1 / cosh(2)"],seealso:["coth","csch","cosh"]},LSe={name:"sin",category:"Trigonometry",syntax:["sin(x)"],description:"Compute the sine of x in radians.",examples:["sin(2)","sin(pi / 4) ^ 2","sin(90 deg)","sin(30 deg)","sin(0.2)^2 + cos(0.2)^2"],seealso:["asin","cos","tan"]},HSe={name:"sinh",category:"Trigonometry",syntax:["sinh(x)"],description:"Compute the hyperbolic sine of x in radians.",examples:["sinh(0.5)"],seealso:["cosh","tanh"]},VSe={name:"tan",category:"Trigonometry",syntax:["tan(x)"],description:"Compute the tangent of x in radians.",examples:["tan(0.5)","sin(0.5) / cos(0.5)","tan(pi / 4)","tan(45 deg)"],seealso:["atan","sin","cos"]},USe={name:"tanh",category:"Trigonometry",syntax:["tanh(x)"],description:"Compute the hyperbolic tangent of x in radians.",examples:["tanh(0.5)","sinh(0.5) / cosh(0.5)"],seealso:["sinh","cosh"]},qSe={name:"to",category:"Units",syntax:["x to unit","to(x, unit)"],description:"Change the unit of a value.",examples:["5 inch to cm","3.2kg to g","16 bytes in bits"],seealso:[]},WSe={name:"bin",category:"Utils",syntax:["bin(value)"],description:"Format a number as binary",examples:["bin(2)"],seealso:["oct","hex"]},jSe={name:"clone",category:"Utils",syntax:["clone(x)"],description:"Clone a variable. Creates a copy of primitive variables,and a deep copy of matrices",examples:["clone(3.5)","clone(2 - 4i)","clone(45 deg)","clone([1, 2; 3, 4])",'clone("hello world")'],seealso:[]},GSe={name:"format",category:"Utils",syntax:["format(value)","format(value, precision)"],description:"Format a value of any type as string.",examples:["format(2.3)","format(3 - 4i)","format([])","format(pi, 3)"],seealso:["print"]},XSe={name:"hasNumericValue",category:"Utils",syntax:["hasNumericValue(x)"],description:"Test whether a value is an numeric value. In case of a string, true is returned if the string contains a numeric value.",examples:["hasNumericValue(2)",'hasNumericValue("2")','isNumeric("2")',"hasNumericValue(0)","hasNumericValue(bignumber(500))","hasNumericValue(fraction(0.125))","hasNumericValue(2 + 3i)",'hasNumericValue([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","isNumeric"]},KSe={name:"hex",category:"Utils",syntax:["hex(value)"],description:"Format a number as hexadecimal",examples:["hex(240)"],seealso:["bin","oct"]},YSe={name:"isInteger",category:"Utils",syntax:["isInteger(x)"],description:"Test whether a value is an integer number.",examples:["isInteger(2)","isInteger(3.5)","isInteger([3, 0.5, -2])"],seealso:["isNegative","isNumeric","isPositive","isZero"]},ZSe={name:"isNaN",category:"Utils",syntax:["isNaN(x)"],description:"Test whether a value is NaN (not a number)",examples:["isNaN(2)","isNaN(0 / 0)","isNaN(NaN)","isNaN(Infinity)"],seealso:["isNegative","isNumeric","isPositive","isZero"]},QSe={name:"isNegative",category:"Utils",syntax:["isNegative(x)"],description:"Test whether a value is negative: smaller than zero.",examples:["isNegative(2)","isNegative(0)","isNegative(-4)","isNegative([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isPositive","isZero"]},JSe={name:"isNumeric",category:"Utils",syntax:["isNumeric(x)"],description:"Test whether a value is a numeric value. Returns true when the input is a number, BigNumber, Fraction, or boolean.",examples:["isNumeric(2)",'isNumeric("2")','hasNumericValue("2")',"isNumeric(0)","isNumeric(bignumber(500))","isNumeric(fraction(0.125))","isNumeric(2 + 3i)",'isNumeric([2.3, "foo", false])'],seealso:["isInteger","isZero","isNegative","isPositive","isNaN","hasNumericValue"]},eCe={name:"isPositive",category:"Utils",syntax:["isPositive(x)"],description:"Test whether a value is positive: larger than zero.",examples:["isPositive(2)","isPositive(0)","isPositive(-4)","isPositive([3, 0.5, -2])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},tCe={name:"isPrime",category:"Utils",syntax:["isPrime(x)"],description:"Test whether a value is prime: has no divisors other than itself and one.",examples:["isPrime(3)","isPrime(-2)","isPrime([2, 17, 100])"],seealso:["isInteger","isNumeric","isNegative","isZero"]},nCe={name:"isZero",category:"Utils",syntax:["isZero(x)"],description:"Test whether a value is zero.",examples:["isZero(2)","isZero(0)","isZero(-4)","isZero([3, 0, -2, 0])"],seealso:["isInteger","isNumeric","isNegative","isPositive"]},rCe={name:"numeric",category:"Utils",syntax:["numeric(x)"],description:"Convert a numeric input to a specific numeric type: number, BigNumber, or Fraction.",examples:['numeric("4")','numeric("4", "number")','numeric("4", "BigNumber")','numeric("4", "Fraction")','numeric(4, "Fraction")','numeric(fraction(2, 5), "number")'],seealso:["number","fraction","bignumber","string","format"]},iCe={name:"oct",category:"Utils",syntax:["oct(value)"],description:"Format a number as octal",examples:["oct(56)"],seealso:["bin","hex"]},oCe={name:"print",category:"Utils",syntax:["print(template, values)","print(template, values, precision)"],description:"Interpolate values into a string template.",examples:['print("Lucy is $age years old", {age: 5})','print("The value of pi is $pi", {pi: pi}, 3)','print("Hello, $user.name!", {user: {name: "John"}})','print("Values: $1, $2, $3", [6, 9, 4])'],seealso:["format"]},aCe={name:"typeOf",category:"Utils",syntax:["typeOf(x)"],description:"Get the type of a variable.",examples:["typeOf(3.5)","typeOf(2 - 4i)","typeOf(45 deg)",'typeOf("hello world")'],seealso:["getMatrixDataType"]},sCe={name:"solveODE",category:"Numeric",syntax:["solveODE(func, tspan, y0)","solveODE(func, tspan, y0, options)"],description:"Numerical Integration of Ordinary Differential Equations.",examples:["f(t,y) = y","tspan = [0, 4]","solveODE(f, tspan, 1)","solveODE(f, tspan, [1, 2])",'solveODE(f, tspan, 1, { method:"RK23", maxStep:0.1 })'],seealso:["derivative","simplifyCore"]},lCe={bignumber:Qbe,boolean:Jbe,complex:e1e,createUnit:t1e,fraction:n1e,index:r1e,matrix:i1e,number:o1e,sparse:a1e,splitUnit:s1e,string:l1e,unit:u1e,e:HO,E:HO,false:Rbe,i:_be,Infinity:zbe,LN2:Hbe,LN10:Lbe,LOG2E:Ube,LOG10E:Vbe,NaN:qbe,null:Wbe,pi:VO,PI:VO,phi:jbe,SQRT1_2:Gbe,SQRT2:Xbe,tau:Kbe,true:Ybe,version:Zbe,speedOfLight:{description:"Speed of light in vacuum",examples:["speedOfLight"]},gravitationConstant:{description:"Newtonian constant of gravitation",examples:["gravitationConstant"]},planckConstant:{description:"Planck constant",examples:["planckConstant"]},reducedPlanckConstant:{description:"Reduced Planck constant",examples:["reducedPlanckConstant"]},magneticConstant:{description:"Magnetic constant (vacuum permeability)",examples:["magneticConstant"]},electricConstant:{description:"Electric constant (vacuum permeability)",examples:["electricConstant"]},vacuumImpedance:{description:"Characteristic impedance of vacuum",examples:["vacuumImpedance"]},coulomb:{description:"Coulomb's constant",examples:["coulomb"]},elementaryCharge:{description:"Elementary charge",examples:["elementaryCharge"]},bohrMagneton:{description:"Borh magneton",examples:["bohrMagneton"]},conductanceQuantum:{description:"Conductance quantum",examples:["conductanceQuantum"]},inverseConductanceQuantum:{description:"Inverse conductance quantum",examples:["inverseConductanceQuantum"]},magneticFluxQuantum:{description:"Magnetic flux quantum",examples:["magneticFluxQuantum"]},nuclearMagneton:{description:"Nuclear magneton",examples:["nuclearMagneton"]},klitzing:{description:"Von Klitzing constant",examples:["klitzing"]},bohrRadius:{description:"Borh radius",examples:["bohrRadius"]},classicalElectronRadius:{description:"Classical electron radius",examples:["classicalElectronRadius"]},electronMass:{description:"Electron mass",examples:["electronMass"]},fermiCoupling:{description:"Fermi coupling constant",examples:["fermiCoupling"]},fineStructure:{description:"Fine-structure constant",examples:["fineStructure"]},hartreeEnergy:{description:"Hartree energy",examples:["hartreeEnergy"]},protonMass:{description:"Proton mass",examples:["protonMass"]},deuteronMass:{description:"Deuteron Mass",examples:["deuteronMass"]},neutronMass:{description:"Neutron mass",examples:["neutronMass"]},quantumOfCirculation:{description:"Quantum of circulation",examples:["quantumOfCirculation"]},rydberg:{description:"Rydberg constant",examples:["rydberg"]},thomsonCrossSection:{description:"Thomson cross section",examples:["thomsonCrossSection"]},weakMixingAngle:{description:"Weak mixing angle",examples:["weakMixingAngle"]},efimovFactor:{description:"Efimov factor",examples:["efimovFactor"]},atomicMass:{description:"Atomic mass constant",examples:["atomicMass"]},avogadro:{description:"Avogadro's number",examples:["avogadro"]},boltzmann:{description:"Boltzmann constant",examples:["boltzmann"]},faraday:{description:"Faraday constant",examples:["faraday"]},firstRadiation:{description:"First radiation constant",examples:["firstRadiation"]},loschmidt:{description:"Loschmidt constant at T=273.15 K and p=101.325 kPa",examples:["loschmidt"]},gasConstant:{description:"Gas constant",examples:["gasConstant"]},molarPlanckConstant:{description:"Molar Planck constant",examples:["molarPlanckConstant"]},molarVolume:{description:"Molar volume of an ideal gas at T=273.15 K and p=101.325 kPa",examples:["molarVolume"]},sackurTetrode:{description:"Sackur-Tetrode constant at T=1 K and p=101.325 kPa",examples:["sackurTetrode"]},secondRadiation:{description:"Second radiation constant",examples:["secondRadiation"]},stefanBoltzmann:{description:"Stefan-Boltzmann constant",examples:["stefanBoltzmann"]},wienDisplacement:{description:"Wien displacement law constant",examples:["wienDisplacement"]},molarMass:{description:"Molar mass constant",examples:["molarMass"]},molarMassC12:{description:"Molar mass constant of carbon-12",examples:["molarMassC12"]},gravity:{description:"Standard acceleration of gravity (standard acceleration of free-fall on Earth)",examples:["gravity"]},planckLength:{description:"Planck length",examples:["planckLength"]},planckMass:{description:"Planck mass",examples:["planckMass"]},planckTime:{description:"Planck time",examples:["planckTime"]},planckCharge:{description:"Planck charge",examples:["planckCharge"]},planckTemperature:{description:"Planck temperature",examples:["planckTemperature"]},derivative:h1e,lsolve:m1e,lsolveAll:g1e,lup:v1e,lusolve:y1e,leafCount:p1e,polynomialRoot:b1e,resolve:S1e,simplify:C1e,simplifyConstant:A1e,simplifyCore:D1e,symbolicEqual:M1e,rationalize:w1e,slu:E1e,usolve:N1e,usolveAll:$1e,qr:x1e,abs:O1e,add:T1e,cbrt:B1e,ceil:I1e,cube:P1e,divide:k1e,dotDivide:F1e,dotMultiply:R1e,dotPow:_1e,exp:z1e,expm:L1e,expm1:H1e,fix:V1e,floor:U1e,gcd:q1e,hypot:W1e,lcm:G1e,log:X1e,log2:Z1e,log1p:Y1e,log10:K1e,mod:Q1e,multiply:J1e,norm:exe,nthRoot:txe,nthRoots:nxe,pow:rxe,round:ixe,sign:oxe,sqrt:axe,sqrtm:sxe,square:fxe,subtract:dxe,unaryMinus:hxe,unaryPlus:pxe,xgcd:mxe,invmod:j1e,bitAnd:gxe,bitNot:vxe,bitOr:yxe,bitXor:bxe,leftShift:xxe,rightArithShift:wxe,rightLogShift:Sxe,bellNumbers:Cxe,catalan:Axe,composition:Dxe,stirlingS2:Exe,config:c1e,import:f1e,typed:d1e,arg:Mxe,conj:Nxe,re:Oxe,im:$xe,evaluate:Txe,help:Bxe,distance:Ixe,intersect:Pxe,and:kxe,not:Fxe,or:Rxe,xor:_xe,concat:Lxe,count:Hxe,cross:Vxe,column:zxe,ctranspose:Uxe,det:qxe,diag:Wxe,diff:jxe,dot:Gxe,getMatrixDataType:Qxe,identity:Jxe,filter:Kxe,flatten:Yxe,forEach:Zxe,inv:ewe,pinv:twe,eigs:Xxe,kron:nwe,matrixFromFunction:owe,matrixFromRows:awe,matrixFromColumns:iwe,map:rwe,ones:swe,partitionSelect:lwe,range:uwe,resize:fwe,reshape:cwe,rotate:dwe,rotationMatrix:hwe,row:pwe,size:mwe,sort:gwe,squeeze:vwe,subset:ywe,trace:bwe,transpose:xwe,zeros:wwe,fft:Swe,ifft:Cwe,sylvester:lxe,schur:uxe,lyap:cxe,solveODE:sCe,combinations:Awe,combinationsWithRep:Dwe,factorial:Ewe,gamma:Mwe,kldivergence:$we,lgamma:Nwe,multinomial:Owe,permutations:Twe,pickRandom:Bwe,random:Iwe,randomInt:Pwe,compare:kwe,compareNatural:Fwe,compareText:Rwe,deepEqual:_we,equal:zwe,equalText:Lwe,larger:Hwe,largerEq:Vwe,smaller:Uwe,smallerEq:qwe,unequal:Wwe,setCartesian:jwe,setDifference:Gwe,setDistinct:Xwe,setIntersect:Kwe,setIsSubset:Ywe,setMultiplicity:Zwe,setPowerset:Qwe,setSize:Jwe,setSymDifference:eSe,setUnion:tSe,zpk2tf:nSe,freqz:rSe,erf:iSe,zeta:oSe,cumsum:mSe,mad:aSe,max:sSe,mean:lSe,median:uSe,min:cSe,mode:fSe,prod:dSe,quantileSeq:hSe,std:pSe,sum:gSe,variance:vSe,corr:ySe,acos:bSe,acosh:xSe,acot:wSe,acoth:SSe,acsc:CSe,acsch:ASe,asec:DSe,asech:ESe,asin:MSe,asinh:NSe,atan:$Se,atanh:TSe,atan2:OSe,cos:BSe,cosh:ISe,cot:PSe,coth:kSe,csc:FSe,csch:RSe,sec:_Se,sech:zSe,sin:LSe,sinh:HSe,tan:VSe,tanh:USe,to:qSe,clone:jSe,format:GSe,bin:WSe,oct:iCe,hex:KSe,isNaN:ZSe,isInteger:YSe,isNegative:QSe,isNumeric:JSe,hasNumericValue:XSe,isPositive:eCe,isPrime:tCe,isZero:nCe,print:oCe,typeOf:aCe,numeric:rCe},UO="help",uCe=["typed","mathWithTransform","Help"],cCe=K(UO,uCe,t=>{var{typed:e,mathWithTransform:n,Help:r}=t;return e(UO,{any:function(o){var a,s=o;if(typeof o!="string"){for(a in n)if(Ve(n,a)&&o===n[a]){s=a;break}}var l=_r(lCe,s);if(!l){var u=typeof s=="function"?s.name:s;throw new Error('No documentation found on "'+u+'"')}return new r(l)}})}),qO="chain",fCe=["typed","Chain"],dCe=K(qO,fCe,t=>{var{typed:e,Chain:n}=t;return e(qO,{"":function(){return new n},any:function(i){return new n(i)}})}),WO="det",hCe=["typed","matrix","subtractScalar","multiply","divideScalar","isZero","unaryMinus"],pCe=K(WO,hCe,t=>{var{typed:e,matrix:n,subtractScalar:r,multiply:i,divideScalar:o,isZero:a,unaryMinus:s}=t;return e(WO,{any:function(c){return ct(c)},"Array | Matrix":function(c){var f;switch(Je(c)?f=c.size():Array.isArray(c)?(c=n(c),f=c.size()):f=[],f.length){case 0:return ct(c);case 1:if(f[0]===1)return ct(c.valueOf()[0]);if(f[0]===0)return 1;throw new RangeError("Matrix must be square (size: "+xt(f)+")");case 2:{var d=f[0],h=f[1];if(d===h)return l(c.clone().valueOf(),d);if(h===0)return 1;throw new RangeError("Matrix must be square (size: "+xt(f)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(f)+")")}}});function l(u,c,f){if(c===1)return ct(u[0][0]);if(c===2)return r(i(u[0][0],u[1][1]),i(u[1][0],u[0][1]));for(var d=!1,h=new Array(c).fill(0).map((C,A)=>A),p=0;p<c;p++){var m=h[p];if(a(u[m][p])){var v=void 0;for(v=p+1;v<c;v++)if(!a(u[h[v]][p])){m=h[v],h[v]=h[p],h[p]=m,d=!d;break}if(v===c)return u[m][p]}for(var g=u[m][p],w=p===0?1:u[h[p-1]][p-1],y=p+1;y<c;y++)for(var S=h[y],x=p+1;x<c;x++)u[S][x]=o(r(i(u[S][x],g),i(u[S][p],u[m][x])),w)}var b=u[h[c-1]][c-1];return d?s(b):b}}),jO="inv",mCe=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],gCe=K(jO,mCe,t=>{var{typed:e,matrix:n,divideScalar:r,addScalar:i,multiply:o,unaryMinus:a,det:s,identity:l,abs:u}=t;return e(jO,{"Array | Matrix":function(d){var h=Je(d)?d.size():mt(d);switch(h.length){case 1:if(h[0]===1)return Je(d)?n([r(1,d.valueOf()[0])]):[r(1,d[0])];throw new RangeError("Matrix must be square (size: "+xt(h)+")");case 2:{var p=h[0],m=h[1];if(p===m)return Je(d)?n(c(d.valueOf(),p,m),d.storage()):c(d,p,m);throw new RangeError("Matrix must be square (size: "+xt(h)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(h)+")")}},any:function(d){return r(1,d)}});function c(f,d,h){var p,m,v,g,w;if(d===1){if(g=f[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(1,g)]]}else if(d===2){var y=s(f);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[r(f[1][1],y),r(a(f[0][1]),y)],[r(a(f[1][0]),y),r(f[0][0],y)]]}else{var S=f.concat();for(p=0;p<d;p++)S[p]=S[p].concat();for(var x=l(d).valueOf(),b=0;b<h;b++){var C=u(S[b][b]),A=b;for(p=b+1;p<d;)u(S[p][b])>C&&(C=u(S[p][b]),A=p),p++;if(C===0)throw Error("Cannot calculate inverse, determinant is zero");p=A,p!==b&&(w=S[b],S[b]=S[p],S[p]=w,w=x[b],x[b]=x[p],x[p]=w);var D=S[b],E=x[b];for(p=0;p<d;p++){var M=S[p],B=x[p];if(p!==b){if(M[b]!==0){for(v=r(a(M[b]),D[b]),m=b;m<h;m++)M[m]=i(M[m],o(v,D[m]));for(m=0;m<h;m++)B[m]=i(B[m],o(v,E[m]))}}else{for(v=D[b],m=b;m<h;m++)M[m]=r(M[m],v);for(m=0;m<h;m++)B[m]=r(B[m],v)}}}return x}}}),GO="pinv",vCe=["typed","matrix","inv","deepEqual","equal","dotDivide","dot","ctranspose","divideScalar","multiply","add","Complex"],yCe=K(GO,vCe,t=>{var{typed:e,matrix:n,inv:r,deepEqual:i,equal:o,dotDivide:a,dot:s,ctranspose:l,divideScalar:u,multiply:c,add:f,Complex:d}=t;return e(GO,{"Array | Matrix":function(y){var S=Je(y)?y.size():mt(y);switch(S.length){case 1:return g(y)?l(y):S[0]===1?r(y):a(l(y),s(y,y));case 2:{if(g(y))return l(y);var x=S[0],b=S[1];if(x===b)try{return r(y)}catch(C){if(!(C instanceof Error&&C.message.match(/Cannot calculate inverse, determinant is zero/)))throw C}return Je(y)?n(h(y.valueOf(),x,b),y.storage()):h(y,x,b)}default:throw new RangeError("Matrix must be two dimensional (size: "+xt(S)+")")}},any:function(y){return o(y,0)?ct(y):u(1,y)}});function h(w,y,S){var{C:x,F:b}=m(w,y,S),C=c(r(c(l(x),x)),l(x)),A=c(l(b),r(c(b,l(b))));return c(A,C)}function p(w,y,S){for(var x=ct(w),b=0,C=0;C<y;C++){if(S<=b)return x;for(var A=C;v(x[A][b]);)if(A++,y===A&&(A=C,b++,S===b))return x;[x[A],x[C]]=[x[C],x[A]];for(var D=x[C][b],E=0;E<S;E++)x[C][E]=a(x[C][E],D);for(var M=0;M<y;M++)if(M!==C){D=x[M][b];for(var B=0;B<S;B++)x[M][B]=f(x[M][B],c(-1,c(D,x[C][B])))}b++}return x}function m(w,y,S){var x=p(w,y,S),b=w.map((A,D)=>A.filter((E,M)=>M<y&&!v(s(x[M],x[M])))),C=x.filter((A,D)=>!v(s(x[D],x[D])));return{C:b,F:C}}function v(w){return o(f(w,d(1,1)),f(0,d(1,1)))}function g(w){return i(f(w,d(1,1)),f(c(w,0),d(1,1)))}});function bCe(t){var{addScalar:e,subtract:n,flatten:r,multiply:i,multiplyScalar:o,divideScalar:a,sqrt:s,abs:l,bignumber:u,diag:c,size:f,reshape:d,inv:h,qr:p,usolve:m,usolveAll:v,equal:g,complex:w,larger:y,smaller:S,matrixFromColumns:x,dot:b}=t;function C(V,L,ne,se){var Y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,ee=A(V,L,ne,se,Y);D(V,L,ne,se,Y,ee);var{values:ie,C:j}=E(V,L,ne,se,Y);if(Y){var W=M(V,L,j,ee,ie,ne,se);return{values:ie,eigenvectors:W}}return{values:ie}}function A(V,L,ne,se,Y){var ee=se==="BigNumber",ie=se==="Complex",j=ee?u(0):0,W=ee?u(1):ie?w(1):1,J=ee?u(1):1,oe=ee?u(10):2,de=o(oe,oe),ge;Y&&(ge=Array(L).fill(W));for(var U=!1;!U;){U=!0;for(var Z=0;Z<L;Z++){for(var fe=j,Q=j,re=0;re<L;re++)Z!==re&&(fe=e(fe,l(V[re][Z])),Q=e(Q,l(V[Z][re])));if(!g(fe,0)&&!g(Q,0)){for(var ue=J,ye=fe,xe=a(Q,oe),G=o(Q,oe);S(ye,xe);)ye=o(ye,de),ue=o(ue,oe);for(;y(ye,G);)ye=a(ye,de),ue=a(ue,oe);var te=S(a(e(ye,Q),ue),o(e(fe,Q),.95));if(te){U=!1;for(var he=a(1,ue),ce=0;ce<L;ce++)Z!==ce&&(V[Z][ce]=o(V[Z][ce],he),V[ce][Z]=o(V[ce][Z],ue));Y&&(ge[Z]=o(ge[Z],he))}}}}return Y?c(ge):null}function D(V,L,ne,se,Y,ee){var ie=se==="BigNumber",j=se==="Complex",W=ie?u(0):j?w(0):0;ie&&(ne=u(ne));for(var J=0;J<L-2;J++){for(var oe=0,de=W,ge=J+1;ge<L;ge++){var U=V[ge][J];S(l(de),l(U))&&(de=U,oe=ge)}if(!S(l(de),ne)){if(oe!==J+1){var Z=V[oe];V[oe]=V[J+1],V[J+1]=Z;for(var fe=0;fe<L;fe++){var Q=V[fe][oe];V[fe][oe]=V[fe][J+1],V[fe][J+1]=Q}if(Y){var re=ee[oe];ee[oe]=ee[J+1],ee[J+1]=re}}for(var ue=J+2;ue<L;ue++){var ye=a(V[ue][J],de);if(ye!==0){for(var xe=0;xe<L;xe++)V[ue][xe]=n(V[ue][xe],o(ye,V[J+1][xe]));for(var G=0;G<L;G++)V[G][J+1]=e(V[G][J+1],o(ye,V[G][ue]));if(Y)for(var te=0;te<L;te++)ee[ue][te]=n(ee[ue][te],o(ye,ee[J+1][te]))}}}}return ee}function E(V,L,ne,se,Y){var ee=se==="BigNumber",ie=se==="Complex",j=ee?u(1):ie?w(1):1;ee&&(ne=u(ne));for(var W=ct(V),J=[],oe=L,de=[],ge=Y?c(Array(L).fill(j)):void 0,U=Y?c(Array(oe).fill(j)):void 0,Z=0;Z<=100;){Z+=1;for(var fe=W[oe-1][oe-1],Q=0;Q<oe;Q++)W[Q][Q]=n(W[Q][Q],fe);var{Q:re,R:ue}=p(W);W=i(ue,re);for(var ye=0;ye<oe;ye++)W[ye][ye]=e(W[ye][ye],fe);if(Y&&(U=i(U,re)),oe===1||S(l(W[oe-1][oe-2]),ne)){Z=0,J.push(W[oe-1][oe-1]),Y&&(de.unshift([[1]]),F(U,L),ge=i(ge,U),oe>1&&(U=c(Array(oe-1).fill(j)))),oe-=1,W.pop();for(var xe=0;xe<oe;xe++)W[xe].pop()}else if(oe===2||S(l(W[oe-2][oe-3]),ne)){Z=0;var G=B(W[oe-2][oe-2],W[oe-2][oe-1],W[oe-1][oe-2],W[oe-1][oe-1]);J.push(...G),Y&&(de.unshift(P(W[oe-2][oe-2],W[oe-2][oe-1],W[oe-1][oe-2],W[oe-1][oe-1],G[0],G[1],ne,se)),F(U,L),ge=i(ge,U),oe>2&&(U=c(Array(oe-2).fill(j)))),oe-=2,W.pop(),W.pop();for(var te=0;te<oe;te++)W[te].pop(),W[te].pop()}if(oe===0)break}if(J.sort((pe,me)=>+n(l(pe),l(me))),Z>100){var he=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+J.join(", "));throw he.values=J,he.vectors=[],he}var ce=Y?i(ge,$(de,L)):void 0;return{values:J,C:ce}}function M(V,L,ne,se,Y,ee,ie){var j=h(ne),W=i(j,V,ne),J=ie==="BigNumber",oe=ie==="Complex",de=J?u(0):oe?w(0):0,ge=J?u(1):oe?w(1):1,U=[],Z=[];for(var fe of Y){var Q=N(U,fe,g);Q===-1?(U.push(fe),Z.push(1)):Z[Q]+=1}for(var re=[],ue=U.length,ye=Array(L).fill(de),xe=c(Array(L).fill(ge)),G=function(){var ce=U[te],pe=n(W,i(ce,xe)),me=v(pe,ye);for(me.shift();me.length<Z[te];){var $e=T(pe,L,me,ee,ie);if($e===null)break;me.push($e)}var Ne=i(h(se),ne);me=me.map(Me=>i(Ne,Me)),re.push(...me.map(Me=>({value:ce,vector:r(Me)})))},te=0;te<ue;te++)G();return re}function B(V,L,ne,se){var Y=e(V,se),ee=n(o(V,se),o(L,ne)),ie=o(Y,.5),j=o(s(n(o(Y,Y),o(4,ee))),.5);return[e(ie,j),n(ie,j)]}function P(V,L,ne,se,Y,ee,ie,j){var W=j==="BigNumber",J=j==="Complex",oe=W?u(0):J?w(0):0,de=W?u(1):J?w(1):1;if(S(l(ne),ie))return[[de,oe],[oe,de]];if(y(l(n(Y,ee)),ie))return[[n(Y,se),n(ee,se)],[ne,ne]];var ge=n(V,Y),U=n(se,Y);return S(l(L),ie)&&S(l(U),ie)?[[ge,de],[ne,oe]]:[[L,oe],[U,de]]}function F(V,L){for(var ne=0;ne<V.length;ne++)V[ne].push(...Array(L-V[ne].length).fill(0));for(var se=V.length;se<L;se++)V.push(Array(L).fill(0)),V[se][se]=1;return V}function $(V,L){for(var ne=[],se=0;se<L;se++)ne[se]=Array(L).fill(0);var Y=0;for(var ee of V){for(var ie=ee.length,j=0;j<ie;j++)for(var W=0;W<ie;W++)ne[Y+j][Y+W]=ee[j][W];Y+=ie}return ne}function N(V,L,ne){for(var se=0;se<V.length;se++)if(ne(V[se],L))return se;return-1}function T(V,L,ne,se,Y){for(var ee=Y==="BigNumber"?u(1e3):1e3,ie,j=0;j<5;++j){ie=z(L,ne,Y);try{ie=m(V,ie)}catch{continue}if(y(q(ie),ee))break}if(j>=5)return null;for(j=0;;){var W=m(V,ie);if(S(q(I(ie,[W])),se))break;if(++j>=10)return null;ie=X(W)}return ie}function z(V,L,ne){var se=ne==="BigNumber",Y=ne==="Complex",ee=Array(V).fill(0).map(ie=>2*Math.random()-1);return se&&(ee=ee.map(ie=>u(ie))),Y&&(ee=ee.map(ie=>w(ie))),ee=I(ee,L),X(ee,ne)}function I(V,L){var ne=f(V);for(var se of L)se=d(se,ne),V=n(V,i(a(b(se,V),b(se,se)),se));return V}function q(V){return l(s(b(V,V)))}function X(V,L){var ne=L==="BigNumber",se=L==="Complex",Y=ne?u(1):se?w(1):1;return i(a(Y,q(V)),V)}return C}function xCe(t){var{config:e,addScalar:n,subtract:r,abs:i,atan:o,cos:a,sin:s,multiplyScalar:l,inv:u,bignumber:c,multiply:f,add:d}=t;function h(D,E){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.epsilon,B=arguments.length>3?arguments[3]:void 0,P=arguments.length>4?arguments[4]:void 0;if(B==="number")return p(D,M,P);if(B==="BigNumber")return m(D,M,P);throw TypeError("Unsupported data type: "+B)}function p(D,E,M){var B=D.length,P=Math.abs(E/B),F,$;if(M){$=new Array(B);for(var N=0;N<B;N++)$[N]=Array(B).fill(0),$[N][N]=1}for(var T=b(D);Math.abs(T[1])>=Math.abs(P);){var z=T[0][0],I=T[0][1];F=v(D[z][z],D[I][I],D[z][I]),D=x(D,F,z,I),M&&($=w($,F,z,I)),T=b(D)}for(var q=Array(B).fill(0),X=0;X<B;X++)q[X]=D[X][X];return A(ct(q),$,M)}function m(D,E,M){var B=D.length,P=i(E/B),F,$;if(M){$=new Array(B);for(var N=0;N<B;N++)$[N]=Array(B).fill(0),$[N][N]=1}for(var T=C(D);i(T[1])>=i(P);){var z=T[0][0],I=T[0][1];F=g(D[z][z],D[I][I],D[z][I]),D=S(D,F,z,I),M&&($=y($,F,z,I)),T=C(D)}for(var q=Array(B).fill(0),X=0;X<B;X++)q[X]=D[X][X];return A(ct(q),$,M)}function v(D,E,M){var B=E-D;return Math.abs(B)<=e.epsilon?Math.PI/4:.5*Math.atan(2*M/(E-D))}function g(D,E,M){var B=r(E,D);return i(B)<=e.epsilon?c(-1).acos().div(4):l(.5,o(f(2,M,u(B))))}function w(D,E,M,B){for(var P=D.length,F=Math.cos(E),$=Math.sin(E),N=Array(P).fill(0),T=Array(P).fill(0),z=0;z<P;z++)N[z]=F*D[z][M]-$*D[z][B],T[z]=$*D[z][M]+F*D[z][B];for(var I=0;I<P;I++)D[I][M]=N[I],D[I][B]=T[I];return D}function y(D,E,M,B){for(var P=D.length,F=a(E),$=s(E),N=Array(P).fill(c(0)),T=Array(P).fill(c(0)),z=0;z<P;z++)N[z]=r(l(F,D[z][M]),l($,D[z][B])),T[z]=n(l($,D[z][M]),l(F,D[z][B]));for(var I=0;I<P;I++)D[I][M]=N[I],D[I][B]=T[I];return D}function S(D,E,M,B){for(var P=D.length,F=c(a(E)),$=c(s(E)),N=l(F,F),T=l($,$),z=Array(P).fill(c(0)),I=Array(P).fill(c(0)),q=f(c(2),F,$,D[M][B]),X=n(r(l(N,D[M][M]),q),l(T,D[B][B])),V=d(l(T,D[M][M]),q,l(N,D[B][B])),L=0;L<P;L++)z[L]=r(l(F,D[M][L]),l($,D[B][L])),I[L]=n(l($,D[M][L]),l(F,D[B][L]));D[M][M]=X,D[B][B]=V,D[M][B]=c(0),D[B][M]=c(0);for(var ne=0;ne<P;ne++)ne!==M&&ne!==B&&(D[M][ne]=z[ne],D[ne][M]=z[ne],D[B][ne]=I[ne],D[ne][B]=I[ne]);return D}function x(D,E,M,B){for(var P=D.length,F=Math.cos(E),$=Math.sin(E),N=F*F,T=$*$,z=Array(P).fill(0),I=Array(P).fill(0),q=N*D[M][M]-2*F*$*D[M][B]+T*D[B][B],X=T*D[M][M]+2*F*$*D[M][B]+N*D[B][B],V=0;V<P;V++)z[V]=F*D[M][V]-$*D[B][V],I[V]=$*D[M][V]+F*D[B][V];D[M][M]=q,D[B][B]=X,D[M][B]=0,D[B][M]=0;for(var L=0;L<P;L++)L!==M&&L!==B&&(D[M][L]=z[L],D[L][M]=z[L],D[B][L]=I[L],D[L][B]=I[L]);return D}function b(D){for(var E=D.length,M=0,B=[0,1],P=0;P<E;P++)for(var F=P+1;F<E;F++)Math.abs(M)<Math.abs(D[P][F])&&(M=Math.abs(D[P][F]),B=[P,F]);return[B,M]}function C(D){for(var E=D.length,M=0,B=[0,1],P=0;P<E;P++)for(var F=P+1;F<E;F++)i(M)<i(D[P][F])&&(M=i(D[P][F]),B=[P,F]);return[B,M]}function A(D,E,M){var B=D.length,P=Array(B),F;if(M){F=Array(B);for(var $=0;$<B;$++)F[$]=Array(B)}for(var N=0;N<B;N++){for(var T=0,z=D[0],I=0;I<D.length;I++)i(D[I])<i(z)&&(T=I,z=D[T]);if(P[N]=D.splice(T,1)[0],M)for(var q=0;q<B;q++)F[N][q]=E[q][T],E[q].splice(T,1)}if(!M)return{values:P};var X=F.map((V,L)=>({value:P[L],vector:V}));return{values:P,eigenvectors:X}}return h}var wCe="eigs",SCe=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","size","reshape","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],CCe=K(wCe,SCe,t=>{var{config:e,typed:n,matrix:r,addScalar:i,subtract:o,equal:a,abs:s,atan:l,cos:u,sin:c,multiplyScalar:f,divideScalar:d,inv:h,bignumber:p,multiply:m,add:v,larger:g,column:w,flatten:y,number:S,complex:x,sqrt:b,diag:C,size:A,reshape:D,qr:E,usolve:M,usolveAll:B,im:P,re:F,smaller:$,matrixFromColumns:N,dot:T}=t,z=xCe({config:e,addScalar:i,subtract:o,column:w,flatten:y,equal:a,abs:s,atan:l,cos:u,sin:c,multiplyScalar:f,inv:h,bignumber:p,complex:x,multiply:m,add:v}),I=bCe({config:e,addScalar:i,subtract:o,multiply:m,multiplyScalar:f,flatten:y,divideScalar:d,sqrt:b,abs:s,bignumber:p,diag:C,size:A,reshape:D,qr:E,inv:h,usolve:M,usolveAll:B,equal:a,complex:x,larger:g,smaller:$,matrixFromColumns:N,dot:T});return n("eigs",{Array:function(ee){return q(r(ee))},"Array, number|BigNumber":function(ee,ie){return q(r(ee),{precision:ie})},"Array, Object"(Y,ee){return q(r(Y),ee)},Matrix:function(ee){return q(ee,{matricize:!0})},"Matrix, number|BigNumber":function(ee,ie){return q(ee,{precision:ie,matricize:!0})},"Matrix, Object":function(ee,ie){var j={matricize:!0};return jn(j,ie),q(ee,j)}});function q(Y){var ee,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j="eigenvectors"in ie?ie.eigenvectors:!0,W=(ee=ie.precision)!==null&&ee!==void 0?ee:e.epsilon,J=X(Y,W,j);return ie.matricize&&(J.values=r(J.values),j&&(J.eigenvectors=J.eigenvectors.map(oe=>{var{value:de,vector:ge}=oe;return{value:de,vector:r(ge)}}))),j&&Object.defineProperty(J,"vectors",{enumerable:!1,get:()=>{throw new Error("eigs(M).vectors replaced with eigs(M).eigenvectors")}}),J}function X(Y,ee,ie){var j=Y.toArray(),W=Y.size();if(W.length!==2||W[0]!==W[1])throw new RangeError("Matrix must be square (size: ".concat(xt(W),")"));var J=W[0];if(L(j,J,ee)&&(ne(j,J),V(j,J,ee))){var oe=se(Y,j,J);return z(j,J,ee,oe,ie)}var de=se(Y,j,J);return I(j,J,ee,de,ie)}function V(Y,ee,ie){for(var j=0;j<ee;j++)for(var W=j;W<ee;W++)if(g(p(s(o(Y[j][W],Y[W][j]))),ie))return!1;return!0}function L(Y,ee,ie){for(var j=0;j<ee;j++)for(var W=0;W<ee;W++)if(g(p(s(P(Y[j][W]))),ie))return!1;return!0}function ne(Y,ee){for(var ie=0;ie<ee;ie++)for(var j=0;j<ee;j++)Y[ie][j]=F(Y[ie][j])}function se(Y,ee,ie){var j=Y.datatype();if(j==="number"||j==="BigNumber"||j==="Complex")return j;for(var W=!1,J=!1,oe=!1,de=0;de<ie;de++)for(var ge=0;ge<ie;ge++){var U=ee[de][ge];if(wt(U)||ah(U))W=!0;else if(Et(U))J=!0;else if(Fa(U))oe=!0;else throw TypeError("Unsupported type in Matrix: "+en(U))}if(J&&oe&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),oe){for(var Z=0;Z<ie;Z++)for(var fe=0;fe<ie;fe++)ee[Z][fe]=x(ee[Z][fe]);return"Complex"}if(J){for(var Q=0;Q<ie;Q++)for(var re=0;re<ie;re++)ee[Q][re]=p(ee[Q][re]);return"BigNumber"}if(W){for(var ue=0;ue<ie;ue++)for(var ye=0;ye<ie;ye++)ee[ue][ye]=S(ee[ue][ye]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),XO="expm",ACe=["typed","abs","add","identity","inv","multiply"],DCe=K(XO,ACe,t=>{var{typed:e,abs:n,add:r,identity:i,inv:o,multiply:a}=t;return e(XO,{Matrix:function(f){var d=f.size();if(d.length!==2||d[0]!==d[1])throw new RangeError("Matrix must be square (size: "+xt(d)+")");for(var h=d[0],p=1e-15,m=s(f),v=l(m,p),g=v.q,w=v.j,y=a(f,Math.pow(2,-w)),S=i(h),x=i(h),b=1,C=y,A=-1,D=1;D<=g;D++)D>1&&(C=a(C,y),A=-A),b=b*(g-D+1)/((2*g-D+1)*D),S=r(S,a(b,C)),x=r(x,a(b*A,C));for(var E=a(o(x),S),M=0;M<w;M++)E=a(E,E);return xl(f)?f.createSparseMatrix(E):E}});function s(c){for(var f=c.size()[0],d=0,h=0;h<f;h++){for(var p=0,m=0;m<f;m++)p+=n(c.get([h,m]));d=Math.max(p,d)}return d}function l(c,f){for(var d=30,h=0;h<d;h++)for(var p=0;p<=h;p++){var m=h-p;if(u(c,p,m)<f)return{q:p,j:m}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}function u(c,f,d){for(var h=1,p=2;p<=f;p++)h*=p;for(var m=h,v=f+1;v<=2*f;v++)m*=v;var g=m*(2*f+1);return 8*Math.pow(c/Math.pow(2,d),2*f)*h*h/(m*g)}}),KO="sqrtm",ECe=["typed","abs","add","multiply","map","sqrt","subtract","inv","size","max","identity"],MCe=K(KO,ECe,t=>{var{typed:e,abs:n,add:r,multiply:i,map:o,sqrt:a,subtract:s,inv:l,size:u,max:c,identity:f}=t,d=1e3,h=1e-6;function p(m){var v,g=0,w=m,y=f(u(m));do{var S=w;if(w=i(.5,r(S,l(y))),y=i(.5,r(y,l(S))),v=c(n(s(w,S))),v>h&&++g>d)throw new Error("computing square root of matrix: iterative method could not converge")}while(v>h);return w}return e(KO,{"Array | Matrix":function(v){var g=Je(v)?v.size():mt(v);switch(g.length){case 1:if(g[0]===1)return o(v,a);throw new RangeError("Matrix must be square (size: "+xt(g)+")");case 2:{var w=g[0],y=g[1];if(w===y)return p(v);throw new RangeError("Matrix must be square (size: "+xt(g)+")")}default:throw new RangeError("Matrix must be at most two dimensional (size: "+xt(g)+")")}}})}),YO="sylvester",NCe=["typed","schur","matrixFromColumns","matrix","multiply","range","concat","transpose","index","subset","add","subtract","identity","lusolve","abs"],$Ce=K(YO,NCe,t=>{var{typed:e,schur:n,matrixFromColumns:r,matrix:i,multiply:o,range:a,concat:s,transpose:l,index:u,subset:c,add:f,subtract:d,identity:h,lusolve:p,abs:m}=t;return e(YO,{"Matrix, Matrix, Matrix":v,"Array, Matrix, Matrix":function(w,y,S){return v(i(w),y,S)},"Array, Array, Matrix":function(w,y,S){return v(i(w),i(y),S)},"Array, Matrix, Array":function(w,y,S){return v(i(w),y,i(S))},"Matrix, Array, Matrix":function(w,y,S){return v(w,i(y),S)},"Matrix, Array, Array":function(w,y,S){return v(w,i(y),i(S))},"Matrix, Matrix, Array":function(w,y,S){return v(w,y,i(S))},"Array, Array, Array":function(w,y,S){return v(i(w),i(y),i(S)).toArray()}});function v(g,w,y){for(var S=w.size()[0],x=g.size()[0],b=n(g),C=b.T,A=b.U,D=n(o(-1,w)),E=D.T,M=D.U,B=o(o(l(A),y),M),P=a(0,x),F=[],$=(oe,de)=>s(oe,de,1),N=(oe,de)=>s(oe,de,0),T=0;T<S;T++)if(T<S-1&&m(c(E,u(T+1,T)))>1e-5){for(var z=N(c(B,u(P,T)),c(B,u(P,T+1))),I=0;I<T;I++)z=f(z,N(o(F[I],c(E,u(I,T))),o(F[I],c(E,u(I,T+1)))));var q=o(h(x),o(-1,c(E,u(T,T)))),X=o(h(x),o(-1,c(E,u(T+1,T)))),V=o(h(x),o(-1,c(E,u(T,T+1)))),L=o(h(x),o(-1,c(E,u(T+1,T+1)))),ne=N($(f(C,q),X),$(V,f(C,L))),se=p(ne,z);F[T]=se.subset(u(a(0,x),0)),F[T+1]=se.subset(u(a(x,2*x),0)),T++}else{for(var Y=c(B,u(P,T)),ee=0;ee<T;ee++)Y=f(Y,o(F[ee],c(E,u(ee,T))));var ie=c(E,u(T,T)),j=d(C,o(ie,h(x)));F[T]=p(j,Y)}var W=i(r(...F)),J=o(A,o(W,l(M)));return J}}),ZO="schur",OCe=["typed","matrix","identity","multiply","qr","norm","subtract"],TCe=K(ZO,OCe,t=>{var{typed:e,matrix:n,identity:r,multiply:i,qr:o,norm:a,subtract:s}=t;return e(ZO,{Array:function(c){var f=l(n(c));return{U:f.U.valueOf(),T:f.T.valueOf()}},Matrix:function(c){return l(c)}});function l(u){var c=u.size()[0],f=u,d=r(c),h=0,p;do{p=f;var m=o(f),v=m.Q,g=m.R;if(f=i(g,v),d=i(d,v),h++>100)break}while(a(s(f,p))>1e-4);return{U:d,T:f}}}),QO="lyap",BCe=["typed","matrix","sylvester","multiply","transpose"],ICe=K(QO,BCe,t=>{var{typed:e,matrix:n,sylvester:r,multiply:i,transpose:o}=t;return e(QO,{"Matrix, Matrix":function(s,l){return r(s,o(s),i(-1,l))},"Array, Matrix":function(s,l){return r(n(s),o(n(s)),i(-1,l))},"Matrix, Array":function(s,l){return r(s,o(n(s)),n(i(-1,l)))},"Array, Array":function(s,l){return r(n(s),o(n(s)),n(i(-1,l))).toArray()}})}),PCe="divide",kCe=["typed","matrix","multiply","equalScalar","divideScalar","inv"],FCe=K(PCe,kCe,t=>{var{typed:e,matrix:n,multiply:r,equalScalar:i,divideScalar:o,inv:a}=t,s=fr({typed:e,equalScalar:i}),l=Mo({typed:e});return e("divide",WR({"Array | Matrix, Array | Matrix":function(c,f){return r(c,a(f))},"DenseMatrix, any":function(c,f){return l(c,f,o,!1)},"SparseMatrix, any":function(c,f){return s(c,f,o,!1)},"Array, any":function(c,f){return l(n(c),f,o,!1).valueOf()},"any, Array | Matrix":function(c,f){return r(c,a(f))}},o.signatures))}),JO="distance",RCe=["typed","addScalar","subtractScalar","divideScalar","multiplyScalar","deepEqual","sqrt","abs"],_Ce=K(JO,RCe,t=>{var{typed:e,addScalar:n,subtractScalar:r,multiplyScalar:i,divideScalar:o,deepEqual:a,sqrt:s,abs:l}=t;return e(JO,{"Array, Array, Array":function(x,b,C){if(x.length===2&&b.length===2&&C.length===2){if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!c(b))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!c(C))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(a(b,C))throw new TypeError("LinePoint1 should not be same with LinePoint2");var A=r(C[1],b[1]),D=r(b[0],C[0]),E=r(i(C[0],b[1]),i(b[0],C[1]));return v(x[0],x[1],A,D,E)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object, Object":function(x,b,C){if(Object.keys(x).length===2&&Object.keys(b).length===2&&Object.keys(C).length===2){if(!c(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of lineOnePtX and lineOnePtY should be numbers or BigNumbers");if(!c(C))throw new TypeError("Values of lineTwoPtX and lineTwoPtY should be numbers or BigNumbers");if(a(p(b),p(C)))throw new TypeError("LinePoint1 should not be same with LinePoint2");if("pointX"in x&&"pointY"in x&&"lineOnePtX"in b&&"lineOnePtY"in b&&"lineTwoPtX"in C&&"lineTwoPtY"in C){var A=r(C.lineTwoPtY,b.lineOnePtY),D=r(b.lineOnePtX,C.lineTwoPtX),E=r(i(C.lineTwoPtX,b.lineOnePtY),i(b.lineOnePtX,C.lineTwoPtY));return v(x.pointX,x.pointY,A,D,E)}else throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},"Array, Array":function(x,b){if(x.length===2&&b.length===3){if(!c(x))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!f(b))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");return v(x[0],x[1],b[0],b[1],b[2])}else if(x.length===3&&b.length===6){if(!f(x))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!h(b))throw new TypeError("Array with 6 numbers or BigNumbers expected for second argument");return g(x[0],x[1],x[2],b[0],b[1],b[2],b[3],b[4],b[5])}else if(x.length===b.length&&x.length>0){if(!d(x))throw new TypeError("All values of an array should be numbers or BigNumbers");if(!d(b))throw new TypeError("All values of an array should be numbers or BigNumbers");return w(x,b)}else throw new TypeError("Invalid Arguments: Try again")},"Object, Object":function(x,b){if(Object.keys(x).length===2&&Object.keys(b).length===3){if(!c(x))throw new TypeError("Values of pointX and pointY should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of xCoeffLine, yCoeffLine and constant should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"xCoeffLine"in b&&"yCoeffLine"in b&&"constant"in b)return v(x.pointX,x.pointY,b.xCoeffLine,b.yCoeffLine,b.constant);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(b).length===6){if(!f(x))throw new TypeError("Values of pointX, pointY and pointZ should be numbers or BigNumbers");if(!h(b))throw new TypeError("Values of x0, y0, z0, a, b and c should be numbers or BigNumbers");if("pointX"in x&&"pointY"in x&&"x0"in b&&"y0"in b&&"z0"in b&&"a"in b&&"b"in b&&"c"in b)return g(x.pointX,x.pointY,x.pointZ,b.x0,b.y0,b.z0,b.a,b.b,b.c);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===2&&Object.keys(b).length===2){if(!c(x))throw new TypeError("Values of pointOneX and pointOneY should be numbers or BigNumbers");if(!c(b))throw new TypeError("Values of pointTwoX and pointTwoY should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointTwoX"in b&&"pointTwoY"in b)return w([x.pointOneX,x.pointOneY],[b.pointTwoX,b.pointTwoY]);throw new TypeError("Key names do not match")}else if(Object.keys(x).length===3&&Object.keys(b).length===3){if(!f(x))throw new TypeError("Values of pointOneX, pointOneY and pointOneZ should be numbers or BigNumbers");if(!f(b))throw new TypeError("Values of pointTwoX, pointTwoY and pointTwoZ should be numbers or BigNumbers");if("pointOneX"in x&&"pointOneY"in x&&"pointOneZ"in x&&"pointTwoX"in b&&"pointTwoY"in b&&"pointTwoZ"in b)return w([x.pointOneX,x.pointOneY,x.pointOneZ],[b.pointTwoX,b.pointTwoY,b.pointTwoZ]);throw new TypeError("Key names do not match")}else throw new TypeError("Invalid Arguments: Try again")},Array:function(x){if(!m(x))throw new TypeError("Incorrect array format entered for pairwise distance calculation");return y(x)}});function u(S){return typeof S=="number"||Et(S)}function c(S){return S.constructor!==Array&&(S=p(S)),u(S[0])&&u(S[1])}function f(S){return S.constructor!==Array&&(S=p(S)),u(S[0])&&u(S[1])&&u(S[2])}function d(S){return Array.isArray(S)||(S=p(S)),S.every(u)}function h(S){return S.constructor!==Array&&(S=p(S)),u(S[0])&&u(S[1])&&u(S[2])&&u(S[3])&&u(S[4])&&u(S[5])}function p(S){for(var x=Object.keys(S),b=[],C=0;C<x.length;C++)b.push(S[x[C]]);return b}function m(S){if(S[0].length===2&&u(S[0][0])&&u(S[0][1])){if(S.some(x=>x.length!==2||!u(x[0])||!u(x[1])))return!1}else if(S[0].length===3&&u(S[0][0])&&u(S[0][1])&&u(S[0][2])){if(S.some(x=>x.length!==3||!u(x[0])||!u(x[1])||!u(x[2])))return!1}else return!1;return!0}function v(S,x,b,C,A){var D=l(n(n(i(b,S),i(C,x)),A)),E=s(n(i(b,b),i(C,C)));return o(D,E)}function g(S,x,b,C,A,D,E,M,B){var P=[r(i(r(A,x),B),i(r(D,b),M)),r(i(r(D,b),E),i(r(C,S),B)),r(i(r(C,S),M),i(r(A,x),E))];P=s(n(n(i(P[0],P[0]),i(P[1],P[1])),i(P[2],P[2])));var F=s(n(n(i(E,E),i(M,M)),i(B,B)));return o(P,F)}function w(S,x){for(var b=S.length,C=0,A=0,D=0;D<b;D++)A=r(S[D],x[D]),C=n(i(A,A),C);return s(C)}function y(S){for(var x=[],b=[],C=[],A=0;A<S.length-1;A++)for(var D=A+1;D<S.length;D++)S[0].length===2?(b=[S[A][0],S[A][1]],C=[S[D][0],S[D][1]]):S[0].length===3&&(b=[S[A][0],S[A][1],S[A][2]],C=[S[D][0],S[D][1],S[D][2]]),x.push(w(b,C));return x}}),zCe="intersect",LCe=["typed","config","abs","add","addScalar","matrix","multiply","multiplyScalar","divideScalar","subtract","smaller","equalScalar","flatten","isZero","isNumeric"],HCe=K(zCe,LCe,t=>{var{typed:e,config:n,abs:r,add:i,addScalar:o,matrix:a,multiply:s,multiplyScalar:l,divideScalar:u,subtract:c,smaller:f,equalScalar:d,flatten:h,isZero:p,isNumeric:m}=t;return e("intersect",{"Array, Array, Array":v,"Array, Array, Array, Array":g,"Matrix, Matrix, Matrix":function(M,B,P){var F=v(M.valueOf(),B.valueOf(),P.valueOf());return F===null?null:a(F)},"Matrix, Matrix, Matrix, Matrix":function(M,B,P,F){var $=g(M.valueOf(),B.valueOf(),P.valueOf(),F.valueOf());return $===null?null:a($)}});function v(E,M,B){if(E=w(E),M=w(M),B=w(B),!S(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!S(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!x(B))throw new TypeError("Array with 4 numbers expected as third argument");return D(E[0],E[1],E[2],M[0],M[1],M[2],B[0],B[1],B[2],B[3])}function g(E,M,B,P){if(E=w(E),M=w(M),B=w(B),P=w(P),E.length===2){if(!y(E))throw new TypeError("Array with 2 numbers or BigNumbers expected for first argument");if(!y(M))throw new TypeError("Array with 2 numbers or BigNumbers expected for second argument");if(!y(B))throw new TypeError("Array with 2 numbers or BigNumbers expected for third argument");if(!y(P))throw new TypeError("Array with 2 numbers or BigNumbers expected for fourth argument");return b(E,M,B,P)}else if(E.length===3){if(!S(E))throw new TypeError("Array with 3 numbers or BigNumbers expected for first argument");if(!S(M))throw new TypeError("Array with 3 numbers or BigNumbers expected for second argument");if(!S(B))throw new TypeError("Array with 3 numbers or BigNumbers expected for third argument");if(!S(P))throw new TypeError("Array with 3 numbers or BigNumbers expected for fourth argument");return A(E[0],E[1],E[2],M[0],M[1],M[2],B[0],B[1],B[2],P[0],P[1],P[2])}else throw new TypeError("Arrays with two or thee dimensional points expected")}function w(E){return E.length===1?E[0]:E.length>1&&Array.isArray(E[0])&&E.every(M=>Array.isArray(M)&&M.length===1)?h(E):E}function y(E){return E.length===2&&m(E[0])&&m(E[1])}function S(E){return E.length===3&&m(E[0])&&m(E[1])&&m(E[2])}function x(E){return E.length===4&&m(E[0])&&m(E[1])&&m(E[2])&&m(E[3])}function b(E,M,B,P){var F=E,$=B,N=c(F,M),T=c($,P),z=c(l(N[0],T[1]),l(T[0],N[1]));if(p(z)||f(r(z),n.epsilon))return null;var I=l(T[0],F[1]),q=l(T[1],F[0]),X=l(T[0],$[1]),V=l(T[1],$[0]),L=u(o(c(c(I,q),X),V),z);return i(s(N,L),F)}function C(E,M,B,P,F,$,N,T,z,I,q,X){var V=l(c(E,M),c(B,P)),L=l(c(F,$),c(N,T)),ne=l(c(z,I),c(q,X));return o(o(V,L),ne)}function A(E,M,B,P,F,$,N,T,z,I,q,X){var V=C(E,N,I,N,M,T,q,T,B,z,X,z),L=C(I,N,P,E,q,T,F,M,X,z,$,B),ne=C(E,N,P,E,M,T,F,M,B,z,$,B),se=C(I,N,I,N,q,T,q,T,X,z,X,z),Y=C(P,E,P,E,F,M,F,M,$,B,$,B),ee=c(l(V,L),l(ne,se)),ie=c(l(Y,se),l(L,L));if(p(ie))return null;var j=u(ee,ie),W=u(o(V,l(j,L)),se),J=o(E,l(j,c(P,E))),oe=o(M,l(j,c(F,M))),de=o(B,l(j,c($,B))),ge=o(N,l(W,c(I,N))),U=o(T,l(W,c(q,T))),Z=o(z,l(W,c(X,z)));return d(J,ge)&&d(oe,U)&&d(de,Z)?[J,oe,de]:null}function D(E,M,B,P,F,$,N,T,z,I){var q=l(E,N),X=l(P,N),V=l(M,T),L=l(F,T),ne=l(B,z),se=l($,z),Y=c(c(c(I,q),V),ne),ee=c(c(c(o(o(X,L),se),q),V),ne),ie=u(Y,ee),j=o(E,l(ie,c(P,E))),W=o(M,l(ie,c(F,M))),J=o(B,l(ie,c($,B)));return[j,W,J]}}),eT="sum",VCe=["typed","config","add","numeric"],H_=K(eT,VCe,t=>{var{typed:e,config:n,add:r,numeric:i}=t;return e(eT,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":a,"...":function(l){if(jc(l))throw new TypeError("Scalar values expected in function sum");return o(l)}});function o(s){var l;return Ja(s,function(u){try{l=l===void 0?u:r(l,u)}catch(c){throw Vr(c,"sum",u)}}),l===void 0&&(l=i(0,n.number)),typeof l=="string"&&(l=i(l,n.number)),l}function a(s,l){try{var u=Vv(s,l,r);return u}catch(c){throw Vr(c,"sum")}}}),Ip="cumsum",UCe=["typed","add","unaryPlus"],V_=K(Ip,UCe,t=>{var{typed:e,add:n,unaryPlus:r}=t;return e(Ip,{Array:i,Matrix:function(u){return u.create(i(u.valueOf()))},"Array, number | BigNumber":a,"Matrix, number | BigNumber":function(u,c){return u.create(a(u.valueOf(),c))},"...":function(u){if(jc(u))throw new TypeError("All values expected to be scalar in function cumsum");return i(u)}});function i(l){try{return o(l)}catch(u){throw Vr(u,Ip)}}function o(l){if(l.length===0)return[];for(var u=[r(l[0])],c=1;c<l.length;++c)u.push(n(u[c-1],l[c]));return u}function a(l,u){var c=mt(l);if(u<0||u>=c.length)throw new Do(u,c.length);try{return s(l,u)}catch(f){throw Vr(f,Ip)}}function s(l,u){var c,f,d;if(u<=0){var h=l[0][0];if(Array.isArray(h)){for(d=w5(l),f=[],c=0;c<d.length;c++)f[c]=s(d[c],u-1);return f}else return o(l)}else{for(f=[],c=0;c<l.length;c++)f[c]=s(l[c],u-1);return f}}}),tT="mean",qCe=["typed","add","divide"],U_=K(tT,qCe,t=>{var{typed:e,add:n,divide:r}=t;return e(tT,{"Array | Matrix":o,"Array | Matrix, number | BigNumber":i,"...":function(s){if(jc(s))throw new TypeError("Scalar values expected in function mean");return o(s)}});function i(a,s){try{var l=Vv(a,s,n),u=Array.isArray(a)?mt(a):a.size();return r(l,u[s])}catch(c){throw Vr(c,"mean")}}function o(a){var s,l=0;if(Ja(a,function(u){try{s=s===void 0?u:n(s,u),l++}catch(c){throw Vr(c,"mean",u)}}),l===0)throw new Error("Cannot calculate the mean of an empty array");return r(s,l)}}),nT="median",WCe=["typed","add","divide","compare","partitionSelect"],jCe=K(nT,WCe,t=>{var{typed:e,add:n,divide:r,compare:i,partitionSelect:o}=t;function a(u){try{u=kt(u.valueOf());var c=u.length;if(c===0)throw new Error("Cannot calculate median of an empty array");if(c%2===0){for(var f=c/2-1,d=o(u,f+1),h=u[f],p=0;p<f;++p)i(u[p],h)>0&&(h=u[p]);return l(h,d)}else{var m=o(u,(c-1)/2);return s(m)}}catch(v){throw Vr(v,"median")}}var s=e({"number | BigNumber | Complex | Unit":function(c){return c}}),l=e({"number | BigNumber | Complex | Unit, number | BigNumber | Complex | Unit":function(c,f){return r(n(c,f),2)}});return e(nT,{"Array | Matrix":a,"Array | Matrix, number | BigNumber":function(c,f){throw new Error("median(A, dim) is not yet supported")},"...":function(c){if(jc(c))throw new TypeError("Scalar values expected in function median");return a(c)}})}),rT="mad",GCe=["typed","abs","map","median","subtract"],XCe=K(rT,GCe,t=>{var{typed:e,abs:n,map:r,median:i,subtract:o}=t;return e(rT,{"Array | Matrix":a,"...":function(l){return a(l)}});function a(s){if(s=kt(s.valueOf()),s.length===0)throw new Error("Cannot calculate median absolute deviation (mad) of an empty array");try{var l=i(s);return i(r(s,function(u){return n(o(u,l))}))}catch(u){throw u instanceof TypeError&&u.message.indexOf("median")!==-1?new TypeError(u.message.replace("median","mad")):Vr(u,"mad")}}}),Iy="unbiased",iT="variance",KCe=["typed","add","subtract","multiply","divide","apply","isNaN"],q_=K(iT,KCe,t=>{var{typed:e,add:n,subtract:r,multiply:i,divide:o,apply:a,isNaN:s}=t;return e(iT,{"Array | Matrix":function(f){return l(f,Iy)},"Array | Matrix, string":l,"Array | Matrix, number | BigNumber":function(f,d){return u(f,d,Iy)},"Array | Matrix, number | BigNumber, string":u,"...":function(f){return l(f,Iy)}});function l(c,f){var d,h=0;if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");if(Ja(c,function(v){try{d=d===void 0?v:n(d,v),h++}catch(g){throw Vr(g,"variance",v)}}),h===0)throw new Error("Cannot calculate variance of an empty array");var p=o(d,h);if(d=void 0,Ja(c,function(v){var g=r(v,p);d=d===void 0?i(g,g):n(d,i(g,g))}),s(d))return d;switch(f){case"uncorrected":return o(d,h);case"biased":return o(d,h+1);case"unbiased":{var m=Et(d)?d.mul(0):0;return h===1?m:o(d,h-1)}default:throw new Error('Unknown normalization "'+f+'". Choose "unbiased" (default), "uncorrected", or "biased".')}}function u(c,f,d){try{if(c.length===0)throw new SyntaxError("Function variance requires one or more parameters (0 provided)");return a(c,f,h=>l(h,d))}catch(h){throw Vr(h,"variance")}}}),oT="quantileSeq",YCe=["typed","?bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],W_=K(oT,YCe,t=>{var{typed:e,bignumber:n,add:r,subtract:i,divide:o,multiply:a,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d}=t,h=MS({typed:e,isInteger:u});return e(oT,{"Array | Matrix, number | BigNumber":(w,y)=>m(w,y,!1),"Array | Matrix, number | BigNumber, number":(w,y,S)=>p(w,y,!1,S,m),"Array | Matrix, number | BigNumber, boolean":m,"Array | Matrix, number | BigNumber, boolean, number":(w,y,S,x)=>p(w,y,S,x,m),"Array | Matrix, Array | Matrix":(w,y)=>v(w,y,!1),"Array | Matrix, Array | Matrix, number":(w,y,S)=>p(w,y,!1,S,v),"Array | Matrix, Array | Matrix, boolean":v,"Array | Matrix, Array | Matrix, boolean, number":(w,y,S,x)=>p(w,y,S,x,v)});function p(w,y,S,x,b){return h(w,x,C=>b(C,y,S))}function m(w,y,S){var x,b=w.valueOf();if(c(y,0))throw new Error("N/prob must be non-negative");if(f(y,1))return wt(y)?g(b,y,S):n(g(b,y,S));if(d(y,1)){if(!u(y))throw new Error("N must be a positive integer");if(d(y,4294967295))throw new Error("N must be less than or equal to 2^32-1, as that is the maximum length of an Array");var C=r(y,1);x=[];for(var A=0;c(A,y);A++){var D=o(A+1,C);x.push(g(b,D,S))}return wt(y)?x:n(x)}}function v(w,y,S){for(var x=w.valueOf(),b=y.valueOf(),C=[],A=0;A<b.length;++A)C.push(g(x,b[A],S));return C}function g(w,y,S){var x=kt(w),b=x.length;if(b===0)throw new Error("Cannot calculate quantile of an empty sequence");var C=wt(y)?y*(b-1):y.times(b-1),A=wt(y)?Math.floor(C):C.floor().toNumber(),D=wt(y)?C%1:C.minus(A);if(u(C))return S?x[C]:s(x,wt(y)?C:C.valueOf());var E,M;if(S)E=x[A],M=x[A+1];else{M=s(x,A+1),E=x[A];for(var B=0;B<A;++B)l(x[B],E)>0&&(E=x[B])}return r(a(E,i(1,D)),a(M,D))}}),aT="std",ZCe=["typed","map","sqrt","variance"],j_=K(aT,ZCe,t=>{var{typed:e,map:n,sqrt:r,variance:i}=t;return e(aT,{"Array | Matrix":o,"Array | Matrix, string":o,"Array | Matrix, number | BigNumber":o,"Array | Matrix, number | BigNumber, string":o,"...":function(s){return o(s)}});function o(a,s){if(a.length===0)throw new SyntaxError("Function std requires one or more parameters (0 provided)");try{var l=i.apply(null,arguments);return Ki(l)?n(l,r):r(l)}catch(u){throw u instanceof TypeError&&u.message.indexOf(" variance")!==-1?new TypeError(u.message.replace(" variance"," std")):u}}}),sT="corr",QCe=["typed","matrix","mean","sqrt","sum","add","subtract","multiply","pow","divide"],JCe=K(sT,QCe,t=>{var{typed:e,matrix:n,sqrt:r,sum:i,add:o,subtract:a,multiply:s,pow:l,divide:u}=t;return e(sT,{"Array, Array":function(h,p){return c(h,p)},"Matrix, Matrix":function(h,p){var m=c(h.toArray(),p.toArray());return Array.isArray(m)?n(m):m}});function c(d,h){var p=[];if(Array.isArray(d[0])&&Array.isArray(h[0])){if(d.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same length.");for(var m=0;m<d.length;m++){if(d[m].length!==h[m].length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");p.push(f(d[m],h[m]))}return p}else{if(d.length!==h.length)throw new SyntaxError("Dimension mismatch. Array A and B must have the same number of elements.");return f(d,h)}}function f(d,h){var p=d.length,m=i(d),v=i(h),g=d.reduce((b,C,A)=>o(b,s(C,h[A])),0),w=i(d.map(b=>l(b,2))),y=i(h.map(b=>l(b,2))),S=a(s(p,g),s(m,v)),x=r(s(a(s(p,w),l(m,2)),a(s(p,y),l(v,2))));return u(S,x)}}),lT="combinations",e2e=["typed"],t2e=K(lT,e2e,t=>{var{typed:e}=t;return e(lT,{"number, number":q5,"BigNumber, BigNumber":function(r,i){var o=r.constructor,a,s,l=r.minus(i),u=new o(1);if(!uT(r)||!uT(i))throw new TypeError("Positive integer value expected in function combinations");if(i.gt(r))throw new TypeError("k must be less than n in function combinations");if(a=u,i.lt(l))for(s=u;s.lte(l);s=s.plus(u))a=a.times(i.plus(s)).dividedBy(s);else for(s=u;s.lte(i);s=s.plus(u))a=a.times(l.plus(s)).dividedBy(s);return a}})});function uT(t){return t.isInteger()&&t.gte(0)}var cT="combinationsWithRep",n2e=["typed"],r2e=K(cT,n2e,t=>{var{typed:e}=t;return e(cT,{"number, number":function(r,i){if(!Ge(r)||r<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(!Ge(i)||i<0)throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r<1)throw new TypeError("k must be less than or equal to n + k - 1");if(i<r-1){var o=Na(r,r+i-1);return o/Na(1,i)}var a=Na(i+1,r+i-1);return a/Na(1,r-1)},"BigNumber, BigNumber":function(r,i){var o=r.constructor,a,s,l=new o(1),u=r.minus(l);if(!fT(r)||!fT(i))throw new TypeError("Positive integer value expected in function combinationsWithRep");if(r.lt(l))throw new TypeError("k must be less than or equal to n + k - 1 in function combinationsWithRep");if(a=l,i.lt(u))for(s=l;s.lte(u);s=s.plus(l))a=a.times(i.plus(s)).dividedBy(s);else for(s=l;s.lte(i);s=s.plus(l))a=a.times(u.plus(s)).dividedBy(s);return a}})});function fT(t){return t.isInteger()&&t.gte(0)}var dT="gamma",i2e=["typed","config","multiplyScalar","pow","BigNumber","Complex"],o2e=K(dT,i2e,t=>{var{typed:e,config:n,multiplyScalar:r,pow:i,BigNumber:o,Complex:a}=t;function s(u){if(u.im===0)return Cg(u.re);if(u.re<.5){var c=new a(1-u.re,-u.im),f=new a(Math.PI*u.re,Math.PI*u.im);return new a(Math.PI).div(f.sin()).div(s(c))}u=new a(u.re-1,u.im);for(var d=new a(tc[0],0),h=1;h<tc.length;++h){var p=new a(tc[h],0);d=d.add(p.div(u.add(h)))}var m=new a(u.re+K5+.5,u.im),v=Math.sqrt(2*Math.PI),g=m.pow(u.add(.5)),w=m.neg().exp();return d.mul(v).mul(g).mul(w)}return e(dT,{number:Cg,Complex:s,BigNumber:function(c){if(c.isInteger())return c.isNegative()||c.isZero()?new o(1/0):l(c.minus(1));if(!c.isFinite())return new o(c.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")}});function l(u){if(u<8)return new o([1,1,2,6,24,120,720,5040][u]);var c=n.precision+(Math.log(u.toNumber())|0),f=o.clone({precision:c});if(u%2===1)return u.times(l(new o(u-1)));for(var d=u,h=new f(u),p=u.toNumber();d>2;)d-=2,p+=d,h=h.times(p);return new o(h.toPrecision(o.precision))}}),hT="lgamma",a2e=["Complex","typed"],s2e=K(hT,a2e,t=>{var{Complex:e,typed:n}=t,r=7,i=7,o=[-.029550653594771242,.00641025641025641,-.0019175269175269176,.0008417508417508417,-.0005952380952380953,.0007936507936507937,-.002777777777777778,.08333333333333333];return n(hT,{number:Ag,Complex:a,BigNumber:function(){throw new Error("mathjs doesn't yet provide an implementation of the algorithm lgamma for BigNumber")}});function a(u){var c=6.283185307179586,f=1.1447298858494002,d=.1;if(u.isNaN())return new e(NaN,NaN);if(u.im===0)return new e(Ag(u.re),0);if(u.re>=r||Math.abs(u.im)>=i)return s(u);if(u.re<=d){var h=Qle(c,u.im)*Math.floor(.5*u.re+.25),p=u.mul(Math.PI).sin().log(),m=a(new e(1-u.re,-u.im));return new e(f,h).sub(p).sub(m)}else return u.im>=0?l(u):l(u.conjugate()).conjugate()}function s(u){for(var c=u.sub(.5).mul(u.log()).sub(u).add(Y5),f=new e(1,0).div(u),d=f.div(u),h=o[0],p=o[1],m=2*d.re,v=d.re*d.re+d.im*d.im,g=2;g<8;g++){var w=p;p=-v*h+o[g],h=m*h+w}var y=f.mul(d.mul(h).add(p));return c.add(y)}function l(u){var c=0,f=0,d=u;for(u=u.add(1);u.re<=r;){d=d.mul(u);var h=d.im<0?1:0;h!==0&&f===0&&c++,f=h,u=u.add(1)}return s(u).sub(d.log()).sub(new e(0,c*2*Math.PI*1))}}),pT="factorial",l2e=["typed","gamma"],u2e=K(pT,l2e,t=>{var{typed:e,gamma:n}=t;return e(pT,{number:function(i){if(i<0)throw new Error("Value must be non-negative");return n(i+1)},BigNumber:function(i){if(i.isNegative())throw new Error("Value must be non-negative");return n(i.plus(1))},"Array | Matrix":e.referToSelf(r=>i=>At(i,r))})}),mT="kldivergence",c2e=["typed","matrix","divide","sum","multiply","map","dotDivide","log","isNumeric"],f2e=K(mT,c2e,t=>{var{typed:e,matrix:n,divide:r,sum:i,multiply:o,map:a,dotDivide:s,log:l,isNumeric:u}=t;return e(mT,{"Array, Array":function(d,h){return c(n(d),n(h))},"Matrix, Array":function(d,h){return c(d,n(h))},"Array, Matrix":function(d,h){return c(n(d),h)},"Matrix, Matrix":function(d,h){return c(d,h)}});function c(f,d){var h=d.size().length,p=f.size().length;if(h>1)throw new Error("first object must be one dimensional");if(p>1)throw new Error("second object must be one dimensional");if(h!==p)throw new Error("Length of two vectors must be equal");var m=i(f);if(m===0)throw new Error("Sum of elements in first object must be non zero");var v=i(d);if(v===0)throw new Error("Sum of elements in second object must be non zero");var g=r(f,i(f)),w=r(d,i(d)),y=i(o(g,a(s(g,w),S=>l(S))));return u(y)?y:Number.NaN}}),gT="multinomial",d2e=["typed","add","divide","multiply","factorial","isInteger","isPositive"],h2e=K(gT,d2e,t=>{var{typed:e,add:n,divide:r,multiply:i,factorial:o,isInteger:a,isPositive:s}=t;return e(gT,{"Array | Matrix":function(u){var c=0,f=1;return Ja(u,function(d){if(!a(d)||!s(d))throw new TypeError("Positive integer value expected in function multinomial");c=n(c,d),f=i(f,o(d))}),r(o(c),f)}})}),vT="permutations",p2e=["typed","factorial"],m2e=K(vT,p2e,t=>{var{typed:e,factorial:n}=t;return e(vT,{"number | BigNumber":n,"number, number":function(i,o){if(!Ge(i)||i<0)throw new TypeError("Positive integer value expected in function permutations");if(!Ge(o)||o<0)throw new TypeError("Positive integer value expected in function permutations");if(o>i)throw new TypeError("second argument k must be less than or equal to first argument n");return Na(i-o+1,i)},"BigNumber, BigNumber":function(i,o){var a,s;if(!yT(i)||!yT(o))throw new TypeError("Positive integer value expected in function permutations");if(o.gt(i))throw new TypeError("second argument k must be less than or equal to first argument n");var l=i.mul(0).add(1);for(a=l,s=i.minus(o).plus(1);s.lte(i);s=s.plus(1))a=a.times(s);return a}})});function yT(t){return t.isInteger()&&t.gte(0)}var PS={exports:{}};PS.exports;(function(t){(function(e,n,r){function i(l){var u=this,c=s();u.next=function(){var f=2091639*u.s0+u.c*23283064365386963e-26;return u.s0=u.s1,u.s1=u.s2,u.s2=f-(u.c=f|0)},u.c=1,u.s0=c(" "),u.s1=c(" "),u.s2=c(" "),u.s0-=c(l),u.s0<0&&(u.s0+=1),u.s1-=c(l),u.s1<0&&(u.s1+=1),u.s2-=c(l),u.s2<0&&(u.s2+=1),c=null}function o(l,u){return u.c=l.c,u.s0=l.s0,u.s1=l.s1,u.s2=l.s2,u}function a(l,u){var c=new i(l),f=u&&u.state,d=c.next;return d.int32=function(){return c.next()*4294967296|0},d.double=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.quick=d,f&&(typeof f=="object"&&o(f,c),d.state=function(){return o(c,{})}),d}function s(){var l=4022871197,u=function(c){c=String(c);for(var f=0;f<c.length;f++){l+=c.charCodeAt(f);var d=.02519603282416938*l;l=d>>>0,d-=l,d*=l,l=d>>>0,d-=l,l+=d*4294967296}return(l>>>0)*23283064365386963e-26};return u}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.alea=a})(zl,t,!1)})(PS);var g2e=PS.exports,kS={exports:{}};kS.exports;(function(t){(function(e,n,r){function i(s){var l=this,u="";l.x=0,l.y=0,l.z=0,l.w=0,l.next=function(){var f=l.x^l.x<<11;return l.x=l.y,l.y=l.z,l.z=l.w,l.w^=l.w>>>19^f^f>>>8},s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l}function a(s,l){var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor128=a})(zl,t,!1)})(kS);var v2e=kS.exports,FS={exports:{}};FS.exports;(function(t){(function(e,n,r){function i(s){var l=this,u="";l.next=function(){var f=l.x^l.x>>>2;return l.x=l.y,l.y=l.z,l.z=l.w,l.w=l.v,(l.d=l.d+362437|0)+(l.v=l.v^l.v<<4^(f^f<<1))|0},l.x=0,l.y=0,l.z=0,l.w=0,l.v=0,s===(s|0)?l.x=s:u+=s;for(var c=0;c<u.length+64;c++)l.x^=u.charCodeAt(c)|0,c==u.length&&(l.d=l.x<<10^l.x>>>4),l.next()}function o(s,l){return l.x=s.x,l.y=s.y,l.z=s.z,l.w=s.w,l.v=s.v,l.d=s.d,l}function a(s,l){var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorwow=a})(zl,t,!1)})(FS);var y2e=FS.exports,RS={exports:{}};RS.exports;(function(t){(function(e,n,r){function i(s){var l=this;l.next=function(){var c=l.x,f=l.i,d,h;return d=c[f],d^=d>>>7,h=d^d<<24,d=c[f+1&7],h^=d^d>>>10,d=c[f+3&7],h^=d^d>>>3,d=c[f+4&7],h^=d^d<<7,d=c[f+7&7],d=d^d<<13,h^=d^d<<9,c[f]=h,l.i=f+1&7,h};function u(c,f){var d,h=[];if(f===(f|0))h[0]=f;else for(f=""+f,d=0;d<f.length;++d)h[d&7]=h[d&7]<<15^f.charCodeAt(d)+h[d+1&7]<<13;for(;h.length<8;)h.push(0);for(d=0;d<8&&h[d]===0;++d);for(d==8?h[7]=-1:h[d],c.x=h,c.i=0,d=256;d>0;--d)c.next()}u(l,s)}function o(s,l){return l.x=s.x.slice(),l.i=s.i,l}function a(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.x&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xorshift7=a})(zl,t,!1)})(RS);var b2e=RS.exports,_S={exports:{}};_S.exports;(function(t){(function(e,n,r){function i(s){var l=this;l.next=function(){var c=l.w,f=l.X,d=l.i,h,p;return l.w=c=c+1640531527|0,p=f[d+34&127],h=f[d=d+1&127],p^=p<<13,h^=h<<17,p^=p>>>15,h^=h>>>12,p=f[d]=p^h,l.i=d,p+(c^c>>>16)|0};function u(c,f){var d,h,p,m,v,g=[],w=128;for(f===(f|0)?(h=f,f=null):(f=f+"\0",h=0,w=Math.max(w,f.length)),p=0,m=-32;m<w;++m)f&&(h^=f.charCodeAt((m+32)%f.length)),m===0&&(v=h),h^=h<<10,h^=h>>>15,h^=h<<4,h^=h>>>13,m>=0&&(v=v+1640531527|0,d=g[m&127]^=h+v,p=d==0?p+1:0);for(p>=128&&(g[(f&&f.length||0)&127]=-1),p=127,m=4*128;m>0;--m)h=g[p+34&127],d=g[p=p+1&127],h^=h<<13,d^=d<<17,h^=h>>>15,d^=d>>>12,g[p]=h^d;c.w=v,c.X=g,c.i=p}u(l,s)}function o(s,l){return l.i=s.i,l.w=s.w,l.X=s.X.slice(),l}function a(s,l){s==null&&(s=+new Date);var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(c.X&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.xor4096=a})(zl,t,!1)})(_S);var x2e=_S.exports,zS={exports:{}};zS.exports;(function(t){(function(e,n,r){function i(s){var l=this,u="";l.next=function(){var f=l.b,d=l.c,h=l.d,p=l.a;return f=f<<25^f>>>7^d,d=d-h|0,h=h<<24^h>>>8^p,p=p-f|0,l.b=f=f<<20^f>>>12^d,l.c=d=d-h|0,l.d=h<<16^d>>>16^p,l.a=p-f|0},l.a=0,l.b=0,l.c=-1640531527,l.d=1367130551,s===Math.floor(s)?(l.a=s/4294967296|0,l.b=s|0):u+=s;for(var c=0;c<u.length+20;c++)l.b^=u.charCodeAt(c)|0,l.next()}function o(s,l){return l.a=s.a,l.b=s.b,l.c=s.c,l.d=s.d,l}function a(s,l){var u=new i(s),c=l&&l.state,f=function(){return(u.next()>>>0)/4294967296};return f.double=function(){do var d=u.next()>>>11,h=(u.next()>>>0)/4294967296,p=(d+h)/(1<<21);while(p===0);return p},f.int32=u.next,f.quick=f,c&&(typeof c=="object"&&o(c,u),f.state=function(){return o(u,{})}),f}n&&n.exports?n.exports=a:r&&r.amd?r(function(){return a}):this.tychei=a})(zl,t,!1)})(zS);var w2e=zS.exports,G_={exports:{}};const S2e={},C2e=Object.freeze(Object.defineProperty({__proto__:null,default:S2e},Symbol.toStringTag,{value:"Module"})),A2e=F6(C2e);(function(t){(function(e,n,r){var i=256,o=6,a=52,s="random",l=r.pow(i,o),u=r.pow(2,a),c=u*2,f=i-1,d;function h(S,x,b){var C=[];x=x==!0?{entropy:!0}:x||{};var A=g(v(x.entropy?[S,y(n)]:S??w(),3),C),D=new p(C),E=function(){for(var M=D.g(o),B=l,P=0;M<u;)M=(M+P)*i,B*=i,P=D.g(1);for(;M>=c;)M/=2,B/=2,P>>>=1;return(M+P)/B};return E.int32=function(){return D.g(4)|0},E.quick=function(){return D.g(4)/4294967296},E.double=E,g(y(D.S),n),(x.pass||b||function(M,B,P,F){return F&&(F.S&&m(F,D),M.state=function(){return m(D,{})}),P?(r[s]=M,B):M})(E,A,"global"in x?x.global:this==r,x.state)}function p(S){var x,b=S.length,C=this,A=0,D=C.i=C.j=0,E=C.S=[];for(b||(S=[b++]);A<i;)E[A]=A++;for(A=0;A<i;A++)E[A]=E[D=f&D+S[A%b]+(x=E[A])],E[D]=x;(C.g=function(M){for(var B,P=0,F=C.i,$=C.j,N=C.S;M--;)B=N[F=f&F+1],P=P*i+N[f&(N[F]=N[$=f&$+B])+(N[$]=B)];return C.i=F,C.j=$,P})(i)}function m(S,x){return x.i=S.i,x.j=S.j,x.S=S.S.slice(),x}function v(S,x){var b=[],C=typeof S,A;if(x&&C=="object")for(A in S)try{b.push(v(S[A],x-1))}catch{}return b.length?b:C=="string"?S:S+"\0"}function g(S,x){for(var b=S+"",C,A=0;A<b.length;)x[f&A]=f&(C^=x[f&A]*19)+b.charCodeAt(A++);return y(x)}function w(){try{var S;return d&&(S=d.randomBytes)?S=S(i):(S=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(S)),y(S)}catch{var x=e.navigator,b=x&&x.plugins;return[+new Date,e,b,e.screen,y(n)]}}function y(S){return String.fromCharCode.apply(0,S)}if(g(r.random(),n),t.exports){t.exports=h;try{d=A2e}catch{}}else r["seed"+s]=h})(typeof self<"u"?self:zl,[],Math)})(G_);var D2e=G_.exports,E2e=g2e,M2e=v2e,N2e=y2e,$2e=b2e,O2e=x2e,T2e=w2e,Kl=D2e;Kl.alea=E2e;Kl.xor128=M2e;Kl.xorwow=N2e;Kl.xorshift7=$2e;Kl.xor4096=O2e;Kl.tychei=T2e;var B2e=Kl;const X_=Ud(B2e);var I2e=X_(Date.now());function Nc(t){var e;function n(i){e=i===null?I2e:X_(String(i))}n(t);function r(){return e()}return r}var bT="pickRandom",P2e=["typed","config","?on"],k2e=K(bT,P2e,t=>{var{typed:e,config:n,on:r}=t,i=Nc(n.randomSeed);return r&&r("config",function(a,s){a.randomSeed!==s.randomSeed&&(i=Nc(a.randomSeed))}),e(bT,{"Array | Matrix":function(s){return o(s,{})},"Array | Matrix, Object":function(s,l){return o(s,l)},"Array | Matrix, number":function(s,l){return o(s,{number:l})},"Array | Matrix, Array | Matrix":function(s,l){return o(s,{weights:l})},"Array | Matrix, Array | Matrix, number":function(s,l,u){return o(s,{number:u,weights:l})},"Array | Matrix, number, Array | Matrix":function(s,l,u){return o(s,{number:l,weights:u})}});function o(a,s){var{number:l,weights:u,elementWise:c=!0}=s,f=typeof l>"u";f&&(l=1);var d=Je(a)?a.create:Je(u)?u.create:null;a=a.valueOf(),u&&(u=u.valueOf()),c===!0&&(a=kt(a),u=kt(u));var h=0;if(typeof u<"u"){if(u.length!==a.length)throw new Error("Weights must have the same length as possibles");for(var p=0,m=u.length;p<m;p++){if(!wt(u[p])||u[p]<0)throw new Error("Weights must be an array of positive numbers");h+=u[p]}}for(var v=a.length,g=[],w;g.length<l;){if(typeof u>"u")w=a[Math.floor(i()*v)];else for(var y=i()*h,S=0,x=a.length;S<x;S++)if(y-=u[S],y<0){w=a[S];break}g.push(w)}return f?g[0]:d?d(g):g}});function LS(t,e){var n=[];if(t=t.slice(0),t.length>1)for(var r=0,i=t.shift();r<i;r++)n.push(LS(t,e));else for(var o=0,a=t.shift();o<a;o++)n.push(e());return n}var xT="random",F2e=["typed","config","?on"],R2e=K(xT,F2e,t=>{var{typed:e,config:n,on:r}=t,i=Nc(n.randomSeed);return r&&r("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=Nc(s.randomSeed))}),e(xT,{"":()=>a(0,1),number:s=>a(0,s),"number, number":(s,l)=>a(s,l),"Array | Matrix":s=>o(s,0,1),"Array | Matrix, number":(s,l)=>o(s,0,l),"Array | Matrix, number, number":(s,l,u)=>o(s,l,u)});function o(s,l,u){var c=LS(s.valueOf(),()=>a(l,u));return Je(s)?s.create(c):c}function a(s,l){return s+i()*(l-s)}}),wT="randomInt",_2e=["typed","config","?on"],z2e=K(wT,_2e,t=>{var{typed:e,config:n,on:r}=t,i=Nc(n.randomSeed);return r&&r("config",function(s,l){s.randomSeed!==l.randomSeed&&(i=Nc(s.randomSeed))}),e(wT,{"":()=>a(0,1),number:s=>a(0,s),"number, number":(s,l)=>a(s,l),"Array | Matrix":s=>o(s,0,1),"Array | Matrix, number":(s,l)=>o(s,0,l),"Array | Matrix, number, number":(s,l,u)=>o(s,l,u)});function o(s,l,u){var c=LS(s.valueOf(),()=>a(l,u));return Je(s)?s.create(c):c}function a(s,l){return Math.floor(s+i()*(l-s))}}),ST="stirlingS2",L2e=["typed","addScalar","subtractScalar","multiplyScalar","divideScalar","pow","factorial","combinations","isNegative","isInteger","number","?bignumber","larger"],H2e=K(ST,L2e,t=>{var{typed:e,addScalar:n,subtractScalar:r,multiplyScalar:i,divideScalar:o,pow:a,factorial:s,combinations:l,isNegative:u,isInteger:c,number:f,bignumber:d,larger:h}=t,p=[],m=[];return e(ST,{"number | BigNumber, number | BigNumber":function(g,w){if(!c(g)||u(g)||!c(w)||u(w))throw new TypeError("Non-negative integer value expected in function stirlingS2");if(h(w,g))throw new TypeError("k must be less than or equal to n in function stirlingS2");var y=!(wt(g)&&wt(w)),S=y?m:p,x=y?d:f,b=f(g),C=f(w);if(S[b]&&S[b].length>C)return S[b][C];for(var A=0;A<=b;++A)if(S[A]||(S[A]=[x(A===0?1:0)]),A!==0)for(var D=S[A],E=S[A-1],M=D.length;M<=A&&M<=C;++M)M===A?D[M]=1:D[M]=n(i(x(M),E[M]),E[M-1]);return S[b][C]}})}),CT="bellNumbers",V2e=["typed","addScalar","isNegative","isInteger","stirlingS2"],U2e=K(CT,V2e,t=>{var{typed:e,addScalar:n,isNegative:r,isInteger:i,stirlingS2:o}=t;return e(CT,{"number | BigNumber":function(s){if(!i(s)||r(s))throw new TypeError("Non-negative integer value expected in function bellNumbers");for(var l=0,u=0;u<=s;u++)l=n(l,o(s,u));return l}})}),AT="catalan",q2e=["typed","addScalar","divideScalar","multiplyScalar","combinations","isNegative","isInteger"],W2e=K(AT,q2e,t=>{var{typed:e,addScalar:n,divideScalar:r,multiplyScalar:i,combinations:o,isNegative:a,isInteger:s}=t;return e(AT,{"number | BigNumber":function(u){if(!s(u)||a(u))throw new TypeError("Non-negative integer value expected in function catalan");return r(o(i(u,2),u),n(u,1))}})}),DT="composition",j2e=["typed","addScalar","combinations","isNegative","isPositive","isInteger","larger"],G2e=K(DT,j2e,t=>{var{typed:e,addScalar:n,combinations:r,isPositive:i,isNegative:o,isInteger:a,larger:s}=t;return e(DT,{"number | BigNumber, number | BigNumber":function(u,c){if(!a(u)||!i(u)||!a(c)||!i(c))throw new TypeError("Positive integer value expected in function composition");if(s(c,u))throw new TypeError("k must be less than or equal to n in function composition");return r(n(u,-1),n(c,-1))}})}),ET="leafCount",X2e=["parse","typed"],K2e=K(ET,X2e,t=>{var{parse:e,typed:n}=t;function r(i){var o=0;return i.forEach(a=>{o+=r(a)}),o||1}return n(ET,{Node:function(o){return r(o)}})});function MT(t){return Pt(t)||kn(t)&&t.isUnary()&&Pt(t.args[0])}function Pg(t){return!!(Pt(t)||(Vs(t)||kn(t))&&t.args.every(Pg)||Qa(t)&&Pg(t.content))}function NT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Py(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NT(Object(n),!0).forEach(function(r){Gn(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var Y2e="simplifyUtil",Z2e=["FunctionNode","OperatorNode","SymbolNode"],HS=K(Y2e,Z2e,t=>{var{FunctionNode:e,OperatorNode:n,SymbolNode:r}=t,i=!0,o=!1,a="defaultF",s={add:{trivial:i,total:i,commutative:i,associative:i},unaryPlus:{trivial:i,total:i,commutative:i,associative:i},subtract:{trivial:o,total:i,commutative:o,associative:o},multiply:{trivial:i,total:i,commutative:i,associative:i},divide:{trivial:o,total:i,commutative:o,associative:o},paren:{trivial:i,total:i,commutative:i,associative:o},defaultF:{trivial:o,total:i,commutative:o,associative:o}},l={divide:{total:o},log:{total:o}},u={subtract:{total:o},abs:{trivial:i},log:{total:i}};function c(y,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:s,b=a;if(typeof y=="string"?b=y:kn(y)?b=y.fn.toString():Vs(y)?b=y.name:Qa(y)&&(b="paren"),Ve(x,b)){var C=x[b];if(Ve(C,S))return C[S];if(Ve(s,b))return s[b][S]}if(Ve(x,a)){var A=x[a];return Ve(A,S)?A[S]:s[a][S]}if(Ve(s,b)){var D=s[b];if(Ve(D,S))return D[S]}return s[a][S]}function f(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(y,"commutative",S)}function d(y){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s;return c(y,"associative",S)}function h(y,S){var x=Py({},y);for(var b in S)Ve(y,b)?x[b]=Py(Py({},S[b]),y[b]):x[b]=S[b];return x}function p(y,S){if(!y.args||y.args.length===0)return y;y.args=m(y,S);for(var x=0;x<y.args.length;x++)p(y.args[x],S)}function m(y,S){var x,b=[],C=function A(D){for(var E=0;E<D.args.length;E++){var M=D.args[E];kn(M)&&x===M.op?A(M):b.push(M)}};return d(y,S)?(x=y.op,C(y),b):y.args}function v(y,S){if(!(!y.args||y.args.length===0)){for(var x=w(y),b=y.args.length,C=0;C<b;C++)v(y.args[C],S);if(b>2&&d(y,S)){for(var A=y.args.pop();y.args.length>0;)A=x([y.args.pop(),A]);y.args=A.args}}}function g(y,S){if(!(!y.args||y.args.length===0)){for(var x=w(y),b=y.args.length,C=0;C<b;C++)g(y.args[C],S);if(b>2&&d(y,S)){for(var A=y.args.shift();y.args.length>0;)A=x([A,y.args.shift()]);y.args=A.args}}}function w(y){return kn(y)?function(S){try{return new n(y.op,y.fn,S,y.implicit)}catch(x){return console.error(x),[]}}:function(S){return new e(new r(y.name),S)}}return{createMakeNodeFunction:w,hasProperty:c,isCommutative:f,isAssociative:d,mergeContext:h,flatten:p,allChildren:m,unflattenr:v,unflattenl:g,defaultContext:s,realContext:l,positiveContext:u}}),Q2e="simplify",J2e=["config","typed","parse","add","subtract","multiply","divide","pow","isZero","equal","resolve","simplifyConstant","simplifyCore","?fraction","?bignumber","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],eAe=K(Q2e,J2e,t=>{var{config:e,typed:n,parse:r,add:i,subtract:o,multiply:a,divide:s,pow:l,isZero:u,equal:c,resolve:f,simplifyConstant:d,simplifyCore:h,fraction:p,bignumber:m,mathWithTransform:v,matrix:g,AccessorNode:w,ArrayNode:y,ConstantNode:S,FunctionNode:x,IndexNode:b,ObjectNode:C,OperatorNode:A,ParenthesisNode:D,SymbolNode:E}=t,{hasProperty:M,isCommutative:B,isAssociative:P,mergeContext:F,flatten:$,unflattenr:N,unflattenl:T,createMakeNodeFunction:z,defaultContext:I,realContext:q,positiveContext:X}=HS({FunctionNode:x,OperatorNode:A,SymbolNode:E});n.addConversion({from:"Object",to:"Map",convert:ec});var V=n("simplify",{Node:j,"Node, Map":(Q,re)=>j(Q,!1,re),"Node, Map, Object":(Q,re,ue)=>j(Q,!1,re,ue),"Node, Array":j,"Node, Array, Map":j,"Node, Array, Map, Object":j});n.removeConversion({from:"Object",to:"Map",convert:ec}),V.defaultContext=I,V.realContext=q,V.positiveContext=X;function L(Q){return Q.transform(function(re,ue,ye){return Qa(re)?L(re.content):re})}var ne={true:!0,false:!0,e:!0,i:!0,Infinity:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,NaN:!0,phi:!0,pi:!0,SQRT1_2:!0,SQRT2:!0,tau:!0};V.rules=[h,{l:"log(e)",r:"1"},{s:"n-n1 -> n+-n1",assuming:{subtract:{total:!0}}},{s:"n-n -> 0",assuming:{subtract:{total:!1}}},{s:"-(cl*v) -> v * (-cl)",assuming:{multiply:{commutative:!0},subtract:{total:!0}}},{s:"-(cl*v) -> (-cl) * v",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{s:"-(v*cl) -> v * (-cl)",assuming:{multiply:{commutative:!1},subtract:{total:!0}}},{l:"-(n1/n2)",r:"-n1/n2"},{l:"-v",r:"v * (-1)"},{l:"(n1 + n2)*(-1)",r:"n1*(-1) + n2*(-1)",repeat:!0},{l:"n/n1^n2",r:"n*n1^-n2"},{l:"n/n1",r:"n*n1^-1"},{s:"(n1*n2)^n3 -> n1^n3 * n2^n3",assuming:{multiply:{commutative:!0}}},{s:"(n1*n2)^(-1) -> n2^(-1) * n1^(-1)",assuming:{multiply:{commutative:!1}}},{s:"(n ^ n1) ^ n2 -> n ^ (n1 * n2)",assuming:{divide:{total:!0}}},{l:" vd   * ( vd   * n1 + n2)",r:"vd^2       * n1 +  vd   * n2"},{s:" vd   * (vd^n4 * n1 + n2)   ->  vd^(1+n4)  * n1 +  vd   * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * ( vd   * n1 + n2)   ->  vd^(n3+1)  * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{s:"vd^n3 * (vd^n4 * n1 + n2)   ->  vd^(n3+n4) * n1 + vd^n3 * n2",assuming:{divide:{total:!0}}},{l:"n*n",r:"n^2"},{s:"n * n^n1 -> n^(n1+1)",assuming:{divide:{total:!0}}},{s:"n^n1 * n^n2 -> n^(n1+n2)",assuming:{divide:{total:!0}}},d,{s:"n+n -> 2*n",assuming:{add:{total:!0}}},{l:"n+-n",r:"0"},{l:"vd*n + vd",r:"vd*(n+1)"},{l:"n3*n1 + n3*n2",r:"n3*(n1+n2)"},{l:"n3^(-n4)*n1 +   n3  * n2",r:"n3^(-n4)*(n1 + n3^(n4+1) *n2)"},{l:"n3^(-n4)*n1 + n3^n5 * n2",r:"n3^(-n4)*(n1 + n3^(n4+n5)*n2)"},{s:"n*vd + vd -> (n+1)*vd",assuming:{multiply:{commutative:!1}}},{s:"vd + n*vd -> (1+n)*vd",assuming:{multiply:{commutative:!1}}},{s:"n1*n3 + n2*n3 -> (n1+n2)*n3",assuming:{multiply:{commutative:!1}}},{s:"n^n1 * n -> n^(n1+1)",assuming:{divide:{total:!0},multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3    -> (n1 + n2*n3^(n4 +  1))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{s:"n1*n3^(-n4) + n2 * n3^n5 -> (n1 + n2*n3^(n4 + n5))*n3^(-n4)",assuming:{multiply:{commutative:!1}}},{l:"n*cd + cd",r:"(n+1)*cd"},{s:"cd*n + cd -> cd*(n+1)",assuming:{multiply:{commutative:!1}}},{s:"cd + cd*n -> cd*(1+n)",assuming:{multiply:{commutative:!1}}},d,{s:"(-n)*n1 -> -(n*n1)",assuming:{subtract:{total:!0}}},{s:"n1*(-n) -> -(n1*n)",assuming:{subtract:{total:!0},multiply:{commutative:!1}}},{s:"ce+ve -> ve+ce",assuming:{add:{commutative:!0}},imposeContext:{add:{commutative:!1}}},{s:"vd*cd -> cd*vd",assuming:{multiply:{commutative:!0}},imposeContext:{multiply:{commutative:!1}}},{l:"n+-n1",r:"n-n1"},{l:"n+-(n1)",r:"n-(n1)"},{s:"n*(n1^-1) -> n/n1",assuming:{multiply:{commutative:!0}}},{s:"n*n1^-n2 -> n/n1^n2",assuming:{multiply:{commutative:!0}}},{s:"n^-1 -> 1/n",assuming:{multiply:{commutative:!0}}},{l:"n^1",r:"n"},{s:"n*(n1/n2) -> (n*n1)/n2",assuming:{multiply:{associative:!0}}},{s:"n-(n1+n2) -> n-n1-n2",assuming:{addition:{associative:!0,commutative:!0}}},{l:"1*n",r:"n",imposeContext:{multiply:{commutative:!0}}},{s:"n1/(n2/n3) -> (n1*n3)/n2",assuming:{multiply:{associative:!0}}},{l:"n1/(-n2)",r:"-n1/n2"}];function se(Q,re){var ue={};if(Q.s){var ye=Q.s.split("->");if(ye.length===2)ue.l=ye[0],ue.r=ye[1];else throw SyntaxError("Could not parse rule: "+Q.s)}else ue.l=Q.l,ue.r=Q.r;ue.l=L(r(ue.l)),ue.r=L(r(ue.r));for(var xe of["imposeContext","repeat","assuming"])xe in Q&&(ue[xe]=Q[xe]);if(Q.evaluate&&(ue.evaluate=r(Q.evaluate)),P(ue.l,re)){var G=!B(ue.l,re),te;G&&(te=ie());var he=z(ue.l),ce=ie();ue.expanded={},ue.expanded.l=he([ue.l,ce]),$(ue.expanded.l,re),N(ue.expanded.l,re),ue.expanded.r=he([ue.r,ce]),G&&(ue.expandedNC1={},ue.expandedNC1.l=he([te,ue.l]),ue.expandedNC1.r=he([te,ue.r]),ue.expandedNC2={},ue.expandedNC2.l=he([te,ue.expanded.l]),ue.expandedNC2.r=he([te,ue.expanded.r]))}return ue}function Y(Q,re){for(var ue=[],ye=0;ye<Q.length;ye++){var xe=Q[ye],G=void 0,te=typeof xe;switch(te){case"string":xe={s:xe};case"object":G=se(xe,re);break;case"function":G=xe;break;default:throw TypeError("Unsupported type of rule: "+te)}ue.push(G)}return ue}var ee=0;function ie(){return new E("_p"+ee++)}function j(Q,re){var ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ec(),ye=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},xe=ye.consoleDebug;re=Y(re||V.rules,ye.context);var G=f(Q,ue);G=L(G);for(var te={},he=G.toString({parenthesis:"all"});!te[he];){te[he]=!0,ee=0;var ce=he;xe&&console.log("Working on: ",he);for(var pe=0;pe<re.length;pe++){var me="";if(typeof re[pe]=="function"?(G=re[pe](G,ye),xe&&(me=re[pe].name)):($(G,ye.context),G=J(G,re[pe],ye.context),xe&&(me="".concat(re[pe].l.toString()," -> ").concat(re[pe].r.toString()))),xe){var $e=G.toString({parenthesis:"all"});$e!==ce&&(console.log("Applying",me,"produced",$e),ce=$e)}T(G,ye.context)}he=G.toString({parenthesis:"all"})}return G}function W(Q,re,ue){var ye=Q;if(Q)for(var xe=0;xe<Q.length;++xe){var G=J(Q[xe],re,ue);G!==Q[xe]&&(ye===Q&&(ye=Q.slice()),ye[xe]=G)}return ye}function J(Q,re,ue){if(re.assuming){for(var ye in re.assuming)for(var xe in re.assuming[ye])if(M(ye,xe,ue)!==re.assuming[ye][xe])return Q}var G=F(re.imposeContext,ue),te=Q;if(te instanceof A||te instanceof x){var he=W(te.args,re,ue);he!==te.args&&(te=te.clone(),te.args=he)}else if(te instanceof D){if(te.content){var ce=J(te.content,re,ue);ce!==te.content&&(te=new D(ce))}}else if(te instanceof y){var pe=W(te.items,re,ue);pe!==te.items&&(te=new y(pe))}else if(te instanceof w){var me=te.object;te.object&&(me=J(te.object,re,ue));var $e=te.index;te.index&&($e=J(te.index,re,ue)),(me!==te.object||$e!==te.index)&&(te=new w(me,$e))}else if(te instanceof b){var Ne=W(te.dimensions,re,ue);Ne!==te.dimensions&&(te=new b(Ne))}else if(te instanceof C){var Me=!1,Ie={};for(var ft in te.properties)Ie[ft]=J(te.properties[ft],re,ue),Ie[ft]!==te.properties[ft]&&(Me=!0);Me&&(te=new C(Ie))}var vt=re.r,We=Z(re.l,te,G)[0];if(!We&&re.expanded&&(vt=re.expanded.r,We=Z(re.expanded.l,te,G)[0]),!We&&re.expandedNC1&&(vt=re.expandedNC1.r,We=Z(re.expandedNC1.l,te,G)[0],We||(vt=re.expandedNC2.r,We=Z(re.expandedNC2.l,te,G)[0])),We){var Kt=te.implicit;te=vt.clone(),Kt&&"implicit"in vt&&(te.implicit=!0),te=te.transform(function(R){return R.isSymbolNode&&Ve(We.placeholders,R.name)?We.placeholders[R.name].clone():R})}return re.repeat&&te!==Q&&(te=J(te,re,ue)),te}function oe(Q,re){var ue=[],ye,xe,G=z(Q);if(B(Q,re))for(var te=0;te<Q.args.length;te++)xe=Q.args.slice(0),xe.splice(te,1),ye=xe.length===1?xe[0]:G(xe),ue.push(G([Q.args[te],ye]));else for(var he=1;he<Q.args.length;he++){var ce=Q.args[0];he>1&&(ce=G(Q.args.slice(0,he))),xe=Q.args.slice(he),ye=xe.length===1?xe[0]:G(xe),ue.push(G([ce,ye]))}return ue}function de(Q,re){var ue={placeholders:{}};if(!Q.placeholders&&!re.placeholders)return ue;if(Q.placeholders){if(!re.placeholders)return Q}else return re;for(var ye in Q.placeholders)if(Ve(Q.placeholders,ye)&&(ue.placeholders[ye]=Q.placeholders[ye],Ve(re.placeholders,ye)&&!fe(Q.placeholders[ye],re.placeholders[ye])))return null;for(var xe in re.placeholders)Ve(re.placeholders,xe)&&(ue.placeholders[xe]=re.placeholders[xe]);return ue}function ge(Q,re){var ue=[];if(Q.length===0||re.length===0)return ue;for(var ye,xe=0;xe<Q.length;xe++)for(var G=0;G<re.length;G++)ye=de(Q[xe],re[G]),ye&&ue.push(ye);return ue}function U(Q){if(Q.length===0)return Q;for(var re=Q.reduce(ge),ue=[],ye={},xe=0;xe<re.length;xe++){var G=JSON.stringify(re[xe]);ye[G]||(ye[G]=!0,ue.push(re[xe]))}return ue}function Z(Q,re,ue,ye){var xe=[{placeholders:{}}];if(Q instanceof A&&re instanceof A||Q instanceof x&&re instanceof x){if(Q instanceof A){if(Q.op!==re.op||Q.fn!==re.fn)return[]}else if(Q instanceof x&&Q.name!==re.name)return[];if(re.args.length===1&&Q.args.length===1||!P(re,ue)&&re.args.length===Q.args.length||ye){for(var G=[],te=0;te<Q.args.length;te++){var he=Z(Q.args[te],re.args[te],ue);if(he.length===0)break;G.push(he)}if(G.length!==Q.args.length){if(!B(re,ue)||Q.args.length===1)return[];if(Q.args.length>2)throw new Error("permuting >2 commutative non-associative rule arguments not yet implemented");var ce=Z(Q.args[0],re.args[1],ue);if(ce.length===0)return[];var pe=Z(Q.args[1],re.args[0],ue);if(pe.length===0)return[];G=[ce,pe]}xe=U(G)}else if(re.args.length>=2&&Q.args.length===2){for(var me=oe(re,ue),$e=[],Ne=0;Ne<me.length;Ne++){var Me=Z(Q,me[Ne],ue,!0);$e=$e.concat(Me)}return $e}else{if(Q.args.length>2)throw Error("Unexpected non-binary associative function: "+Q.toString());return[]}}else if(Q instanceof E){if(Q.name.length===0)throw new Error("Symbol in rule has 0 length...!?");if(ne[Q.name]){if(Q.name!==re.name)return[]}else switch(Q.name[1]>="a"&&Q.name[1]<="z"?Q.name.substring(0,2):Q.name[0]){case"n":case"_p":xe[0].placeholders[Q.name]=re;break;case"c":case"cl":if(Pt(re))xe[0].placeholders[Q.name]=re;else return[];break;case"v":if(!Pt(re))xe[0].placeholders[Q.name]=re;else return[];break;case"vl":if(er(re))xe[0].placeholders[Q.name]=re;else return[];break;case"cd":if(MT(re))xe[0].placeholders[Q.name]=re;else return[];break;case"vd":if(!MT(re))xe[0].placeholders[Q.name]=re;else return[];break;case"ce":if(Pg(re))xe[0].placeholders[Q.name]=re;else return[];break;case"ve":if(!Pg(re))xe[0].placeholders[Q.name]=re;else return[];break;default:throw new Error("Invalid symbol in rule: "+Q.name)}}else if(Q instanceof S){if(!c(Q.value,re.value))return[]}else return[];return xe}function fe(Q,re){if(Q instanceof S&&re instanceof S){if(!c(Q.value,re.value))return!1}else if(Q instanceof E&&re instanceof E){if(Q.name!==re.name)return!1}else if(Q instanceof A&&re instanceof A||Q instanceof x&&re instanceof x){if(Q instanceof A){if(Q.op!==re.op||Q.fn!==re.fn)return!1}else if(Q instanceof x&&Q.name!==re.name)return!1;if(Q.args.length!==re.args.length)return!1;for(var ue=0;ue<Q.args.length;ue++)if(!fe(Q.args[ue],re.args[ue]))return!1}else return!1;return!0}return V}),tAe="simplifyConstant",nAe=["typed","config","mathWithTransform","matrix","?fraction","?bignumber","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode"],rAe=K(tAe,nAe,t=>{var{typed:e,config:n,mathWithTransform:r,matrix:i,fraction:o,bignumber:a,AccessorNode:s,ArrayNode:l,ConstantNode:u,FunctionNode:c,IndexNode:f,ObjectNode:d,OperatorNode:h,SymbolNode:p}=t,{isCommutative:m,isAssociative:v,allChildren:g,createMakeNodeFunction:w}=HS({FunctionNode:c,OperatorNode:h,SymbolNode:p}),y=e("simplifyConstant",{Node:$=>C(F($,{})),"Node, Object":function(N,T){return C(F(N,T))}});function S($){return ah($)?$.valueOf():$ instanceof Array?$.map(S):Je($)?i(S($.valueOf())):$}function x($,N,T){try{return r[$].apply(null,N)}catch{return N=N.map(S),D(r[$].apply(null,N),T)}}var b=e({Fraction:M,number:function(N){return N<0?E(new u(-N)):new u(N)},BigNumber:function(N){return N<0?E(new u(-N)):new u(N)},Complex:function(N){throw new Error("Cannot convert Complex number to Node")},string:function(N){return new u(N)},Matrix:function(N){return new l(N.valueOf().map(T=>b(T)))}});function C($){return Xt($)?$:b($)}function A($,N){var T=N&&N.exactFractions!==!1;if(T&&isFinite($)&&o){var z=o($),I=N&&typeof N.fractionsLimit=="number"?N.fractionsLimit:1/0;if(z.valueOf()===$&&z.n<I&&z.d<I)return z}return $}var D=e({"string, Object":function(N,T){if(n.number==="BigNumber")return a===void 0&&OS(),a(N);if(n.number==="Fraction")return o===void 0&&E_(),o(N);var z=parseFloat(N);return A(z,T)},"Fraction, Object":function(N,T){return N},"BigNumber, Object":function(N,T){return N},"number, Object":function(N,T){return A(N,T)},"Complex, Object":function(N,T){return N.im!==0?N:A(N.re,T)},"Matrix, Object":function(N,T){return i(A(N.valueOf()))},"Array, Object":function(N,T){return N.map(A)}});function E($){return new h("-","unaryMinus",[$])}function M($){var N,T=$.s*$.n;return T<0?N=new h("-","unaryMinus",[new u(-T)]):N=new u(T),$.d===1?N:new h("/","divide",[N,new u($.d)])}function B($,N,T){if(!Wc(N))return new s(C($),C(N));if(ki($)||Je($)){for(var z=Array.from(N.dimensions);z.length>0;)if(Pt(z[0])&&typeof z[0].value!="string"){var I=D(z.shift().value,T);ki($)?$=$.items[I-1]:($=$.valueOf()[I-1],$ instanceof Array&&($=i($)))}else if(z.length>1&&Pt(z[1])&&typeof z[1].value!="string"){var q=D(z[1].value,T),X=[],V=ki($)?$.items:$.valueOf();for(var L of V)if(ki(L))X.push(L.items[q-1]);else if(Je($))X.push(L[q-1]);else break;if(X.length===V.length)ki($)?$=new l(X):$=i(X),z.splice(1,1);else break}else break;return z.length===N.dimensions.length?new s(C($),N):z.length>0?(N=new f(z),new s(C($),N)):$}if(kv($)&&N.dimensions.length===1&&Pt(N.dimensions[0])){var ne=N.dimensions[0].value;return ne in $.properties?$.properties[ne]:new u}return new s(C($),N)}function P($,N,T,z){var I=N.shift(),q=N.reduce((X,V)=>{if(!Xt(V)){var L=X.pop();if(Xt(L))return[L,V];try{return X.push(x($,[L,V],z)),X}catch{X.push(L)}}X.push(C(X.pop()));var ne=X.length===1?X[0]:T(X);return[T([ne,C(V)])]},[I]);return q.length===1?q[0]:T([q[0],b(q[1])])}function F($,N){switch($.type){case"SymbolNode":return $;case"ConstantNode":switch(typeof $.value){case"number":return D($.value,N);case"string":return $.value;default:if(!isNaN($.value))return D($.value,N)}return $;case"FunctionNode":if(r[$.name]&&r[$.name].rawArgs)return $;{var T=["add","multiply"];if(T.indexOf($.name)===-1){var z=$.args.map(J=>F(J,N));if(!z.some(Xt))try{return x($.name,z,N)}catch{}if($.name==="size"&&z.length===1&&ki(z[0])){for(var I=[],q=z[0];ki(q);)I.push(q.items.length),q=q.items[0];return i(I)}return new c($.name,z.map(C))}}case"OperatorNode":{var X=$.fn.toString(),V,L,ne=w($);if(kn($)&&$.isUnary())V=[F($.args[0],N)],Xt(V[0])?L=ne(V):L=x(X,V,N);else if(v($,N.context))if(V=g($,N.context),V=V.map(J=>F(J,N)),m(X,N.context)){for(var se=[],Y=[],ee=0;ee<V.length;ee++)Xt(V[ee])?Y.push(V[ee]):se.push(V[ee]);se.length>1?(L=P(X,se,ne,N),Y.unshift(L),L=P(X,Y,ne,N)):L=P(X,V,ne,N)}else L=P(X,V,ne,N);else V=$.args.map(J=>F(J,N)),L=P(X,V,ne,N);return L}case"ParenthesisNode":return F($.content,N);case"AccessorNode":return B(F($.object,N),F($.index,N),N);case"ArrayNode":{var ie=$.items.map(J=>F(J,N));return ie.some(Xt)?new l(ie.map(C)):i(ie)}case"IndexNode":return new f($.dimensions.map(J=>y(J,N)));case"ObjectNode":{var j={};for(var W in $.properties)j[W]=y($.properties[W],N);return new d(j)}case"AssignmentNode":case"BlockNode":case"FunctionAssignmentNode":case"RangeNode":case"ConditionalNode":default:throw new Error("Unimplemented node type in simplifyConstant: ".concat($.type))}}return y}),$T="simplifyCore",iAe=["typed","parse","equal","isZero","add","subtract","multiply","divide","pow","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","ParenthesisNode","SymbolNode"],oAe=K($T,iAe,t=>{var{typed:e,parse:n,equal:r,isZero:i,add:o,subtract:a,multiply:s,divide:l,pow:u,AccessorNode:c,ArrayNode:f,ConstantNode:d,FunctionNode:h,IndexNode:p,ObjectNode:m,OperatorNode:v,ParenthesisNode:g,SymbolNode:w}=t,y=new d(0),S=new d(1),x=new d(!0),b=new d(!1);function C(M){return kn(M)&&["and","not","or"].includes(M.op)}var{hasProperty:A,isCommutative:D}=HS({FunctionNode:h,OperatorNode:v,SymbolNode:w});function E(M){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=B?B.context:void 0;if(A(M,"trivial",P)){if(Vs(M)&&M.args.length===1)return E(M.args[0],B);var F=!1,$=0;if(M.forEach(Y=>{++$,$===1&&(F=E(Y,B))}),$===1)return F}var N=M;if(Vs(N)){var T=lye(N.name);if(T){if(N.args.length>2&&A(N,"associative",P))for(;N.args.length>2;){var z=N.args.pop(),I=N.args.pop();N.args.push(new v(T,N.name,[z,I]))}N=new v(T,N.name,N.args)}else return new h(E(N.fn),N.args.map(Y=>E(Y,B)))}if(kn(N)&&N.isUnary()){var q=E(N.args[0],B);if(N.op==="~"&&kn(q)&&q.isUnary()&&q.op==="~"||N.op==="not"&&kn(q)&&q.isUnary()&&q.op==="not"&&C(q.args[0]))return q.args[0];var X=!0;if(N.op==="-"&&kn(q)&&(q.isBinary()&&q.fn==="subtract"&&(N=new v("-","subtract",[q.args[1],q.args[0]]),X=!1),q.isUnary()&&q.op==="-"))return q.args[0];if(X)return new v(N.op,N.fn,[q])}if(kn(N)&&N.isBinary()){var V=E(N.args[0],B),L=E(N.args[1],B);if(N.op==="+"){if(Pt(V)&&i(V.value))return L;if(Pt(L)&&i(L.value))return V;kn(L)&&L.isUnary()&&L.op==="-"&&(L=L.args[0],N=new v("-","subtract",[V,L]))}if(N.op==="-")return kn(L)&&L.isUnary()&&L.op==="-"?E(new v("+","add",[V,L.args[0]]),B):Pt(V)&&i(V.value)?E(new v("-","unaryMinus",[L])):Pt(L)&&i(L.value)?V:new v(N.op,N.fn,[V,L]);if(N.op==="*"){if(Pt(V)){if(i(V.value))return y;if(r(V.value,1))return L}if(Pt(L)){if(i(L.value))return y;if(r(L.value,1))return V;if(D(N,P))return new v(N.op,N.fn,[L,V],N.implicit)}return new v(N.op,N.fn,[V,L],N.implicit)}if(N.op==="/")return Pt(V)&&i(V.value)?y:Pt(L)&&r(L.value,1)?V:new v(N.op,N.fn,[V,L]);if(N.op==="^"&&Pt(L)){if(i(L.value))return S;if(r(L.value,1))return V}if(N.op==="and"){if(Pt(V))if(V.value){if(C(L))return L}else return b;if(Pt(L))if(L.value){if(C(V))return V}else return b}if(N.op==="or"){if(Pt(V)){if(V.value)return x;if(C(L))return L}if(Pt(L)){if(L.value)return x;if(C(V))return V}}return new v(N.op,N.fn,[V,L])}if(kn(N))return new v(N.op,N.fn,N.args.map(Y=>E(Y,B)));if(ki(N))return new f(N.items.map(Y=>E(Y,B)));if(Fl(N))return new c(E(N.object,B),E(N.index,B));if(Wc(N))return new p(N.dimensions.map(Y=>E(Y,B)));if(kv(N)){var ne={};for(var se in N.properties)ne[se]=E(N.properties[se],B);return new m(ne)}return N}return e($T,{Node:E,"Node,Object":E})}),aAe="resolve",sAe=["typed","parse","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode"],lAe=K(aAe,sAe,t=>{var{typed:e,parse:n,ConstantNode:r,FunctionNode:i,OperatorNode:o,ParenthesisNode:a}=t;function s(l,u){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(!u)return l;if(er(l)){if(c.has(l.name)){var f=Array.from(c).join(", ");throw new ReferenceError("recursive loop of variable definitions among {".concat(f,"}"))}var d=u.get(l.name);if(Xt(d)){var h=new Set(c);return h.add(l.name),s(d,u,h)}else return typeof d=="number"?n(String(d)):d!==void 0?new r(d):l}else if(kn(l)){var p=l.args.map(function(v){return s(v,u,c)});return new o(l.op,l.fn,p,l.implicit)}else{if(Qa(l))return new a(s(l.content,u,c));if(Vs(l)){var m=l.args.map(function(v){return s(v,u,c)});return new i(l.name,m)}}return l.map(v=>s(v,u,c))}return e("resolve",{Node:s,"Node, Map | null | undefined":s,"Node, Object":(l,u)=>s(l,ec(u)),"Array | Matrix":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array | Matrix, null | undefined":e.referToSelf(l=>u=>u.map(c=>l(c))),"Array, Object":e.referTo("Array,Map",l=>(u,c)=>l(u,ec(c))),"Matrix, Object":e.referTo("Matrix,Map",l=>(u,c)=>l(u,ec(c))),"Array | Matrix, Map":e.referToSelf(l=>(u,c)=>u.map(f=>l(f,c)))})}),OT="symbolicEqual",uAe=["parse","simplify","typed","OperatorNode"],cAe=K(OT,uAe,t=>{var{parse:e,simplify:n,typed:r,OperatorNode:i}=t;function o(a,s){var l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=new i("-","subtract",[a,s]),c=n(u,{},l);return Pt(c)&&!c.value}return r(OT,{"Node, Node":o,"Node, Node, Object":o})}),TT="derivative",fAe=["typed","config","parse","simplify","equal","isZero","numeric","ConstantNode","FunctionNode","OperatorNode","ParenthesisNode","SymbolNode"],dAe=K(TT,fAe,t=>{var{typed:e,config:n,parse:r,simplify:i,equal:o,isZero:a,numeric:s,ConstantNode:l,FunctionNode:u,OperatorNode:c,ParenthesisNode:f,SymbolNode:d}=t;function h(y,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{simplify:!0},b={};v(b,y,S.name);var C=g(y,b);return x.simplify?i(C):C}e.addConversion({from:"identifier",to:"SymbolNode",convert:r});var p=e(TT,{"Node, SymbolNode":h,"Node, SymbolNode, Object":h});e.removeConversion({from:"identifier",to:"SymbolNode",convert:r}),p._simplify=!0,p.toTex=function(y){return m.apply(null,y.args)};var m=e("_derivTex",{"Node, SymbolNode":function(S,x){return Pt(S)&&en(S.value)==="string"?m(r(S.value).toString(),x.toString(),1):m(S.toTex(),x.toString(),1)},"Node, ConstantNode":function(S,x){if(en(x.value)==="string")return m(S,r(x.value));throw new Error("The second parameter to 'derivative' is a non-string constant")},"Node, SymbolNode, ConstantNode":function(S,x,b){return m(S.toString(),x.name,b.value)},"string, string, number":function(S,x,b){var C;return b===1?C="{d\\over d"+x+"}":C="{d^{"+b+"}\\over d"+x+"^{"+b+"}}",C+"\\left[".concat(S,"\\right]")}}),v=e("constTag",{"Object, ConstantNode, string":function(S,x){return S[x]=!0,!0},"Object, SymbolNode, string":function(S,x,b){return x.name!==b?(S[x]=!0,!0):!1},"Object, ParenthesisNode, string":function(S,x,b){return v(S,x.content,b)},"Object, FunctionAssignmentNode, string":function(S,x,b){return x.params.indexOf(b)===-1?(S[x]=!0,!0):v(S,x.expr,b)},"Object, FunctionNode | OperatorNode, string":function(S,x,b){if(x.args.length>0){for(var C=v(S,x.args[0],b),A=1;A<x.args.length;++A)C=v(S,x.args[A],b)&&C;if(C)return S[x]=!0,!0}return!1}}),g=e("_derivative",{"ConstantNode, Object":function(S){return w(0)},"SymbolNode, Object":function(S,x){return x[S]!==void 0?w(0):w(1)},"ParenthesisNode, Object":function(S,x){return new f(g(S.content,x))},"FunctionAssignmentNode, Object":function(S,x){return x[S]!==void 0?w(0):g(S.expr,x)},"FunctionNode, Object":function(S,x){if(x[S]!==void 0)return w(0);var b=S.args[0],C,A=!1,D=!1,E;switch(S.name){case"cbrt":A=!0,E=new c("*","multiply",[w(3),new c("^","pow",[b,new c("/","divide",[w(2),w(3)])])]);break;case"sqrt":case"nthRoot":if(S.args.length===1)A=!0,E=new c("*","multiply",[w(2),new u("sqrt",[b])]);else if(S.args.length===2)return C=new c("/","divide",[w(1),S.args[1]]),x[C]=x[S.args[1]],g(new c("^","pow",[b,C]),x);break;case"log10":C=w(10);case"log":if(!C&&S.args.length===1)E=b.clone(),A=!0;else if(S.args.length===1&&C||S.args.length===2&&x[S.args[1]]!==void 0)E=new c("*","multiply",[b.clone(),new u("log",[C||S.args[1]])]),A=!0;else if(S.args.length===2)return g(new c("/","divide",[new u("log",[b]),new u("log",[S.args[1]])]),x);break;case"pow":if(S.args.length===2)return x[C]=x[S.args[1]],g(new c("^","pow",[b,S.args[1]]),x);break;case"exp":E=new u("exp",[b.clone()]);break;case"sin":E=new u("cos",[b.clone()]);break;case"cos":E=new c("-","unaryMinus",[new u("sin",[b.clone()])]);break;case"tan":E=new c("^","pow",[new u("sec",[b.clone()]),w(2)]);break;case"sec":E=new c("*","multiply",[S,new u("tan",[b.clone()])]);break;case"csc":D=!0,E=new c("*","multiply",[S,new u("cot",[b.clone()])]);break;case"cot":D=!0,E=new c("^","pow",[new u("csc",[b.clone()]),w(2)]);break;case"asin":A=!0,E=new u("sqrt",[new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])])]);break;case"acos":A=!0,D=!0,E=new u("sqrt",[new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])])]);break;case"atan":A=!0,E=new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)]);break;case"asec":A=!0,E=new c("*","multiply",[new u("abs",[b.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[b.clone(),w(2)]),w(1)])])]);break;case"acsc":A=!0,D=!0,E=new c("*","multiply",[new u("abs",[b.clone()]),new u("sqrt",[new c("-","subtract",[new c("^","pow",[b.clone(),w(2)]),w(1)])])]);break;case"acot":A=!0,D=!0,E=new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)]);break;case"sinh":E=new u("cosh",[b.clone()]);break;case"cosh":E=new u("sinh",[b.clone()]);break;case"tanh":E=new c("^","pow",[new u("sech",[b.clone()]),w(2)]);break;case"sech":D=!0,E=new c("*","multiply",[S,new u("tanh",[b.clone()])]);break;case"csch":D=!0,E=new c("*","multiply",[S,new u("coth",[b.clone()])]);break;case"coth":D=!0,E=new c("^","pow",[new u("csch",[b.clone()]),w(2)]);break;case"asinh":A=!0,E=new u("sqrt",[new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)])]);break;case"acosh":A=!0,E=new u("sqrt",[new c("-","subtract",[new c("^","pow",[b.clone(),w(2)]),w(1)])]);break;case"atanh":A=!0,E=new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])]);break;case"asech":A=!0,D=!0,E=new c("*","multiply",[b.clone(),new u("sqrt",[new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])])])]);break;case"acsch":A=!0,D=!0,E=new c("*","multiply",[new u("abs",[b.clone()]),new u("sqrt",[new c("+","add",[new c("^","pow",[b.clone(),w(2)]),w(1)])])]);break;case"acoth":A=!0,D=!0,E=new c("-","subtract",[w(1),new c("^","pow",[b.clone(),w(2)])]);break;case"abs":E=new c("/","divide",[new u(new d("abs"),[b.clone()]),b.clone()]);break;case"gamma":default:throw new Error('Cannot process function "'+S.name+'" in derivative: the function is not supported, undefined, or the number of arguments passed to it are not supported')}var M,B;A?(M="/",B="divide"):(M="*",B="multiply");var P=g(b,x);return D&&(P=new c("-","unaryMinus",[P])),new c(M,B,[P,E])},"OperatorNode, Object":function(S,x){if(x[S]!==void 0)return w(0);if(S.op==="+")return new c(S.op,S.fn,S.args.map(function($){return g($,x)}));if(S.op==="-"){if(S.isUnary())return new c(S.op,S.fn,[g(S.args[0],x)]);if(S.isBinary())return new c(S.op,S.fn,[g(S.args[0],x),g(S.args[1],x)])}if(S.op==="*"){var b=S.args.filter(function($){return x[$]!==void 0});if(b.length>0){var C=S.args.filter(function($){return x[$]===void 0}),A=C.length===1?C[0]:new c("*","multiply",C),D=b.concat(g(A,x));return new c("*","multiply",D)}return new c("+","add",S.args.map(function($){return new c("*","multiply",S.args.map(function(N){return N===$?g(N,x):N.clone()}))}))}if(S.op==="/"&&S.isBinary()){var E=S.args[0],M=S.args[1];return x[M]!==void 0?new c("/","divide",[g(E,x),M]):x[E]!==void 0?new c("*","multiply",[new c("-","unaryMinus",[E]),new c("/","divide",[g(M,x),new c("^","pow",[M.clone(),w(2)])])]):new c("/","divide",[new c("-","subtract",[new c("*","multiply",[g(E,x),M.clone()]),new c("*","multiply",[E.clone(),g(M,x)])]),new c("^","pow",[M.clone(),w(2)])])}if(S.op==="^"&&S.isBinary()){var B=S.args[0],P=S.args[1];if(x[B]!==void 0)return Pt(B)&&(a(B.value)||o(B.value,1))?w(0):new c("*","multiply",[S,new c("*","multiply",[new u("log",[B.clone()]),g(P.clone(),x)])]);if(x[P]!==void 0){if(Pt(P)){if(a(P.value))return w(0);if(o(P.value,1))return g(B,x)}var F=new c("^","pow",[B.clone(),new c("-","subtract",[P,w(1)])]);return new c("*","multiply",[P.clone(),new c("*","multiply",[g(B,x),F])])}return new c("*","multiply",[new c("^","pow",[B.clone(),P.clone()]),new c("+","add",[new c("*","multiply",[g(B,x),new c("/","divide",[P.clone(),B.clone()])]),new c("*","multiply",[g(P,x),new u("log",[B.clone()])])])])}throw new Error('Cannot process operator "'+S.op+'" in derivative: the operator is not supported, undefined, or the number of arguments passed to it are not supported')}});function w(y,S){return new l(s(y,S||n.number))}return p}),BT="rationalize",hAe=["config","typed","equal","isZero","add","subtract","multiply","divide","pow","parse","simplifyConstant","simplifyCore","simplify","?bignumber","?fraction","mathWithTransform","matrix","AccessorNode","ArrayNode","ConstantNode","FunctionNode","IndexNode","ObjectNode","OperatorNode","SymbolNode","ParenthesisNode"],pAe=K(BT,hAe,t=>{var{config:e,typed:n,equal:r,isZero:i,add:o,subtract:a,multiply:s,divide:l,pow:u,parse:c,simplifyConstant:f,simplifyCore:d,simplify:h,fraction:p,bignumber:m,mathWithTransform:v,matrix:g,AccessorNode:w,ArrayNode:y,ConstantNode:S,FunctionNode:x,IndexNode:b,ObjectNode:C,OperatorNode:A,SymbolNode:D,ParenthesisNode:E}=t;function M(N){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,I=P(),q=B(N,T,!0,I.firstRules),X=q.variables.length,V={exactFractions:!1},L={exactFractions:!0};if(N=q.expression,X>=1){N=F(N);var ne,se,Y=!0,ee=!1;N=h(N,I.firstRules,{},V);for(var ie;se=Y?I.distrDivRules:I.sucDivRules,N=h(N,se,{},L),Y=!Y,ie=N.toString(),ie!==ne;)ee=!0,ne=ie;ee&&(N=h(N,I.firstRulesAgain,{},V)),N=h(N,I.finalRules,{},V)}var j=[],W={};return N.type==="OperatorNode"&&N.isBinary()&&N.op==="/"?(X===1&&(N.args[0]=$(N.args[0],j),N.args[1]=$(N.args[1])),z&&(W.numerator=N.args[0],W.denominator=N.args[1])):(X===1&&(N=$(N,j)),z&&(W.numerator=N,W.denominator=null)),z?(W.coefficients=j,W.variables=q.variables,W.expression=N,W):N}return n(BT,{Node:M,"Node, boolean":(N,T)=>M(N,{},T),"Node, Object":M,"Node, Object, boolean":M});function B(N,T,z,I){var q=[],X=h(N,I,T,{exactFractions:!1});z=!!z;var V="+-*"+(z?"/":"");ne(X);var L={};return L.expression=X,L.variables=q,L;function ne(se){var Y=se.type;if(Y==="FunctionNode")throw new Error("There is an unsolved function call");if(Y==="OperatorNode")if(se.op==="^"){if(se.args[1].type!=="ConstantNode"||!Ge(parseFloat(se.args[1].value)))throw new Error("There is a non-integer exponent");ne(se.args[0])}else{if(V.indexOf(se.op)===-1)throw new Error("Operator "+se.op+" invalid in polynomial expression");for(var ee=0;ee<se.args.length;ee++)ne(se.args[ee])}else if(Y==="SymbolNode"){var ie=se.name,j=q.indexOf(ie);j===-1&&q.push(ie)}else if(Y==="ParenthesisNode")ne(se.content);else if(Y!=="ConstantNode")throw new Error("type "+Y+" is not allowed in polynomial expression")}}function P(){var N=[d,{l:"n+n",r:"2*n"},{l:"n+-n",r:"0"},f,{l:"n*(n1^-1)",r:"n/n1"},{l:"n*n1^-n2",r:"n/n1^n2"},{l:"n1^-1",r:"1/n1"},{l:"n*(n1/n2)",r:"(n*n1)/n2"},{l:"1*n",r:"n"}],T=[{l:"(-n1)/(-n2)",r:"n1/n2"},{l:"(-n1)*(-n2)",r:"n1*n2"},{l:"n1--n2",r:"n1+n2"},{l:"n1-n2",r:"n1+(-n2)"},{l:"(n1+n2)*n3",r:"(n1*n3 + n2*n3)"},{l:"n1*(n2+n3)",r:"(n1*n2+n1*n3)"},{l:"c1*n + c2*n",r:"(c1+c2)*n"},{l:"c1*n + n",r:"(c1+1)*n"},{l:"c1*n - c2*n",r:"(c1-c2)*n"},{l:"c1*n - n",r:"(c1-1)*n"},{l:"v/c",r:"(1/c)*v"},{l:"v/-c",r:"-(1/c)*v"},{l:"-v*-c",r:"c*v"},{l:"-v*c",r:"-c*v"},{l:"v*-c",r:"-c*v"},{l:"v*c",r:"c*v"},{l:"-(-n1*n2)",r:"(n1*n2)"},{l:"-(n1*n2)",r:"(-n1*n2)"},{l:"-(-n1+n2)",r:"(n1-n2)"},{l:"-(n1+n2)",r:"(-n1-n2)"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"},{l:"-(-n1/n2)",r:"(n1/n2)"},{l:"-(n1/n2)",r:"(-n1/n2)"}],z=[{l:"(n1/n2 + n3/n4)",r:"((n1*n4 + n3*n2)/(n2*n4))"},{l:"(n1/n2 + n3)",r:"((n1 + n3*n2)/n2)"},{l:"(n1 + n2/n3)",r:"((n1*n3 + n2)/n3)"}],I=[{l:"(n1/(n2/n3))",r:"((n1*n3)/n2)"},{l:"(n1/n2/n3)",r:"(n1/(n2*n3))"}],q={};return q.firstRules=N.concat(T,I),q.distrDivRules=z,q.sucDivRules=I,q.firstRulesAgain=N.concat(T),q.finalRules=[d,{l:"n*-n",r:"-n^2"},{l:"n*n",r:"n^2"},f,{l:"n*-n^n1",r:"-n^(n1+1)"},{l:"n*n^n1",r:"n^(n1+1)"},{l:"n^n1*-n^n2",r:"-n^(n1+n2)"},{l:"n^n1*n^n2",r:"n^(n1+n2)"},{l:"n^n1*-n",r:"-n^(n1+1)"},{l:"n^n1*n",r:"n^(n1+1)"},{l:"n^n1/-n",r:"-n^(n1-1)"},{l:"n^n1/n",r:"n^(n1-1)"},{l:"n/-n^n1",r:"-n^(1-n1)"},{l:"n/n^n1",r:"n^(1-n1)"},{l:"n^n1/-n^n2",r:"n^(n1-n2)"},{l:"n^n1/n^n2",r:"n^(n1-n2)"},{l:"n1+(-n2*n3)",r:"n1-n2*n3"},{l:"v*(-c)",r:"-c*v"},{l:"n1+-n2",r:"n1-n2"},{l:"v*c",r:"c*v"},{l:"(n1^n2)^n3",r:"(n1^(n2*n3))"}],q}function F(N,T,z){var I=N.type,q=arguments.length>1;if(I==="OperatorNode"&&N.isBinary()){var X=!1,V;if(N.op==="^"&&(N.args[0].type==="ParenthesisNode"||N.args[0].type==="OperatorNode")&&N.args[1].type==="ConstantNode"&&(V=parseFloat(N.args[1].value),X=V>=2&&Ge(V)),X){if(V>2){var L=N.args[0],ne=new A("^","pow",[N.args[0].cloneDeep(),new S(V-1)]);N=new A("*","multiply",[L,ne])}else N=new A("*","multiply",[N.args[0],N.args[0].cloneDeep()]);q&&(z==="content"?T.content=N:T.args[z]=N)}}if(I==="ParenthesisNode")F(N.content,N,"content");else if(I!=="ConstantNode"&&I!=="SymbolNode")for(var se=0;se<N.args.length;se++)F(N.args[se],N,se);if(!q)return N}function $(N,T){T===void 0&&(T=[]),T[0]=0;var z={};z.cte=1,z.oper="+",z.fire="";var I=0,q="";ie(N,null,z),I=T.length-1;for(var X=!0,V,L=I;L>=0;L--)if(T[L]!==0){var ne=new S(X?T[L]:Math.abs(T[L])),se=T[L]<0?"-":"+";if(L>0){var Y=new D(q);if(L>1){var ee=new S(L);Y=new A("^","pow",[Y,ee])}T[L]===-1&&X?ne=new A("-","unaryMinus",[Y]):Math.abs(T[L])===1?ne=Y:ne=new A("*","multiply",[ne,Y])}X?V=ne:se==="+"?V=new A("+","add",[V,ne]):V=new A("-","subtract",[V,ne]),X=!1}if(X)return new S(0);return V;function ie(j,W,J){var oe=j.type;if(oe==="FunctionNode")throw new Error("There is an unsolved function call");if(oe==="OperatorNode"){if("+-*^".indexOf(j.op)===-1)throw new Error("Operator "+j.op+" invalid");if(W!==null){if((j.fn==="unaryMinus"||j.fn==="pow")&&W.fn!=="add"&&W.fn!=="subtract"&&W.fn!=="multiply")throw new Error("Invalid "+j.op+" placing");if((j.fn==="subtract"||j.fn==="add"||j.fn==="multiply")&&W.fn!=="add"&&W.fn!=="subtract")throw new Error("Invalid "+j.op+" placing");if((j.fn==="subtract"||j.fn==="add"||j.fn==="unaryMinus")&&J.noFil!==0)throw new Error("Invalid "+j.op+" placing")}(j.op==="^"||j.op==="*")&&(J.fire=j.op);for(var de=0;de<j.args.length;de++)j.fn==="unaryMinus"&&(J.oper="-"),(j.op==="+"||j.fn==="subtract")&&(J.fire="",J.cte=1,J.oper=de===0?"+":j.op),J.noFil=de,ie(j.args[de],j,J)}else if(oe==="SymbolNode"){if(j.name!==q&&q!=="")throw new Error("There is more than one variable");if(q=j.name,W===null){T[1]=1;return}if(W.op==="^"&&J.noFil!==0)throw new Error("In power the variable should be the first parameter");if(W.op==="*"&&J.noFil!==1)throw new Error("In multiply the variable should be the second parameter");(J.fire===""||J.fire==="*")&&(I<1&&(T[1]=0),T[1]+=J.cte*(J.oper==="+"?1:-1),I=Math.max(1,I))}else if(oe==="ConstantNode"){var ge=parseFloat(j.value);if(W===null){T[0]=ge;return}if(W.op==="^"){if(J.noFil!==1)throw new Error("Constant cannot be powered");if(!Ge(ge)||ge<=0)throw new Error("Non-integer exponent is not allowed");for(var U=I+1;U<ge;U++)T[U]=0;ge>I&&(T[ge]=0),T[ge]+=J.cte*(J.oper==="+"?1:-1),I=Math.max(ge,I);return}J.cte=ge,J.fire===""&&(T[0]+=J.cte*(J.oper==="+"?1:-1))}else throw new Error("Type "+oe+" is not allowed")}}}),IT="zpk2tf",mAe=["typed","add","multiply","Complex","number"],gAe=K(IT,mAe,t=>{var{typed:e,add:n,multiply:r,Complex:i,number:o}=t;return e(IT,{"Array,Array,number":function(u,c,f){return a(u,c,f)},"Array,Array":function(u,c){return a(u,c,1)},"Matrix,Matrix,number":function(u,c,f){return a(u.valueOf(),c.valueOf(),f)},"Matrix,Matrix":function(u,c){return a(u.valueOf(),c.valueOf(),1)}});function a(l,u,c){l.some(w=>w.type==="BigNumber")&&(l=l.map(w=>o(w))),u.some(w=>w.type==="BigNumber")&&(u=u.map(w=>o(w)));for(var f=[i(1,0)],d=[i(1,0)],h=0;h<l.length;h++){var p=l[h];typeof p=="number"&&(p=i(p,0)),f=s(f,[i(1,0),i(-p.re,-p.im)])}for(var m=0;m<u.length;m++){var v=u[m];typeof v=="number"&&(v=i(v,0)),d=s(d,[i(1,0),i(-v.re,-v.im)])}for(var g=0;g<f.length;g++)f[g]=r(f[g],c);return[f,d]}function s(l,u){for(var c=[],f=0;f<l.length+u.length-1;f++){c[f]=i(0,0);for(var d=0;d<l.length;d++)f-d>=0&&f-d<u.length&&(c[f]=n(c[f],r(l[d],u[f-d])))}return c}}),PT="freqz",vAe=["typed","add","multiply","Complex","divide","matrix"],yAe=K(PT,vAe,t=>{var{typed:e,add:n,multiply:r,Complex:i,divide:o,matrix:a}=t;return e(PT,{"Array, Array":function(c,f){var d=l(512);return s(c,f,d)},"Array, Array, Array":function(c,f,d){return s(c,f,d)},"Array, Array, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var h=l(d);return s(c,f,h)},"Matrix, Matrix":function(c,f){var d=l(512),{w:h,h:p}=s(c.valueOf(),f.valueOf(),d);return{w:a(h),h:a(p)}},"Matrix, Matrix, Matrix":function(c,f,d){var{h}=s(c.valueOf(),f.valueOf(),d.valueOf());return{h:a(h),w:a(d)}},"Matrix, Matrix, number":function(c,f,d){if(d<0)throw new Error("w must be a positive number");var h=l(d),{h:p}=s(c.valueOf(),f.valueOf(),h);return{h:a(p),w:a(h)}}});function s(u,c,f){for(var d=[],h=[],p=0;p<f.length;p++){for(var m=i(0,0),v=i(0,0),g=0;g<u.length;g++)m=n(m,r(u[g],i(Math.cos(-g*f[p]),Math.sin(-g*f[p]))));for(var w=0;w<c.length;w++)v=n(v,r(c[w],i(Math.cos(-w*f[p]),Math.sin(-w*f[p]))));d.push(m),h.push(v)}for(var y=[],S=0;S<d.length;S++)y.push(o(d[S],h[S]));return{h:y,w:f}}function l(u){for(var c=[],f=0;f<u;f++)c.push(f/u*Math.PI);return c}}),bAe="reviver",xAe=["classes"],wAe=K(bAe,xAe,t=>{var{classes:e}=t;return function(r,i){var o=e[i&&i.mathjs];return o&&typeof o.fromJSON=="function"?o.fromJSON(i):i}}),SAe="replacer",CAe=[],AAe=K(SAe,CAe,()=>function(e,n){return typeof n=="number"&&(!isFinite(n)||isNaN(n))?{mathjs:"number",value:String(n)}:n}),DAe="12.3.0",EAe=K("true",[],()=>!0),MAe=K("false",[],()=>!1),NAe=K("null",[],()=>null),$Ae=Mi("Infinity",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(1/0):1/0}),OAe=Mi("NaN",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(NaN):NaN}),TAe=Mi("pi",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?IS(n):Uce}),BAe=Mi("tau",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?dve(n):qce}),IAe=Mi("e",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?cve(n):Wce}),PAe=Mi("phi",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?fve(n):jce}),kAe=Mi("LN2",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(2).ln():Math.LN2}),FAe=Mi("LN10",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(10).ln():Math.LN10}),RAe=Mi("LOG2E",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(1).div(new n(2).ln()):Math.LOG2E}),_Ae=Mi("LOG10E",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(1).div(new n(10).ln()):Math.LOG10E}),zAe=Mi("SQRT1_2",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n("0.5").sqrt():Math.SQRT1_2}),LAe=Mi("SQRT2",["config","?BigNumber"],t=>{var{config:e,BigNumber:n}=t;return e.number==="BigNumber"?new n(2).sqrt():Math.SQRT2}),HAe=Mi("i",["Complex"],t=>{var{Complex:e}=t;return e.I}),VAe=K("version",[],()=>DAe);function Mi(t,e,n){return K(t,e,n,{recreateOnConfigChange:!0})}var UAe=pt("speedOfLight","299792458","m s^-1"),qAe=pt("gravitationConstant","6.67430e-11","m^3 kg^-1 s^-2"),WAe=pt("planckConstant","6.62607015e-34","J s"),jAe=pt("reducedPlanckConstant","1.0545718176461565e-34","J s"),GAe=pt("magneticConstant","1.25663706212e-6","N A^-2"),XAe=pt("electricConstant","8.8541878128e-12","F m^-1"),KAe=pt("vacuumImpedance","376.730313667","ohm"),YAe=pt("coulomb","8.987551792261171e9","N m^2 C^-2"),ZAe=pt("elementaryCharge","1.602176634e-19","C"),QAe=pt("bohrMagneton","9.2740100783e-24","J T^-1"),JAe=pt("conductanceQuantum","7.748091729863649e-5","S"),eDe=pt("inverseConductanceQuantum","12906.403729652257","ohm"),tDe=pt("magneticFluxQuantum","2.0678338484619295e-15","Wb"),nDe=pt("nuclearMagneton","5.0507837461e-27","J T^-1"),rDe=pt("klitzing","25812.807459304513","ohm"),iDe=pt("bohrRadius","5.29177210903e-11","m"),oDe=pt("classicalElectronRadius","2.8179403262e-15","m"),aDe=pt("electronMass","9.1093837015e-31","kg"),sDe=pt("fermiCoupling","1.1663787e-5","GeV^-2"),lDe=Gv("fineStructure",.0072973525693),uDe=pt("hartreeEnergy","4.3597447222071e-18","J"),cDe=pt("protonMass","1.67262192369e-27","kg"),fDe=pt("deuteronMass","3.3435830926e-27","kg"),dDe=pt("neutronMass","1.6749271613e-27","kg"),hDe=pt("quantumOfCirculation","3.6369475516e-4","m^2 s^-1"),pDe=pt("rydberg","10973731.568160","m^-1"),mDe=pt("thomsonCrossSection","6.6524587321e-29","m^2"),gDe=Gv("weakMixingAngle",.2229),vDe=Gv("efimovFactor",22.7),yDe=pt("atomicMass","1.66053906660e-27","kg"),bDe=pt("avogadro","6.02214076e23","mol^-1"),xDe=pt("boltzmann","1.380649e-23","J K^-1"),wDe=pt("faraday","96485.33212331001","C mol^-1"),SDe=pt("firstRadiation","3.7417718521927573e-16","W m^2"),CDe=pt("loschmidt","2.686780111798444e25","m^-3"),ADe=pt("gasConstant","8.31446261815324","J K^-1 mol^-1"),DDe=pt("molarPlanckConstant","3.990312712893431e-10","J s mol^-1"),EDe=pt("molarVolume","0.022413969545014137","m^3 mol^-1"),MDe=Gv("sackurTetrode",-1.16487052358),NDe=pt("secondRadiation","0.014387768775039337","m K"),$De=pt("stefanBoltzmann","5.67037441918443e-8","W m^-2 K^-4"),ODe=pt("wienDisplacement","2.897771955e-3","m K"),TDe=pt("molarMass","0.99999999965e-3","kg mol^-1"),BDe=pt("molarMassC12","11.9999999958e-3","kg mol^-1"),IDe=pt("gravity","9.80665","m s^-2"),PDe=pt("planckLength","1.616255e-35","m"),kDe=pt("planckMass","2.176435e-8","kg"),FDe=pt("planckTime","5.391245e-44","s"),RDe=pt("planckCharge","1.87554603778e-18","C"),_De=pt("planckTemperature","1.416785e+32","K");function pt(t,e,n){var r=["config","Unit","BigNumber"];return K(t,r,i=>{var{config:o,Unit:a,BigNumber:s}=i,l=o.number==="BigNumber"?new s(e):parseFloat(e),u=new a(l,n);return u.fixPrefix=!0,u})}function Gv(t,e){var n=["config","BigNumber"];return K(t,n,r=>{var{config:i,BigNumber:o}=r;return i.number==="BigNumber"?new o(e):e})}var zDe="apply",LDe=["typed","isInteger"],HDe=K(zDe,LDe,t=>{var{typed:e,isInteger:n}=t,r=MS({typed:e,isInteger:n});return e("apply",{"...any":function(o){var a=o[1];wt(a)?o[1]=a-1:Et(a)&&(o[1]=a.minus(1));try{return r.apply(null,o)}catch(s){throw Wr(s)}}})},{isTransformFunction:!0}),VDe="column",UDe=["typed","Index","matrix","range"],qDe=K(VDe,UDe,t=>{var{typed:e,Index:n,matrix:r,range:i}=t,o=A_({typed:e,Index:n,matrix:r,range:i});return e("column",{"...any":function(s){var l=s.length-1,u=s[l];wt(u)&&(s[l]=u-1);try{return o.apply(null,s)}catch(c){throw Wr(c)}}})},{isTransformFunction:!0});function VS(t,e,n){var r=t.filter(function(s){return er(s)&&!(s.name in e)&&!n.has(s.name)})[0];if(!r)throw new Error('No undefined variable found in inline expression "'+t+'"');var i=r.name,o=zf(n),a=t.compile();return function(l){return o.set(i,l),a.evaluate(o)}}var WDe="filter",jDe=["typed"],GDe=K(WDe,jDe,t=>{var{typed:e}=t;function n(i,o,a){var s,l;return i[0]&&(s=i[0].compile().evaluate(a)),i[1]&&(er(i[1])||sh(i[1])?l=i[1].compile().evaluate(a):l=VS(i[1],o,a)),r(s,l)}n.rawArgs=!0;var r=e("filter",{"Array, function":kT,"Matrix, function":function(o,a){return o.create(kT(o.toArray(),a))},"Array, RegExp":gg,"Matrix, RegExp":function(o,a){return o.create(gg(o.toArray(),a))}});return n},{isTransformFunction:!0});function kT(t,e){return t5(t,function(n,r,i){return Yc(e,n,[r+1],i,"filter")})}var XDe="forEach",KDe=["typed"],YDe=K(XDe,KDe,t=>{var{typed:e}=t;function n(i,o,a){var s,l;return i[0]&&(s=i[0].compile().evaluate(a)),i[1]&&(er(i[1])||sh(i[1])?l=i[1].compile().evaluate(a):l=VS(i[1],o,a)),r(s,l)}n.rawArgs=!0;var r=e("forEach",{"Array | Matrix, function":function(o,a){var s=function l(u,c){if(Array.isArray(u))_v(u,function(f,d){l(f,c.concat(d+1))});else return Yc(a,u,c,o,"forEach")};s(o.valueOf(),[])}});return n},{isTransformFunction:!0}),ZDe="index",QDe=["Index","getMatrixDataType"],JDe=K(ZDe,QDe,t=>{var{Index:e,getMatrixDataType:n}=t;return function(){for(var i=[],o=0,a=arguments.length;o<a;o++){var s=arguments[o];if(bS(s))s.start--,s.end-=s.step>0?0:2;else if(s&&s.isSet===!0)s=s.map(function(u){return u-1});else if(_t(s)||Je(s))n(s)!=="boolean"&&(s=s.map(function(u){return u-1}));else if(wt(s))s--;else if(Et(s))s=s.toNumber()-1;else if(typeof s!="string")throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");i[o]=s}var l=new e;return e.apply(l,i),l}},{isTransformFunction:!0}),eEe="map",tEe=["typed"],nEe=K(eEe,tEe,t=>{var{typed:e}=t;function n(i,o,a){var s,l;return i[0]&&(s=i[0].compile().evaluate(a)),i[1]&&(er(i[1])||sh(i[1])?l=i[1].compile().evaluate(a):l=VS(i[1],o,a)),r(s,l)}n.rawArgs=!0;var r=e("map",{"Array, function":function(o,a){return FT(o,a,o)},"Matrix, function":function(o,a){return o.create(FT(o.valueOf(),a,o))}});return n},{isTransformFunction:!0});function FT(t,e,n){function r(i,o){return Array.isArray(i)?Ra(i,function(a,s){return r(a,o.concat(s+1))}):Yc(e,i,o,n,"map")}return r(t,[])}function Ys(t){if(t.length===2&&Ki(t[0])){t=t.slice();var e=t[1];wt(e)?t[1]=e-1:Et(e)&&(t[1]=e.minus(1))}return t}var rEe="max",iEe=["typed","config","numeric","larger"],oEe=K(rEe,iEe,t=>{var{typed:e,config:n,numeric:r,larger:i}=t,o=P_({typed:e,config:n,numeric:r,larger:i});return e("max",{"...any":function(s){s=Ys(s);try{return o.apply(null,s)}catch(l){throw Wr(l)}}})},{isTransformFunction:!0}),aEe="mean",sEe=["typed","add","divide"],lEe=K(aEe,sEe,t=>{var{typed:e,add:n,divide:r}=t,i=U_({typed:e,add:n,divide:r});return e("mean",{"...any":function(a){a=Ys(a);try{return i.apply(null,a)}catch(s){throw Wr(s)}}})},{isTransformFunction:!0}),uEe="min",cEe=["typed","config","numeric","smaller"],fEe=K(uEe,cEe,t=>{var{typed:e,config:n,numeric:r,smaller:i}=t,o=k_({typed:e,config:n,numeric:r,smaller:i});return e("min",{"...any":function(s){s=Ys(s);try{return o.apply(null,s)}catch(l){throw Wr(l)}}})},{isTransformFunction:!0}),dEe="range",hEe=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq","add","isPositive"],pEe=K(dEe,hEe,t=>{var{typed:e,config:n,matrix:r,bignumber:i,smaller:o,smallerEq:a,larger:s,largerEq:l,add:u,isPositive:c}=t,f=N_({typed:e,config:n,matrix:r,bignumber:i,smaller:o,smallerEq:a,larger:s,largerEq:l,add:u,isPositive:c});return e("range",{"...any":function(h){var p=h.length-1,m=h[p];return typeof m!="boolean"&&h.push(!0),f.apply(null,h)}})},{isTransformFunction:!0}),mEe="row",gEe=["typed","Index","matrix","range"],vEe=K(mEe,gEe,t=>{var{typed:e,Index:n,matrix:r,range:i}=t,o=$_({typed:e,Index:n,matrix:r,range:i});return e("row",{"...any":function(s){var l=s.length-1,u=s[l];wt(u)&&(s[l]=u-1);try{return o.apply(null,s)}catch(c){throw Wr(c)}}})},{isTransformFunction:!0}),yEe="subset",bEe=["typed","matrix","zeros","add"],xEe=K(yEe,bEe,t=>{var{typed:e,matrix:n,zeros:r,add:i}=t,o=O_({typed:e,matrix:n,zeros:r,add:i});return e("subset",{"...any":function(s){try{return o.apply(null,s)}catch(l){throw Wr(l)}}})},{isTransformFunction:!0}),wEe="concat",SEe=["typed","matrix","isInteger"],CEe=K(wEe,SEe,t=>{var{typed:e,matrix:n,isInteger:r}=t,i=C_({typed:e,matrix:n,isInteger:r});return e("concat",{"...any":function(a){var s=a.length-1,l=a[s];wt(l)?a[s]=l-1:Et(l)&&(a[s]=l.minus(1));try{return i.apply(null,a)}catch(u){throw Wr(u)}}})},{isTransformFunction:!0}),RT="diff",AEe=["typed","matrix","subtract","number","bignumber"],DEe=K(RT,AEe,t=>{var{typed:e,matrix:n,subtract:r,number:i,bignumber:o}=t,a=D_({typed:e,matrix:n,subtract:r,number:i,bignumber:o});return e(RT,{"...any":function(l){l=Ys(l);try{return a.apply(null,l)}catch(u){throw Wr(u)}}})},{isTransformFunction:!0}),EEe="std",MEe=["typed","map","sqrt","variance"],NEe=K(EEe,MEe,t=>{var{typed:e,map:n,sqrt:r,variance:i}=t,o=j_({typed:e,map:n,sqrt:r,variance:i});return e("std",{"...any":function(s){s=Ys(s);try{return o.apply(null,s)}catch(l){throw Wr(l)}}})},{isTransformFunction:!0}),_T="sum",$Ee=["typed","config","add","numeric"],OEe=K(_T,$Ee,t=>{var{typed:e,config:n,add:r,numeric:i}=t,o=H_({typed:e,config:n,add:r,numeric:i});return e(_T,{"...any":function(s){s=Ys(s);try{return o.apply(null,s)}catch(l){throw Wr(l)}}})},{isTransformFunction:!0}),TEe="quantileSeq",BEe=["typed","bignumber","add","subtract","divide","multiply","partitionSelect","compare","isInteger","smaller","smallerEq","larger"],IEe=K(TEe,BEe,t=>{var{typed:e,bignumber:n,add:r,subtract:i,divide:o,multiply:a,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d}=t,h=W_({typed:e,bignumber:n,add:r,subtract:i,divide:o,multiply:a,partitionSelect:s,compare:l,isInteger:u,smaller:c,smallerEq:f,larger:d});return e("quantileSeq",{"Array | Matrix, number | BigNumber":h,"Array | Matrix, number | BigNumber, number":(m,v,g)=>h(m,v,p(g)),"Array | Matrix, number | BigNumber, boolean":h,"Array | Matrix, number | BigNumber, boolean, number":(m,v,g,w)=>h(m,v,g,p(w)),"Array | Matrix, Array | Matrix":h,"Array | Matrix, Array | Matrix, number":(m,v,g)=>h(m,v,p(g)),"Array | Matrix, Array | Matrix, boolean":h,"Array | Matrix, Array | Matrix, boolean, number":(m,v,g,w)=>h(m,v,g,p(w))});function p(m){return Ys([[],m])[1]}},{isTransformFunction:!0}),zT="cumsum",PEe=["typed","add","unaryPlus"],kEe=K(zT,PEe,t=>{var{typed:e,add:n,unaryPlus:r}=t,i=V_({typed:e,add:n,unaryPlus:r});return e(zT,{"...any":function(a){if(a.length===2&&Ki(a[0])){var s=a[1];wt(s)?a[1]=s-1:Et(s)&&(a[1]=s.minus(1))}try{return i.apply(null,a)}catch(l){throw Wr(l)}}})},{isTransformFunction:!0}),LT="variance",FEe=["typed","add","subtract","multiply","divide","apply","isNaN"],REe=K(LT,FEe,t=>{var{typed:e,add:n,subtract:r,multiply:i,divide:o,apply:a,isNaN:s}=t,l=q_({typed:e,add:n,subtract:r,multiply:i,divide:o,apply:a,isNaN:s});return e(LT,{"...any":function(c){c=Ys(c);try{return l.apply(null,c)}catch(f){throw Wr(f)}}})},{isTransformFunction:!0}),HT="print",_Ee=["typed","matrix","zeros","add"],zEe=K(HT,_Ee,t=>{var{typed:e,matrix:n,zeros:r,add:i}=t,o=B_({typed:e,matrix:n,zeros:r,add:i});return e(HT,{"string, Object | Array":function(l,u){return o(a(l),u)},"string, Object | Array, number | Object":function(l,u,c){return o(a(l),u,c)}});function a(s){return s.replace(T_,l=>{var u=l.slice(1).split("."),c=u.map(function(f){return!isNaN(f)&&f.length>0?parseInt(f)-1:f});return"$"+c.join(".")})}},{isTransformFunction:!0}),LEe="and",HEe=["typed","matrix","zeros","add","equalScalar","not","concat"],VEe=K(LEe,HEe,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a}=t,s=I_({typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a});function l(u,c,f){var d=u[0].compile().evaluate(f);if(!Ki(d)&&!s(d,!0))return!1;var h=u[1].compile().evaluate(f);return s(d,h)}return l.rawArgs=!0,l},{isTransformFunction:!0}),UEe="or",qEe=["typed","matrix","equalScalar","DenseMatrix","concat"],WEe=K(UEe,qEe,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=S_({typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o});function s(l,u,c){var f=l[0].compile().evaluate(c);if(!Ki(f)&&a(f,!1))return!0;var d=l[1].compile().evaluate(c);return a(f,d)}return s.rawArgs=!0,s},{isTransformFunction:!0}),jEe="bitAnd",GEe=["typed","matrix","zeros","add","equalScalar","not","concat"],XEe=K(jEe,GEe,t=>{var{typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a}=t,s=x_({typed:e,matrix:n,equalScalar:r,zeros:i,not:o,concat:a});function l(u,c,f){var d=u[0].compile().evaluate(f);if(!Ki(d)){if(isNaN(d))return NaN;if(d===0||d===!1)return 0}var h=u[1].compile().evaluate(f);return s(d,h)}return l.rawArgs=!0,l},{isTransformFunction:!0}),KEe="bitOr",YEe=["typed","matrix","equalScalar","DenseMatrix","concat"],ZEe=K(KEe,YEe,t=>{var{typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o}=t,a=w_({typed:e,matrix:n,equalScalar:r,DenseMatrix:i,concat:o});function s(l,u,c){var f=l[0].compile().evaluate(c);if(!Ki(f)){if(isNaN(f))return NaN;if(f===-1)return-1;if(f===!0)return 1}var d=l[1].compile().evaluate(c);return a(f,d)}return s.rawArgs=!0,s},{isTransformFunction:!0}),_e=yce({config:Oe}),tn=Sce({}),VT=IAe({BigNumber:_e,config:Oe}),QEe=MAe({}),JEe=lDe({BigNumber:_e,config:Oe}),Yl=Ece({}),K_=HAe({Complex:tn}),eMe=$Ae({BigNumber:_e,config:Oe}),tMe=FAe({BigNumber:_e,config:Oe}),nMe=_Ae({BigNumber:_e,config:Oe}),Xv=Bce({}),rMe=OAe({BigNumber:_e,config:Oe}),iMe=NAe({}),oMe=PAe({BigNumber:_e,config:Oe}),aMe=$ce({}),Y_=Sue({}),sMe=zAe({BigNumber:_e,config:Oe}),lMe=MDe({BigNumber:_e,config:Oe}),Z_=BAe({BigNumber:_e,config:Oe}),uMe=EAe({}),cMe=VAe({}),bt=Fce({Matrix:Xv}),fMe=vDe({BigNumber:_e,config:Oe}),dMe=kAe({BigNumber:_e,config:Oe}),nx=TAe({BigNumber:_e,config:Oe}),hMe=AAe({}),pMe=LAe({BigNumber:_e,config:Oe}),ae=yue({BigNumber:_e,Complex:tn,DenseMatrix:bt,Fraction:Yl}),US=Gfe({BigNumber:_e,config:Oe,typed:ae}),mMe=gDe({BigNumber:_e,config:Oe}),jr=Kfe({typed:ae}),gMe=Cve({Complex:tn,config:Oe,typed:ae}),vMe=Mve({BigNumber:_e,typed:ae}),yMe=Tve({BigNumber:_e,Complex:tn,config:Oe,typed:ae}),Kn=Jfe({typed:ae}),bMe=Lhe({typed:ae}),xMe=Rve({BigNumber:_e,Complex:tn,config:Oe,typed:ae}),wMe=Vve({typed:ae}),Q_=Wve({typed:ae}),SMe=Kve({Complex:tn,config:Oe,typed:ae}),Si=Mfe({BigNumber:_e,typed:ae}),CMe=Ihe({typed:ae}),AMe=Afe({typed:ae}),DMe=_ce({typed:ae}),Kv=t2e({typed:ae}),Yv=Ofe({Complex:tn,typed:ae}),Zl=Vhe({typed:ae}),qS=Zve({typed:ae}),EMe=t0e({BigNumber:_e,typed:ae}),MMe=o0e({BigNumber:_e,typed:ae}),NMe=pde({typed:ae}),Dt=dfe({config:Oe,typed:ae}),$Me=cme({typed:ae}),J_=gde({typed:ae}),OMe=yde({Complex:tn,typed:ae}),TMe=lpe({typed:ae}),BMe=dpe({typed:ae}),ch=wme({typed:ae}),WS=mpe({typed:ae}),IMe=Mme({format:ch,typed:ae}),jS=qhe({typed:ae}),ti=Lce({typed:ae}),Zs=Zce({typed:ae}),Ql=rfe({typed:ae}),$o=ofe({typed:ae}),PMe=RAe({BigNumber:_e,config:Oe}),kMe=s2e({Complex:tn,typed:ae}),FMe=Jde({Complex:tn,config:Oe,typed:ae}),e8=the({Complex:tn,config:Oe,typed:ae}),Jl=wpe({typed:ae}),Mn=ihe({typed:ae}),kg=Xhe({typed:ae}),rs=xfe({typed:ae}),RMe=Dme({format:ch,typed:ae}),_Me=k2e({config:Oe,typed:ae}),zMe=B_({typed:ae}),LMe=R2e({config:Oe,typed:ae}),GS=jhe({typed:ae}),HMe=u0e({BigNumber:_e,typed:ae}),t8=che({BigNumber:_e,Fraction:Yl,complex:Yv,typed:ae}),Zv=h0e({typed:ae}),is=mfe({Matrix:Xv,equalScalar:Dt,typed:ae}),VMe=Ufe({typed:ae}),UMe=mhe({typed:ae}),qMe=Sfe({typed:ae}),Ji=tde({typed:ae}),WMe=v0e({typed:ae}),n8=ufe({typed:ae}),jMe=Dve({Complex:tn,config:Oe,typed:ae}),GMe=Ive({BigNumber:_e,typed:ae}),XS=MS({isInteger:ti,typed:ae}),XMe=kve({BigNumber:_e,Complex:tn,config:Oe,typed:ae}),KMe=Cme({format:ch,typed:ae}),YMe=r2e({typed:ae}),ZMe=Jve({typed:ae}),QMe=s0e({BigNumber:_e,typed:ae}),fh=sfe({typed:ae}),JMe=Bme({typed:ae}),eNe=z2e({config:Oe,typed:ae}),tNe=f0e({BigNumber:_e,typed:ae}),nNe=m0e({typed:ae}),rNe=bve({SparseMatrix:is,typed:ae}),Oo=hhe({Complex:tn,config:Oe,typed:ae}),iNe=x0e({typed:ae}),fa=Wfe({typed:ae}),oNe=$ve({BigNumber:_e,Complex:tn,config:Oe,typed:ae}),aNe=r0e({BigNumber:_e,typed:ae}),Qc=Ife({Fraction:Yl,typed:ae}),eu=Jce({typed:ae}),Fe=kfe({DenseMatrix:bt,Matrix:Xv,SparseMatrix:is,typed:ae}),sNe=Rfe({isZero:$o,matrix:Fe,typed:ae}),lNe=vme({isNaN:fh,isNumeric:eu,typed:ae}),xo=kme({bignumber:Si,fraction:Qc,number:rs}),r8=bme({config:Oe,multiplyScalar:Mn,numeric:xo,typed:ae}),i8=$pe({isInteger:ti,matrix:Fe,typed:ae}),dr=zpe({matrix:Fe,config:Oe,typed:ae}),uNe=Hpe({matrix:Fe,typed:ae}),dh=Gpe({matrix:Fe,typed:ae}),o8=bhe({BigNumber:_e,config:Oe,matrix:Fe,typed:ae}),ur=Zpe({BigNumber:_e,config:Oe,matrix:Fe,typed:ae}),cNe=zve({Complex:tn,config:Oe,typed:ae}),a8=rde({BigNumber:_e,Complex:tn,Fraction:Yl,config:Oe,isNegative:Zs,matrix:Fe,typed:ae,unaryMinus:fa}),Tt=C_({isInteger:ti,matrix:Fe,typed:ae}),fNe=tpe({prod:r8,size:dr,typed:ae}),KS=Kpe({conj:Zl,transpose:dh,typed:ae}),s8=ope({DenseMatrix:bt,SparseMatrix:is,matrix:Fe,typed:ae}),bn=Rme({numeric:xo,typed:ae}),hh=Zme({DenseMatrix:bt,concat:Tt,divideScalar:bn,equalScalar:Dt,matrix:Fe,typed:ae}),eo=Dge({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),ph=cpe({matrix:Fe,typed:ae}),dNe=tfe({isNumeric:eu,typed:ae}),Qs=vpe({BigNumber:_e,DenseMatrix:bt,SparseMatrix:is,config:Oe,matrix:Fe,typed:ae}),hNe=bpe({matrix:Fe,multiplyScalar:Mn,typed:ae}),Qv=zge({DenseMatrix:bt,concat:Tt,config:Oe,matrix:Fe,typed:ae}),pNe=uge({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae,zeros:ur}),l8=Jme({DenseMatrix:bt,divideScalar:bn,equalScalar:Dt,matrix:Fe,multiplyScalar:Mn,subtractScalar:Ji,typed:ae}),YS=Hfe({flatten:ph,matrix:Fe,size:dr,typed:ae}),mNe=lhe({BigNumber:_e,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),gNe=Epe({BigNumber:_e,config:Oe,matrix:Fe,typed:ae}),ZS=nbe({addScalar:Kn,complex:Yv,conj:Zl,divideScalar:bn,equal:eo,identity:Qs,isZero:$o,matrix:Fe,multiplyScalar:Mn,sign:t8,sqrt:Oo,subtractScalar:Ji,typed:ae,unaryMinus:fa,zeros:ur}),vNe=Bpe({config:Oe,matrix:Fe}),yNe=fge({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae,zeros:ur}),Jc=Hme({BigNumber:_e,DenseMatrix:bt,equalScalar:Dt,matrix:Fe,typed:ae,zeros:ur}),zr=Oge({DenseMatrix:bt,concat:Tt,config:Oe,matrix:Fe,typed:ae}),Dn=vhe({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,subtractScalar:Ji,typed:ae,unaryMinus:fa}),bNe=Ome({concat:Tt,matrix:Fe,typed:ae}),xNe=qge({DenseMatrix:bt,concat:Tt,config:Oe,equalScalar:Dt,matrix:Fe,typed:ae}),QS=tge({DenseMatrix:bt,divideScalar:bn,equalScalar:Dt,matrix:Fe,multiplyScalar:Mn,subtractScalar:Ji,typed:ae}),wNe=Zhe({DenseMatrix:bt,concat:Tt,matrix:Fe,typed:ae}),Mt=V0e({DenseMatrix:bt,SparseMatrix:is,addScalar:Kn,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),SNe=Gve({BigNumber:_e,DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),CNe=x_({concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),ANe=w_({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),DNe=_he({DenseMatrix:bt,concat:Tt,matrix:Fe,typed:ae}),ENe=W2e({addScalar:Kn,combinations:Kv,divideScalar:bn,isInteger:ti,isNegative:Zs,multiplyScalar:Mn,typed:ae}),tu=gge({BigNumber:_e,DenseMatrix:bt,Fraction:Yl,concat:Tt,config:Oe,equalScalar:Dt,matrix:Fe,typed:ae}),u8=Cge({concat:Tt,matrix:Fe,typed:ae}),MNe=V_({add:Mt,typed:ae,unaryPlus:US}),JS=Vge({equal:eo,typed:ae}),NNe=D_({matrix:Fe,number:rs,subtract:Dn,typed:ae}),$Ne=_Ce({abs:jr,addScalar:Kn,deepEqual:JS,divideScalar:bn,multiplyScalar:Mn,sqrt:Oo,subtractScalar:Ji,typed:ae}),Jv=X0e({addScalar:Kn,conj:Zl,multiplyScalar:Mn,size:dr,typed:ae}),ONe=Nge({compareText:u8,isZero:$o,typed:ae}),c8=v_({DenseMatrix:bt,config:Oe,equalScalar:Dt,matrix:Fe,round:Jc,typed:ae,zeros:ur}),TNe=Gde({BigNumber:_e,DenseMatrix:bt,concat:Tt,config:Oe,equalScalar:Dt,matrix:Fe,round:Jc,typed:ae,zeros:ur}),BNe=q0e({abs:jr,addScalar:Kn,divideScalar:bn,isPositive:Ql,multiplyScalar:Mn,smaller:zr,sqrt:Oo,typed:ae}),f8=eve({DenseMatrix:bt,smaller:zr}),Sr=rve({ImmutableDenseMatrix:f8,getMatrixDataType:WS}),Lr=Fge({DenseMatrix:bt,concat:Tt,config:Oe,matrix:Fe,typed:ae}),eC=Ume({Complex:tn,config:Oe,divideScalar:bn,typed:ae}),INe=rge({DenseMatrix:bt,divideScalar:bn,equalScalar:Dt,matrix:Fe,multiplyScalar:Mn,subtractScalar:Ji,typed:ae}),PNe=zfe({flatten:ph,matrix:Fe,size:dr,typed:ae}),kNe=k_({config:Oe,numeric:xo,smaller:zr,typed:ae}),d8=y_({DenseMatrix:bt,concat:Tt,config:Oe,equalScalar:Dt,matrix:Fe,round:Jc,typed:ae,zeros:ur}),Ut=ahe({addScalar:Kn,dot:Jv,equalScalar:Dt,matrix:Fe,multiplyScalar:Mn,typed:ae}),FNe=Gme({Complex:tn,config:Oe,divideScalar:bn,typed:ae}),RNe=S_({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),e0=Gge({compare:tu,isNaN:fh,isNumeric:eu,typed:ae}),_Ne=hge({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae,zeros:ur}),h8=Ebe({SparseMatrix:is,abs:jr,add:Mt,divideScalar:bn,larger:Lr,largerEq:Qv,multiply:Ut,subtract:Dn,transpose:dh,typed:ae}),Ni=O_({add:Mt,matrix:Fe,typed:ae,zeros:ur}),tC=H_({add:Mt,config:Oe,numeric:xo,typed:ae}),zNe=Z0e({add:Mt,matrix:Fe,typed:ae}),p8=oge({DenseMatrix:bt,divideScalar:bn,equalScalar:Dt,matrix:Fe,multiplyScalar:Mn,subtractScalar:Ji,typed:ae}),LNe=gAe({Complex:tn,add:Mt,multiply:Ut,number:rs,typed:ae}),nC=dde({DenseMatrix:bt,config:Oe,equalScalar:Dt,matrix:Fe,round:Jc,typed:ae,zeros:ur}),da=xge({compare:tu,typed:ae}),HNe=G2e({addScalar:Kn,combinations:Kv,isInteger:ti,isNegative:Zs,isPositive:Ql,larger:Lr,typed:ae}),VNe=rpe({matrix:Fe,multiply:Ut,subtract:Dn,typed:ae}),m8=pCe({divideScalar:bn,isZero:$o,matrix:Fe,multiply:Ut,subtractScalar:Ji,typed:ae,unaryMinus:fa}),UNe=Dhe({concat:Tt,equalScalar:Dt,matrix:Fe,multiplyScalar:Mn,typed:ae}),g8=ave({larger:Lr,smaller:zr}),v8=wde({Complex:tn,DenseMatrix:bt,ceil:nC,equalScalar:Dt,floor:c8,matrix:Fe,typed:ae,zeros:ur}),y8=J0e({Index:Sr,typed:ae}),qNe=HCe({abs:jr,add:Mt,addScalar:Kn,config:Oe,divideScalar:bn,equalScalar:Dt,flatten:ph,isNumeric:eu,isZero:$o,matrix:Fe,multiply:Ut,multiplyScalar:Mn,smaller:zr,subtract:Dn,typed:ae}),WNe=whe({BigNumber:_e,add:Mt,config:Oe,equal:eo,isInteger:ti,mod:d8,smaller:zr,typed:ae,xgcd:o8}),jNe=Zde({concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),GNe=Wme({Complex:tn,config:Oe,divideScalar:bn,log:eC,typed:ae}),rC=P_({config:Oe,larger:Lr,numeric:xo,typed:ae}),XNe=S0e({DenseMatrix:bt,Index:Sr,compareNatural:da,size:dr,subset:Ni,typed:ae}),KNe=E0e({DenseMatrix:bt,Index:Sr,compareNatural:da,size:dr,subset:Ni,typed:ae}),YNe=O0e({Index:Sr,compareNatural:da,size:dr,subset:Ni,typed:ae}),ZNe=P0e({Index:Sr,compareNatural:da,size:dr,subset:Ni,typed:ae}),$c=Ige({DenseMatrix:bt,concat:Tt,config:Oe,matrix:Fe,typed:ae}),QNe=Kge({compare:tu,compareNatural:da,matrix:Fe,typed:ae}),JNe=I_({concat:Tt,equalScalar:Dt,matrix:Fe,not:kg,typed:ae,zeros:ur}),Oc=N_({bignumber:Si,matrix:Fe,add:Mt,config:Oe,isPositive:Ql,larger:Lr,largerEq:Qv,smaller:zr,smallerEq:$c,typed:ae}),e$e=$_({Index:Sr,matrix:Fe,range:Oc,typed:ae}),b8=A0e({DenseMatrix:bt,Index:Sr,compareNatural:da,size:dr,subset:Ni,typed:ae}),t$e=B0e({Index:Sr,compareNatural:da,size:dr,subset:Ni,typed:ae}),x8=_0e({Index:Sr,concat:Tt,setDifference:b8,size:dr,subset:Ni,typed:ae}),w8=uve({FibonacciHeap:g8,addScalar:Kn,equalScalar:Dt}),S8=A_({Index:Sr,matrix:Fe,range:Oc,typed:ae}),nu=gCe({abs:jr,addScalar:Kn,det:m8,divideScalar:bn,identity:Qs,matrix:Fe,multiply:Ut,typed:ae,unaryMinus:fa}),C8=ebe({DenseMatrix:bt,Spa:w8,SparseMatrix:is,abs:jr,addScalar:Kn,divideScalar:bn,equalScalar:Dt,larger:Lr,matrix:Fe,multiplyScalar:Mn,subtractScalar:Ji,typed:ae,unaryMinus:fa}),n$e=yCe({Complex:tn,add:Mt,ctranspose:KS,deepEqual:JS,divideScalar:bn,dot:Jv,dotDivide:hh,equal:eo,inv:nu,matrix:Fe,multiply:Ut,typed:ae}),to=zme({Complex:tn,config:Oe,fraction:Qc,identity:Qs,inv:nu,matrix:Fe,multiply:Ut,number:rs,typed:ae}),A8=N0e({DenseMatrix:bt,Index:Sr,compareNatural:da,size:dr,subset:Ni,typed:ae}),r$e=L0e({Index:Sr,concat:Tt,setIntersect:A8,setSymDifference:x8,size:dr,subset:Ni,typed:ae}),i$e=MCe({abs:jr,add:Mt,identity:Qs,inv:nu,map:Jl,max:rC,multiply:Ut,size:dr,sqrt:Oo,subtract:Dn,typed:ae}),ot=mve({BigNumber:_e,Complex:tn,Fraction:Yl,abs:jr,addScalar:Kn,config:Oe,divideScalar:bn,equal:eo,fix:v8,format:ch,isNumeric:eu,multiplyScalar:Mn,number:rs,pow:to,round:Jc,subtractScalar:Ji}),o$e=KAe({BigNumber:_e,Unit:ot,config:Oe}),a$e=ODe({BigNumber:_e,Unit:ot,config:Oe}),s$e=yDe({BigNumber:_e,Unit:ot,config:Oe}),l$e=QAe({BigNumber:_e,Unit:ot,config:Oe}),u$e=xDe({BigNumber:_e,Unit:ot,config:Oe}),c$e=JAe({BigNumber:_e,Unit:ot,config:Oe}),f$e=YAe({BigNumber:_e,Unit:ot,config:Oe}),d$e=fDe({BigNumber:_e,Unit:ot,config:Oe}),h$e=Kme({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,pow:to,typed:ae}),p$e=XAe({BigNumber:_e,Unit:ot,config:Oe}),m$e=ZAe({BigNumber:_e,Unit:ot,config:Oe}),g$e=DCe({abs:jr,add:Mt,identity:Qs,inv:nu,multiply:Ut,typed:ae}),v$e=wDe({BigNumber:_e,Unit:ot,config:Oe}),D8=Jpe({addScalar:Kn,ceil:nC,conj:Zl,divideScalar:bn,dotDivide:hh,exp:J_,i:K_,log2:e8,matrix:Fe,multiplyScalar:Mn,pow:to,tau:Z_,typed:ae}),iC=o2e({BigNumber:_e,Complex:tn,config:Oe,multiplyScalar:Mn,pow:to,typed:ae}),y$e=qAe({BigNumber:_e,Unit:ot,config:Oe}),b$e=uDe({BigNumber:_e,Unit:ot,config:Oe}),x$e=tme({conj:Zl,dotDivide:hh,fft:D8,typed:ae}),w$e=rDe({BigNumber:_e,Unit:ot,config:Oe}),S$e=CDe({BigNumber:_e,Unit:ot,config:Oe}),C$e=GAe({BigNumber:_e,Unit:ot,config:Oe}),A$e=TDe({BigNumber:_e,Unit:ot,config:Oe}),D$e=DDe({BigNumber:_e,Unit:ot,config:Oe}),E$e=dDe({BigNumber:_e,Unit:ot,config:Oe}),M$e=nDe({BigNumber:_e,Unit:ot,config:Oe}),N$e=RDe({BigNumber:_e,Unit:ot,config:Oe}),$$e=PDe({BigNumber:_e,Unit:ot,config:Oe}),O$e=_De({BigNumber:_e,Unit:ot,config:Oe}),T$e=cDe({BigNumber:_e,Unit:ot,config:Oe}),B$e=hDe({BigNumber:_e,Unit:ot,config:Oe}),I$e=jAe({BigNumber:_e,Unit:ot,config:Oe}),P$e=pDe({BigNumber:_e,Unit:ot,config:Oe}),k$e=NDe({BigNumber:_e,Unit:ot,config:Oe}),F$e=UAe({BigNumber:_e,Unit:ot,config:Oe}),R$e=$De({BigNumber:_e,Unit:ot,config:Oe}),_$e=mDe({BigNumber:_e,Unit:ot,config:Oe}),z$e=bDe({BigNumber:_e,Unit:ot,config:Oe}),L$e=iDe({BigNumber:_e,Unit:ot,config:Oe}),H$e=wve({Unit:ot,typed:ae}),tr=FCe({divideScalar:bn,equalScalar:Dt,inv:nu,matrix:Fe,multiply:Ut,typed:ae}),V$e=aDe({BigNumber:_e,Unit:ot,config:Oe}),mh=u2e({gamma:iC,typed:ae}),U$e=SDe({BigNumber:_e,Unit:ot,config:Oe}),q$e=IDe({BigNumber:_e,Unit:ot,config:Oe}),W$e=eDe({BigNumber:_e,Unit:ot,config:Oe}),E8=Nbe({DenseMatrix:bt,lsolve:l8,lup:C8,matrix:Fe,slu:h8,typed:ae,usolve:QS}),j$e=tDe({BigNumber:_e,Unit:ot,config:Oe}),G$e=BDe({BigNumber:_e,Unit:ot,config:Oe}),X$e=h2e({add:Mt,divide:tr,factorial:mh,isInteger:ti,isPositive:Ql,multiply:Ut,typed:ae}),K$e=m2e({factorial:mh,typed:ae}),Y$e=kDe({BigNumber:_e,Unit:ot,config:Oe}),Z$e=Obe({add:Mt,cbrt:a8,divide:tr,equalScalar:Dt,im:jS,isZero:$o,multiply:Ut,re:GS,sqrt:Oo,subtract:Dn,typeOf:n8,typed:ae,unaryMinus:fa}),Q$e=F0e({compareNatural:da,typed:ae}),J$e=sme({abs:jr,add:Mt,bignumber:Si,divide:tr,isNegative:Zs,isPositive:Ql,larger:Lr,map:Jl,matrix:Fe,max:rC,multiply:Ut,smaller:zr,subtract:Dn,typed:ae,unaryMinus:fa}),M8=H2e({bignumber:Si,addScalar:Kn,combinations:Kv,divideScalar:bn,factorial:mh,isInteger:ti,isNegative:Zs,larger:Lr,multiplyScalar:Mn,number:rs,pow:to,subtractScalar:Ji,typed:ae}),eOe=vve({Unit:ot,typed:ae}),tOe=U2e({addScalar:Kn,isInteger:ti,isNegative:Zs,stirlingS2:M8,typed:ae}),N8=CCe({abs:jr,add:Mt,addScalar:Kn,atan:Q_,bignumber:Si,column:S8,complex:Yv,config:Oe,cos:qS,diag:s8,divideScalar:bn,dot:Jv,equal:eo,flatten:ph,im:jS,inv:nu,larger:Lr,matrix:Fe,matrixFromColumns:YS,multiply:Ut,multiplyScalar:Mn,number:rs,qr:ZS,re:GS,reshape:i8,sin:Zv,size:dr,smaller:zr,sqrt:Oo,subtract:Dn,typed:ae,usolve:QS,usolveAll:p8}),nOe=sDe({BigNumber:_e,Unit:ot,config:Oe}),rOe=ADe({BigNumber:_e,Unit:ot,config:Oe}),$8=U_({add:Mt,divide:tr,typed:ae}),iOe=EDe({BigNumber:_e,Unit:ot,config:Oe}),oOe=WAe({BigNumber:_e,Unit:ot,config:Oe}),aOe=W_({bignumber:Si,add:Mt,compare:tu,divide:tr,isInteger:ti,larger:Lr,multiply:Ut,partitionSelect:e0,smaller:zr,smallerEq:$c,subtract:Dn,typed:ae}),oC=q_({add:Mt,apply:XS,divide:tr,isNaN:fh,multiply:Ut,subtract:Dn,typed:ae}),sOe=oDe({BigNumber:_e,Unit:ot,config:Oe}),O8=jCe({add:Mt,compare:tu,divide:tr,partitionSelect:e0,typed:ae}),lOe=JCe({add:Mt,divide:tr,matrix:Fe,mean:$8,multiply:Ut,pow:to,sqrt:Oo,subtract:Dn,sum:tC,typed:ae}),uOe=yAe({Complex:tn,add:Mt,divide:tr,matrix:Fe,multiply:Ut,typed:ae}),cOe=XCe({abs:jr,map:Jl,median:O8,subtract:Dn,typed:ae}),fOe=j_({map:Jl,sqrt:Oo,typed:ae,variance:oC}),dOe=mme({BigNumber:_e,Complex:tn,add:Mt,config:Oe,divide:tr,equal:eo,factorial:mh,gamma:iC,isNegative:Zs,multiply:Ut,pi:nx,pow:to,sin:Zv,smallerEq:$c,subtract:Dn,typed:ae}),aC=j0e({abs:jr,add:Mt,conj:Zl,ctranspose:KS,eigs:N8,equalScalar:Dt,larger:Lr,matrix:Fe,multiply:Ut,pow:to,smaller:zr,sqrt:Oo,typed:ae}),T8=Fpe({BigNumber:_e,DenseMatrix:bt,SparseMatrix:is,addScalar:Kn,config:Oe,cos:qS,matrix:Fe,multiplyScalar:Mn,norm:aC,sin:Zv,typed:ae,unaryMinus:fa}),hOe=f2e({divide:tr,dotDivide:hh,isNumeric:eu,log:eC,map:Jl,matrix:Fe,multiply:Ut,sum:tC,typed:ae}),pOe=FDe({BigNumber:_e,Unit:ot,config:Oe}),B8=TCe({identity:Qs,matrix:Fe,multiply:Ut,norm:aC,qr:ZS,subtract:Dn,typed:ae}),mOe=Ppe({multiply:Ut,rotationMatrix:T8,typed:ae}),I8=$Ce({abs:jr,add:Mt,concat:Tt,identity:Qs,index:y8,lusolve:E8,matrix:Fe,matrixFromColumns:YS,multiply:Ut,range:Oc,schur:B8,subset:Ni,subtract:Dn,transpose:dh,typed:ae}),gOe=ICe({matrix:Fe,multiply:Ut,sylvester:I8,transpose:dh,typed:ae}),ef={},tf={},P8={},Mr=nye({mathWithTransform:tf}),nf=Nye({Node:Mr}),os=Oye({Node:Mr}),ru=Bye({Node:Mr}),k8=Fye({Node:Mr}),rf=aye({Node:Mr}),F8=dye({Node:Mr,ResultSet:Y_}),R8=pye({Node:Mr}),Js=Sye({Node:Mr}),_8=Pye({Node:Mr}),vOe=wAe({classes:P8}),sC=Fbe({math:ef,typed:ae}),z8=Aye({Node:Mr,typed:ae}),yOe=dCe({Chain:sC,typed:ae}),of=Eye({Node:Mr,size:dr}),af=iye({Node:Mr,subset:Ni}),L8=cye({matrix:Fe,Node:Mr,subset:Ni}),el=zye({Unit:ot,Node:Mr,math:ef}),tl=Hye({Node:Mr,SymbolNode:el,math:ef}),To=Uye({AccessorNode:af,ArrayNode:rf,AssignmentNode:L8,BlockNode:F8,ConditionalNode:R8,ConstantNode:Js,FunctionAssignmentNode:z8,FunctionNode:tl,IndexNode:of,ObjectNode:nf,OperatorNode:os,ParenthesisNode:ru,RangeNode:_8,RelationalNode:k8,SymbolNode:el,config:Oe,numeric:xo,typed:ae}),H8=lAe({ConstantNode:Js,FunctionNode:tl,OperatorNode:os,ParenthesisNode:ru,parse:To,typed:ae}),lC=rAe({bignumber:Si,fraction:Qc,AccessorNode:af,ArrayNode:rf,ConstantNode:Js,FunctionNode:tl,IndexNode:of,ObjectNode:nf,OperatorNode:os,SymbolNode:el,config:Oe,mathWithTransform:tf,matrix:Fe,typed:ae}),bOe=Wye({parse:To,typed:ae}),V8=Ibe({parse:To}),xOe=K2e({parse:To,typed:ae}),uC=oAe({AccessorNode:af,ArrayNode:rf,ConstantNode:Js,FunctionNode:tl,IndexNode:of,ObjectNode:nf,OperatorNode:os,ParenthesisNode:ru,SymbolNode:el,add:Mt,divide:tr,equal:eo,isZero:$o,multiply:Ut,parse:To,pow:to,subtract:Dn,typed:ae}),cC=Gye({parse:To,typed:ae}),wOe=cCe({Help:V8,mathWithTransform:tf,typed:ae}),U8=Yye({evaluate:cC}),t0=eAe({bignumber:Si,fraction:Qc,AccessorNode:af,ArrayNode:rf,ConstantNode:Js,FunctionNode:tl,IndexNode:of,ObjectNode:nf,OperatorNode:os,ParenthesisNode:ru,SymbolNode:el,add:Mt,config:Oe,divide:tr,equal:eo,isZero:$o,mathWithTransform:tf,matrix:Fe,multiply:Ut,parse:To,pow:to,resolve:H8,simplifyConstant:lC,simplifyCore:uC,subtract:Dn,typed:ae}),SOe=cAe({OperatorNode:os,parse:To,simplify:t0,typed:ae}),COe=Qye({Parser:U8,typed:ae}),AOe=pAe({bignumber:Si,fraction:Qc,AccessorNode:af,ArrayNode:rf,ConstantNode:Js,FunctionNode:tl,IndexNode:of,ObjectNode:nf,OperatorNode:os,ParenthesisNode:ru,SymbolNode:el,add:Mt,config:Oe,divide:tr,equal:eo,isZero:$o,mathWithTransform:tf,matrix:Fe,multiply:Ut,parse:To,pow:to,simplify:t0,simplifyConstant:lC,simplifyCore:uC,subtract:Dn,typed:ae}),DOe=dAe({ConstantNode:Js,FunctionNode:tl,OperatorNode:os,ParenthesisNode:ru,SymbolNode:el,config:Oe,equal:eo,isZero:$o,numeric:xo,parse:To,simplify:t0,typed:ae});jn(ef,{e:VT,false:QEe,fineStructure:JEe,i:K_,Infinity:eMe,LN10:tMe,LOG10E:nMe,NaN:rMe,null:iMe,phi:oMe,SQRT1_2:sMe,sackurTetrode:lMe,tau:Z_,true:uMe,E:VT,version:cMe,efimovFactor:fMe,LN2:dMe,pi:nx,replacer:hMe,reviver:vOe,SQRT2:pMe,typed:ae,unaryPlus:US,PI:nx,weakMixingAngle:mMe,abs:jr,acos:gMe,acot:vMe,acsc:yMe,addScalar:Kn,arg:bMe,asech:xMe,asinh:wMe,atan:Q_,atanh:SMe,bignumber:Si,bitNot:CMe,boolean:AMe,clone:DMe,combinations:Kv,complex:Yv,conj:Zl,cos:qS,cot:EMe,csc:MMe,cube:NMe,equalScalar:Dt,erf:$Me,exp:J_,expm1:OMe,filter:TMe,forEach:BMe,format:ch,getMatrixDataType:WS,hex:IMe,im:jS,isInteger:ti,isNegative:Zs,isPositive:Ql,isZero:$o,LOG2E:PMe,lgamma:kMe,log10:FMe,log2:e8,map:Jl,multiplyScalar:Mn,not:kg,number:rs,oct:RMe,pickRandom:_Me,print:zMe,random:LMe,re:GS,sec:HMe,sign:t8,sin:Zv,splitUnit:VMe,square:UMe,string:qMe,subtractScalar:Ji,tan:WMe,typeOf:n8,acosh:jMe,acsch:GMe,apply:XS,asec:XMe,bin:KMe,chain:yOe,combinationsWithRep:YMe,cosh:ZMe,csch:QMe,isNaN:fh,isPrime:JMe,randomInt:eNe,sech:tNe,sinh:nNe,sparse:rNe,sqrt:Oo,tanh:iNe,unaryMinus:fa,acoth:oNe,coth:aNe,fraction:Qc,isNumeric:eu,matrix:Fe,matrixFromFunction:sNe,mode:lNe,numeric:xo,prod:r8,reshape:i8,size:dr,squeeze:uNe,transpose:dh,xgcd:o8,zeros:ur,asin:cNe,cbrt:a8,concat:Tt,count:fNe,ctranspose:KS,diag:s8,divideScalar:bn,dotDivide:hh,equal:eo,flatten:ph,hasNumericValue:dNe,identity:Qs,kron:hNe,largerEq:Qv,leftShift:pNe,lsolve:l8,matrixFromColumns:YS,nthRoot:mNe,ones:gNe,qr:ZS,resize:vNe,rightArithShift:yNe,round:Jc,smaller:zr,subtract:Dn,to:bNe,unequal:xNe,usolve:QS,xor:wNe,add:Mt,atan2:SNe,bitAnd:CNe,bitOr:ANe,bitXor:DNe,catalan:ENe,compare:tu,compareText:u8,cumsum:MNe,deepEqual:JS,diff:NNe,distance:$Ne,dot:Jv,equalText:ONe,floor:c8,gcd:TNe,hypot:BNe,larger:Lr,log:eC,lsolveAll:INe,matrixFromRows:PNe,min:kNe,mod:d8,multiply:Ut,nthRoots:FNe,or:RNe,partitionSelect:e0,rightLogShift:_Ne,slu:h8,subset:Ni,sum:tC,trace:zNe,usolveAll:p8,zpk2tf:LNe,ceil:nC,compareNatural:da,composition:HNe,cross:VNe,det:m8,dotMultiply:UNe,fix:v8,index:y8,intersect:qNe,invmod:WNe,lcm:jNe,log1p:GNe,max:rC,setCartesian:XNe,setDistinct:KNe,setIsSubset:YNe,setPowerset:ZNe,smallerEq:$c,sort:QNe,and:JNe,range:Oc,row:e$e,setDifference:b8,setMultiplicity:t$e,setSymDifference:x8,column:S8,inv:nu,lup:C8,pinv:n$e,pow:to,setIntersect:A8,setUnion:r$e,sqrtm:i$e,vacuumImpedance:o$e,wienDisplacement:a$e,atomicMass:s$e,bohrMagneton:l$e,boltzmann:u$e,conductanceQuantum:c$e,coulomb:f$e,deuteronMass:d$e,dotPow:h$e,electricConstant:p$e,elementaryCharge:m$e,expm:g$e,faraday:v$e,fft:D8,gamma:iC,gravitationConstant:y$e,hartreeEnergy:b$e,ifft:x$e,klitzing:w$e,loschmidt:S$e,magneticConstant:C$e,molarMass:A$e,molarPlanckConstant:D$e,neutronMass:E$e,nuclearMagneton:M$e,planckCharge:N$e,planckLength:$$e,planckTemperature:O$e,protonMass:T$e,quantumOfCirculation:B$e,reducedPlanckConstant:I$e,rydberg:P$e,secondRadiation:k$e,speedOfLight:F$e,stefanBoltzmann:R$e,thomsonCrossSection:_$e,avogadro:z$e,bohrRadius:L$e,createUnit:H$e,divide:tr,electronMass:V$e,factorial:mh,firstRadiation:U$e,gravity:q$e,inverseConductanceQuantum:W$e,lusolve:E8,magneticFluxQuantum:j$e,molarMassC12:G$e,multinomial:X$e,parse:To,permutations:K$e,planckMass:Y$e,polynomialRoot:Z$e,resolve:H8,setSize:Q$e,simplifyConstant:lC,solveODE:J$e,stirlingS2:M8,unit:eOe,bellNumbers:tOe,compile:bOe,eigs:N8,fermiCoupling:nOe,gasConstant:rOe,leafCount:xOe,mean:$8,molarVolume:iOe,planckConstant:oOe,quantileSeq:aOe,simplifyCore:uC,variance:oC,classicalElectronRadius:sOe,evaluate:cC,help:wOe,median:O8,simplify:t0,symbolicEqual:SOe,corr:lOe,freqz:uOe,mad:cOe,parser:COe,rationalize:AOe,std:fOe,zeta:dOe,derivative:DOe,norm:aC,rotationMatrix:T8,kldivergence:hOe,planckTime:pOe,schur:B8,rotate:mOe,sylvester:I8,lyap:gOe,config:Oe});jn(tf,ef,{filter:GDe({typed:ae}),forEach:YDe({typed:ae}),map:nEe({typed:ae}),apply:HDe({isInteger:ti,typed:ae}),or:WEe({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),and:VEe({add:Mt,concat:Tt,equalScalar:Dt,matrix:Fe,not:kg,typed:ae,zeros:ur}),concat:CEe({isInteger:ti,matrix:Fe,typed:ae}),max:oEe({config:Oe,larger:Lr,numeric:xo,typed:ae}),print:zEe({add:Mt,matrix:Fe,typed:ae,zeros:ur}),bitAnd:XEe({add:Mt,concat:Tt,equalScalar:Dt,matrix:Fe,not:kg,typed:ae,zeros:ur}),diff:DEe({bignumber:Si,matrix:Fe,number:rs,subtract:Dn,typed:ae}),min:fEe({config:Oe,numeric:xo,smaller:zr,typed:ae}),subset:xEe({add:Mt,matrix:Fe,typed:ae,zeros:ur}),bitOr:ZEe({DenseMatrix:bt,concat:Tt,equalScalar:Dt,matrix:Fe,typed:ae}),cumsum:kEe({add:Mt,typed:ae,unaryPlus:US}),index:JDe({Index:Sr,getMatrixDataType:WS}),sum:OEe({add:Mt,config:Oe,numeric:xo,typed:ae}),range:pEe({bignumber:Si,matrix:Fe,add:Mt,config:Oe,isPositive:Ql,larger:Lr,largerEq:Qv,smaller:zr,smallerEq:$c,typed:ae}),row:vEe({Index:Sr,matrix:Fe,range:Oc,typed:ae}),column:qDe({Index:Sr,matrix:Fe,range:Oc,typed:ae}),mean:lEe({add:Mt,divide:tr,typed:ae}),quantileSeq:IEe({add:Mt,bignumber:Si,compare:tu,divide:tr,isInteger:ti,larger:Lr,multiply:Ut,partitionSelect:e0,smaller:zr,smallerEq:$c,subtract:Dn,typed:ae}),variance:REe({add:Mt,apply:XS,divide:tr,isNaN:fh,multiply:Ut,subtract:Dn,typed:ae}),std:NEe({map:Jl,sqrt:Oo,typed:ae,variance:oC})});jn(P8,{BigNumber:_e,Complex:tn,Fraction:Yl,Matrix:Xv,Node:Mr,ObjectNode:nf,OperatorNode:os,ParenthesisNode:ru,Range:aMe,RelationalNode:k8,ResultSet:Y_,ArrayNode:rf,BlockNode:F8,ConditionalNode:R8,ConstantNode:Js,DenseMatrix:bt,RangeNode:_8,Chain:sC,FunctionAssignmentNode:z8,SparseMatrix:is,IndexNode:of,ImmutableDenseMatrix:f8,Index:Sr,AccessorNode:af,AssignmentNode:L8,FibonacciHeap:g8,Spa:w8,Unit:ot,SymbolNode:el,FunctionNode:tl,Help:V8,Parser:U8});sC.createProxy(ef);const EOe={class:"flex items-center grow"},$a=De({name:"UiInputNumber",__name:"UiInputNumber",props:{value:{default:0},icon:{default:""},placeholder:{default:""},disabled:{type:Boolean,default:!1}},emits:["update:value"],setup(t,{emit:e}){const n=t,r=e,{value:i}=nr(n,r),o=Te(String(i.value));ze(i,u=>{o.value=String(u)});function a(){if(o.value===""){i.value=0,o.value="0";return}const u=Number(o.value);if(bz(u)){if($z(o.value))try{const c=cC(o.value);i.value=c,o.value=String(c)}catch{o.value=String(i.value)}else o.value=String(i.value);return}iB(u)&&(i.value=u,o.value=String(u))}const s=H(()=>({height:`${wr.rowHeight}px`})),l=H(()=>({height:`${wr.rowHeight}px`,width:`${wr.rowHeight}px`}));return(u,c)=>(Ce(),Re("div",{style:Ct(s.value),class:"flex flex-row items-center rounded-sm cursor-pointer select-none ui-input-number hover:ring-2 hover:ring-indigo-500"},[we("div",{style:Ct(l.value),class:"flex flex-row items-center justify-center shrink-0"},[vn(u.$slots,"prefix",{},()=>[u.icon?(Ce(),Re("span",{key:0,class:it(u.icon)},null,2)):et("",!0)])],4),we("div",EOe,[k(O(On),{value:o.value,"onUpdate:value":c[0]||(c[0]=f=>o.value=f),class:"no-padding",bordered:!1,placeholder:u.placeholder,controls:!1,disabled:u.disabled,onBlur:c[1]||(c[1]=()=>a()),onPressEnter:c[2]||(c[2]=()=>a())},null,8,["value","placeholder","disabled"])])],4))}}),MOe={class:"pr-2 grow"},NOe=De({name:"UiInputSlider",__name:"UiInputSlider",props:{value:{default:0},icon:{default:""},min:{default:0},max:{default:1},step:{default:.01}},emits:["update:value"],setup(t,{emit:e}){const n=t,r=e,{value:i}=nr(n,r),o=H(()=>({height:`${wr.rowHeight}px`})),a=H(()=>({height:`${wr.rowHeight}px`,width:`${wr.rowHeight}px`}));return(s,l)=>(Ce(),Re("div",{style:Ct(o.value),class:"flex flex-row items-center rounded-sm cursor-pointer select-none hover:ring-2 hover:ring-indigo-500"},[we("div",{style:Ct(a.value),class:"flex flex-row items-center justify-center shrink-0"},[vn(s.$slots,"prefix",{},()=>[s.icon?(Ce(),Re("span",{key:0,class:it(s.icon)},null,2)):et("",!0)])],4),we("div",MOe,[k(O(FQ),{value:O(i),"onUpdate:value":l[0]||(l[0]=u=>Uo(i)?i.value=u:null),bordered:!1,max:n.max,min:n.min,step:n.step},null,8,["value","max","min","step"])])],4))}}),$Oe=De({name:"UiControllerCell",__name:"UiControllerCell",props:{align:{default:"left"},hoverable:{type:Boolean,default:!1}},setup(t){const e=H(()=>({height:`${wr.rowHeight}px`}));return(n,r)=>(Ce(),Re("div",{style:Ct(e.value),class:it(["flex flex-row items-center rounded-sm select-none",{"hover:ring-2 hover:ring-indigo-500":n.hoverable}])},[we("div",{class:it(["flex items-center grow",{"justify-start":n.align==="left","justify-center":n.align==="center","justify-end":n.align==="right"}])},[k(O(Yn),null,{default:Ae(()=>[vn(n.$slots,"default")]),_:3})],2)],6))}}),OOe={class:"grow"},TOe={class:"flex items-center justify-between"},BOe=we("span",{class:"i-lucide-help-circle select-icon-help"},null,-1),Tc=De({name:"UiSelect",__name:"UiSelect",props:{value:{default:""},icon:{default:""},placeholder:{default:""},options:{default:()=>[]}},emits:["update:value","change"],setup(t,{emit:e}){const n=t,r=e,{value:i}=nr(n,r),o=H(()=>({height:`${wr.rowHeight}px`})),a=H(()=>({height:`${wr.rowHeight}px`,width:`${wr.rowHeight}px`}));function s(l){r("change",l)}return(l,u)=>(Ce(),Re("div",{style:Ct(o.value),class:"flex flex-row items-center rounded-sm cursor-pointer select-none ui-select hover:ring-2 hover:ring-indigo-500"},[we("div",{style:Ct(a.value),class:"flex flex-row items-center justify-center shrink-0"},[vn(l.$slots,"prefix",{},()=>[l.icon?(Ce(),Re("span",{key:0,class:it(l.icon)},null,2)):et("",!0)])],4),we("div",OOe,[k(O(gX),{value:O(i),"onUpdate:value":u[0]||(u[0]=c=>Uo(i)?i.value=c:null),class:"w-full no-padding",bordered:!1,placeholder:l.placeholder,controls:!1,"dropdown-match-select-width":!1,onChange:u[1]||(u[1]=c=>s(c))},{default:Ae(()=>[(Ce(!0),Re(gt,null,wo(l.options,c=>(Ce(),rt(O(mX),{key:c.value,value:c.value},{default:Ae(()=>[c.description?(Ce(),rt(O(El),{key:0,placement:"right","destroy-tooltip-on-hide":!0,"mouse-enter-delay":0,"mouse-leave-delay":0},{title:Ae(()=>[Ot(Nt(c.description),1)]),default:Ae(()=>[we("div",TOe,[we("span",null,Nt(c.label),1),BOe])]),_:2},1024)):(Ce(),Re(gt,{key:1},[Ot(Nt(c.label),1)],64))]),_:2},1032,["value"]))),128))]),_:1},8,["value","placeholder"])])],4))}}),IOe={class:"grid w-24 grid-cols-3 gap-1 grow-0 shrink-0"},POe=["onClick"],q8=De({name:"UiSelectAlignment",__name:"UiSelectAlignment",props:{value:{}},emits:["update:value"],setup(t,{emit:e}){const n=t,r=e,{value:i}=nr(n,r),o=[{icon:"i-lucide-arrow-up-left",value:"top-left"},{icon:"i-lucide-arrow-up",value:"top-center"},{icon:"i-lucide-arrow-up-right",value:"top-right"},{icon:"i-lucide-arrow-left",value:"center-left"},{icon:"i-lucide-plus",value:"center-center"},{icon:"i-lucide-arrow-right",value:"center-right"},{icon:"i-lucide-arrow-down-left",value:"bottom-left"},{icon:"i-lucide-arrow-down",value:"bottom-center"},{icon:"i-lucide-arrow-down-right",value:"bottom-right"}];function a(s){i.value===s?i.value="none":i.value=s}return(s,l)=>(Ce(),Re("div",IOe,[(Ce(),Re(gt,null,wo(o,u=>we("div",{key:u.value,class:it(["flex items-center justify-center rounded-sm cursor-pointer aspect-square hover:ring-2 hover:ring-indigo-500",{"bg-indigo-500 text-white":O(i)===u.value,"bg-gray-50":O(i)!==u.value}]),onClick:()=>a(u.value)},[we("div",{class:it(u.icon)},null,2)],10,POe)),64))]))}}),kOe="";function sf(t,e){e===void 0&&(e={});var n=e.insertAt;if(!(!t||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}const lf=function(t,e){const{componentPrefix:n=kOe}=e||{};t.component(`${n}${this.name}`,this)},ky={};var gh={name:"Checkboard",props:{size:{type:[Number,String],default:8},white:{type:String,default:"#fff"},grey:{type:String,default:"#e6e6e6"}},computed:{bgStyle(){return{"background-image":`url(${ROe(this.white,this.grey,this.size)})`}}}};function FOe(t,e,n){if(typeof document>"u")return null;const r=document.createElement("canvas");r.width=r.height=n*2;const i=r.getContext("2d");return i?(i.fillStyle=t,i.fillRect(0,0,r.width,r.height),i.fillStyle=e,i.fillRect(0,0,n,n),i.translate(n,n),i.fillRect(0,0,n,n),r.toDataURL()):null}function ROe(t,e,n){const r=`${t},${e},${n}`;if(ky[r])return ky[r];const i=FOe(t,e,n);return ky[r]=i,i}function _Oe(t,e,n,r,i,o){return Ce(),Re("div",{class:"vc-checkerboard",style:Ct(o.bgStyle)},null,4)}var zOe=".vc-checkerboard{background-size:contain;bottom:0;left:0;position:absolute;right:0;top:0}";sf(zOe);gh.render=_Oe;gh.__file="src/components/checkboard/checkboard.vue";gh.install=lf;var n0={name:"Alpha",components:{Checkboard:gh},props:{value:Object,onChange:Function},computed:{colors(){return this.value},gradientColor(){const{rgba:t}=this.colors,e=[t.r,t.g,t.b].join(",");return`linear-gradient(to right, rgba(${e}, 0) 0%, rgba(${e}, 1) 100%)`}},methods:{handleChange(t,e){!e&&t.preventDefault();const{container:n}=this.$refs;if(!n)return;const r=n.clientWidth,i=n.getBoundingClientRect().left+window.pageXOffset,a=(t.pageX||(t.touches?t.touches[0].pageX:0))-i;let s;a<0?s=0:a>r?s=1:s=Math.round(a*100/r)/100,this.colors.a!==s&&this.$emit("change",{h:this.colors.hsl.h,s:this.colors.hsl.s,l:this.colors.hsl.l,a:s,source:"rgba"})},handleMouseDown(t){this.handleChange(t,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const LOe={class:"vc-alpha"},HOe={class:"vc-alpha-checkboard-wrap"},VOe=we("div",{class:"vc-alpha-picker"},null,-1),UOe=[VOe];function qOe(t,e,n,r,i,o){const a=bu("Checkboard");return Ce(),Re("div",LOe,[we("div",HOe,[k(a)]),we("div",{class:"vc-alpha-gradient",style:Ct({background:o.gradientColor})},null,4),we("div",{ref:"container",class:"vc-alpha-container",onMousedown:e[0]||(e[0]=(...s)=>o.handleMouseDown&&o.handleMouseDown(...s)),onTouchmove:e[1]||(e[1]=(...s)=>o.handleChange&&o.handleChange(...s)),onTouchstart:e[2]||(e[2]=(...s)=>o.handleChange&&o.handleChange(...s))},[we("div",{class:"vc-alpha-pointer",style:Ct({left:`${o.colors.a*100}%`})},UOe,4)],544)])}var WOe=".vc-alpha,.vc-alpha-checkboard-wrap{bottom:0;left:0;position:absolute;right:0;top:0}.vc-alpha-checkboard-wrap{overflow:hidden}.vc-alpha-gradient{bottom:0;left:0;position:absolute;right:0;top:0}.vc-alpha-container{cursor:pointer;height:100%;margin:0 3px;position:relative;z-index:2}.vc-alpha-pointer{position:absolute;z-index:2}.vc-alpha-picker{background:#fff;border-radius:1px;box-shadow:0 0 2px rgba(0,0,0,.6);cursor:pointer;height:8px;margin-top:1px;transform:translateX(-2px);width:4px}";sf(WOe);n0.render=qOe;n0.__file="src/components/alpha/alpha.vue";n0.install=lf;function gs(...t){return new An(...t)}function Fy(t,e){const n=t&&t.a;let r;t&&t.hsl?r=gs(t.hsl):t&&t.hex&&t.hex.length>0?r=gs(t.hex):t&&t.hsv?r=gs(t.hsv):t&&t.rgba?r=gs(t.rgba):t&&t.rgb?r=gs(t.rgb):r=gs(t),r&&(r._a===void 0||r._a===null)&&r.setAlpha(n||r.getAlpha());const i=r.toHsl(),o=r.toHsv();return i.s===0&&(o.h=i.h=t.h||t.hsl&&t.hsl.h||e||0),o.v<.0164&&(o.h=t.h||t.hsv&&t.hsv.h||0,o.s=t.s||t.hsv&&t.hsv.s||0),i.l<.01&&(i.h=t.h||t.hsl&&t.hsl.h||0,i.s=t.s||t.hsl&&t.hsl.s||0),{hsl:i,hex:r.toHexString().toUpperCase(),hex8:r.toHex8String().toUpperCase(),rgba:r.toRgb(),hsv:o,oldHue:t.h||e||i.h,source:t.source,a:r.getAlpha()}}var jOe={model:{prop:"modelValue",event:"update:modelValue"},props:["modelValue"],data(){return{val:Fy(this.modelValue)}},computed:{colors:{get(){return this.val},set(t){this.val=t,this.$emit("update:modelValue",t)}}},watch:{modelValue(t){this.val=Fy(t)}},methods:{colorChange(t,e){this.oldHue=this.colors.hsl.h,this.colors=Fy(t,e||this.oldHue)},isValidHex(t){return gs(t).isValid},simpleCheckForValidColor(t){const e=["r","g","b","a","h","s","l","v"];let n=0,r=0;for(let i=0;i<e.length;i++){const o=e[i];t[o]&&(n++,isNaN(t[o])||r++)}if(n===r)return t},paletteUpperCase(t){return t.map(e=>e.toUpperCase())},isTransparent(t){return gs(t).getAlpha()===0}}},r0={name:"EditableInput",props:{label:String,labelText:String,desc:String,value:[String,Number],max:Number,min:Number,arrowOffset:{type:Number,default:1}},computed:{val:{get(){return this.value},set(t){if(this.max!==void 0&&+t>this.max)this.$refs.input.value=this.max;else return t}},labelId(){return`input__label__${this.label}__${Math.random().toString().slice(2,5)}`},labelSpanText(){return this.labelText||this.label}},methods:{update(t){this.handleChange(t.target.value)},handleChange(t){const e={};e[this.label]=t,e.hex===void 0&&e["#"]===void 0?this.$emit("change",e):t.length>5&&this.$emit("change",e)},handleKeyDown(t){let{val:e}=this;const n=Number(e);if(n){const r=this.arrowOffset||1;t.keyCode===38&&(e=n+r,this.handleChange(e),t.preventDefault()),t.keyCode===40&&(e=n-r,this.handleChange(e),t.preventDefault())}}}};const GOe={class:"vc-editable-input"},XOe=["aria-labelledby"],KOe=["id","for"],YOe={class:"vc-input__desc"};function ZOe(t,e,n,r,i,o){return Ce(),Re("div",GOe,[_a(we("input",{ref:"input","onUpdate:modelValue":e[0]||(e[0]=a=>o.val=a),"aria-labelledby":o.labelId,class:"vc-input__input",onKeydown:e[1]||(e[1]=(...a)=>o.handleKeyDown&&o.handleKeyDown(...a)),onInput:e[2]||(e[2]=(...a)=>o.update&&o.update(...a))},null,40,XOe),[[i6,o.val]]),we("span",{id:o.labelId,for:n.label,class:"vc-input__label"},Nt(o.labelSpanText),9,KOe),we("span",YOe,Nt(n.desc),1)])}var QOe=".vc-editable-input{position:relative}.vc-input__input{border:0;outline:none;padding:0}.vc-input__label{text-transform:capitalize}";sf(QOe);r0.render=ZOe;r0.__file="src/components/editable-input/editable-input.vue";r0.install=lf;function Ry(t,e,n){return e<n?t<e?e:t>n?n:t:t<n?n:t>e?e:t}var i0={name:"Saturation",props:{value:Object},computed:{colors(){return this.value},bgColor(){return`hsl(${this.colors.hsv.h}, 100%, 50%)`},pointerTop(){return`${-(this.colors.hsv.v*100)+1+100}%`},pointerLeft(){return`${this.colors.hsv.s*100}%`}},methods:{handleChange(t,e){!e&&t.preventDefault();const{container:n}=this.$refs;if(!n)return;const r=n.clientWidth,i=n.clientHeight,o=n.getBoundingClientRect().left+window.pageXOffset,a=n.getBoundingClientRect().top+window.pageYOffset,s=t.pageX||(t.touches?t.touches[0].pageX:0),l=t.pageY||(t.touches?t.touches[0].pageY:0),u=Ry(s-o,0,r),c=Ry(l-a,0,i),f=u/r,d=Ry(-(c/i)+1,0,1);this.onChange({h:this.colors.hsv.h,s:f,v:d,a:this.colors.hsv.a,source:"hsva"})},onChange(t){this.$emit("change",t)},handleMouseDown(t){window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(t){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const JOe=we("div",{class:"vc-saturation--white"},null,-1),eTe=we("div",{class:"vc-saturation--black"},null,-1),tTe=we("div",{class:"vc-saturation-circle"},null,-1),nTe=[tTe];function rTe(t,e,n,r,i,o){return Ce(),Re("div",{ref:"container",class:"vc-saturation",style:Ct({background:o.bgColor}),onMousedown:e[0]||(e[0]=(...a)=>o.handleMouseDown&&o.handleMouseDown(...a)),onTouchmove:e[1]||(e[1]=(...a)=>o.handleChange&&o.handleChange(...a)),onTouchstart:e[2]||(e[2]=(...a)=>o.handleChange&&o.handleChange(...a))},[JOe,eTe,we("div",{class:"vc-saturation-pointer",style:Ct({top:o.pointerTop,left:o.pointerLeft})},nTe,4)],36)}var iTe=".vc-saturation,.vc-saturation--black,.vc-saturation--white{bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0}.vc-saturation--white{background:linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.vc-saturation--black{background:linear-gradient(0deg,#000,transparent)}.vc-saturation-pointer{cursor:pointer;position:absolute}.vc-saturation-circle{border-radius:50%;box-shadow:0 0 0 1.5px #fff,inset 0 0 1px 1px rgba(0,0,0,.3),0 0 1px 2px rgba(0,0,0,.4);cursor:head;height:4px;transform:translate(-2px,-2px);width:4px}";sf(iTe);i0.render=rTe;i0.__file="src/components/saturation/saturation.vue";i0.install=lf;var o0={name:"Hue",props:{value:Object,direction:{type:String,default:"horizontal"}},data(){return{oldHue:0,pullDirection:""}},computed:{colors(){return this.value},directionClass(){return{"vc-hue--horizontal":this.direction==="horizontal","vc-hue--vertical":this.direction==="vertical"}},pointerTop(){return this.direction==="vertical"?this.colors.hsl.h===0&&this.pullDirection==="right"?0:`${-(this.colors.hsl.h*100/360)+100}%`:0},pointerLeft(){return this.direction==="vertical"?0:this.colors.hsl.h===0&&this.pullDirection==="right"?"100%":`${this.colors.hsl.h*100/360}%`}},watch:{value:{handler(t,e){const{h:n}=t.hsl;n!==0&&n-this.oldHue>0&&(this.pullDirection="right"),n!==0&&n-this.oldHue<0&&(this.pullDirection="left"),this.oldHue=n},deep:!0,immediate:!0}},methods:{handleChange(t,e){!e&&t.preventDefault();const{container:n}=this.$refs;if(!n)return;const r=n.clientWidth,i=n.clientHeight,o=n.getBoundingClientRect().left+window.pageXOffset,a=n.getBoundingClientRect().top+window.pageYOffset,s=t.pageX||(t.touches?t.touches[0].pageX:0),l=t.pageY||(t.touches?t.touches[0].pageY:0),u=s-o,c=l-a;let f,d;this.direction==="vertical"?(c<0?f=360:c>i?f=0:(d=-(c*100/i)+100,f=360*d/100),this.colors.hsl.h!==f&&this.$emit("change",{h:f,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"})):(u<0?f=0:u>r?f=360:(d=u*100/r,f=360*d/100),this.colors.hsl.h!==f&&this.$emit("change",{h:f,s:this.colors.hsl.s,l:this.colors.hsl.l,a:this.colors.hsl.a,source:"hsl"}))},handleMouseDown(t){this.handleChange(t,!0),window.addEventListener("mousemove",this.handleChange),window.addEventListener("mouseup",this.handleChange),window.addEventListener("mouseup",this.handleMouseUp)},handleMouseUp(t){this.unbindEventListeners()},unbindEventListeners(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}}};const oTe=["aria-valuenow"],aTe=we("div",{class:"vc-hue-picker"},null,-1),sTe=[aTe];function lTe(t,e,n,r,i,o){return Ce(),Re("div",{class:it(["vc-hue",[o.directionClass]])},[we("div",{ref:"container",class:"vc-hue-container",role:"slider","aria-valuenow":o.colors.hsl.h,"aria-valuemin":"0","aria-valuemax":"360",onMousedown:e[0]||(e[0]=(...a)=>o.handleMouseDown&&o.handleMouseDown(...a)),onTouchmove:e[1]||(e[1]=(...a)=>o.handleChange&&o.handleChange(...a)),onTouchstart:e[2]||(e[2]=(...a)=>o.handleChange&&o.handleChange(...a))},[we("div",{class:"vc-hue-pointer",style:Ct({top:o.pointerTop,left:o.pointerLeft}),role:"presentation"},sTe,4)],40,oTe)],2)}var uTe=".vc-hue{border-radius:2px;bottom:0;left:0;position:absolute;right:0;top:0}.vc-hue--horizontal{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.vc-hue--vertical{background:linear-gradient(0deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.vc-hue-container{cursor:pointer;height:100%;margin:0 2px;position:relative}.vc-hue-pointer{position:absolute;z-index:2}.vc-hue-picker{background:#fff;border-radius:1px;box-shadow:0 0 2px rgba(0,0,0,.6);cursor:pointer;height:8px;margin-top:1px;transform:translateX(-2px);width:4px}";sf(uTe);o0.render=lTe;o0.__file="src/components/hue/hue.vue";o0.install=lf;const cTe=["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF","rgba(0,0,0,0)"];var a0={name:"Sketch",components:{Saturation:i0,Hue:o0,Alpha:n0,EdIn:r0,Checkboard:gh},mixins:[jOe],props:{presetColors:{type:Array,default(){return cTe}},disableAlpha:{type:Boolean,default:!1},disableFields:{type:Boolean,default:!1}},computed:{hex(){let t;return this.colors.a<1?t=this.colors.hex8:t=this.colors.hex,t.replace("#","")},activeColor(){const{rgba:t}=this.colors;return`rgba(${[t.r,t.g,t.b,t.a].join(",")})`}},methods:{handlePreset(t){this.colorChange(t)},childChange(t){this.colorChange(t)},inputChange(t){t&&(t.hex?this.isValidHex(t.hex)&&this.colorChange({hex:t.hex,source:"hex"}):(t.r||t.g||t.b||t.a)&&this.colorChange({r:t.r||this.colors.rgba.r,g:t.g||this.colors.rgba.g,b:t.b||this.colors.rgba.b,a:t.a||this.colors.rgba.a,source:"rgba"}))}}};const fTe={class:"vc-sketch-saturation-wrap"},dTe={class:"vc-sketch-controls"},hTe={class:"vc-sketch-sliders"},pTe={class:"vc-sketch-hue-wrap"},mTe={key:0,class:"vc-sketch-alpha-wrap"},gTe={class:"vc-sketch-color-wrap"},vTe=["aria-label"],yTe={key:0,class:"vc-sketch-field"},bTe={class:"vc-sketch-field--double"},xTe={class:"vc-sketch-field--single"},wTe={class:"vc-sketch-field--single"},STe={class:"vc-sketch-field--single"},CTe={key:0,class:"vc-sketch-field--single"},ATe={class:"vc-sketch-presets",role:"group","aria-label":"A color preset, pick one to set as current color"},DTe=["aria-label","onClick"],ETe=["aria-label","onClick"];function MTe(t,e,n,r,i,o){const a=bu("Saturation"),s=bu("Hue"),l=bu("Alpha"),u=bu("Checkboard"),c=bu("EdIn");return Ce(),Re("div",{role:"application","aria-label":"Sketch color picker",class:it(["vc-sketch",[n.disableAlpha?"vc-sketch__disable-alpha":""]])},[we("div",fTe,[k(a,{value:t.colors,onChange:o.childChange},null,8,["value","onChange"])]),we("div",dTe,[we("div",hTe,[we("div",pTe,[k(s,{value:t.colors,onChange:o.childChange},null,8,["value","onChange"])]),n.disableAlpha?et("v-if",!0):(Ce(),Re("div",mTe,[k(l,{value:t.colors,onChange:o.childChange},null,8,["value","onChange"])]))]),we("div",gTe,[we("div",{"aria-label":`Current color is ${o.activeColor}`,class:"vc-sketch-active-color",style:Ct({background:o.activeColor})},null,12,vTe),k(u)])]),n.disableFields?et("v-if",!0):(Ce(),Re("div",yTe,[et(" rgba "),we("div",bTe,[k(c,{label:"hex",value:o.hex,onChange:o.inputChange},null,8,["value","onChange"])]),we("div",xTe,[k(c,{label:"r",value:t.colors.rgba.r,onChange:o.inputChange},null,8,["value","onChange"])]),we("div",wTe,[k(c,{label:"g",value:t.colors.rgba.g,onChange:o.inputChange},null,8,["value","onChange"])]),we("div",STe,[k(c,{label:"b",value:t.colors.rgba.b,onChange:o.inputChange},null,8,["value","onChange"])]),n.disableAlpha?et("v-if",!0):(Ce(),Re("div",CTe,[k(c,{label:"a",value:t.colors.a,"arrow-offset":.01,max:1,onChange:o.inputChange},null,8,["value","arrow-offset","onChange"])]))])),we("div",ATe,[(Ce(!0),Re(gt,null,wo(n.presetColors,f=>(Ce(),Re(gt,null,[t.isTransparent(f)?(Ce(),Re("div",{key:f,"aria-label":`Color:${f}`,class:"vc-sketch-presets-color",onClick:d=>o.handlePreset(f)},[k(u)],8,ETe)):(Ce(),Re("div",{key:`!${f}`,class:"vc-sketch-presets-color","aria-label":`Color:${f}`,style:Ct({background:f}),onClick:d=>o.handlePreset(f)},null,12,DTe))],64))),256))])],2)}var NTe=".vc-sketch{background:#fff;border-radius:4px;box-shadow:0 0 0 1px rgba(0,0,0,.15),0 8px 16px rgba(0,0,0,.15);box-sizing:initial;padding:10px 10px 0;position:relative;width:200px}.vc-sketch-saturation-wrap{overflow:hidden;padding-bottom:75%;position:relative;width:100%}.vc-sketch-controls{display:flex}.vc-sketch-sliders{flex:1;padding:4px 0}.vc-sketch-sliders .vc-alpha-gradient,.vc-sketch-sliders .vc-hue{border-radius:2px}.vc-sketch-alpha-wrap,.vc-sketch-hue-wrap{height:10px;position:relative}.vc-sketch-alpha-wrap{margin-top:4px;overflow:hidden}.vc-sketch-color-wrap{border-radius:3px;height:24px;margin-left:4px;margin-top:4px;position:relative;width:24px}.vc-sketch-active-color{border-radius:2px;bottom:0;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15),inset 0 0 4px rgba(0,0,0,.25);left:0;position:absolute;right:0;top:0;z-index:2}.vc-sketch-color-wrap .vc-checkerboard{background-size:auto}.vc-sketch-field{display:flex;padding-top:4px}.vc-sketch-field .vc-input__input{border:none;box-shadow:inset 0 0 0 1px #ccc;font-size:10px;padding:4px 0 3px 10%;width:90%}.vc-sketch-field .vc-input__label{color:#222;display:block;font-size:11px;padding-bottom:4px;padding-top:3px;text-align:center;text-transform:capitalize}.vc-sketch-field--single{flex:1;padding-left:6px}.vc-sketch-field--double{flex:2}.vc-sketch-presets{border-top:1px solid #eee;margin-left:-10px;margin-right:-10px;padding-left:10px;padding-top:10px}.vc-sketch-presets-color{cursor:pointer;display:inline-block;height:16px;margin:0 10px 10px 0;overflow:hidden;position:relative;vertical-align:top;width:16px}.vc-sketch-presets-color,.vc-sketch-presets-color .vc-checkerboard{border-radius:3px;box-shadow:inset 0 0 0 1px rgba(0,0,0,.15)}.vc-sketch__disable-alpha .vc-sketch-color-wrap{height:10px}";sf(NTe);a0.render=MTe;a0.__file="src/components/sketch/sketch.vue";a0.install=lf;const $Te={class:"ui-input-color"},OTe=De({name:"UiInputColor",__name:"UiInputColor",props:{color:{default:""}},emits:["update:color"],setup(t,{emit:e}){const n=t,r=e,{color:i}=nr(n,r);function o(a){i.value=`rgba(${a.rgba.r}, ${a.rgba.g}, ${a.rgba.b}, ${a.rgba.a})`}return(a,s)=>(Ce(),Re("div",$Te,[k(O(a0),{"model-value":O(i),"onUpdate:modelValue":o},null,8,["model-value"])]))}}),TTe=W6(OTe,[["__scopeId","data-v-e8c3c99d"]]);function W8({color:t}){io({contentVNode:Wt(TTe,{color:t.value,"onUpdate:color":e=>{t.value=e}}),name:"UiInputColor",single:!0,wrapperVNode:Wt(ro,{center:!0,customBody:!0,height:348,modal:!0,padding:!0,title:"选择颜色",width:220})})}const BTe={class:"px-4 py-2 text-lg text-gray-600"},fC=De({name:"UiPanelHeader",__name:"UiPanelHeader",props:{title:{default:""}},setup(t){return(e,n)=>(Ce(),Re("div",null,[we("div",BTe,Nt(e.title),1)]))}}),ITe={class:"px-4 py-2 text-sm bg-gray-50"},Tr=De({name:"UiPanelSection",__name:"UiPanelSection",props:{title:{default:""}},setup(t){return(e,n)=>(Ce(),Re("div",null,[we("div",ITe,Nt(e.title),1),vn(e.$slots,"default")]))}}),PTe={class:"grid grid-cols-2 gap-2 p-2"},kTe={class:"grid grid-cols-2 gap-2 p-2"},FTe={class:"grid grid-cols-2 gap-2 p-2"},RTe={class:"grid grid-cols-2 gap-2 p-2"},_Te=De({name:"ControlPanelBoard",__name:"ControlPanelBoard",setup(t){const{editorState:e}=Vn(),n=jl({editorState:e});return(r,i)=>(Ce(),Re(gt,null,[k(O(fC),{title:"画板"}),k(O(Tr),{title:"尺寸"},{default:Ae(()=>[we("div",PTe,[k(O($a),{value:O(e).draggableBoardProps.height.value,"onUpdate:value":i[0]||(i[0]=o=>O(e).draggableBoardProps.height.value=o),icon:"i-lucide-move-vertical"},null,8,["value"]),k(O($a),{value:O(e).draggableBoardProps.width.value,"onUpdate:value":i[1]||(i[1]=o=>O(e).draggableBoardProps.width.value=o),icon:"i-lucide-move-horizontal"},null,8,["value"]),k(O(z1),{class:"col-span-2",icon:"i-lucide-book-marked",onClick:i[2]||(i[2]=()=>O(n).actionBoardSizeSelect())},{default:Ae(()=>[Ot(" 尺寸预设 ")]),_:1})])]),_:1}),k(O(Tr),{title:"适应模式"},{default:Ae(()=>[we("div",kTe,[k(O(Tc),{value:O(e).draggableBoardFit.value,"onUpdate:value":i[3]||(i[3]=o=>O(e).draggableBoardFit.value=o),options:O(R6),class:"col-span-2",icon:"i-lucide-scaling"},null,8,["value","options"])])]),_:1}),k(O(Tr),{title:"溢出处理"},{default:Ae(()=>[we("div",FTe,[k(O(Tc),{value:O(e).draggableBoardOverflow.value,"onUpdate:value":i[4]||(i[4]=o=>O(e).draggableBoardOverflow.value=o),options:O(_6),class:"col-span-2",icon:"i-icon-park-outline-cutting-one"},null,8,["value","options"])])]),_:1}),k(O(Tr),{title:"背景"},{default:Ae(()=>[we("div",RTe,[k(O(z1),{class:"col-span-2",icon:"i-lucide-palette",onClick:i[5]||(i[5]=()=>O(W8)({color:O(e).draggableBoardProps.backgroundColor}))},{default:Ae(()=>[Ot(Nt(O(e).draggableBoardProps.backgroundColor.value||"设置颜色"),1)]),_:1})])]),_:1})],64))}}),zTe={class:"grid grid-cols-4 gap-2 p-2"},LTe={class:"grid grid-cols-2 gap-2 p-2"},HTe={class:"grid grid-cols-2 gap-2 p-2"},VTe={class:"flex justify-center col-span-2"},UTe={class:"grid grid-cols-2 gap-2 p-2"},qTe={class:"grid grid-cols-4 gap-2 p-2"},WTe=De({name:"ControlPanelBox",__name:"ControlPanelBox",setup(t){const{editorState:e}=Vn(),n=jl({editorState:e});return(r,i)=>(Ce(),Re(gt,null,[k(O(fC),{title:"容器"}),O(e).draggableBoxSelected.value?(Ce(),rt(O(Tr),{key:0,title:"信息"},{default:Ae(()=>[we("div",zTe,[k(O(Yn),{class:"col-span-1 text-right"},{default:Ae(()=>[Ot(" ID ")]),_:1}),k(O(Yn),{class:"col-span-3",copyable:""},{default:Ae(()=>[Ot(Nt(O(e).draggableBoxSelected.value.id),1)]),_:1}),k(O(Yn),{class:"col-span-1 text-right"},{default:Ae(()=>[Ot(" 名称 ")]),_:1}),O(e).draggableBoxSelected.value.props.title?(Ce(),rt(O(Yn),{key:0,class:"col-span-3",copyable:""},{default:Ae(()=>[Ot(Nt(O(e).draggableBoxSelected.value.props.title),1)]),_:1})):(Ce(),rt(O(Lm),{key:1,class:"col-span-3",onClick:i[0]||(i[0]=o=>O(n).actionBoxTitleSet({boxId:O(e).draggableBoxSelectedId.value}))},{default:Ae(()=>[Ot(" 设置 ")]),_:1})),k(O(Yn),{class:"col-span-1 text-right"},{default:Ae(()=>[Ot(" 标识符 ")]),_:1}),O(e).draggableBoxSelected.value.props.name?(Ce(),rt(O(Yn),{key:2,class:"col-span-3",copyable:""},{default:Ae(()=>[Ot(Nt(O(e).draggableBoxSelected.value.props.name),1)]),_:1})):(Ce(),rt(O(Lm),{key:3,class:"col-span-3",onClick:i[1]||(i[1]=o=>O(n).actionBoxNameSet({boxId:O(e).draggableBoxSelectedId.value}))},{default:Ae(()=>[Ot(" 设置 ")]),_:1}))])]),_:1})):et("",!0),O(e).draggableBoxSelected.value?(Ce(),rt(O(Tr),{key:1,title:"基础"},{default:Ae(()=>[we("div",LTe,[k(O($a),{value:O(e).draggableBoxSelected.value.height,"onUpdate:value":i[2]||(i[2]=o=>O(e).draggableBoxSelected.value.height=o),icon:"i-lucide-move-vertical"},null,8,["value"]),k(O($a),{value:O(e).draggableBoxSelected.value.width,"onUpdate:value":i[3]||(i[3]=o=>O(e).draggableBoxSelected.value.width=o),icon:"i-lucide-move-horizontal"},null,8,["value"]),k(O($a),{value:O(e).draggableBoxSelected.value.left,"onUpdate:value":i[4]||(i[4]=o=>O(e).draggableBoxSelected.value.left=o),icon:"i-lucide-arrow-left-to-line"},null,8,["value"]),k(O($a),{value:O(e).draggableBoxSelected.value.top,"onUpdate:value":i[5]||(i[5]=o=>O(e).draggableBoxSelected.value.top=o),icon:"i-lucide-arrow-up-to-line"},null,8,["value"])])]),_:1})):et("",!0),O(e).draggableBoxSelected.value?(Ce(),rt(O(Tr),{key:2,title:"对齐模式"},{default:Ae(()=>[we("div",HTe,[k(O(Tc),{value:O(e).draggableBoxSelected.value.props.alignment,"onUpdate:value":i[6]||(i[6]=o=>O(e).draggableBoxSelected.value.props.alignment=o),options:O(tB),class:"col-span-2",icon:"i-lucide-grip"},null,8,["value","options"]),we("div",VTe,[k(O(q8),{value:O(e).draggableBoxSelected.value.props.alignment,"onUpdate:value":i[7]||(i[7]=o=>O(e).draggableBoxSelected.value.props.alignment=o)},null,8,["value"])])])]),_:1})):et("",!0),O(e).draggableBoxSelected.value?(Ce(),rt(O(Tr),{key:3,title:"溢出处理"},{default:Ae(()=>[we("div",UTe,[k(O(Tc),{value:O(e).draggableBoxSelected.value.props.overflow,"onUpdate:value":i[8]||(i[8]=o=>O(e).draggableBoxSelected.value.props.overflow=o),options:O(z6),class:"col-span-2",icon:"i-icon-park-outline-cutting-one"},null,8,["value","options"])])]),_:1})):et("",!0),O(e).draggableBoxSelected.value?(Ce(),rt(O(Tr),{key:4,title:"样式"},{default:Ae(()=>[we("div",qTe,[k(O($Oe),{class:"col-span-1",align:"right"},{default:Ae(()=>[Ot(" 透明度 ")]),_:1}),k(O(NOe),{value:O(e).draggableBoxSelected.value.props.opacity,"onUpdate:value":i[9]||(i[9]=o=>O(e).draggableBoxSelected.value.props.opacity=o),class:"col-span-3",icon:"i-lucide-move-vertical"},null,8,["value"])])]),_:1})):et("",!0)],64))}}),jTe={class:"grid grid-cols-2 gap-2 p-2"},GTe={class:"grid grid-cols-2 gap-2 p-2"},XTe={class:"grid grid-cols-2 gap-2 p-2"},KTe={class:"flex justify-center col-span-2"},YTe={class:"grid grid-cols-2 gap-2 p-2"},ZTe={class:"grid grid-cols-2 gap-2 p-2"},QTe={class:"grid grid-cols-2 gap-2 p-2"},JTe=De({name:"ControlPanelScene",__name:"ControlPanelScene",setup(t){const{editorState:e}=Vn();return(n,r)=>(Ce(),Re(gt,null,[k(O(fC),{title:"场景"}),k(O(Tr),{title:"平移"},{default:Ae(()=>[we("div",jTe,[k(O($a),{value:O(e).draggableBoardProps.top.value,"onUpdate:value":r[0]||(r[0]=i=>O(e).draggableBoardProps.top.value=i),icon:"i-lucide-arrow-left-to-line"},null,8,["value"]),k(O($a),{value:O(e).draggableBoardProps.left.value,"onUpdate:value":r[1]||(r[1]=i=>O(e).draggableBoardProps.left.value=i),icon:"i-lucide-arrow-up-to-line"},null,8,["value"])])]),_:1}),k(O(Tr),{title:"缩放"},{default:Ae(()=>[we("div",GTe,[k(O($a),{value:O(e).draggableSceneProps.scale.value,"onUpdate:value":r[2]||(r[2]=i=>O(e).draggableSceneProps.scale.value=i),icon:"i-lucide-scan-search",class:"col-span-2"},null,8,["value"])])]),_:1}),k(O(Tr),{title:"对齐模式"},{default:Ae(()=>[we("div",XTe,[k(O(Tc),{value:O(e).draggableScenePropsAlignment.value,"onUpdate:value":r[3]||(r[3]=i=>O(e).draggableScenePropsAlignment.value=i),options:O(tB),class:"col-span-2",icon:"i-lucide-grip"},null,8,["value","options"]),we("div",KTe,[k(O(q8),{value:O(e).draggableScenePropsAlignment.value,"onUpdate:value":r[4]||(r[4]=i=>O(e).draggableScenePropsAlignment.value=i)},null,8,["value"])])])]),_:1}),k(O(Tr),{title:"溢出处理"},{default:Ae(()=>[we("div",YTe,[k(O(Tc),{value:O(e).draggableSceneOverflow.value,"onUpdate:value":r[5]||(r[5]=i=>O(e).draggableSceneOverflow.value=i),options:O(L6),class:"col-span-2",icon:"i-icon-park-outline-cutting-one"},null,8,["value","options"])])]),_:1}),k(O(Tr),{title:"背景"},{default:Ae(()=>[we("div",ZTe,[k(O(z1),{class:"col-span-2",icon:"i-lucide-palette",onClick:r[6]||(r[6]=()=>O(W8)({color:O(e).draggableSceneProps.backgroundColor}))},{default:Ae(()=>[Ot(Nt(O(e).draggableSceneProps.backgroundColor.value||"设置颜色"),1)]),_:1})])]),_:1}),k(O(Tr),{title:"高级"},{default:Ae(()=>[we("div",QTe,[k(O(ble),{value:O(e).draggableSceneProps.ghost.value,"onUpdate:value":r[7]||(r[7]=i=>O(e).draggableSceneProps.ghost.value=i),class:"col-span-2",icon:"i-lucide-ghost",name:"不参与渲染"},null,8,["value"])])]),_:1})],64))}}),UT=De({name:"ContextMenuOnComponent",__name:"ContextMenuOnComponent",props:{treeItem:{}},setup(t){const{editorState:e}=Vn(),n=jl({editorState:e});return(r,i)=>(Ce(),rt(O(Vi),{class:"fix"},{default:Ae(()=>[k(O(nn),null,{default:Ae(()=>[k(O($n),{class:"text-red-600",icon:"i-lucide-eraser",title:"删除",onClick:i[0]||(i[0]=()=>O(n).actionComponentDelete({componentParentSlotPath:r.treeItem.meta.componentParentSlotPath,componentIndexInParentSlot:r.treeItem.meta.componentIndexInParentSlot}))})]),_:1})]),_:1}))}});var Oa=function(t){return t.onClickItem="onClickItem",t.selectedBoxId="selectedBoxId",t.doubleClickItem="doubleClickItem",t.hoverItem="hoverItem",t}(Oa||{});const Yr=30,eBe=De({name:"EditorDataTreeItem",props:{item:{required:!0,type:Object},level:{required:!0,type:Number},slots:{required:!0,type:Object}},setup(t){const{editorState:e}=Vn(),n=$t(Oa.onClickItem),r=$t(Oa.doubleClickItem),i=$t(Oa.hoverItem),o=$t(Oa.selectedBoxId),a=H(()=>t.item.meta.type==="box"&&o&&o.value===t.item.meta.boxId),s=H(()=>t.item.meta.type!=="box"&&o&&o.value===t.item.meta.boxId),l=H(()=>t.item.meta.type==="box"&&t.item.meta.boxDisabled),u=H(()=>t.item.meta.type==="box"&&!t.item.meta.boxVisible);return()=>k("div",{class:{"opacity-30":l.value||u.value}},[k("div",{class:{"bg-indigo-50 text-indigo-900 hover:bg-indigo-100":s.value,"bg-indigo-500 text-white hover:bg-indigo-600":a.value,"cursor-pointer text-sm relative select-none ":!0,"text-gray-900 hover:bg-black/5":!a.value&&!s.value},style:{height:`${Yr}px`,marginLeft:`${t.level*16}px`}},[A6(t.item.children)?k("div",{class:"flex items-center justify-center absolute left-0 top-0",style:{height:`${Yr}px`,width:`${Yr}px`},onClick:()=>e.dataTreeToggleItemExpanded(t.item)},[k("span",{class:"i-icon-park-outline-right",style:{...e.dataTreeItemIsExpanded(t.item)?{transform:"rotate(90deg)"}:{},transition:"transform 0.2s"}},null)]):k("div",{class:"flex items-center justify-center absolute left-0 top-0",style:{height:`${Yr}px`,width:`${Yr}px`}},null),k("div",{class:"flex absolute right-0",style:{height:`${Yr}px`,left:`${Yr}px`}},[t.slots.icon?k("div",{class:"flex items-center justify-start shrink-0",style:{height:`${Yr}px`,width:`${Yr*.8}px`}},[t.slots.icon({item:t.item})]):null,k("div",{class:"grow relative",onClick:Lf(()=>n&&n(t.item),["stop"]),onDblclick:Lf(()=>r&&r(t.item),["stop"]),onMouseenter:Lf(()=>i&&i(t.item),["stop"])},[k("div",{class:"absolute whitespace-nowrap text-ellipsis inset-0 overflow-hidden",style:{lineHeight:`${Yr}px`}},[t.slots.title?t.slots.title({item:t.item}):t.item.title])]),k("div",{class:"flex items-center shrink-0",onClick:c=>c.stopPropagation()},[t.slots.extra?t.slots.extra({item:t.item}):null])])]),e.dataTreeItemIsExpanded(t.item)?j8({level:t.level+1,list:t.item.children||[],slots:t.slots}):null])}});function j8({list:t,level:e,slots:n}){return t.map(r=>Wt(eBe,{item:r,level:e,slots:n}))}const Ro=De({name:"EditorDataTreeActionButton",setup(t,{slots:e}){return()=>k("div",{class:"items-center flex justify-center hover:bg-black/10 cursor-pointer select-none active:scale-95",style:{height:`${Yr}px`,width:`${Yr}px`}},[e.default?e.default():""])}}),tBe=De({emits:["clickItem","doubleClickItem","hoverItem"],name:"EditorDataTree",props:{data:{required:!0,type:Object}},setup(t,{slots:e,emit:n}){const{editorState:r}=Vn(),i=H(()=>r.sceneRef.value&&r.sceneRef.value.state.sceneSelectedType.value==="box"?r.sceneRef.value.state.sceneSelectedId.value:null);return zt(Oa.onClickItem,o=>n("clickItem",o)),zt(Oa.doubleClickItem,o=>n("doubleClickItem",o)),zt(Oa.hoverItem,o=>n("hoverItem",o)),zt(Oa.selectedBoxId,i),()=>Wt("div",{},j8({level:0,list:t.data,slots:e}))},slots:Object}),nBe={class:"absolute inset-0"},rBe=we("span",{class:"i-lucide-chevrons-up-down"},null,-1),iBe=we("span",{class:"i-lucide-chevrons-down-up"},null,-1),oBe={key:2},aBe=we("span",{class:"i-lucide-eye"},null,-1),sBe=we("span",{class:"i-lucide-eye-off"},null,-1),lBe=we("span",{class:"i-lucide-lock"},null,-1),uBe=we("span",{class:"i-lucide-unlock"},null,-1),cBe=we("span",{class:"i-lucide-more-vertical"},null,-1),fBe=["onClick"],dBe=we("span",{class:"i-lucide-settings-2"},null,-1),hBe=we("span",{class:"i-lucide-more-vertical"},null,-1),pBe=De({name:"ControlPanelTree",__name:"ControlPanelTree",setup(t){const{editorState:e}=Vn(),n=jl({editorState:e});function r(s){return{box:"i-lucide-box",component:"i-lucide-component",slot:"i-lucide-box-select"}[s]}function i(s){n.actionBoxSelect(s.meta.boxId)}function o(s){s.meta.type==="component"?n.actionComponentConfig({componentPath:s.key}):s.meta.type==="slot"?(n.actionComponentSelectAdd({slotPath:s.key}),e.dataTreeSetItemExpanded(s)):s.meta.type==="box"&&n.actionBoxTitleSet({boxId:s.meta.boxId})}function a(s){n.actionBoxHover(s.meta.boxId)}return(s,l)=>(Ce(),Re("div",nBe,[we("div",{class:"absolute inset-x-0 top-0 flex justify-end",style:Ct({height:`${O(Yr)}px`})},[k(O(Ro),{onClick:l[0]||(l[0]=()=>O(e).dataTreeExpandedAll())},{default:Ae(()=>[rBe]),_:1}),k(O(Ro),{onClick:l[1]||(l[1]=()=>O(e).dataTreeExpandedClear())},{default:Ae(()=>[iBe]),_:1})],4),we("div",{class:"absolute inset-x-0 bottom-0",style:Ct({top:`${O(Yr)}px`})},[k(O(Ps),null,{default:Ae(()=>[k(O(tBe),{data:O(e).dataTree.value,onClickItem:l[2]||(l[2]=u=>i(u)),onDoubleClickItem:l[3]||(l[3]=u=>o(u)),onHoverItem:l[4]||(l[4]=u=>a(u))},{icon:Ae(({item:u})=>[we("span",{class:it(["inline-block",r(u.meta.type)])},null,2)]),title:Ae(({item:u})=>[u.meta.type==="box"?(Ce(),rt(O(bi),{key:0,trigger:["contextmenu"],"destroy-popup-on-hide":!0},{overlay:Ae(()=>[k(O(_1),{"box-id":u.meta.boxId},null,8,["box-id"])]),default:Ae(()=>[we("div",null,Nt(u.title),1)]),_:2},1024)):u.meta.type==="component"?(Ce(),rt(O(bi),{key:1,trigger:["contextmenu"],"destroy-popup-on-hide":!0},{overlay:Ae(()=>[k(O(UT),{"tree-item":u},null,8,["tree-item"])]),default:Ae(()=>[we("div",null,Nt(u.title),1)]),_:2},1024)):u.meta.type==="slot"?(Ce(),Re("div",oBe,Nt(u.title==="default"?"默认插槽":`插槽 ${u.title}`),1)):(Ce(),Re(gt,{key:3},[Ot(" ... ")],64))]),extra:Ae(({item:u})=>[u.meta.type==="box"?(Ce(),Re(gt,{key:0},[u.meta.boxVisible?(Ce(),rt(O(Ro),{key:0,onClick:()=>O(n).actionBoxVisibleSet({boxId:u.meta.boxId,visible:!1})},{default:Ae(()=>[aBe]),_:2},1032,["onClick"])):et("",!0),u.meta.boxVisible?et("",!0):(Ce(),rt(O(Ro),{key:1,onClick:()=>O(n).actionBoxVisibleSet({boxId:u.meta.boxId,visible:!0})},{default:Ae(()=>[sBe]),_:2},1032,["onClick"])),u.meta.boxDisabled?(Ce(),rt(O(Ro),{key:2,onClick:()=>O(n).actionBoxDisabledSet({boxId:u.meta.boxId,disabled:!1})},{default:Ae(()=>[lBe]),_:2},1032,["onClick"])):et("",!0),u.meta.boxDisabled?et("",!0):(Ce(),rt(O(Ro),{key:3,onClick:()=>O(n).actionBoxDisabledSet({boxId:u.meta.boxId,disabled:!0})},{default:Ae(()=>[uBe]),_:2},1032,["onClick"])),k(O(bi),{trigger:["click"],"destroy-popup-on-hide":!0},{overlay:Ae(()=>[k(O(_1),{"box-id":u.meta.boxId},null,8,["box-id"])]),default:Ae(()=>[k(O(Ro),null,{default:Ae(()=>[cBe]),_:1})]),_:2},1024)],64)):et("",!0),u.meta.type==="slot"?(Ce(),rt(O(Ro),{key:1},{default:Ae(()=>[we("span",{class:"i-lucide-plus",onClick:()=>O(n).actionComponentSelectAdd({slotPath:u.key})},null,8,fBe)]),_:2},1024)):et("",!0),u.meta.type==="component"?(Ce(),Re(gt,{key:2},[k(O(Ro),{onClick:()=>O(n).actionComponentConfig({componentPath:u.key})},{default:Ae(()=>[dBe]),_:2},1032,["onClick"]),k(O(bi),{trigger:["click"],"destroy-popup-on-hide":!0},{overlay:Ae(()=>[k(O(UT),{"tree-item":u},null,8,["tree-item"])]),default:Ae(()=>[k(O(Ro),null,{default:Ae(()=>[hBe]),_:1})]),_:2},1024)],64)):et("",!0)]),_:1},8,["data"])]),_:1})],4)]))}}),rx=40,mBe={class:"flex flex-col w-full h-full"},gBe={class:"flex flex-row grow"},vBe={class:"absolute inset-0"},yBe={class:"relative grow"},bBe={class:"absolute inset-0"},xBe={key:0,class:"absolute px-2 py-1 overflow-hidden text-xs text-gray-500 rounded pointer-events-none select-none bg-gray-100/80 grow-0 shrink-0 left-7 top-7 whitespace-nowrap text-ellipsis"},wBe={class:"absolute inset-0"},SBe=De({name:"EditorLayout",__name:"EditorLayout",props:{leftSize:{default:260},rightSize:{default:260}},setup(t){const e=t,{editorState:n}=Vn(),r=Ke({height:`${rx}px`}),i=H(()=>({width:`${e.leftSize}px`})),o=H(()=>({width:`${e.rightSize}px`}));return(a,s)=>(Ce(),Re("div",mBe,[we("div",{class:it(["relative bg-gray-800",O(r)])},[vn(a.$slots,"top")],2),we("div",gBe,[_a(we("div",{class:"relative shrink-0",style:Ct(i.value)},[we("div",vBe,[k(O(Ps),null,{default:Ae(()=>[vn(a.$slots,"left")]),_:3})])],4),[[sm,O(n).editorSettingPanelActiveLayoutLeft.value]]),we("div",yBe,[we("div",bBe,[vn(a.$slots,"center")]),O(n).editorSettingPanelActiveStatus.value?(Ce(),Re("div",xBe,[vn(a.$slots,"status")])):et("",!0)]),_a(we("div",{class:"relative shrink-0",style:Ct(o.value)},[we("div",wBe,[k(O(Ps),null,{default:Ae(()=>[vn(a.$slots,"right")]),_:3})])],4),[[sm,O(n).editorSettingPanelActiveLayoutRight.value]])])]))}}),CBe={key:1},Fg=De({name:"EditorHeaderButton",__name:"EditorHeaderButton",props:{active:{type:Boolean,default:!1},icon:{default:""},label:{default:""},square:{type:Boolean,default:!1}},setup(t){return(e,n)=>(Ce(),Re("div",{class:it(["flex items-center justify-center space-x-2 text-sm text-white cursor-pointer select-none",{"bg-indigo-500 hover:bg-indigo-600 active:bg-indigo-700":e.active,"hover:bg-gray-800 active:bg-gray-900":!e.active,"px-4":!e.square}]),style:Ct({height:`${O(rx)}px`,width:e.square?`${O(rx)}px`:"auto"})},[e.icon?(Ce(),Re("div",{key:0,class:it([e.icon,"text-lg"])},null,2)):et("",!0),e.label?(Ce(),Re("span",CBe,Nt(e.label),1)):et("",!0)],6))}}),yu=De({name:"EditorHeaderDropdownItemContent",__name:"EditorHeaderDropdownItemContent",props:{icon:{default:""},label:{default:""}},emits:["click"],setup(t,{emit:e}){const n=e;function r(i){n("click",i),i.stopPropagation()}return(i,o)=>(Ce(),Re("div",{class:"flex items-center space-x-1",onClick:o[0]||(o[0]=a=>r(a))},[i.icon?(Ce(),Re("div",{key:0,class:it(i.icon)},null,2)):et("",!0),we("span",null,Nt(i.label),1)]))}}),ABe={key:0,class:"block text-xs text-gray-400"},fi=De({name:"EditorHeaderItem",__name:"EditorHeaderItem",props:{active:{type:Boolean,default:!1},icon:{default:""},label:{default:""},title:{default:""},description:{default:""},tooltipPlacement:{default:"bottom"},square:{type:Boolean,default:!1}},setup(t){return(e,n)=>e.title||e.description?(Ce(),rt(O(El),{key:0,placement:e.tooltipPlacement},{title:Ae(()=>[we("div",null,[we("div",null,Nt(e.title),1),e.description?(Ce(),Re("div",ABe,Nt(e.description),1)):et("",!0)])]),default:Ae(()=>[k(O(Fg),{active:e.active,icon:e.icon,label:e.label,square:e.square},null,8,["active","icon","label","square"])]),_:1},8,["placement"])):(Ce(),rt(O(Fg),{key:1,active:e.active,icon:e.icon,label:e.label,square:e.square},null,8,["active","icon","label","square"]))}}),DBe={class:"absolute inset-0 flex flex-row justify-center"},EBe={class:"absolute inset-y-0 flex flex-row left-2"},MBe={class:"absolute inset-y-0 flex flex-row right-2"},NBe=De({name:"EditorHeader",__name:"EditorHeader",setup(t){const{editorState:e}=Vn(),n=jl({editorState:e});return(r,i)=>(Ce(),Re(gt,null,[we("div",DBe,[k(O(fi),{label:O(e).editorMetaName.value,onClick:i[0]||(i[0]=()=>O(n).actionFileRename())},null,8,["label"]),k(O(fi),{title:"预览",icon:"i-icon-park-outline-play-one",square:"",onClick:i[1]||(i[1]=()=>O(n).actionInspectPreview())}),k(O(fi),{title:"数据",icon:"i-lucide-code-2",description:"检查原始数据",square:"",onClick:i[2]||(i[2]=()=>O(n).actionInspectCode())})]),we("div",EBe,[k(O(bi),{"destroy-popup-on-hide":!0},{overlay:Ae(()=>[k(O(Vi),{class:"fix"},{default:Ae(()=>[O(e).canExit.value?(Ce(),rt(O(nn),{key:0},{default:Ae(()=>[k(O(yu),{label:"退出",onClick:i[3]||(i[3]=()=>O(e).editorExit())})]),_:1})):et("",!0),k(O(nn),null,{default:Ae(()=>[k(O(yu),{label:"设置",onClick:i[4]||(i[4]=()=>O(n).actionEditorSetting())})]),_:1}),k(O(nn),null,{default:Ae(()=>[k(O(yu),{label:"关于",onClick:i[5]||(i[5]=()=>O(n).actionEditorAbout())})]),_:1})]),_:1})]),default:Ae(()=>[k(O(Fg),{icon:"i-lucide-menu",label:O(e).editorName.value},null,8,["label"])]),_:1}),k(O(fi),{title:"新建",icon:"i-lucide-file-plus",description:"新建空白设计","tooltip-placement":"bottom",square:"",onClick:i[6]||(i[6]=()=>O(n).actionFileNew())}),k(O(fi),{title:"导出",icon:"i-lucide-hard-drive-download",description:"下载当前数据","tooltip-placement":"bottom",square:"",onClick:i[7]||(i[7]=()=>O(n).actionFileDownload())}),k(O(fi),{title:"正常鼠标模式",icon:"i-lucide-mouse-pointer-2",description:"按住空格键可快速进入平移模式","tooltip-placement":"bottomLeft",active:O(e).draggableSceneProps.mouseMode.value==="click",square:"",onClick:i[8]||(i[8]=()=>O(e).draggableSceneProps.mouseMode.value="click")},null,8,["active"]),k(O(fi),{title:"鼠标平移模式",icon:"i-lucide-hand",description:"鼠标左键拖拽可平移视口",active:O(e).draggableSceneProps.mouseMode.value==="drag",square:"",onClick:i[9]||(i[9]=()=>O(e).draggableSceneProps.mouseMode.value="drag")},null,8,["active"])]),we("div",MBe,[k(O(fi),{title:"居中",icon:"i-lucide-circle-dot-dashed",description:"将画板居中",square:"",onClick:i[10]||(i[10]=()=>O(e).draggableSceneStateCallback(o=>o.methodMoveToCenter()))}),k(O(fi),{title:"适合窗口",icon:"i-lucide-scan",description:"将画板调整至合适大小并居中",square:"",onClick:i[11]||(i[11]=()=>O(e).draggableSceneStateCallback(o=>o.methodZoomFit()))}),k(O(fi),{title:"放大",icon:"i-lucide-zoom-in",description:`放大10%(当前${Math.round(O(e).draggableSceneProps.scale.value*100)}%)`,square:"",onClick:i[12]||(i[12]=()=>O(e).draggableSceneStateCallback(o=>o.methodZoomIn({step:.1})))},null,8,["description"]),k(O(fi),{title:"缩小",icon:"i-lucide-zoom-out",description:`缩小10%(当前${Math.round(O(e).draggableSceneProps.scale.value*100)}%)`,square:"",onClick:i[13]||(i[13]=()=>O(e).draggableSceneStateCallback(o=>o.methodZoomOut({step:.1})))},null,8,["description"]),k(O(bi),{"destroy-popup-on-hide":!0},{overlay:Ae(()=>[k(O(Vi),{class:"fix"},{default:Ae(()=>[k(O(nn),null,{default:Ae(()=>[k(O(yu),{label:"50%",onClick:i[14]||(i[14]=()=>O(e).draggableSceneStateCallback(o=>o.methodZoomTo({scaleTo:.5})))})]),_:1}),k(O(nn),null,{default:Ae(()=>[k(O(yu),{label:"100%",onClick:i[15]||(i[15]=()=>O(e).draggableSceneStateCallback(o=>o.methodZoomTo({scaleTo:1})))})]),_:1}),k(O(nn),null,{default:Ae(()=>[k(O(yu),{label:"200%",onClick:i[16]||(i[16]=()=>O(e).draggableSceneStateCallback(o=>o.methodZoomTo({scaleTo:2})))})]),_:1})]),_:1})]),default:Ae(()=>[k(O(Fg),{label:"缩放至"})]),_:1}),O(e).editorFullscreen.value?et("",!0):(Ce(),rt(O(fi),{key:0,title:"全屏",icon:"i-lucide-fullscreen",square:"",onClick:i[17]||(i[17]=()=>O(n).actionEditorFullScreenSet({fullscreen:!0}))})),O(e).editorFullscreen.value?(Ce(),rt(O(fi),{key:1,title:"退出全屏",icon:"i-lucide-minimize-2",square:"",onClick:i[18]||(i[18]=()=>O(n).actionEditorFullScreenSet({fullscreen:!1}))})):et("",!0)])],64))}}),am={componentConfigAsync:()=>Ts(()=>import("./Config-ke_R3cWH.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),componentRenderAsync:()=>Ts(()=>import("./Render-oAxbJ1R_.js"),__vite__mapDeps([8,4,5,1,2,6])),initialProps:D6,initialSlots:{},name:"BasicImage",title:"图片"};function $Be({multiple:t=!1,accept:e="*",targetRef:n,handleFiles:r,allowDrop:i=!1,allowClick:o=!1}){function a(){const s=document.createElement("input");s.type="file",s.multiple=t,s.accept=e,s.addEventListener("change",()=>{const l=s.files;l&&r(l)}),s.click()}ku(n,"click",()=>{o&&a()}),ku(n,"dragover",s=>{s.preventDefault()}),ku(n,"drop",s=>{s.preventDefault(),i&&s.dataTransfer&&r(s.dataTransfer.files)})}function OBe({dropFileRef:t,state:e}){$Be({allowDrop:!0,handleFiles:async n=>{const r=await _z(n);for(const i of r){const o=Pz(i.nameWithExtension),a=await Fz(i.file),s=sx(am.initialProps);s.sourceType="data",s.sourceData=a,e.draggableBoxCreate({height:i.height*(1/o),props:{name:i.nameWithOutExtension},slots:{default:[eB({name:am.name,props:s,slots:am.initialSlots})]},width:i.width*(1/o)})}},targetRef:t})}function TBe(t){zt("editorState",t)}function Vn(){const t=$t("editorState");if(!t)throw new Error("useCraftEditorState must be used after useCraftEditorProvide");return{editorState:t}}const BBe={componentConfigAsync:()=>Ts(()=>import("./Config-PJaeMhlp.js"),__vite__mapDeps([9,1,2,4,5,6,7])),componentRenderAsync:()=>Ts(()=>import("./Render-Mqtdb68z.js"),__vite__mapDeps([10,4,5,1,2,6])),initialProps:E6,initialSlots:{},name:"BasicColorFill",title:"纯色背景"},IBe={componentConfigAsync:()=>Ts(()=>import("./Config-koH2tgq0.js"),__vite__mapDeps([11,1,2,3,4,5,6,7])),componentRenderAsync:()=>Ts(()=>import("./Render-zrym1CBj.js"),__vite__mapDeps([12,1,2,5,4,6])),initialProps:M6,initialSlots:{},name:"BasicIframe",title:"嵌套页面"},PBe={componentConfigAsync:()=>Ts(()=>import("./Config-mIlUvQd4.js"),__vite__mapDeps([13,1,2,3,4,5,6,7])),componentRenderAsync:()=>Ts(()=>import("./Render-SMVaQLlW.js"),__vite__mapDeps([14,4,5,1,2,6])),initialProps:N6,initialSlots:{},name:"BasicText",title:"文本"},kBe=[am,PBe,IBe,BBe];function FBe({data:t,writable:e,draggableSceneStateCallback:n}){const r=e("board.height"),i=e("board.width"),o=e("scene.top"),a=e("scene.left"),s=H(()=>Ta(t.value,"board.id",_l())),u={backgroundColor:e("board.props.backgroundColor"),height:r,id:s,left:a,top:o,width:i};function c(){yn(()=>{n(h=>{h.sceneSelectItem({id:s.value,type:"board"})})})}const f=e("board.props.overflow");return{draggableBoardFit:e("board.props.fit"),draggableBoardOverflow:f,draggableBoardProps:u,draggableBoardSelect:c}}function RBe({writable:t,draggableSceneStateCallback:e,sceneRef:n}){const{elementX:r,elementY:i}=ad(n),o=t("boxes",[]);function a(b){const C=o.value.findIndex(A=>A.id===b);C!==-1&&o.value.splice(C,1)}function s(b){return o.value.push(b),b}function l({height:b,width:C,top:A,left:D,props:E,slots:M}){if(!n.value)return;const B=n.value.state.sceneSubInstanceBoardStateLeft.value,P=n.value.state.sceneSubInstanceBoardStateTop.value,F=n.value.state.sceneScale.value,$=D??(r.value-B-Pr.size)/F-C/2,N=A??(i.value-P-Pr.size)/F-b/2,T=H6({height:b,left:$,props:E,slots:M,top:N,width:C});return o.value.push(T),T}function u(b,C){const A=o.value.findIndex(D=>D.id===b);A!==-1&&d0(o.value,A,A+C)}function c(b){const C=o.value.findIndex(A=>A.id===b);C!==-1&&d0(o.value,C,o.value.length-1)}function f(b){const C=o.value.findIndex(A=>A.id===b);C!==-1&&d0(o.value,C,0)}function d(b){yn(()=>{e(C=>{C.sceneSelectItem({id:b,type:"box"})})})}const h=H(()=>n.value&&n.value.state.sceneSelectedType.value==="box"?n.value.state.sceneSelectedId.value:null),p=H(()=>h.value?o.value.find(b=>b.id===h.value):null);function m(b){yn(()=>{e(C=>{C.sceneHoverItem({id:b,type:"box"})})})}const v=H(()=>n.value&&n.value.state.sceneHoveredType.value==="box"?n.value.state.sceneHoveredId.value:null),g=H(()=>v.value?o.value.find(b=>b.id===v.value):null);function w({id:b,title:C}){const A=o.value.findIndex(D=>D.id===b);A!==-1&&(o.value[A].props.title=C)}function y({id:b,name:C}){const A=o.value.findIndex(D=>D.id===b);A!==-1&&(o.value[A].props.name=C)}function S({id:b,visible:C}){const A=o.value.findIndex(D=>D.id===b);A!==-1&&(o.value[A].props.visible=C)}function x({id:b,disabled:C}){const A=o.value.findIndex(D=>D.id===b);A!==-1&&(o.value[A].disabled=C)}return{draggableBoxCreate:l,draggableBoxCreateFromData:s,draggableBoxHover:m,draggableBoxHovered:g,draggableBoxHoveredId:v,draggableBoxMoveTo:u,draggableBoxMoveToBottom:f,draggableBoxMoveToTop:c,draggableBoxRemove:a,draggableBoxSelect:d,draggableBoxSelected:p,draggableBoxSelectedId:h,draggableBoxUpdateDisabled:x,draggableBoxUpdateName:y,draggableBoxUpdateTitle:w,draggableBoxUpdateVisible:S,draggableBoxes:o}}function _Be({data:t,writable:e}){const n=e("meta.name"),r=e("meta.version");return{editorMetaCreateTime:H(()=>t.value.meta.createTime),editorMetaName:n,editorMetaVersion:r}}function zBe({data:t,writable:e}){const n=e("scene.scale",1),r=H(()=>Ta(t.value,"scene.height")),i=H(()=>Ta(t.value,"scene.width")),o=e("lines"),a=H(()=>Ta(t.value,"scene.id",_l())),s=e("scene.props.backgroundColor"),l=e("scene.props.ghost"),u=Te("click"),c={backgroundColor:s,ghost:l,height:r,id:a,lines:o,mouseMode:u,scale:n,width:i},f=e("scene.props.overflow"),d=e("scene.props.alignment");return{draggableSceneOverflow:f,draggableSceneProps:c,draggableScenePropsAlignment:d}}function LBe(){const t=ls("editorSettingPanelActiveLayoutLeft",!0),e=ls("editorSettingPanelActiveLayoutRight",!0),n=ls("editorSettingPanelActiveStatus",!1),r=ls("editorSettingAutoCloseCodeAfterCopy",!0),i=ls("editorSettingPointsIncludeBoxEdge",!0),o=ls("editorSettingPointsBoxCenterInclude",!0),a=ls("editorSettingPointsIncludeBoardEdge",!0),s=ls("editorSettingPointsBoardCenterInclude",!0);return{editorSettingAutoCloseCodeAfterCopy:r,editorSettingPanelActiveLayoutLeft:t,editorSettingPanelActiveLayoutRight:e,editorSettingPanelActiveStatus:n,editorSettingPointsIncludeBoardCenter:s,editorSettingPointsIncludeBoardEdge:a,editorSettingPointsIncludeBoxCenter:o,editorSettingPointsIncludeBoxEdge:i}}function HBe({data:t}){const e=H(()=>V6(t.value)),n=Te([]);function r(u){return n.value.includes(u.key)}function i(u){r(u)||(n.value=[...n.value,u.key])}function o(u){r(u)&&(n.value=n.value.filter(c=>c!==u.key))}function a(u){r(u)?o(u):i(u)}function s(){n.value=oB({childrenKey:"children",defaultValue:[],handler:(u,c)=>[...u,c.key],source:e.value})}function l(){n.value=[]}return{dataTree:e,dataTreeExpanded:n,dataTreeExpandedAll:s,dataTreeExpandedClear:l,dataTreeItemIsExpanded:r,dataTreeSetItemCollapsed:o,dataTreeSetItemExpanded:i,dataTreeToggleItemExpanded:a}}function VBe(t,e,{sceneRef:n}){const r=o6(),{data:i}=nr(t,e),o=y=>{n.value&&n.value.state&&y(n.value.state)};function a(y,S){return H({get(){return Ta(i.value,y,S)},set(x){$6(i.value,y,x)}})}const s=zBe({data:i,writable:a}),l=FBe({data:i,draggableSceneStateCallback:o,writable:a}),u=RBe({draggableSceneStateCallback:o,sceneRef:n,writable:a}),c=_Be({data:i,writable:a}),f=LBe(),d=HBe({data:i});function h(){e("exit")}function p(){e("save",i.value)}const m=Sz(p,1e3);ze(i,m,{deep:!0});const v=Te(!1),g={canExit:H(()=>t.canExit),components:H(()=>[...kBe,...t.components]),dataCurrent:i,editorName:H(()=>t.editorName)};return{...d,...s,...l,...u,...c,...f,...g,draggableSceneStateCallback:o,editorExit:h,editorFullscreen:v,editorSave:p,sceneRef:n,slots:r}}const UBe={canExit:!1,components:()=>[],editorName:"CraftEditor"};function qBe(t,e){const n=Te(),r=Te(),i=VBe(t,e,{sceneRef:n});return TBe(i),OBe({dropFileRef:r,state:i}),i.draggableBoardSelect(),{dropFileRef:r,sceneRef:n,state:i}}const WBe=we("br",null,null,-1),jBe=we("br",null,null,-1),GBe=we("br",null,null,-1),XBe=we("br",null,null,-1),KBe=we("br",null,null,-1),YBe=we("br",null,null,-1),ZBe=we("br",null,null,-1),QBe=De({name:"CraftEditor",__name:"CraftEditor",props:Ur({data:{},components:{},canExit:{type:Boolean},editorName:{}},UBe),emits:["update:data","exit","save"],setup(t,{expose:e,emit:n}){const r=t,i=n,{state:o,sceneRef:a,dropFileRef:s}=qBe(r,i);return e({state:o}),(l,u)=>(Ce(),rt(O(jP),{locale:O(UJ)},{default:Ae(()=>[k(O(SBe),null,{status:Ae(()=>[O(a)?(Ce(),Re(gt,{key:0},[we("span",null,"sceneHoveredType: "+Nt(O(a).state.sceneHoveredType.value),1),WBe,we("span",null,"sceneHoveredId: "+Nt(O(a).state.sceneHoveredId.value),1),jBe,we("span",null,"sceneSelectedType: "+Nt(O(a).state.sceneSelectedType.value),1),GBe,we("span",null,"sceneSelectedId: "+Nt(O(a).state.sceneSelectedId.value),1),XBe,we("span",null,"SceneWorkingType: "+Nt(O(a).state.SceneWorkingType.value),1),KBe,we("span",null,"SceneWorkingTargetType: "+Nt(O(a).state.SceneWorkingTargetType.value),1),YBe,we("span",null,"SceneWorkingTargetId: "+Nt(O(a).state.SceneWorkingTargetId.value),1),ZBe],64)):et("",!0)]),top:Ae(()=>[k(O(NBe))]),left:Ae(()=>[k(O(pBe))]),right:Ae(()=>[O(a)&&O(a).state.sceneSelectedType.value==="box"?(Ce(),rt(O(WTe),{key:0})):et("",!0),O(a)&&O(a).state.sceneSelectedType.value==="board"?(Ce(),rt(O(_Te),{key:1})):et("",!0),O(a)&&O(a).state.sceneSelectedType.value==="scene"?(Ce(),rt(O(JTe),{key:2})):et("",!0)]),center:Ae(()=>[we("div",{ref_key:"dropFileRef",ref:s,class:"absolute w-full h-full"},[k(O(bi),{trigger:["contextmenu"]},{overlay:Ae(()=>[k(O(mle))]),default:Ae(()=>[k(O(g9),{id:O(o).draggableSceneProps.id.value,ref_key:"sceneRef",ref:a,scale:O(o).draggableSceneProps.scale.value,"onUpdate:scale":u[5]||(u[5]=c=>O(o).draggableSceneProps.scale.value=c),lines:O(o).draggableSceneProps.lines.value,"onUpdate:lines":u[6]||(u[6]=c=>O(o).draggableSceneProps.lines.value=c),height:O(o).draggableSceneProps.height.value,width:O(o).draggableSceneProps.width.value,"mouse-mode":O(o).draggableSceneProps.mouseMode.value,"background-color":O(o).draggableSceneProps.backgroundColor.value,"setting-points-include-box-center":O(o).editorSettingPointsIncludeBoxCenter.value,"setting-points-include-box-edge":O(o).editorSettingPointsIncludeBoxEdge.value,"setting-points-include-board-edge":O(o).editorSettingPointsIncludeBoardEdge.value,"setting-points-include-board-center":O(o).editorSettingPointsIncludeBoardCenter.value,onContextmenu:u[7]||(u[7]=c=>{c.preventDefault(),c.stopPropagation()})},{default:Ae(()=>[k(O(gL),{id:O(o).draggableBoardProps.id.value,height:O(o).draggableBoardProps.height.value,"onUpdate:height":u[1]||(u[1]=c=>O(o).draggableBoardProps.height.value=c),width:O(o).draggableBoardProps.width.value,"onUpdate:width":u[2]||(u[2]=c=>O(o).draggableBoardProps.width.value=c),top:O(o).draggableBoardProps.top.value,"onUpdate:top":u[3]||(u[3]=c=>O(o).draggableBoardProps.top.value=c),left:O(o).draggableBoardProps.left.value,"onUpdate:left":u[4]||(u[4]=c=>O(o).draggableBoardProps.left.value=c),"background-color":O(o).draggableBoardProps.backgroundColor.value},{default:Ae(()=>[(Ce(!0),Re(gt,null,wo(O(o).draggableBoxes.value,c=>(Ce(),Re(gt,{key:c.id},[c.props.visible?(Ce(),rt(O($L),{key:0,id:c.id,height:c.height,"onUpdate:height":f=>c.height=f,left:c.left,"onUpdate:left":f=>c.left=f,top:c.top,"onUpdate:top":f=>c.top=f,width:c.width,"onUpdate:width":f=>c.width=f,disabled:c.disabled,onContextmenu:u[0]||(u[0]=f=>{f.preventDefault(),f.stopPropagation()})},{default:Ae(()=>[k(O(bi),{trigger:["contextmenu"],"destroy-popup-on-hide":!0},{overlay:Ae(()=>[k(O(_1),{"box-id":c.id},null,8,["box-id"])]),default:Ae(()=>[k(O(O6),{box:c,components:O(o).components.value,mode:"edit"},{box:Ae(f=>[vn(l.$slots,"box",a6(s6(f)))]),_:2},1032,["box","components"])]),_:2},1024)]),_:2},1032,["id","height","onUpdate:height","left","onUpdate:left","top","onUpdate:top","width","onUpdate:width","disabled"])):et("",!0)],64))),128))]),_:3},8,["id","height","width","top","left","background-color"])]),_:3},8,["id","scale","lines","height","width","mouse-mode","background-color","setting-points-include-box-center","setting-points-include-box-edge","setting-points-include-board-edge","setting-points-include-board-center"])]),_:3})],512)]),_:3}),k(O(L7))]),_:3},8,["locale"]))}}),JBe={key:0,class:"w-screen h-screen"},eIe=De({__name:"[uuid]",setup(t){const e=u6(),n=c6(),r=H(()=>e.params.uuid),i=Te(null);ze(r,async()=>{const s=await f6(e.params.uuid);if(s){const{json:l}=q6(s);i.value=zz(l)}else n.replace("/dashboard")},{immediate:!0});async function o(){if(i.value){const{record:s}=U6({json:za(i.value),uuid:e.params.uuid});await l6(s)}}function a(){n.replace("/dashboard")}return(s,l)=>i.value?(Ce(),Re("div",JBe,[k(O(QBe),{data:i.value,"onUpdate:data":l[0]||(l[0]=u=>i.value=u),onExit:l[1]||(l[1]=()=>a()),onSave:l[2]||(l[2]=()=>o())},null,8,["data"])])):et("",!0)}}),CIe=Object.freeze(Object.defineProperty({__proto__:null,default:eIe},Symbol.toStringTag,{value:"Module"}));export{CIe as A,Bl as F,On as I,Ft as K,ve as P,W8 as U,_,Ee as a,BI as b,He as c,gn as d,YC as e,ul as f,ai as g,En as h,es as i,Vl as j,kr as k,$Be as l,cn as m,Tc as n,z1 as o,Tr as p,$a as q,Zi as r,Sa as s,$Oe as t,Kd as u,ble as v,Hr as w,Fz as x,NOe as y,wr as z};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/Config-ke_R3cWH.js","assets/index-OWMVJs2S.js","assets/index-BXjy6QSt.css","assets/UiInputText.vue_vue_type_script_setup_true_lang-BsyAhXng.js","assets/CraftRender.vue_vue_type_script_setup_true_lang-SHysObrY.js","assets/file-57_SDOdD.js","assets/CraftRender-VcOmCjUg.css","assets/_plugin-vue_export-helper-x3n3nnut.js","assets/Render-oAxbJ1R_.js","assets/Config-PJaeMhlp.js","assets/Render-Mqtdb68z.js","assets/Config-koH2tgq0.js","assets/Render-zrym1CBj.js","assets/Config-mIlUvQd4.js","assets/Render-SMVaQLlW.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
